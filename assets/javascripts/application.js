(()=>{var Oc=Object.create;var yo=Object.defineProperty;var Sc=Object.getOwnPropertyDescriptor;var Cc=Object.getOwnPropertyNames;var Mc=Object.getPrototypeOf,Rc=Object.prototype.hasOwnProperty;var Lc=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Dc=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Cc(e))!Rc.call(t,n)&&n!==r&&yo(t,n,{get:()=>e[n],enumerable:!(i=Sc(e,n))||i.enumerable});return t};var Ic=(t,e,r)=>(r=t!=null?Oc(Mc(t)):{},Dc(e||!t||!t.__esModule?yo(r,"default",{value:t,enumerable:!0}):r,t));var ll=Lc((Rs,Ls)=>{(function(t,e){typeof Rs=="object"&&typeof Ls<"u"?Ls.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Viewer=e())})(Rs,(function(){"use strict";function t(d,l){if(!(d instanceof l))throw new TypeError("Cannot call a class as a function")}function e(d,l){for(var h=0;h<l.length;h++){var u=l[h];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(d,a(u.key),u)}}function r(d,l,h){return l&&e(d.prototype,l),h&&e(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function i(d,l,h){return(l=a(l))in d?Object.defineProperty(d,l,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[l]=h,d}function n(d,l){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(d);l&&(u=u.filter(function(g){return Object.getOwnPropertyDescriptor(d,g).enumerable})),h.push.apply(h,u)}return h}function s(d){for(var l=1;l<arguments.length;l++){var h=arguments[l]!=null?arguments[l]:{};l%2?n(Object(h),!0).forEach(function(u){i(d,u,h[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):n(Object(h)).forEach(function(u){Object.defineProperty(d,u,Object.getOwnPropertyDescriptor(h,u))})}return d}function o(d,l){if(typeof d!="object"||!d)return d;var h=d[Symbol.toPrimitive];if(h!==void 0){var u=h.call(d,l||"default");if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(d)}function a(d){var l=o(d,"string");return typeof l=="symbol"?l:l+""}function c(d){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},c(d)}var f={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},p='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',b=typeof window<"u"&&typeof window.document<"u",w=b?window:{},T=b&&w.document.documentElement?"ontouchstart"in w.document.documentElement:!1,M=b?"PointerEvent"in w:!1,E="viewer",k="move",C="switch",R="zoom",P="".concat(E,"-active"),m="".concat(E,"-close"),$="".concat(E,"-fade"),O="".concat(E,"-fixed"),j="".concat(E,"-fullscreen"),W="".concat(E,"-fullscreen-exit"),G="".concat(E,"-hide"),ee="".concat(E,"-hide-md-down"),de="".concat(E,"-hide-sm-down"),re="".concat(E,"-hide-xs-down"),z="".concat(E,"-in"),we="".concat(E,"-invisible"),ve="".concat(E,"-loading"),Ae="".concat(E,"-move"),xe="".concat(E,"-open"),ie="".concat(E,"-show"),U="".concat(E,"-transition"),Ce="click",Xe="dblclick",Ve="dragstart",ct="focusin",ze="keydown",ne="load",Me="error",At=T?"touchend touchcancel":"mouseup",Ze=T?"touchmove":"mousemove",_t=T?"touchstart":"mousedown",Ge=M?"pointerdown":_t,gt=M?"pointermove":Ze,Ft=M?"pointerup pointercancel":At,Ot="resize",Le="transitionend",Vt="wheel",St="ready",Ct="show",jt="shown",zt="hide",He="hidden",Je="view",Qe="viewed",ut="move",Mt="moved",Ht="rotate",Wt="rotated",qt="scale",Ut="scaled",ui="zoom",hi="zoomed",fi="play",di="stop",pr="".concat(E,"Action"),x=/\s\s*/,I=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function B(d){return typeof d=="string"}var Y=Number.isNaN||w.isNaN;function N(d){return typeof d=="number"&&!Y(d)}function ue(d){return typeof d>"u"}function Ee(d){return c(d)==="object"&&d!==null}var Rt=Object.prototype.hasOwnProperty;function mt(d){if(!Ee(d))return!1;try{var l=d.constructor,h=l.prototype;return l&&h&&Rt.call(h,"isPrototypeOf")}catch{return!1}}function H(d){return typeof d=="function"}function J(d,l){if(d&&H(l))if(Array.isArray(d)||N(d.length)){var h=d.length,u;for(u=0;u<h&&l.call(d,d[u],u,d)!==!1;u+=1);}else Ee(d)&&Object.keys(d).forEach(function(g){l.call(d,d[g],g,d)});return d}var _e=Object.assign||function(l){for(var h=arguments.length,u=new Array(h>1?h-1:0),g=1;g<h;g++)u[g-1]=arguments[g];return Ee(l)&&u.length>0&&u.forEach(function(v){Ee(v)&&Object.keys(v).forEach(function(y){l[y]=v[y]})}),l},Lt=/^(?:width|height|left|top|marginLeft|marginTop)$/;function je(d,l){var h=d.style;J(l,function(u,g){Lt.test(g)&&N(u)&&(u+="px"),h[g]=u})}function Lr(d){return B(d)?d.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):d}function et(d,l){return!d||!l?!1:d.classList?d.classList.contains(l):d.className.indexOf(l)>-1}function F(d,l){if(!(!d||!l)){if(N(d.length)){J(d,function(u){F(u,l)});return}if(d.classList){d.classList.add(l);return}var h=d.className.trim();h?h.indexOf(l)<0&&(d.className="".concat(h," ").concat(l)):d.className=l}}function X(d,l){if(!(!d||!l)){if(N(d.length)){J(d,function(h){X(h,l)});return}if(d.classList){d.classList.remove(l);return}d.className.indexOf(l)>=0&&(d.className=d.className.replace(l,""))}}function Dr(d,l,h){if(l){if(N(d.length)){J(d,function(u){Dr(u,l,h)});return}h?F(d,l):X(d,l)}}var gc=/([a-z\d])([A-Z])/g;function gn(d){return d.replace(gc,"$1-$2").toLowerCase()}function gr(d,l){return Ee(d[l])?d[l]:d.dataset?d.dataset[l]:d.getAttribute("data-".concat(gn(l)))}function mn(d,l,h){Ee(h)?d[l]=h:d.dataset?d.dataset[l]=h:d.setAttribute("data-".concat(gn(l)),h)}var mo=(function(){var d=!1;if(b){var l=!1,h=function(){},u=Object.defineProperty({},"once",{get:function(){return d=!0,l},set:function(v){l=v}});w.addEventListener("test",h,u),w.removeEventListener("test",h,u)}return d})();function Q(d,l,h){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},g=h;l.trim().split(x).forEach(function(v){if(!mo){var y=d.listeners;y&&y[v]&&y[v][h]&&(g=y[v][h],delete y[v][h],Object.keys(y[v]).length===0&&delete y[v],Object.keys(y).length===0&&delete d.listeners)}d.removeEventListener(v,g,u)})}function V(d,l,h){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},g=h;l.trim().split(x).forEach(function(v){if(u.once&&!mo){var y=d.listeners,_=y===void 0?{}:y;g=function(){delete _[v][h],d.removeEventListener(v,g,u);for(var S=arguments.length,A=new Array(S),D=0;D<S;D++)A[D]=arguments[D];h.apply(d,A)},_[v]||(_[v]={}),_[v][h]&&d.removeEventListener(v,_[v][h],u),_[v][h]=g,d.listeners=_}d.addEventListener(v,g,u)})}function pe(d,l,h,u){var g;return H(Event)&&H(CustomEvent)?g=new CustomEvent(l,s({bubbles:!0,cancelable:!0,detail:h},u)):(g=document.createEvent("CustomEvent"),g.initCustomEvent(l,!0,!0,h)),d.dispatchEvent(g)}function mc(d){var l=d.getBoundingClientRect();return{left:l.left+(window.pageXOffset-document.documentElement.clientLeft),top:l.top+(window.pageYOffset-document.documentElement.clientTop)}}function pi(d){var l=d.rotate,h=d.scaleX,u=d.scaleY,g=d.translateX,v=d.translateY,y=[];N(g)&&g!==0&&y.push("translateX(".concat(g,"px)")),N(v)&&v!==0&&y.push("translateY(".concat(v,"px)")),N(l)&&l!==0&&y.push("rotate(".concat(l,"deg)")),N(h)&&h!==1&&y.push("scaleX(".concat(h,")")),N(u)&&u!==1&&y.push("scaleY(".concat(u,")"));var _=y.length?y.join(" "):"none";return{WebkitTransform:_,msTransform:_,transform:_}}function vc(d){return B(d)?decodeURIComponent(d.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var vn=w.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(w.navigator.userAgent);function vo(d,l,h){var u=document.createElement("img");if(d.naturalWidth&&!vn)return h(d.naturalWidth,d.naturalHeight),u;var g=document.body||document.documentElement;return u.onload=function(){h(u.width,u.height),vn||g.removeChild(u)},J(l.inheritedAttributes,function(v){var y=d.getAttribute(v);y!==null&&u.setAttribute(v,y)}),u.src=d.src,vn||(u.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",g.appendChild(u)),u}function gi(d){switch(d){case 2:return re;case 3:return de;case 4:return ee;default:return""}}function bc(d){var l=s({},d),h=[];return J(d,function(u,g){delete l[g],J(l,function(v){var y=Math.abs(u.startX-v.startX),_=Math.abs(u.startY-v.startY),L=Math.abs(u.endX-v.endX),S=Math.abs(u.endY-v.endY),A=Math.sqrt(y*y+_*_),D=Math.sqrt(L*L+S*S),K=(D-A)/A;h.push(K)})}),h.sort(function(u,g){return Math.abs(u)<Math.abs(g)}),h[0]}function mi(d,l){var h=d.pageX,u=d.pageY,g={endX:h,endY:u};return l?g:s({timeStamp:Date.now(),startX:h,startY:u},g)}function yc(d){var l=0,h=0,u=0;return J(d,function(g){var v=g.startX,y=g.startY;l+=v,h+=y,u+=1}),l/=u,h/=u,{pageX:l,pageY:h}}var wc={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var l=this.element.ownerDocument,h=l.body||l.documentElement;this.body=h,this.scrollbarWidth=window.innerWidth-l.documentElement.clientWidth,this.initialBodyPaddingRight=h.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(h).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var l=this.options,h=this.parent,u;l.inline&&(u={width:Math.max(h.offsetWidth,l.minWidth),height:Math.max(h.offsetHeight,l.minHeight)},this.parentData=u),(this.fulled||!u)&&(u=this.containerData),this.viewerData=_e({},u)},renderViewer:function(){this.options.inline&&!this.fulled&&je(this.viewer,this.viewerData)},initList:function(){var l=this,h=this.element,u=this.options,g=this.list,v=[];g.innerHTML="",J(this.images,function(y,_){var L=y.src,S=y.alt||vc(L),A=l.getImageURL(y);if(L||A){var D=document.createElement("li"),K=document.createElement("img");J(u.inheritedAttributes,function(ge){var he=y.getAttribute(ge);he!==null&&K.setAttribute(ge,he)}),u.navbar&&(K.src=L||A),K.alt=S,K.setAttribute("data-original-url",A||L),D.setAttribute("data-index",_),D.setAttribute("data-viewer-action","view"),D.setAttribute("role","button"),u.keyboard&&D.setAttribute("tabindex",0),D.appendChild(K),g.appendChild(D),v.push(D)}}),this.items=v,J(v,function(y){var _=y.firstElementChild,L,S;mn(_,"filled",!0),u.loading&&F(y,ve),V(_,ne,L=function(D){Q(_,Me,S),u.loading&&X(y,ve),l.loadImage(D)},{once:!0}),V(_,Me,S=function(){Q(_,ne,L),u.loading&&X(y,ve)},{once:!0})}),u.transition&&V(h,Qe,function(){F(g,U)},{once:!0})},renderList:function(){var l=this.index,h=this.items[l];if(h){var u=h.nextElementSibling,g=parseInt(window.getComputedStyle(u||h).marginLeft,10),v=h.offsetWidth,y=v+g;je(this.list,_e({width:y*this.length-g},pi({translateX:(this.viewerData.width-v)/2-y*l})))}},resetList:function(){var l=this.list;l.innerHTML="",X(l,U),je(l,pi({translateX:0}))},initImage:function(l){var h=this,u=this.options,g=this.image,v=this.viewerData,y=this.footer.offsetHeight,_=v.width,L=Math.max(v.height-y,y),S=this.imageData||{},A;this.imageInitializing={abort:function(){A.onload=null}},A=vo(g,u,function(D,K){var ge=D/K,he=Math.max(0,Math.min(1,u.initialCoverage)),le=_,De=L;h.imageInitializing=!1,L*ge>_?De=_/ge:le=L*ge,he=N(he)?he:.9,le=Math.min(le*he,D),De=Math.min(De*he,K);var Be=(_-le)/2,Fe=(L-De)/2,se={left:Be,top:Fe,x:Be,y:Fe,width:le,height:De,oldRatio:1,ratio:le/D,aspectRatio:ge,naturalWidth:D,naturalHeight:K},vt=_e({},se);u.rotatable&&(se.rotate=S.rotate||0,vt.rotate=0),u.scalable&&(se.scaleX=S.scaleX||1,se.scaleY=S.scaleY||1,vt.scaleX=1,vt.scaleY=1),h.imageData=se,h.initialImageData=vt,l&&l()})},renderImage:function(l){var h=this,u=this.image,g=this.imageData;if(je(u,_e({width:g.width,height:g.height,marginLeft:g.x,marginTop:g.y},pi(g))),l)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&et(u,U)){var v=function(){h.imageRendering=!1,l()};this.imageRendering={abort:function(){Q(u,Le,v)}},V(u,Le,v,{once:!0})}else l()},resetImage:function(){var l=this.image;l&&(this.viewing&&this.viewing.abort(),l.parentNode.removeChild(l),this.image=null,this.title.innerHTML="")}},xc={bind:function(){var l=this.options,h=this.viewer,u=this.canvas,g=this.element.ownerDocument;V(h,Ce,this.onClick=this.click.bind(this)),V(h,Ve,this.onDragStart=this.dragstart.bind(this)),V(u,Ge,this.onPointerDown=this.pointerdown.bind(this)),V(g,gt,this.onPointerMove=this.pointermove.bind(this)),V(g,Ft,this.onPointerUp=this.pointerup.bind(this)),V(g,ze,this.onKeyDown=this.keydown.bind(this)),V(window,Ot,this.onResize=this.resize.bind(this)),l.zoomable&&l.zoomOnWheel&&V(h,Vt,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),l.toggleOnDblclick&&V(u,Xe,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var l=this.options,h=this.viewer,u=this.canvas,g=this.element.ownerDocument;Q(h,Ce,this.onClick),Q(h,Ve,this.onDragStart),Q(u,Ge,this.onPointerDown),Q(g,gt,this.onPointerMove),Q(g,Ft,this.onPointerUp),Q(g,ze,this.onKeyDown),Q(window,Ot,this.onResize),l.zoomable&&l.zoomOnWheel&&Q(h,Vt,this.onWheel,{passive:!1,capture:!0}),l.toggleOnDblclick&&Q(u,Xe,this.onDblclick)}},Ec={click:function(l){var h=this.options,u=this.imageData,g=l.target,v=gr(g,pr);switch(!v&&g.localName==="img"&&g.parentElement.localName==="li"&&(g=g.parentElement,v=gr(g,pr)),T&&l.isTrusted&&g===this.canvas&&clearTimeout(this.clickCanvasTimeout),v){case"mix":this.played?this.stop():h.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(gr(g,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(h.loop);break;case"play":this.play(h.fullscreen);break;case"next":this.next(h.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-u.scaleX||-1);break;case"flip-vertical":this.scaleY(-u.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(l){l.preventDefault(),this.viewed&&l.target===this.image&&(T&&l.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(l.isTrusted?l:l.detail&&l.detail.originalEvent))},load:function(){var l=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var h=this.element,u=this.options,g=this.image,v=this.index,y=this.viewerData;X(g,we),u.loading&&X(this.canvas,ve),g.style.cssText="height:0;"+"margin-left:".concat(y.width/2,"px;")+"margin-top:".concat(y.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){Dr(g,Ae,u.movable),Dr(g,U,u.transition),l.renderImage(function(){l.viewed=!0,l.viewing=!1,H(u.viewed)&&V(h,Qe,u.viewed,{once:!0}),pe(h,Qe,{originalImage:l.images[v],index:v,image:g},{cancelable:!1})})})},loadImage:function(l){var h=l.target,u=h.parentNode,g=u.offsetWidth||30,v=u.offsetHeight||50,y=!!gr(h,"filled");vo(h,this.options,function(_,L){var S=_/L,A=g,D=v;v*S>g?y?A=v*S:D=g/S:y?D=g/S:A=v*S,je(h,_e({width:A,height:D},pi({translateX:(g-A)/2,translateY:(v-D)/2})))})},keydown:function(l){var h=this.options;if(h.keyboard){var u=l.keyCode||l.which||l.charCode;switch(u){case 13:this.viewer.contains(l.target)&&this.click(l);break}if(this.fulled)switch(u){case 27:this.played?this.stop():h.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(h.loop);break;case 38:l.preventDefault(),this.zoom(h.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(h.loop);break;case 40:l.preventDefault(),this.zoom(-h.zoomRatio,!0);break;case 48:case 49:l.ctrlKey&&(l.preventDefault(),this.toggle());break}}},dragstart:function(l){l.target.localName==="img"&&l.preventDefault()},pointerdown:function(l){var h=this.options,u=this.pointers,g=l.buttons,v=l.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(l.type==="mousedown"||l.type==="pointerdown"&&l.pointerType==="mouse")&&(N(g)&&g!==1||N(v)&&v!==0||l.ctrlKey))){l.preventDefault(),l.changedTouches?J(l.changedTouches,function(_){u[_.identifier]=mi(_)}):u[l.pointerId||0]=mi(l);var y=h.movable?k:!1;h.zoomOnTouch&&h.zoomable&&Object.keys(u).length>1?y=R:h.slideOnTouch&&(l.pointerType==="touch"||l.type==="touchstart")&&this.isSwitchable()&&(y=C),h.transition&&(y===k||y===R)&&X(this.image,U),this.action=y}},pointermove:function(l){var h=this.pointers,u=this.action;!this.viewed||!u||(l.preventDefault(),l.changedTouches?J(l.changedTouches,function(g){_e(h[g.identifier]||{},mi(g,!0))}):_e(h[l.pointerId||0]||{},mi(l,!0)),this.change(l))},pointerup:function(l){var h=this,u=this.options,g=this.action,v=this.pointers,y;l.changedTouches?J(l.changedTouches,function(_){y=v[_.identifier],delete v[_.identifier]}):(y=v[l.pointerId||0],delete v[l.pointerId||0]),g&&(l.preventDefault(),u.transition&&(g===k||g===R)&&F(this.image,U),this.action=!1,T&&g!==R&&y&&Date.now()-y.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),u.toggleOnDblclick&&this.viewed&&l.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){pe(h.image,Xe,{originalEvent:l})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){h.imageClicked=!1},500)):(this.imageClicked=!1,u.backdrop&&u.backdrop!=="static"&&l.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){pe(h.canvas,Ce,{originalEvent:l})},50)))))},resize:function(){var l=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){l.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}J(this.player.getElementsByTagName("img"),function(h){V(h,ne,l.loadImage.bind(l),{once:!0}),pe(h,ne)})}},wheel:function(l){var h=this;if(this.viewed&&(l.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){h.wheeling=!1},50);var u=Number(this.options.zoomRatio)||.1,g=1;l.deltaY?g=l.deltaY>0?1:-1:l.wheelDelta?g=-l.wheelDelta/120:l.detail&&(g=l.detail>0?1:-1),this.zoom(-g*u,!0,null,l)}}},kc={show:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,h=this.element,u=this.options;if(u.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(l),this;if(H(u.show)&&V(h,Ct,u.show,{once:!0}),pe(h,Ct)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var g=this.viewer;if(X(g,G),g.setAttribute("role","dialog"),g.setAttribute("aria-labelledby",this.title.id),g.setAttribute("aria-modal",!0),g.removeAttribute("aria-hidden"),u.transition&&!l){var v=this.shown.bind(this);this.transitioning={abort:function(){Q(g,Le,v),X(g,z)}},F(g,U),g.initialOffsetWidth=g.offsetWidth,V(g,Le,v,{once:!0}),F(g,z)}else F(g,z),this.shown();return this},hide:function(){var l=this,h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,u=this.element,g=this.options;if(g.inline||this.hiding||!(this.isShown||this.showing))return this;if(H(g.hide)&&V(u,zt,g.hide,{once:!0}),pe(u,zt)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var v=this.viewer,y=this.image,_=function(){X(v,z),l.hidden()};if(g.transition&&!h){var L=function(D){D&&D.target===v&&(Q(v,Le,L),l.hidden())},S=function(){et(v,U)?(V(v,Le,L),X(v,z)):_()};this.transitioning={abort:function(){l.viewed&&et(y,U)?Q(y,Le,S):et(v,U)&&Q(v,Le,L)}},this.viewed&&et(y,U)?(V(y,Le,S,{once:!0}),this.zoomTo(0,!1,null,null,!0)):S()}else _();return this},view:function(){var l=this,h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(h=Number(h)||0,this.hiding||this.played||h<0||h>=this.length||this.viewed&&h===this.index)return this;if(!this.isShown)return this.index=h,this.show();this.viewing&&this.viewing.abort();var u=this.element,g=this.options,v=this.title,y=this.canvas,_=this.items[h],L=_.querySelector("img"),S=gr(L,"originalUrl"),A=L.getAttribute("alt"),D=document.createElement("img");if(J(g.inheritedAttributes,function(De){var Be=L.getAttribute(De);Be!==null&&D.setAttribute(De,Be)}),D.src=S,D.alt=A,H(g.view)&&V(u,Je,g.view,{once:!0}),pe(u,Je,{originalImage:this.images[h],index:h,image:D})===!1||!this.isShown||this.hiding||this.played)return this;var K=this.items[this.index];K&&(X(K,P),K.removeAttribute("aria-selected")),F(_,P),_.setAttribute("aria-selected",!0),g.focus&&_.focus(),this.image=D,this.viewed=!1,this.index=h,this.imageData={},F(D,we),g.loading&&F(y,ve),y.innerHTML="",y.appendChild(D),this.renderList(),v.innerHTML="";var ge=function(){var Be=l.imageData,Fe=Array.isArray(g.title)?g.title[1]:g.title;v.innerHTML=Lr(H(Fe)?Fe.call(l,D,Be):"".concat(A," (").concat(Be.naturalWidth," \xD7 ").concat(Be.naturalHeight,")"))},he,le;return V(u,Qe,ge,{once:!0}),this.viewing={abort:function(){Q(u,Qe,ge),D.complete?l.imageRendering?l.imageRendering.abort():l.imageInitializing&&l.imageInitializing.abort():(D.src="",Q(D,ne,he),l.timeout&&clearTimeout(l.timeout))}},D.complete?this.load():(V(D,ne,he=function(){Q(D,Me,le),l.load()},{once:!0}),V(D,Me,le=function(){Q(D,ne,he),l.timeout&&(clearTimeout(l.timeout),l.timeout=!1),X(D,we),g.loading&&X(l.canvas,ve)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){X(D,we),l.timeout=!1},1e3)),this},prev:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,h=this.index-1;return h<0&&(h=l?this.length-1:0),this.view(h),this},next:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,h=this.length-1,u=this.index+1;return u>h&&(u=l?0:h),this.view(u),this},move:function(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l,u=this.imageData;return this.moveTo(ue(l)?l:u.x+Number(l),ue(h)?h:u.y+Number(h)),this},moveTo:function(l){var h=this,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,v=this.element,y=this.options,_=this.imageData;if(l=Number(l),u=Number(u),this.viewed&&!this.played&&y.movable){var L=_.x,S=_.y,A=!1;if(N(l)?A=!0:l=L,N(u)?A=!0:u=S,A){if(H(y.move)&&V(v,ut,y.move,{once:!0}),pe(v,ut,{x:l,y:u,oldX:L,oldY:S,originalEvent:g})===!1)return this;_.x=l,_.y=u,_.left=l,_.top=u,this.moving=!0,this.renderImage(function(){h.moving=!1,H(y.moved)&&V(v,Mt,y.moved,{once:!0}),pe(v,Mt,{x:l,y:u,oldX:L,oldY:S,originalEvent:g},{cancelable:!1})})}}return this},rotate:function(l){return this.rotateTo((this.imageData.rotate||0)+Number(l)),this},rotateTo:function(l){var h=this,u=this.element,g=this.options,v=this.imageData;if(l=Number(l),N(l)&&this.viewed&&!this.played&&g.rotatable){var y=v.rotate;if(H(g.rotate)&&V(u,Ht,g.rotate,{once:!0}),pe(u,Ht,{degree:l,oldDegree:y})===!1)return this;v.rotate=l,this.rotating=!0,this.renderImage(function(){h.rotating=!1,H(g.rotated)&&V(u,Wt,g.rotated,{once:!0}),pe(u,Wt,{degree:l,oldDegree:y},{cancelable:!1})})}return this},scaleX:function(l){return this.scale(l,this.imageData.scaleY),this},scaleY:function(l){return this.scale(this.imageData.scaleX,l),this},scale:function(l){var h=this,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l,g=this.element,v=this.options,y=this.imageData;if(l=Number(l),u=Number(u),this.viewed&&!this.played&&v.scalable){var _=y.scaleX,L=y.scaleY,S=!1;if(N(l)?S=!0:l=_,N(u)?S=!0:u=L,S){if(H(v.scale)&&V(g,qt,v.scale,{once:!0}),pe(g,qt,{scaleX:l,scaleY:u,oldScaleX:_,oldScaleY:L})===!1)return this;y.scaleX=l,y.scaleY=u,this.scaling=!0,this.renderImage(function(){h.scaling=!1,H(v.scaled)&&V(g,Ut,v.scaled,{once:!0}),pe(g,Ut,{scaleX:l,scaleY:u,oldScaleX:_,oldScaleY:L},{cancelable:!1})})}}return this},zoom:function(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,v=this.imageData;return l=Number(l),l<0?l=1/(1-l):l=1+l,this.zoomTo(v.width*l/v.naturalWidth,h,u,g),this},zoomTo:function(l){var h=this,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,_=this.element,L=this.options,S=this.pointers,A=this.imageData,D=A.x,K=A.y,ge=A.width,he=A.height,le=A.naturalWidth,De=A.naturalHeight;if(l=Math.max(0,l),N(l)&&this.viewed&&!this.played&&(y||L.zoomable)){if(!y){var Be=Math.max(.01,L.minZoomRatio),Fe=Math.min(100,L.maxZoomRatio);l=Math.min(Math.max(l,Be),Fe)}if(v)switch(v.type){case"wheel":L.zoomRatio>=.055&&l>.95&&l<1.05&&(l=1);break;case"pointermove":case"touchmove":case"mousemove":l>.99&&l<1.01&&(l=1);break}var se=le*l,vt=De*l,Kt=se-ge,ht=vt-he,Yt=A.ratio;if(H(L.zoom)&&V(_,ui,L.zoom,{once:!0}),pe(_,ui,{ratio:l,oldRatio:Yt,originalEvent:v})===!1)return this;if(this.zooming=!0,v){var Ir=mc(this.viewer),mr=S&&Object.keys(S).length>0?yc(S):{pageX:v.pageX,pageY:v.pageY};A.x-=Kt*((mr.pageX-Ir.left-D)/ge),A.y-=ht*((mr.pageY-Ir.top-K)/he)}else mt(g)&&N(g.x)&&N(g.y)?(A.x-=Kt*((g.x-D)/ge),A.y-=ht*((g.y-K)/he)):(A.x-=Kt/2,A.y-=ht/2);A.left=A.x,A.top=A.y,A.width=se,A.height=vt,A.oldRatio=Yt,A.ratio=l,this.renderImage(function(){h.zooming=!1,H(L.zoomed)&&V(_,hi,L.zoomed,{once:!0}),pe(_,hi,{ratio:l,oldRatio:Yt,originalEvent:v},{cancelable:!1})}),u&&this.tooltip()}return this},play:function(){var l=this,h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var u=this.element,g=this.options;if(H(g.play)&&V(u,fi,g.play,{once:!0}),pe(u,fi)===!1)return this;var v=this.player,y=this.loadImage.bind(this),_=[],L=0,S=0;if(this.played=!0,this.onLoadWhenPlay=y,h&&this.requestFullscreen(h),F(v,ie),J(this.items,function(K,ge){var he=K.querySelector("img"),le=document.createElement("img");le.src=gr(he,"originalUrl"),le.alt=he.getAttribute("alt"),le.referrerPolicy=he.referrerPolicy,L+=1,F(le,$),Dr(le,U,g.transition),et(K,P)&&(F(le,z),S=ge),_.push(le),V(le,ne,y,{once:!0}),v.appendChild(le)}),N(g.interval)&&g.interval>0){var A=function(){clearTimeout(l.playing.timeout),X(_[S],z),S-=1,S=S>=0?S:L-1,F(_[S],z),l.playing.timeout=setTimeout(A,g.interval)},D=function(){clearTimeout(l.playing.timeout),X(_[S],z),S+=1,S=S<L?S:0,F(_[S],z),l.playing.timeout=setTimeout(D,g.interval)};L>1&&(this.playing={prev:A,next:D,timeout:setTimeout(D,g.interval)})}return this},stop:function(){var l=this;if(!this.played)return this;var h=this.element,u=this.options;if(H(u.stop)&&V(h,di,u.stop,{once:!0}),pe(h,di)===!1)return this;var g=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,J(g.getElementsByTagName("img"),function(v){Q(v,ne,l.onLoadWhenPlay)}),X(g,ie),g.innerHTML="",this.exitFullscreen(),this},full:function(){var l=this,h=this.options,u=this.viewer,g=this.image,v=this.list;return!this.isShown||this.played||this.fulled||!h.inline?this:(this.fulled=!0,this.open(),F(this.button,W),h.transition&&(X(v,U),this.viewed&&X(g,U)),F(u,O),u.setAttribute("role","dialog"),u.setAttribute("aria-labelledby",this.title.id),u.setAttribute("aria-modal",!0),u.removeAttribute("style"),je(u,{zIndex:h.zIndex}),h.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=_e({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){l.renderImage(function(){h.transition&&setTimeout(function(){F(g,U),F(v,U)},0)})}),this)},exit:function(){var l=this,h=this.options,u=this.viewer,g=this.image,v=this.list;return!this.isShown||this.played||!this.fulled||!h.inline?this:(this.fulled=!1,this.close(),X(this.button,W),h.transition&&(X(v,U),this.viewed&&X(g,U)),h.focus&&this.clearEnforceFocus(),u.removeAttribute("role"),u.removeAttribute("aria-labelledby"),u.removeAttribute("aria-modal"),X(u,O),je(u,{zIndex:h.zIndexInline}),this.viewerData=_e({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){l.renderImage(function(){h.transition&&setTimeout(function(){F(g,U),F(v,U)},0)})}),this)},tooltip:function(){var l=this,h=this.options,u=this.tooltipBox,g=this.imageData;return!this.viewed||this.played||!h.tooltip?this:(u.textContent="".concat(Math.round(g.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):h.transition?(this.fading&&pe(u,Le),F(u,ie),F(u,$),F(u,U),u.removeAttribute("aria-hidden"),u.initialOffsetWidth=u.offsetWidth,F(u,z)):(F(u,ie),u.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){h.transition?(V(u,Le,function(){X(u,ie),X(u,$),X(u,U),u.setAttribute("aria-hidden",!0),l.fading=!1},{once:!0}),X(u,z),l.fading=!0):(X(u,ie),u.setAttribute("aria-hidden",!0)),l.tooltipping=!1},1e3),this)},toggle:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,l):this.zoomTo(1,!0,null,l),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=_e({},this.initialImageData),this.renderImage()),this},update:function(){var l=this,h=this.element,u=this.options,g=this.isImg;if(g&&!h.parentNode)return this.destroy();var v=[];if(J(g?[h]:h.querySelectorAll("img"),function(S){H(u.filter)?u.filter.call(l,S)&&v.push(S):l.getImageURL(S)&&v.push(S)}),!v.length)return this;if(this.images=v,this.length=v.length,this.ready){var y=[];if(J(this.items,function(S,A){var D=S.querySelector("img"),K=v[A];K&&D?(K.src!==D.src||K.alt!==D.alt)&&y.push(A):y.push(A)}),je(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var _=y.indexOf(this.index);if(_>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-_,this.length-1),0));else{var L=this.items[this.index];F(L,P),L.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var l=this.element,h=this.options;return l[E]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),h.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):h.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),h.inline||Q(l,Ce,this.onStart),l[E]=void 0,this):this}},Tc={getImageURL:function(l){var h=this.options.url;return B(h)?h=l.getAttribute(h):H(h)?h=h.call(this,l):h="",h},enforceFocus:function(){var l=this;this.clearEnforceFocus(),V(document,ct,this.onFocusin=function(h){var u=l.viewer,g=h.target;if(!(g===document||g===u||u.contains(g))){for(;g;){if(g.getAttribute("tabindex")!==null||g.getAttribute("aria-modal")==="true")return;g=g.parentElement}u.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(Q(document,ct,this.onFocusin),this.onFocusin=null)},open:function(){var l=this.body;F(l,xe),this.scrollbarWidth>0&&(l.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var l=this.body;X(l,xe),this.scrollbarWidth>0&&(l.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var l=this.element,h=this.options,u=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,h.focus&&(u.focus(),this.enforceFocus()),H(h.shown)&&V(l,jt,h.shown,{once:!0}),pe(l,jt)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var l=this.element,h=this.options,u=this.viewer;h.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),F(u,G),u.removeAttribute("role"),u.removeAttribute("aria-labelledby"),u.removeAttribute("aria-modal"),u.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(H(h.hidden)&&V(l,He,h.hidden,{once:!0}),pe(l,He,null,{cancelable:!1}))},requestFullscreen:function(l){var h=this.element.ownerDocument;if(this.fulled&&!(h.fullscreenElement||h.webkitFullscreenElement||h.mozFullScreenElement||h.msFullscreenElement)){var u=h.documentElement;u.requestFullscreen?mt(l)?u.requestFullscreen(l):u.requestFullscreen():u.webkitRequestFullscreen?u.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):u.mozRequestFullScreen?u.mozRequestFullScreen():u.msRequestFullscreen&&u.msRequestFullscreen()}},exitFullscreen:function(){var l=this.element.ownerDocument;this.fulled&&(l.fullscreenElement||l.webkitFullscreenElement||l.mozFullScreenElement||l.msFullscreenElement)&&(l.exitFullscreen?l.exitFullscreen():l.webkitExitFullscreen?l.webkitExitFullscreen():l.mozCancelFullScreen?l.mozCancelFullScreen():l.msExitFullscreen&&l.msExitFullscreen())},change:function(l){var h=this.options,u=this.pointers,g=u[Object.keys(u)[0]];if(g){var v=g.endX-g.startX,y=g.endY-g.startY;switch(this.action){case k:(v!==0||y!==0)&&(this.pointerMoved=!0,this.move(v,y,l));break;case R:this.zoom(bc(u),!1,null,l);break;case C:{this.action="switched";var _=Math.abs(v);_>1&&_>Math.abs(y)&&(this.pointers={},v>1?this.prev(h.loop):v<-1&&this.next(h.loop));break}}J(u,function(L){L.startX=L.endX,L.startY=L.endY})}},isSwitchable:function(){var l=this.imageData,h=this.viewerData;return this.length>1&&l.x>=0&&l.y>=0&&l.width<=h.width&&l.height<=h.height}},Ac=w.Viewer,_c=(function(d){return function(){return d+=1,d}})(-1),bo=(function(){function d(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t(this,d),!l||l.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=l,this.options=_e({},f,mt(h)&&h),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=_c(),this.init()}return r(d,[{key:"init",value:function(){var h=this,u=this.element,g=this.options;if(!u[E]){u[E]=this,g.focus&&!g.keyboard&&(g.focus=!1);var v=u.localName==="img",y=[];if(J(v?[u]:u.querySelectorAll("img"),function(S){H(g.filter)?g.filter.call(h,S)&&y.push(S):h.getImageURL(S)&&y.push(S)}),this.isImg=v,this.length=y.length,this.images=y,this.initBody(),ue(document.createElement(E).style.transition)&&(g.transition=!1),g.inline){var _=0,L=function(){if(_+=1,_===h.length){var A;h.initializing=!1,h.delaying={abort:function(){clearTimeout(A)}},A=setTimeout(function(){h.delaying=!1,h.build()},0)}};this.initializing={abort:function(){J(y,function(A){A.complete||(Q(A,ne,L),Q(A,Me,L))})}},J(y,function(S){if(S.complete)L();else{var A,D;V(S,ne,A=function(){Q(S,Me,D),L()},{once:!0}),V(S,Me,D=function(){Q(S,ne,A),L()},{once:!0})}})}else V(u,Ce,this.onStart=function(S){var A=S.target;A.localName==="img"&&(!H(g.filter)||g.filter.call(h,A))&&h.view(h.images.indexOf(A))})}}},{key:"build",value:function(){if(!this.ready){var h=this.element,u=this.options,g=h.parentNode,v=document.createElement("div");v.innerHTML=p;var y=v.querySelector(".".concat(E,"-container")),_=y.querySelector(".".concat(E,"-title")),L=y.querySelector(".".concat(E,"-toolbar")),S=y.querySelector(".".concat(E,"-navbar")),A=y.querySelector(".".concat(E,"-button")),D=y.querySelector(".".concat(E,"-canvas"));if(this.parent=g,this.viewer=y,this.title=_,this.toolbar=L,this.navbar=S,this.button=A,this.canvas=D,this.footer=y.querySelector(".".concat(E,"-footer")),this.tooltipBox=y.querySelector(".".concat(E,"-tooltip")),this.player=y.querySelector(".".concat(E,"-player")),this.list=y.querySelector(".".concat(E,"-list")),y.id="".concat(E).concat(this.id),_.id="".concat(E,"Title").concat(this.id),F(_,u.title?gi(Array.isArray(u.title)?u.title[0]:u.title):G),F(S,u.navbar?gi(u.navbar):G),Dr(A,G,!u.button),u.keyboard&&A.setAttribute("tabindex",0),u.backdrop&&(F(y,"".concat(E,"-backdrop")),!u.inline&&u.backdrop!=="static"&&mn(D,pr,"hide")),B(u.className)&&u.className&&u.className.split(x).forEach(function(se){F(y,se)}),u.toolbar){var K=document.createElement("ul"),ge=mt(u.toolbar),he=I.slice(0,3),le=I.slice(7,9),De=I.slice(9);ge||F(L,gi(u.toolbar)),J(ge?u.toolbar:I,function(se,vt){var Kt=ge&&mt(se),ht=ge?gn(vt):se,Yt=Kt&&!ue(se.show)?se.show:se;if(!(!Yt||!u.zoomable&&he.indexOf(ht)!==-1||!u.rotatable&&le.indexOf(ht)!==-1||!u.scalable&&De.indexOf(ht)!==-1)){var Ir=Kt&&!ue(se.size)?se.size:se,mr=Kt&&!ue(se.click)?se.click:se,bt=document.createElement("li");u.keyboard&&bt.setAttribute("tabindex",0),bt.setAttribute("role","button"),F(bt,"".concat(E,"-").concat(ht)),H(mr)||mn(bt,pr,ht),N(Yt)&&F(bt,gi(Yt)),["small","large"].indexOf(Ir)!==-1?F(bt,"".concat(E,"-").concat(Ir)):ht==="play"&&F(bt,"".concat(E,"-large")),H(mr)&&V(bt,Ce,mr),K.appendChild(bt)}}),L.appendChild(K)}else F(L,G);if(!u.rotatable){var Be=L.querySelectorAll('li[class*="rotate"]');F(Be,we),J(Be,function(se){L.appendChild(se)})}if(u.inline)F(A,j),je(y,{zIndex:u.zIndexInline}),window.getComputedStyle(g).position==="static"&&je(g,{position:"relative"}),g.insertBefore(y,h.nextSibling);else{F(A,m),F(y,O),F(y,$),F(y,G),je(y,{zIndex:u.zIndex});var Fe=u.container;B(Fe)&&(Fe=h.ownerDocument.querySelector(Fe)),Fe||(Fe=this.body),Fe.appendChild(y)}if(u.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,H(u.ready)&&V(h,St,u.ready,{once:!0}),pe(h,St)===!1){this.ready=!1;return}this.ready&&u.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=Ac,d}},{key:"setDefaults",value:function(h){_e(f,mt(h)&&h)}}])})();return _e(bo.prototype,wc,xc,Ec,kc,Tc),bo}))});var kn=!1,Tn=!1,Gt=[],An=-1;function Nc(t){Pc(t)}function Pc(t){Gt.includes(t)||Gt.push(t),Bc()}function $c(t){let e=Gt.indexOf(t);e!==-1&&e>An&&Gt.splice(e,1)}function Bc(){!Tn&&!kn&&(kn=!0,queueMicrotask(Fc))}function Fc(){kn=!1,Tn=!0;for(let t=0;t<Gt.length;t++)Gt[t](),An=t;Gt.length=0,An=-1,Tn=!1}var yr,rr,wr,Io,_n=!0;function Vc(t){_n=!1,t(),_n=!0}function jc(t){yr=t.reactive,wr=t.release,rr=e=>t.effect(e,{scheduler:r=>{_n?Nc(r):r()}}),Io=t.raw}function wo(t){rr=t}function zc(t){let e=()=>{};return[i=>{let n=rr(i);return t._x_effects||(t._x_effects=new Set,t._x_runEffects=()=>{t._x_effects.forEach(s=>s())}),t._x_effects.add(n),e=()=>{n!==void 0&&(t._x_effects.delete(n),wr(n))},n},()=>{e()}]}function No(t,e){let r=!0,i,n=rr(()=>{let s=t();JSON.stringify(s),r?i=s:queueMicrotask(()=>{e(s,i),i=s}),r=!1});return()=>wr(n)}var Po=[],$o=[],Bo=[];function Hc(t){Bo.push(t)}function Vn(t,e){typeof e=="function"?(t._x_cleanups||(t._x_cleanups=[]),t._x_cleanups.push(e)):(e=t,$o.push(e))}function Fo(t){Po.push(t)}function Vo(t,e,r){t._x_attributeCleanups||(t._x_attributeCleanups={}),t._x_attributeCleanups[e]||(t._x_attributeCleanups[e]=[]),t._x_attributeCleanups[e].push(r)}function jo(t,e){t._x_attributeCleanups&&Object.entries(t._x_attributeCleanups).forEach(([r,i])=>{(e===void 0||e.includes(r))&&(i.forEach(n=>n()),delete t._x_attributeCleanups[r])})}function Wc(t){for(t._x_effects?.forEach($c);t._x_cleanups?.length;)t._x_cleanups.pop()()}var jn=new MutationObserver(qn),zn=!1;function Hn(){jn.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),zn=!0}function zo(){qc(),jn.disconnect(),zn=!1}var Nr=[];function qc(){let t=jn.takeRecords();Nr.push(()=>t.length>0&&qn(t));let e=Nr.length;queueMicrotask(()=>{if(Nr.length===e)for(;Nr.length>0;)Nr.shift()()})}function ce(t){if(!zn)return t();zo();let e=t();return Hn(),e}var Wn=!1,Ti=[];function Uc(){Wn=!0}function Kc(){Wn=!1,qn(Ti),Ti=[]}function qn(t){if(Wn){Ti=Ti.concat(t);return}let e=[],r=new Set,i=new Map,n=new Map;for(let s=0;s<t.length;s++)if(!t[s].target._x_ignoreMutationObserver&&(t[s].type==="childList"&&(t[s].removedNodes.forEach(o=>{o.nodeType===1&&o._x_marker&&r.add(o)}),t[s].addedNodes.forEach(o=>{if(o.nodeType===1){if(r.has(o)){r.delete(o);return}o._x_marker||e.push(o)}})),t[s].type==="attributes")){let o=t[s].target,a=t[s].attributeName,c=t[s].oldValue,f=()=>{i.has(o)||i.set(o,[]),i.get(o).push({name:a,value:o.getAttribute(a)})},p=()=>{n.has(o)||n.set(o,[]),n.get(o).push(a)};o.hasAttribute(a)&&c===null?f():o.hasAttribute(a)?(p(),f()):p()}n.forEach((s,o)=>{jo(o,s)}),i.forEach((s,o)=>{Po.forEach(a=>a(o,s))});for(let s of r)e.some(o=>o.contains(s))||$o.forEach(o=>o(s));for(let s of e)s.isConnected&&Bo.forEach(o=>o(s));e=null,r=null,i=null,n=null}function Ho(t){return Hr(vr(t))}function zr(t,e,r){return t._x_dataStack=[e,...vr(r||t)],()=>{t._x_dataStack=t._x_dataStack.filter(i=>i!==e)}}function vr(t){return t._x_dataStack?t._x_dataStack:typeof ShadowRoot=="function"&&t instanceof ShadowRoot?vr(t.host):t.parentNode?vr(t.parentNode):[]}function Hr(t){return new Proxy({objects:t},Yc)}var Yc={ownKeys({objects:t}){return Array.from(new Set(t.flatMap(e=>Object.keys(e))))},has({objects:t},e){return e==Symbol.unscopables?!1:t.some(r=>Object.prototype.hasOwnProperty.call(r,e)||Reflect.has(r,e))},get({objects:t},e,r){return e=="toJSON"?Xc:Reflect.get(t.find(i=>Reflect.has(i,e))||{},e,r)},set({objects:t},e,r,i){let n=t.find(o=>Object.prototype.hasOwnProperty.call(o,e))||t[t.length-1],s=Object.getOwnPropertyDescriptor(n,e);return s?.set&&s?.get?s.set.call(i,r)||!0:Reflect.set(n,e,r)}};function Xc(){return Reflect.ownKeys(this).reduce((e,r)=>(e[r]=Reflect.get(this,r),e),{})}function Wo(t){let e=i=>typeof i=="object"&&!Array.isArray(i)&&i!==null,r=(i,n="")=>{Object.entries(Object.getOwnPropertyDescriptors(i)).forEach(([s,{value:o,enumerable:a}])=>{if(a===!1||o===void 0||typeof o=="object"&&o!==null&&o.__v_skip)return;let c=n===""?s:`${n}.${s}`;typeof o=="object"&&o!==null&&o._x_interceptor?i[s]=o.initialize(t,c,s):e(o)&&o!==i&&!(o instanceof Element)&&r(o,c)})};return r(t)}function qo(t,e=()=>{}){let r={initialValue:void 0,_x_interceptor:!0,initialize(i,n,s){return t(this.initialValue,()=>Zc(i,n),o=>On(i,n,o),n,s)}};return e(r),i=>{if(typeof i=="object"&&i!==null&&i._x_interceptor){let n=r.initialize.bind(r);r.initialize=(s,o,a)=>{let c=i.initialize(s,o,a);return r.initialValue=c,n(s,o,a)}}else r.initialValue=i;return r}}function Zc(t,e){return e.split(".").reduce((r,i)=>r[i],t)}function On(t,e,r){if(typeof e=="string"&&(e=e.split(".")),e.length===1)t[e[0]]=r;else{if(e.length===0)throw error;return t[e[0]]||(t[e[0]]={}),On(t[e[0]],e.slice(1),r)}}var Uo={};function rt(t,e){Uo[t]=e}function Sn(t,e){let r=Gc(e);return Object.entries(Uo).forEach(([i,n])=>{Object.defineProperty(t,`$${i}`,{get(){return n(e,r)},enumerable:!1})}),t}function Gc(t){let[e,r]=Jo(t),i={interceptor:qo,...e};return Vn(t,r),i}function Jc(t,e,r,...i){try{return r(...i)}catch(n){jr(n,t,e)}}function jr(t,e,r=void 0){t=Object.assign(t??{message:"No error message given."},{el:e,expression:r}),console.warn(`Alpine Expression Error: ${t.message}

${r?'Expression: "'+r+`"

`:""}`,e),setTimeout(()=>{throw t},0)}var Ei=!0;function Ko(t){let e=Ei;Ei=!1;let r=t();return Ei=e,r}function Jt(t,e,r={}){let i;return Ie(t,e)(n=>i=n,r),i}function Ie(...t){return Yo(...t)}var Yo=Xo;function Qc(t){Yo=t}function Xo(t,e){let r={};Sn(r,t);let i=[r,...vr(t)],n=typeof e=="function"?eu(i,e):ru(i,e,t);return Jc.bind(null,t,e,n)}function eu(t,e){return(r=()=>{},{scope:i={},params:n=[],context:s}={})=>{let o=e.apply(Hr([i,...t]),n);Ai(r,o)}}var bn={};function tu(t,e){if(bn[t])return bn[t];let r=Object.getPrototypeOf(async function(){}).constructor,i=/^[\n\s]*if.*\(.*\)/.test(t.trim())||/^(let|const)\s/.test(t.trim())?`(async()=>{ ${t} })()`:t,s=(()=>{try{let o=new r(["__self","scope"],`with (scope) { __self.result = ${i} }; __self.finished = true; return __self.result;`);return Object.defineProperty(o,"name",{value:`[Alpine] ${t}`}),o}catch(o){return jr(o,e,t),Promise.resolve()}})();return bn[t]=s,s}function ru(t,e,r){let i=tu(e,r);return(n=()=>{},{scope:s={},params:o=[],context:a}={})=>{i.result=void 0,i.finished=!1;let c=Hr([s,...t]);if(typeof i=="function"){let f=i.call(a,i,c).catch(p=>jr(p,r,e));i.finished?(Ai(n,i.result,c,o,r),i.result=void 0):f.then(p=>{Ai(n,p,c,o,r)}).catch(p=>jr(p,r,e)).finally(()=>i.result=void 0)}}}function Ai(t,e,r,i,n){if(Ei&&typeof e=="function"){let s=e.apply(r,i);s instanceof Promise?s.then(o=>Ai(t,o,r,i)).catch(o=>jr(o,n,e)):t(s)}else typeof e=="object"&&e instanceof Promise?e.then(s=>t(s)):t(e)}var Un="x-";function xr(t=""){return Un+t}function iu(t){Un=t}var _i={};function be(t,e){return _i[t]=e,{before(r){if(!_i[r]){console.warn(String.raw`Cannot find directive \`${r}\`. \`${t}\` will use the default order of execution`);return}let i=Zt.indexOf(r);Zt.splice(i>=0?i:Zt.indexOf("DEFAULT"),0,t)}}}function nu(t){return Object.keys(_i).includes(t)}function Kn(t,e,r){if(e=Array.from(e),t._x_virtualDirectives){let s=Object.entries(t._x_virtualDirectives).map(([a,c])=>({name:a,value:c})),o=Zo(s);s=s.map(a=>o.find(c=>c.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),e=e.concat(s)}let i={};return e.map(ta((s,o)=>i[s]=o)).filter(ia).map(au(i,r)).sort(lu).map(s=>ou(t,s))}function Zo(t){return Array.from(t).map(ta()).filter(e=>!ia(e))}var Cn=!1,Br=new Map,Go=Symbol();function su(t){Cn=!0;let e=Symbol();Go=e,Br.set(e,[]);let r=()=>{for(;Br.get(e).length;)Br.get(e).shift()();Br.delete(e)},i=()=>{Cn=!1,r()};t(r),i()}function Jo(t){let e=[],r=a=>e.push(a),[i,n]=zc(t);return e.push(n),[{Alpine:Wr,effect:i,cleanup:r,evaluateLater:Ie.bind(Ie,t),evaluate:Jt.bind(Jt,t)},()=>e.forEach(a=>a())]}function ou(t,e){let r=()=>{},i=_i[e.type]||r,[n,s]=Jo(t);Vo(t,e.original,s);let o=()=>{t._x_ignore||t._x_ignoreSelf||(i.inline&&i.inline(t,e,n),i=i.bind(i,t,e,n),Cn?Br.get(Go).push(i):i())};return o.runCleanups=s,o}var Qo=(t,e)=>({name:r,value:i})=>(r.startsWith(t)&&(r=r.replace(t,e)),{name:r,value:i}),ea=t=>t;function ta(t=()=>{}){return({name:e,value:r})=>{let{name:i,value:n}=ra.reduce((s,o)=>o(s),{name:e,value:r});return i!==e&&t(i,e),{name:i,value:n}}}var ra=[];function Yn(t){ra.push(t)}function ia({name:t}){return na().test(t)}var na=()=>new RegExp(`^${Un}([^:^.]+)\\b`);function au(t,e){return({name:r,value:i})=>{let n=r.match(na()),s=r.match(/:([a-zA-Z0-9\-_:]+)/),o=r.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=e||t[r]||r;return{type:n?n[1]:null,value:s?s[1]:null,modifiers:o.map(c=>c.replace(".","")),expression:i,original:a}}}var Mn="DEFAULT",Zt=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",Mn,"teleport"];function lu(t,e){let r=Zt.indexOf(t.type)===-1?Mn:t.type,i=Zt.indexOf(e.type)===-1?Mn:e.type;return Zt.indexOf(r)-Zt.indexOf(i)}function Fr(t,e,r={}){t.dispatchEvent(new CustomEvent(e,{detail:r,bubbles:!0,composed:!0,cancelable:!0}))}function tr(t,e){if(typeof ShadowRoot=="function"&&t instanceof ShadowRoot){Array.from(t.children).forEach(n=>tr(n,e));return}let r=!1;if(e(t,()=>r=!0),r)return;let i=t.firstElementChild;for(;i;)tr(i,e,!1),i=i.nextElementSibling}function We(t,...e){console.warn(`Alpine Warning: ${t}`,...e)}var xo=!1;function cu(){xo&&We("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),xo=!0,document.body||We("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),Fr(document,"alpine:init"),Fr(document,"alpine:initializing"),Hn(),Hc(e=>yt(e,tr)),Vn(e=>kr(e)),Fo((e,r)=>{Kn(e,r).forEach(i=>i())});let t=e=>!Si(e.parentElement,!0);Array.from(document.querySelectorAll(aa().join(","))).filter(t).forEach(e=>{yt(e)}),Fr(document,"alpine:initialized"),setTimeout(()=>{du()})}var Xn=[],sa=[];function oa(){return Xn.map(t=>t())}function aa(){return Xn.concat(sa).map(t=>t())}function la(t){Xn.push(t)}function ca(t){sa.push(t)}function Si(t,e=!1){return Er(t,r=>{if((e?aa():oa()).some(n=>r.matches(n)))return!0})}function Er(t,e){if(t){if(e(t))return t;if(t._x_teleportBack&&(t=t._x_teleportBack),!!t.parentElement)return Er(t.parentElement,e)}}function uu(t){return oa().some(e=>t.matches(e))}var ua=[];function hu(t){ua.push(t)}var fu=1;function yt(t,e=tr,r=()=>{}){Er(t,i=>i._x_ignore)||su(()=>{e(t,(i,n)=>{i._x_marker||(r(i,n),ua.forEach(s=>s(i,n)),Kn(i,i.attributes).forEach(s=>s()),i._x_ignore||(i._x_marker=fu++),i._x_ignore&&n())})})}function kr(t,e=tr){e(t,r=>{Wc(r),jo(r),delete r._x_marker})}function du(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([e,r,i])=>{nu(r)||i.some(n=>{if(document.querySelector(n))return We(`found "${n}", but missing ${e} plugin`),!0})})}var Rn=[],Zn=!1;function Gn(t=()=>{}){return queueMicrotask(()=>{Zn||setTimeout(()=>{Ln()})}),new Promise(e=>{Rn.push(()=>{t(),e()})})}function Ln(){for(Zn=!1;Rn.length;)Rn.shift()()}function pu(){Zn=!0}function Jn(t,e){return Array.isArray(e)?Eo(t,e.join(" ")):typeof e=="object"&&e!==null?gu(t,e):typeof e=="function"?Jn(t,e()):Eo(t,e)}function Eo(t,e){let r=s=>s.split(" ").filter(Boolean),i=s=>s.split(" ").filter(o=>!t.classList.contains(o)).filter(Boolean),n=s=>(t.classList.add(...s),()=>{t.classList.remove(...s)});return e=e===!0?e="":e||"",n(i(e))}function gu(t,e){let r=a=>a.split(" ").filter(Boolean),i=Object.entries(e).flatMap(([a,c])=>c?r(a):!1).filter(Boolean),n=Object.entries(e).flatMap(([a,c])=>c?!1:r(a)).filter(Boolean),s=[],o=[];return n.forEach(a=>{t.classList.contains(a)&&(t.classList.remove(a),o.push(a))}),i.forEach(a=>{t.classList.contains(a)||(t.classList.add(a),s.push(a))}),()=>{o.forEach(a=>t.classList.add(a)),s.forEach(a=>t.classList.remove(a))}}function Ci(t,e){return typeof e=="object"&&e!==null?mu(t,e):vu(t,e)}function mu(t,e){let r={};return Object.entries(e).forEach(([i,n])=>{r[i]=t.style[i],i.startsWith("--")||(i=bu(i)),t.style.setProperty(i,n)}),setTimeout(()=>{t.style.length===0&&t.removeAttribute("style")}),()=>{Ci(t,r)}}function vu(t,e){let r=t.getAttribute("style",e);return t.setAttribute("style",e),()=>{t.setAttribute("style",r||"")}}function bu(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Dn(t,e=()=>{}){let r=!1;return function(){r?e.apply(this,arguments):(r=!0,t.apply(this,arguments))}}be("transition",(t,{value:e,modifiers:r,expression:i},{evaluate:n})=>{typeof i=="function"&&(i=n(i)),i!==!1&&(!i||typeof i=="boolean"?wu(t,r,e):yu(t,i,e))});function yu(t,e,r){ha(t,Jn,""),{enter:n=>{t._x_transition.enter.during=n},"enter-start":n=>{t._x_transition.enter.start=n},"enter-end":n=>{t._x_transition.enter.end=n},leave:n=>{t._x_transition.leave.during=n},"leave-start":n=>{t._x_transition.leave.start=n},"leave-end":n=>{t._x_transition.leave.end=n}}[r](e)}function wu(t,e,r){ha(t,Ci);let i=!e.includes("in")&&!e.includes("out")&&!r,n=i||e.includes("in")||["enter"].includes(r),s=i||e.includes("out")||["leave"].includes(r);e.includes("in")&&!i&&(e=e.filter((C,R)=>R<e.indexOf("out"))),e.includes("out")&&!i&&(e=e.filter((C,R)=>R>e.indexOf("out")));let o=!e.includes("opacity")&&!e.includes("scale"),a=o||e.includes("opacity"),c=o||e.includes("scale"),f=a?0:1,p=c?Pr(e,"scale",95)/100:1,b=Pr(e,"delay",0)/1e3,w=Pr(e,"origin","center"),T="opacity, transform",M=Pr(e,"duration",150)/1e3,E=Pr(e,"duration",75)/1e3,k="cubic-bezier(0.4, 0.0, 0.2, 1)";n&&(t._x_transition.enter.during={transformOrigin:w,transitionDelay:`${b}s`,transitionProperty:T,transitionDuration:`${M}s`,transitionTimingFunction:k},t._x_transition.enter.start={opacity:f,transform:`scale(${p})`},t._x_transition.enter.end={opacity:1,transform:"scale(1)"}),s&&(t._x_transition.leave.during={transformOrigin:w,transitionDelay:`${b}s`,transitionProperty:T,transitionDuration:`${E}s`,transitionTimingFunction:k},t._x_transition.leave.start={opacity:1,transform:"scale(1)"},t._x_transition.leave.end={opacity:f,transform:`scale(${p})`})}function ha(t,e,r={}){t._x_transition||(t._x_transition={enter:{during:r,start:r,end:r},leave:{during:r,start:r,end:r},in(i=()=>{},n=()=>{}){In(t,e,{during:this.enter.during,start:this.enter.start,end:this.enter.end},i,n)},out(i=()=>{},n=()=>{}){In(t,e,{during:this.leave.during,start:this.leave.start,end:this.leave.end},i,n)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(t,e,r,i){let n=document.visibilityState==="visible"?requestAnimationFrame:setTimeout,s=()=>n(r);if(e){t._x_transition&&(t._x_transition.enter||t._x_transition.leave)?t._x_transition.enter&&(Object.entries(t._x_transition.enter.during).length||Object.entries(t._x_transition.enter.start).length||Object.entries(t._x_transition.enter.end).length)?t._x_transition.in(r):s():t._x_transition?t._x_transition.in(r):s();return}t._x_hidePromise=t._x_transition?new Promise((o,a)=>{t._x_transition.out(()=>{},()=>o(i)),t._x_transitioning&&t._x_transitioning.beforeCancel(()=>a({isFromCancelledTransition:!0}))}):Promise.resolve(i),queueMicrotask(()=>{let o=fa(t);o?(o._x_hideChildren||(o._x_hideChildren=[]),o._x_hideChildren.push(t)):n(()=>{let a=c=>{let f=Promise.all([c._x_hidePromise,...(c._x_hideChildren||[]).map(a)]).then(([p])=>p?.());return delete c._x_hidePromise,delete c._x_hideChildren,f};a(t).catch(c=>{if(!c.isFromCancelledTransition)throw c})})})};function fa(t){let e=t.parentNode;if(e)return e._x_hidePromise?e:fa(e)}function In(t,e,{during:r,start:i,end:n}={},s=()=>{},o=()=>{}){if(t._x_transitioning&&t._x_transitioning.cancel(),Object.keys(r).length===0&&Object.keys(i).length===0&&Object.keys(n).length===0){s(),o();return}let a,c,f;xu(t,{start(){a=e(t,i)},during(){c=e(t,r)},before:s,end(){a(),f=e(t,n)},after:o,cleanup(){c(),f()}})}function xu(t,e){let r,i,n,s=Dn(()=>{ce(()=>{r=!0,i||e.before(),n||(e.end(),Ln()),e.after(),t.isConnected&&e.cleanup(),delete t._x_transitioning})});t._x_transitioning={beforeCancels:[],beforeCancel(o){this.beforeCancels.push(o)},cancel:Dn(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();s()}),finish:s},ce(()=>{e.start(),e.during()}),pu(),requestAnimationFrame(()=>{if(r)return;let o=Number(getComputedStyle(t).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,a=Number(getComputedStyle(t).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;o===0&&(o=Number(getComputedStyle(t).animationDuration.replace("s",""))*1e3),ce(()=>{e.before()}),i=!0,requestAnimationFrame(()=>{r||(ce(()=>{e.end()}),Ln(),setTimeout(t._x_transitioning.finish,o+a),n=!0)})})}function Pr(t,e,r){if(t.indexOf(e)===-1)return r;let i=t[t.indexOf(e)+1];if(!i||e==="scale"&&isNaN(i))return r;if(e==="duration"||e==="delay"){let n=i.match(/([0-9]+)ms/);if(n)return n[1]}return e==="origin"&&["top","right","left","center","bottom"].includes(t[t.indexOf(e)+2])?[i,t[t.indexOf(e)+2]].join(" "):i}var It=!1;function Pt(t,e=()=>{}){return(...r)=>It?e(...r):t(...r)}function Eu(t){return(...e)=>It&&t(...e)}var da=[];function Mi(t){da.push(t)}function ku(t,e){da.forEach(r=>r(t,e)),It=!0,pa(()=>{yt(e,(r,i)=>{i(r,()=>{})})}),It=!1}var Nn=!1;function Tu(t,e){e._x_dataStack||(e._x_dataStack=t._x_dataStack),It=!0,Nn=!0,pa(()=>{Au(e)}),It=!1,Nn=!1}function Au(t){let e=!1;yt(t,(i,n)=>{tr(i,(s,o)=>{if(e&&uu(s))return o();e=!0,n(s,o)})})}function pa(t){let e=rr;wo((r,i)=>{let n=e(r);return wr(n),()=>{}}),t(),wo(e)}function ga(t,e,r,i=[]){switch(t._x_bindings||(t._x_bindings=yr({})),t._x_bindings[e]=r,e=i.includes("camel")?Du(e):e,e){case"value":_u(t,r);break;case"style":Su(t,r);break;case"class":Ou(t,r);break;case"selected":case"checked":Cu(t,e,r);break;default:ma(t,e,r);break}}function _u(t,e){if(ya(t))t.attributes.value===void 0&&(t.value=e),window.fromModel&&(typeof e=="boolean"?t.checked=ki(t.value)===e:t.checked=ko(t.value,e));else if(Qn(t))Number.isInteger(e)?t.value=e:!Array.isArray(e)&&typeof e!="boolean"&&![null,void 0].includes(e)?t.value=String(e):Array.isArray(e)?t.checked=e.some(r=>ko(r,t.value)):t.checked=!!e;else if(t.tagName==="SELECT")Lu(t,e);else{if(t.value===e)return;t.value=e===void 0?"":e}}function Ou(t,e){t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedClasses=Jn(t,e)}function Su(t,e){t._x_undoAddedStyles&&t._x_undoAddedStyles(),t._x_undoAddedStyles=Ci(t,e)}function Cu(t,e,r){ma(t,e,r),Ru(t,e,r)}function ma(t,e,r){[null,void 0,!1].includes(r)&&Nu(e)?t.removeAttribute(e):(va(e)&&(r=e),Mu(t,e,r))}function Mu(t,e,r){t.getAttribute(e)!=r&&t.setAttribute(e,r)}function Ru(t,e,r){t[e]!==r&&(t[e]=r)}function Lu(t,e){let r=[].concat(e).map(i=>i+"");Array.from(t.options).forEach(i=>{i.selected=r.includes(i.value)})}function Du(t){return t.toLowerCase().replace(/-(\w)/g,(e,r)=>r.toUpperCase())}function ko(t,e){return t==e}function ki(t){return[1,"1","true","on","yes",!0].includes(t)?!0:[0,"0","false","off","no",!1].includes(t)?!1:t?!!t:null}var Iu=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function va(t){return Iu.has(t)}function Nu(t){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(t)}function Pu(t,e,r){return t._x_bindings&&t._x_bindings[e]!==void 0?t._x_bindings[e]:ba(t,e,r)}function $u(t,e,r,i=!0){if(t._x_bindings&&t._x_bindings[e]!==void 0)return t._x_bindings[e];if(t._x_inlineBindings&&t._x_inlineBindings[e]!==void 0){let n=t._x_inlineBindings[e];return n.extract=i,Ko(()=>Jt(t,n.expression))}return ba(t,e,r)}function ba(t,e,r){let i=t.getAttribute(e);return i===null?typeof r=="function"?r():r:i===""?!0:va(e)?!![e,"true"].includes(i):i}function Qn(t){return t.type==="checkbox"||t.localName==="ui-checkbox"||t.localName==="ui-switch"}function ya(t){return t.type==="radio"||t.localName==="ui-radio"}function wa(t,e){let r;return function(){let i=this,n=arguments,s=function(){r=null,t.apply(i,n)};clearTimeout(r),r=setTimeout(s,e)}}function xa(t,e){let r;return function(){let i=this,n=arguments;r||(t.apply(i,n),r=!0,setTimeout(()=>r=!1,e))}}function Ea({get:t,set:e},{get:r,set:i}){let n=!0,s,o,a=rr(()=>{let c=t(),f=r();if(n)i(yn(c)),n=!1;else{let p=JSON.stringify(c),b=JSON.stringify(f);p!==s?i(yn(c)):p!==b&&e(yn(f))}s=JSON.stringify(t()),o=JSON.stringify(r())});return()=>{wr(a)}}function yn(t){return typeof t=="object"?JSON.parse(JSON.stringify(t)):t}function Bu(t){(Array.isArray(t)?t:[t]).forEach(r=>r(Wr))}var Xt={},To=!1;function Fu(t,e){if(To||(Xt=yr(Xt),To=!0),e===void 0)return Xt[t];Xt[t]=e,Wo(Xt[t]),typeof e=="object"&&e!==null&&e.hasOwnProperty("init")&&typeof e.init=="function"&&Xt[t].init()}function Vu(){return Xt}var ka={};function ju(t,e){let r=typeof e!="function"?()=>e:e;return t instanceof Element?Ta(t,r()):(ka[t]=r,()=>{})}function zu(t){return Object.entries(ka).forEach(([e,r])=>{Object.defineProperty(t,e,{get(){return(...i)=>r(...i)}})}),t}function Ta(t,e,r){let i=[];for(;i.length;)i.pop()();let n=Object.entries(e).map(([o,a])=>({name:o,value:a})),s=Zo(n);return n=n.map(o=>s.find(a=>a.name===o.name)?{name:`x-bind:${o.name}`,value:`"${o.value}"`}:o),Kn(t,n,r).map(o=>{i.push(o.runCleanups),o()}),()=>{for(;i.length;)i.pop()()}}var Aa={};function Hu(t,e){Aa[t]=e}function Wu(t,e){return Object.entries(Aa).forEach(([r,i])=>{Object.defineProperty(t,r,{get(){return(...n)=>i.bind(e)(...n)},enumerable:!1})}),t}var qu={get reactive(){return yr},get release(){return wr},get effect(){return rr},get raw(){return Io},version:"3.15.0",flushAndStopDeferringMutations:Kc,dontAutoEvaluateFunctions:Ko,disableEffectScheduling:Vc,startObservingMutations:Hn,stopObservingMutations:zo,setReactivityEngine:jc,onAttributeRemoved:Vo,onAttributesAdded:Fo,closestDataStack:vr,skipDuringClone:Pt,onlyDuringClone:Eu,addRootSelector:la,addInitSelector:ca,interceptClone:Mi,addScopeToNode:zr,deferMutations:Uc,mapAttributes:Yn,evaluateLater:Ie,interceptInit:hu,setEvaluator:Qc,mergeProxies:Hr,extractProp:$u,findClosest:Er,onElRemoved:Vn,closestRoot:Si,destroyTree:kr,interceptor:qo,transition:In,setStyles:Ci,mutateDom:ce,directive:be,entangle:Ea,throttle:xa,debounce:wa,evaluate:Jt,initTree:yt,nextTick:Gn,prefixed:xr,prefix:iu,plugin:Bu,magic:rt,store:Fu,start:cu,clone:Tu,cloneNode:ku,bound:Pu,$data:Ho,watch:No,walk:tr,data:Hu,bind:ju},Wr=qu;function _a(t,e){let r=Object.create(null),i=t.split(",");for(let n=0;n<i.length;n++)r[i[n]]=!0;return e?n=>!!r[n.toLowerCase()]:n=>!!r[n]}var Uu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Fp=_a(Uu+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),Ku=Object.freeze({}),Vp=Object.freeze([]),Yu=Object.prototype.hasOwnProperty,Ri=(t,e)=>Yu.call(t,e),Qt=Array.isArray,Vr=t=>Oa(t)==="[object Map]",Xu=t=>typeof t=="string",es=t=>typeof t=="symbol",Li=t=>t!==null&&typeof t=="object",Zu=Object.prototype.toString,Oa=t=>Zu.call(t),Sa=t=>Oa(t).slice(8,-1),ts=t=>Xu(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Di=t=>{let e=Object.create(null);return r=>e[r]||(e[r]=t(r))},Gu=/-(\w)/g,jp=Di(t=>t.replace(Gu,(e,r)=>r?r.toUpperCase():"")),Ju=/\B([A-Z])/g,zp=Di(t=>t.replace(Ju,"-$1").toLowerCase()),Ca=Di(t=>t.charAt(0).toUpperCase()+t.slice(1)),Hp=Di(t=>t?`on${Ca(t)}`:""),Ma=(t,e)=>t!==e&&(t===t||e===e),Pn=new WeakMap,$r=[],ft,er=Symbol("iterate"),$n=Symbol("Map key iterate");function Qu(t){return t&&t._isEffect===!0}function eh(t,e=Ku){Qu(t)&&(t=t.raw);let r=ih(t,e);return e.lazy||r(),r}function th(t){t.active&&(Ra(t),t.options.onStop&&t.options.onStop(),t.active=!1)}var rh=0;function ih(t,e){let r=function(){if(!r.active)return t();if(!$r.includes(r)){Ra(r);try{return sh(),$r.push(r),ft=r,t()}finally{$r.pop(),La(),ft=$r[$r.length-1]}}};return r.id=rh++,r.allowRecurse=!!e.allowRecurse,r._isEffect=!0,r.active=!0,r.raw=t,r.deps=[],r.options=e,r}function Ra(t){let{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}var br=!0,rs=[];function nh(){rs.push(br),br=!1}function sh(){rs.push(br),br=!0}function La(){let t=rs.pop();br=t===void 0?!0:t}function tt(t,e,r){if(!br||ft===void 0)return;let i=Pn.get(t);i||Pn.set(t,i=new Map);let n=i.get(r);n||i.set(r,n=new Set),n.has(ft)||(n.add(ft),ft.deps.push(n),ft.options.onTrack&&ft.options.onTrack({effect:ft,target:t,type:e,key:r}))}function Nt(t,e,r,i,n,s){let o=Pn.get(t);if(!o)return;let a=new Set,c=p=>{p&&p.forEach(b=>{(b!==ft||b.allowRecurse)&&a.add(b)})};if(e==="clear")o.forEach(c);else if(r==="length"&&Qt(t))o.forEach((p,b)=>{(b==="length"||b>=i)&&c(p)});else switch(r!==void 0&&c(o.get(r)),e){case"add":Qt(t)?ts(r)&&c(o.get("length")):(c(o.get(er)),Vr(t)&&c(o.get($n)));break;case"delete":Qt(t)||(c(o.get(er)),Vr(t)&&c(o.get($n)));break;case"set":Vr(t)&&c(o.get(er));break}let f=p=>{p.options.onTrigger&&p.options.onTrigger({effect:p,target:t,key:r,type:e,newValue:i,oldValue:n,oldTarget:s}),p.options.scheduler?p.options.scheduler(p):p()};a.forEach(f)}var oh=_a("__proto__,__v_isRef,__isVue"),Da=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(es)),ah=Ia(),lh=Ia(!0),Ao=ch();function ch(){let t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){let i=te(this);for(let s=0,o=this.length;s<o;s++)tt(i,"get",s+"");let n=i[e](...r);return n===-1||n===!1?i[e](...r.map(te)):n}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){nh();let i=te(this)[e].apply(this,r);return La(),i}}),t}function Ia(t=!1,e=!1){return function(i,n,s){if(n==="__v_isReactive")return!t;if(n==="__v_isReadonly")return t;if(n==="__v_raw"&&s===(t?e?Ah:Ba:e?Th:$a).get(i))return i;let o=Qt(i);if(!t&&o&&Ri(Ao,n))return Reflect.get(Ao,n,s);let a=Reflect.get(i,n,s);return(es(n)?Da.has(n):oh(n))||(t||tt(i,"get",n),e)?a:Bn(a)?!o||!ts(n)?a.value:a:Li(a)?t?Fa(a):os(a):a}}var uh=hh();function hh(t=!1){return function(r,i,n,s){let o=r[i];if(!t&&(n=te(n),o=te(o),!Qt(r)&&Bn(o)&&!Bn(n)))return o.value=n,!0;let a=Qt(r)&&ts(i)?Number(i)<r.length:Ri(r,i),c=Reflect.set(r,i,n,s);return r===te(s)&&(a?Ma(n,o)&&Nt(r,"set",i,n,o):Nt(r,"add",i,n)),c}}function fh(t,e){let r=Ri(t,e),i=t[e],n=Reflect.deleteProperty(t,e);return n&&r&&Nt(t,"delete",e,void 0,i),n}function dh(t,e){let r=Reflect.has(t,e);return(!es(e)||!Da.has(e))&&tt(t,"has",e),r}function ph(t){return tt(t,"iterate",Qt(t)?"length":er),Reflect.ownKeys(t)}var gh={get:ah,set:uh,deleteProperty:fh,has:dh,ownKeys:ph},mh={get:lh,set(t,e){return console.warn(`Set operation on key "${String(e)}" failed: target is readonly.`,t),!0},deleteProperty(t,e){return console.warn(`Delete operation on key "${String(e)}" failed: target is readonly.`,t),!0}},is=t=>Li(t)?os(t):t,ns=t=>Li(t)?Fa(t):t,ss=t=>t,Ii=t=>Reflect.getPrototypeOf(t);function vi(t,e,r=!1,i=!1){t=t.__v_raw;let n=te(t),s=te(e);e!==s&&!r&&tt(n,"get",e),!r&&tt(n,"get",s);let{has:o}=Ii(n),a=i?ss:r?ns:is;if(o.call(n,e))return a(t.get(e));if(o.call(n,s))return a(t.get(s));t!==n&&t.get(e)}function bi(t,e=!1){let r=this.__v_raw,i=te(r),n=te(t);return t!==n&&!e&&tt(i,"has",t),!e&&tt(i,"has",n),t===n?r.has(t):r.has(t)||r.has(n)}function yi(t,e=!1){return t=t.__v_raw,!e&&tt(te(t),"iterate",er),Reflect.get(t,"size",t)}function _o(t){t=te(t);let e=te(this);return Ii(e).has.call(e,t)||(e.add(t),Nt(e,"add",t,t)),this}function Oo(t,e){e=te(e);let r=te(this),{has:i,get:n}=Ii(r),s=i.call(r,t);s?Pa(r,i,t):(t=te(t),s=i.call(r,t));let o=n.call(r,t);return r.set(t,e),s?Ma(e,o)&&Nt(r,"set",t,e,o):Nt(r,"add",t,e),this}function So(t){let e=te(this),{has:r,get:i}=Ii(e),n=r.call(e,t);n?Pa(e,r,t):(t=te(t),n=r.call(e,t));let s=i?i.call(e,t):void 0,o=e.delete(t);return n&&Nt(e,"delete",t,void 0,s),o}function Co(){let t=te(this),e=t.size!==0,r=Vr(t)?new Map(t):new Set(t),i=t.clear();return e&&Nt(t,"clear",void 0,void 0,r),i}function wi(t,e){return function(i,n){let s=this,o=s.__v_raw,a=te(o),c=e?ss:t?ns:is;return!t&&tt(a,"iterate",er),o.forEach((f,p)=>i.call(n,c(f),c(p),s))}}function xi(t,e,r){return function(...i){let n=this.__v_raw,s=te(n),o=Vr(s),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,f=n[t](...i),p=r?ss:e?ns:is;return!e&&tt(s,"iterate",c?$n:er),{next(){let{value:b,done:w}=f.next();return w?{value:b,done:w}:{value:a?[p(b[0]),p(b[1])]:p(b),done:w}},[Symbol.iterator](){return this}}}}function Dt(t){return function(...e){{let r=e[0]?`on key "${e[0]}" `:"";console.warn(`${Ca(t)} operation ${r}failed: target is readonly.`,te(this))}return t==="delete"?!1:this}}function vh(){let t={get(s){return vi(this,s)},get size(){return yi(this)},has:bi,add:_o,set:Oo,delete:So,clear:Co,forEach:wi(!1,!1)},e={get(s){return vi(this,s,!1,!0)},get size(){return yi(this)},has:bi,add:_o,set:Oo,delete:So,clear:Co,forEach:wi(!1,!0)},r={get(s){return vi(this,s,!0)},get size(){return yi(this,!0)},has(s){return bi.call(this,s,!0)},add:Dt("add"),set:Dt("set"),delete:Dt("delete"),clear:Dt("clear"),forEach:wi(!0,!1)},i={get(s){return vi(this,s,!0,!0)},get size(){return yi(this,!0)},has(s){return bi.call(this,s,!0)},add:Dt("add"),set:Dt("set"),delete:Dt("delete"),clear:Dt("clear"),forEach:wi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=xi(s,!1,!1),r[s]=xi(s,!0,!1),e[s]=xi(s,!1,!0),i[s]=xi(s,!0,!0)}),[t,r,e,i]}var[bh,yh,wh,xh]=vh();function Na(t,e){let r=e?t?xh:wh:t?yh:bh;return(i,n,s)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?i:Reflect.get(Ri(r,n)&&n in i?r:i,n,s)}var Eh={get:Na(!1,!1)},kh={get:Na(!0,!1)};function Pa(t,e,r){let i=te(r);if(i!==r&&e.call(t,i)){let n=Sa(t);console.warn(`Reactive ${n} contains both the raw and reactive versions of the same object${n==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var $a=new WeakMap,Th=new WeakMap,Ba=new WeakMap,Ah=new WeakMap;function _h(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Oh(t){return t.__v_skip||!Object.isExtensible(t)?0:_h(Sa(t))}function os(t){return t&&t.__v_isReadonly?t:Va(t,!1,gh,Eh,$a)}function Fa(t){return Va(t,!0,mh,kh,Ba)}function Va(t,e,r,i,n){if(!Li(t))return console.warn(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;let s=n.get(t);if(s)return s;let o=Oh(t);if(o===0)return t;let a=new Proxy(t,o===2?i:r);return n.set(t,a),a}function te(t){return t&&te(t.__v_raw)||t}function Bn(t){return!!(t&&t.__v_isRef===!0)}rt("nextTick",()=>Gn);rt("dispatch",t=>Fr.bind(Fr,t));rt("watch",(t,{evaluateLater:e,cleanup:r})=>(i,n)=>{let s=e(i),a=No(()=>{let c;return s(f=>c=f),c},n);r(a)});rt("store",Vu);rt("data",t=>Ho(t));rt("root",t=>Si(t));rt("refs",t=>(t._x_refs_proxy||(t._x_refs_proxy=Hr(Sh(t))),t._x_refs_proxy));function Sh(t){let e=[];return Er(t,r=>{r._x_refs&&e.push(r._x_refs)}),e}var wn={};function ja(t){return wn[t]||(wn[t]=0),++wn[t]}function Ch(t,e){return Er(t,r=>{if(r._x_ids&&r._x_ids[e])return!0})}function Mh(t,e){t._x_ids||(t._x_ids={}),t._x_ids[e]||(t._x_ids[e]=ja(e))}rt("id",(t,{cleanup:e})=>(r,i=null)=>{let n=`${r}${i?`-${i}`:""}`;return Rh(t,n,e,()=>{let s=Ch(t,r),o=s?s._x_ids[r]:ja(r);return i?`${r}-${o}-${i}`:`${r}-${o}`})});Mi((t,e)=>{t._x_id&&(e._x_id=t._x_id)});function Rh(t,e,r,i){if(t._x_id||(t._x_id={}),t._x_id[e])return t._x_id[e];let n=i();return t._x_id[e]=n,r(()=>{delete t._x_id[e]}),n}rt("el",t=>t);za("Focus","focus","focus");za("Persist","persist","persist");function za(t,e,r){rt(e,i=>We(`You can't use [$${e}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${r}`,i))}be("modelable",(t,{expression:e},{effect:r,evaluateLater:i,cleanup:n})=>{let s=i(e),o=()=>{let p;return s(b=>p=b),p},a=i(`${e} = __placeholder`),c=p=>a(()=>{},{scope:{__placeholder:p}}),f=o();c(f),queueMicrotask(()=>{if(!t._x_model)return;t._x_removeModelListeners.default();let p=t._x_model.get,b=t._x_model.set,w=Ea({get(){return p()},set(T){b(T)}},{get(){return o()},set(T){c(T)}});n(w)})});be("teleport",(t,{modifiers:e,expression:r},{cleanup:i})=>{t.tagName.toLowerCase()!=="template"&&We("x-teleport can only be used on a <template> tag",t);let n=Mo(r),s=t.content.cloneNode(!0).firstElementChild;t._x_teleport=s,s._x_teleportBack=t,t.setAttribute("data-teleport-template",!0),s.setAttribute("data-teleport-target",!0),t._x_forwardEvents&&t._x_forwardEvents.forEach(a=>{s.addEventListener(a,c=>{c.stopPropagation(),t.dispatchEvent(new c.constructor(c.type,c))})}),zr(s,{},t);let o=(a,c,f)=>{f.includes("prepend")?c.parentNode.insertBefore(a,c):f.includes("append")?c.parentNode.insertBefore(a,c.nextSibling):c.appendChild(a)};ce(()=>{o(s,n,e),Pt(()=>{yt(s)})()}),t._x_teleportPutBack=()=>{let a=Mo(r);ce(()=>{o(t._x_teleport,a,e)})},i(()=>ce(()=>{s.remove(),kr(s)}))});var Lh=document.createElement("div");function Mo(t){let e=Pt(()=>document.querySelector(t),()=>Lh)();return e||We(`Cannot find x-teleport element for selector: "${t}"`),e}var Ha=()=>{};Ha.inline=(t,{modifiers:e},{cleanup:r})=>{e.includes("self")?t._x_ignoreSelf=!0:t._x_ignore=!0,r(()=>{e.includes("self")?delete t._x_ignoreSelf:delete t._x_ignore})};be("ignore",Ha);be("effect",Pt((t,{expression:e},{effect:r})=>{r(Ie(t,e))}));function Fn(t,e,r,i){let n=t,s=c=>i(c),o={},a=(c,f)=>p=>f(c,p);if(r.includes("dot")&&(e=Dh(e)),r.includes("camel")&&(e=Ih(e)),r.includes("passive")&&(o.passive=!0),r.includes("capture")&&(o.capture=!0),r.includes("window")&&(n=window),r.includes("document")&&(n=document),r.includes("debounce")){let c=r[r.indexOf("debounce")+1]||"invalid-wait",f=Oi(c.split("ms")[0])?Number(c.split("ms")[0]):250;s=wa(s,f)}if(r.includes("throttle")){let c=r[r.indexOf("throttle")+1]||"invalid-wait",f=Oi(c.split("ms")[0])?Number(c.split("ms")[0]):250;s=xa(s,f)}return r.includes("prevent")&&(s=a(s,(c,f)=>{f.preventDefault(),c(f)})),r.includes("stop")&&(s=a(s,(c,f)=>{f.stopPropagation(),c(f)})),r.includes("once")&&(s=a(s,(c,f)=>{c(f),n.removeEventListener(e,s,o)})),(r.includes("away")||r.includes("outside"))&&(n=document,s=a(s,(c,f)=>{t.contains(f.target)||f.target.isConnected!==!1&&(t.offsetWidth<1&&t.offsetHeight<1||t._x_isShown!==!1&&c(f))})),r.includes("self")&&(s=a(s,(c,f)=>{f.target===t&&c(f)})),(Ph(e)||Wa(e))&&(s=a(s,(c,f)=>{$h(f,r)||c(f)})),n.addEventListener(e,s,o),()=>{n.removeEventListener(e,s,o)}}function Dh(t){return t.replace(/-/g,".")}function Ih(t){return t.toLowerCase().replace(/-(\w)/g,(e,r)=>r.toUpperCase())}function Oi(t){return!Array.isArray(t)&&!isNaN(t)}function Nh(t){return[" ","_"].includes(t)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Ph(t){return["keydown","keyup"].includes(t)}function Wa(t){return["contextmenu","click","mouse"].some(e=>t.includes(e))}function $h(t,e){let r=e.filter(s=>!["window","document","prevent","stop","once","capture","self","away","outside","passive","preserve-scroll"].includes(s));if(r.includes("debounce")){let s=r.indexOf("debounce");r.splice(s,Oi((r[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(r.includes("throttle")){let s=r.indexOf("throttle");r.splice(s,Oi((r[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(r.length===0||r.length===1&&Ro(t.key).includes(r[0]))return!1;let n=["ctrl","shift","alt","meta","cmd","super"].filter(s=>r.includes(s));return r=r.filter(s=>!n.includes(s)),!(n.length>0&&n.filter(o=>((o==="cmd"||o==="super")&&(o="meta"),t[`${o}Key`])).length===n.length&&(Wa(t.type)||Ro(t.key).includes(r[0])))}function Ro(t){if(!t)return[];t=Nh(t);let e={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return e[t]=t,Object.keys(e).map(r=>{if(e[r]===t)return r}).filter(r=>r)}be("model",(t,{modifiers:e,expression:r},{effect:i,cleanup:n})=>{let s=t;e.includes("parent")&&(s=t.parentNode);let o=Ie(s,r),a;typeof r=="string"?a=Ie(s,`${r} = __placeholder`):typeof r=="function"&&typeof r()=="string"?a=Ie(s,`${r()} = __placeholder`):a=()=>{};let c=()=>{let w;return o(T=>w=T),Lo(w)?w.get():w},f=w=>{let T;o(M=>T=M),Lo(T)?T.set(w):a(()=>{},{scope:{__placeholder:w}})};typeof r=="string"&&t.type==="radio"&&ce(()=>{t.hasAttribute("name")||t.setAttribute("name",r)});let p=t.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(t.type)||e.includes("lazy")?"change":"input",b=It?()=>{}:Fn(t,p,e,w=>{f(xn(t,e,w,c()))});if(e.includes("fill")&&([void 0,null,""].includes(c())||Qn(t)&&Array.isArray(c())||t.tagName.toLowerCase()==="select"&&t.multiple)&&f(xn(t,e,{target:t},c())),t._x_removeModelListeners||(t._x_removeModelListeners={}),t._x_removeModelListeners.default=b,n(()=>t._x_removeModelListeners.default()),t.form){let w=Fn(t.form,"reset",[],T=>{Gn(()=>t._x_model&&t._x_model.set(xn(t,e,{target:t},c())))});n(()=>w())}t._x_model={get(){return c()},set(w){f(w)}},t._x_forceModelUpdate=w=>{w===void 0&&typeof r=="string"&&r.match(/\./)&&(w=""),window.fromModel=!0,ce(()=>ga(t,"value",w)),delete window.fromModel},i(()=>{let w=c();e.includes("unintrusive")&&document.activeElement.isSameNode(t)||t._x_forceModelUpdate(w)})});function xn(t,e,r,i){return ce(()=>{if(r instanceof CustomEvent&&r.detail!==void 0)return r.detail!==null&&r.detail!==void 0?r.detail:r.target.value;if(Qn(t))if(Array.isArray(i)){let n=null;return e.includes("number")?n=En(r.target.value):e.includes("boolean")?n=ki(r.target.value):n=r.target.value,r.target.checked?i.includes(n)?i:i.concat([n]):i.filter(s=>!Bh(s,n))}else return r.target.checked;else{if(t.tagName.toLowerCase()==="select"&&t.multiple)return e.includes("number")?Array.from(r.target.selectedOptions).map(n=>{let s=n.value||n.text;return En(s)}):e.includes("boolean")?Array.from(r.target.selectedOptions).map(n=>{let s=n.value||n.text;return ki(s)}):Array.from(r.target.selectedOptions).map(n=>n.value||n.text);{let n;return ya(t)?r.target.checked?n=r.target.value:n=i:n=r.target.value,e.includes("number")?En(n):e.includes("boolean")?ki(n):e.includes("trim")?n.trim():n}}})}function En(t){let e=t?parseFloat(t):null;return Fh(e)?e:t}function Bh(t,e){return t==e}function Fh(t){return!Array.isArray(t)&&!isNaN(t)}function Lo(t){return t!==null&&typeof t=="object"&&typeof t.get=="function"&&typeof t.set=="function"}be("cloak",t=>queueMicrotask(()=>ce(()=>t.removeAttribute(xr("cloak")))));ca(()=>`[${xr("init")}]`);be("init",Pt((t,{expression:e},{evaluate:r})=>typeof e=="string"?!!e.trim()&&r(e,{},!1):r(e,{},!1)));be("text",(t,{expression:e},{effect:r,evaluateLater:i})=>{let n=i(e);r(()=>{n(s=>{ce(()=>{t.textContent=s})})})});be("html",(t,{expression:e},{effect:r,evaluateLater:i})=>{let n=i(e);r(()=>{n(s=>{ce(()=>{t.innerHTML=s,t._x_ignoreSelf=!0,yt(t),delete t._x_ignoreSelf})})})});Yn(Qo(":",ea(xr("bind:"))));var qa=(t,{value:e,modifiers:r,expression:i,original:n},{effect:s,cleanup:o})=>{if(!e){let c={};zu(c),Ie(t,i)(p=>{Ta(t,p,n)},{scope:c});return}if(e==="key")return Vh(t,i);if(t._x_inlineBindings&&t._x_inlineBindings[e]&&t._x_inlineBindings[e].extract)return;let a=Ie(t,i);s(()=>a(c=>{c===void 0&&typeof i=="string"&&i.match(/\./)&&(c=""),ce(()=>ga(t,e,c,r))})),o(()=>{t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedStyles&&t._x_undoAddedStyles()})};qa.inline=(t,{value:e,modifiers:r,expression:i})=>{e&&(t._x_inlineBindings||(t._x_inlineBindings={}),t._x_inlineBindings[e]={expression:i,extract:!1})};be("bind",qa);function Vh(t,e){t._x_keyExpression=e}la(()=>`[${xr("data")}]`);be("data",(t,{expression:e},{cleanup:r})=>{if(jh(t))return;e=e===""?"{}":e;let i={};Sn(i,t);let n={};Wu(n,i);let s=Jt(t,e,{scope:n});(s===void 0||s===!0)&&(s={}),Sn(s,t);let o=yr(s);Wo(o);let a=zr(t,o);o.init&&Jt(t,o.init),r(()=>{o.destroy&&Jt(t,o.destroy),a()})});Mi((t,e)=>{t._x_dataStack&&(e._x_dataStack=t._x_dataStack,e.setAttribute("data-has-alpine-state",!0))});function jh(t){return It?Nn?!0:t.hasAttribute("data-has-alpine-state"):!1}be("show",(t,{modifiers:e,expression:r},{effect:i})=>{let n=Ie(t,r);t._x_doHide||(t._x_doHide=()=>{ce(()=>{t.style.setProperty("display","none",e.includes("important")?"important":void 0)})}),t._x_doShow||(t._x_doShow=()=>{ce(()=>{t.style.length===1&&t.style.display==="none"?t.removeAttribute("style"):t.style.removeProperty("display")})});let s=()=>{t._x_doHide(),t._x_isShown=!1},o=()=>{t._x_doShow(),t._x_isShown=!0},a=()=>setTimeout(o),c=Dn(b=>b?o():s(),b=>{typeof t._x_toggleAndCascadeWithTransitions=="function"?t._x_toggleAndCascadeWithTransitions(t,b,o,s):b?a():s()}),f,p=!0;i(()=>n(b=>{!p&&b===f||(e.includes("immediate")&&(b?a():s()),c(b),f=b,p=!1)}))});be("for",(t,{expression:e},{effect:r,cleanup:i})=>{let n=Hh(e),s=Ie(t,n.items),o=Ie(t,t._x_keyExpression||"index");t._x_prevKeys=[],t._x_lookup={},r(()=>zh(t,n,s,o)),i(()=>{Object.values(t._x_lookup).forEach(a=>ce(()=>{kr(a),a.remove()})),delete t._x_prevKeys,delete t._x_lookup})});function zh(t,e,r,i){let n=o=>typeof o=="object"&&!Array.isArray(o),s=t;r(o=>{Wh(o)&&o>=0&&(o=Array.from(Array(o).keys(),k=>k+1)),o===void 0&&(o=[]);let a=t._x_lookup,c=t._x_prevKeys,f=[],p=[];if(n(o))o=Object.entries(o).map(([k,C])=>{let R=Do(e,C,k,o);i(P=>{p.includes(P)&&We("Duplicate key on x-for",t),p.push(P)},{scope:{index:k,...R}}),f.push(R)});else for(let k=0;k<o.length;k++){let C=Do(e,o[k],k,o);i(R=>{p.includes(R)&&We("Duplicate key on x-for",t),p.push(R)},{scope:{index:k,...C}}),f.push(C)}let b=[],w=[],T=[],M=[];for(let k=0;k<c.length;k++){let C=c[k];p.indexOf(C)===-1&&T.push(C)}c=c.filter(k=>!T.includes(k));let E="template";for(let k=0;k<p.length;k++){let C=p[k],R=c.indexOf(C);if(R===-1)c.splice(k,0,C),b.push([E,k]);else if(R!==k){let P=c.splice(k,1)[0],m=c.splice(R-1,1)[0];c.splice(k,0,m),c.splice(R,0,P),w.push([P,m])}else M.push(C);E=C}for(let k=0;k<T.length;k++){let C=T[k];C in a&&(ce(()=>{kr(a[C]),a[C].remove()}),delete a[C])}for(let k=0;k<w.length;k++){let[C,R]=w[k],P=a[C],m=a[R],$=document.createElement("div");ce(()=>{m||We('x-for ":key" is undefined or invalid',s,R,a),m.after($),P.after(m),m._x_currentIfEl&&m.after(m._x_currentIfEl),$.before(P),P._x_currentIfEl&&P.after(P._x_currentIfEl),$.remove()}),m._x_refreshXForScope(f[p.indexOf(R)])}for(let k=0;k<b.length;k++){let[C,R]=b[k],P=C==="template"?s:a[C];P._x_currentIfEl&&(P=P._x_currentIfEl);let m=f[R],$=p[R],O=document.importNode(s.content,!0).firstElementChild,j=yr(m);zr(O,j,s),O._x_refreshXForScope=W=>{Object.entries(W).forEach(([G,ee])=>{j[G]=ee})},ce(()=>{P.after(O),Pt(()=>yt(O))()}),typeof $=="object"&&We("x-for key cannot be an object, it must be a string or an integer",s),a[$]=O}for(let k=0;k<M.length;k++)a[M[k]]._x_refreshXForScope(f[p.indexOf(M[k])]);s._x_prevKeys=p})}function Hh(t){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,r=/^\s*\(|\)\s*$/g,i=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,n=t.match(i);if(!n)return;let s={};s.items=n[2].trim();let o=n[1].replace(r,"").trim(),a=o.match(e);return a?(s.item=o.replace(e,"").trim(),s.index=a[1].trim(),a[2]&&(s.collection=a[2].trim())):s.item=o,s}function Do(t,e,r,i){let n={};return/^\[.*\]$/.test(t.item)&&Array.isArray(e)?t.item.replace("[","").replace("]","").split(",").map(o=>o.trim()).forEach((o,a)=>{n[o]=e[a]}):/^\{.*\}$/.test(t.item)&&!Array.isArray(e)&&typeof e=="object"?t.item.replace("{","").replace("}","").split(",").map(o=>o.trim()).forEach(o=>{n[o]=e[o]}):n[t.item]=e,t.index&&(n[t.index]=r),t.collection&&(n[t.collection]=i),n}function Wh(t){return!Array.isArray(t)&&!isNaN(t)}function Ua(){}Ua.inline=(t,{expression:e},{cleanup:r})=>{let i=Si(t);i._x_refs||(i._x_refs={}),i._x_refs[e]=t,r(()=>delete i._x_refs[e])};be("ref",Ua);be("if",(t,{expression:e},{effect:r,cleanup:i})=>{t.tagName.toLowerCase()!=="template"&&We("x-if can only be used on a <template> tag",t);let n=Ie(t,e),s=()=>{if(t._x_currentIfEl)return t._x_currentIfEl;let a=t.content.cloneNode(!0).firstElementChild;return zr(a,{},t),ce(()=>{t.after(a),Pt(()=>yt(a))()}),t._x_currentIfEl=a,t._x_undoIf=()=>{ce(()=>{kr(a),a.remove()}),delete t._x_currentIfEl},a},o=()=>{t._x_undoIf&&(t._x_undoIf(),delete t._x_undoIf)};r(()=>n(a=>{a?s():o()})),i(()=>t._x_undoIf&&t._x_undoIf())});be("id",(t,{expression:e},{evaluate:r})=>{r(e).forEach(n=>Mh(t,n))});Mi((t,e)=>{t._x_ids&&(e._x_ids=t._x_ids)});Yn(Qo("@",ea(xr("on:"))));be("on",Pt((t,{value:e,modifiers:r,expression:i},{cleanup:n})=>{let s=i?Ie(t,i):()=>{};t.tagName.toLowerCase()==="template"&&(t._x_forwardEvents||(t._x_forwardEvents=[]),t._x_forwardEvents.includes(e)||t._x_forwardEvents.push(e));let o=Fn(t,e,r,a=>{s(()=>{},{scope:{$event:a},params:[a]})});n(()=>o())}));Ni("Collapse","collapse","collapse");Ni("Intersect","intersect","intersect");Ni("Focus","trap","focus");Ni("Mask","mask","mask");function Ni(t,e,r){be(e,i=>We(`You can't use [x-${e}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${r}`,i))}Wr.setEvaluator(Xo);Wr.setReactivityEngine({reactive:os,effect:eh,release:th,raw:te});var qh=Wr,Pi=qh;function Uh(t){t.directive("collapse",e),e.inline=(r,{modifiers:i})=>{i.includes("min")&&(r._x_doShow=()=>{},r._x_doHide=()=>{})};function e(r,{modifiers:i}){let n=Ka(i,"duration",250)/1e3,s=Ka(i,"min",0),o=!i.includes("min");r._x_isShown||(r.style.height=`${s}px`),!r._x_isShown&&o&&(r.hidden=!0),r._x_isShown||(r.style.overflow="hidden");let a=(f,p)=>{let b=t.setStyles(f,p);return p.height?()=>{}:b},c={transitionProperty:"height",transitionDuration:`${n}s`,transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)"};r._x_transition={in(f=()=>{},p=()=>{}){o&&(r.hidden=!1),o&&(r.style.display=null);let b=r.getBoundingClientRect().height;r.style.height="auto";let w=r.getBoundingClientRect().height;b===w&&(b=s),t.transition(r,t.setStyles,{during:c,start:{height:b+"px"},end:{height:w+"px"}},()=>r._x_isShown=!0,()=>{Math.abs(r.getBoundingClientRect().height-w)<1&&(r.style.overflow=null)})},out(f=()=>{},p=()=>{}){let b=r.getBoundingClientRect().height;t.transition(r,a,{during:c,start:{height:b+"px"},end:{height:s+"px"}},()=>r.style.overflow="hidden",()=>{r._x_isShown=!1,r.style.height==`${s}px`&&o&&(r.style.display="none",r.hidden=!0)})}}}}function Ka(t,e,r){if(t.indexOf(e)===-1)return r;let i=t[t.indexOf(e)+1];if(!i)return r;if(e==="duration"){let n=i.match(/([0-9]+)ms/);if(n)return n[1]}if(e==="min"){let n=i.match(/([0-9]+)px/);if(n)return n[1]}return i}var Ya=Uh;var as=class{constructor(e,r,i){this.eventTarget=e,this.eventName=r,this.eventOptions=i,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){let r=Kh(e);for(let i of this.bindings){if(r.immediatePropagationStopped)break;i.handleEvent(r)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((e,r)=>{let i=e.index,n=r.index;return i<n?-1:i>n?1:0})}};function Kh(t){if("immediatePropagationStopped"in t)return t;{let{stopImmediatePropagation:e}=t;return Object.assign(t,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,e.call(this)}})}}var ls=class{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(e=>e.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(e=>e.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((e,r)=>e.concat(Array.from(r.values())),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e,r=!1){this.fetchEventListenerForBinding(e).bindingDisconnected(e),r&&this.clearEventListenersForBinding(e)}handleError(e,r,i={}){this.application.handleError(e,`Error ${r}`,i)}clearEventListenersForBinding(e){let r=this.fetchEventListenerForBinding(e);r.hasBindings()||(r.disconnect(),this.removeMappedEventListenerFor(e))}removeMappedEventListenerFor(e){let{eventTarget:r,eventName:i,eventOptions:n}=e,s=this.fetchEventListenerMapForEventTarget(r),o=this.cacheKey(i,n);s.delete(o),s.size==0&&this.eventListenerMaps.delete(r)}fetchEventListenerForBinding(e){let{eventTarget:r,eventName:i,eventOptions:n}=e;return this.fetchEventListener(r,i,n)}fetchEventListener(e,r,i){let n=this.fetchEventListenerMapForEventTarget(e),s=this.cacheKey(r,i),o=n.get(s);return o||(o=this.createEventListener(e,r,i),n.set(s,o)),o}createEventListener(e,r,i){let n=new as(e,r,i);return this.started&&n.connect(),n}fetchEventListenerMapForEventTarget(e){let r=this.eventListenerMaps.get(e);return r||(r=new Map,this.eventListenerMaps.set(e,r)),r}cacheKey(e,r){let i=[e];return Object.keys(r).sort().forEach(n=>{i.push(`${r[n]?"":"!"}${n}`)}),i.join(":")}},Yh={stop({event:t,value:e}){return e&&t.stopPropagation(),!0},prevent({event:t,value:e}){return e&&t.preventDefault(),!0},self({event:t,value:e,element:r}){return e?r===t.target:!0}},Xh=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function Zh(t){let r=t.trim().match(Xh)||[],i=r[2],n=r[3];return n&&!["keydown","keyup","keypress"].includes(i)&&(i+=`.${n}`,n=""),{eventTarget:Gh(r[4]),eventName:i,eventOptions:r[7]?Jh(r[7]):{},identifier:r[5],methodName:r[6],keyFilter:r[1]||n}}function Gh(t){if(t=="window")return window;if(t=="document")return document}function Jh(t){return t.split(":").reduce((e,r)=>Object.assign(e,{[r.replace(/^!/,"")]:!/^!/.test(r)}),{})}function Qh(t){if(t==window)return"window";if(t==document)return"document"}function Ms(t){return t.replace(/(?:[_-])([a-z0-9])/g,(e,r)=>r.toUpperCase())}function cs(t){return Ms(t.replace(/--/g,"-").replace(/__/g,"_"))}function Ur(t){return t.charAt(0).toUpperCase()+t.slice(1)}function nl(t){return t.replace(/([A-Z])/g,(e,r)=>`-${r.toLowerCase()}`)}function ef(t){return t.match(/[^\s]+/g)||[]}function Xa(t){return t!=null}function us(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Za=["meta","ctrl","alt","shift"],hs=class{constructor(e,r,i,n){this.element=e,this.index=r,this.eventTarget=i.eventTarget||e,this.eventName=i.eventName||tf(e)||$i("missing event name"),this.eventOptions=i.eventOptions||{},this.identifier=i.identifier||$i("missing identifier"),this.methodName=i.methodName||$i("missing method name"),this.keyFilter=i.keyFilter||"",this.schema=n}static forToken(e,r){return new this(e.element,e.index,Zh(e.content),r)}toString(){let e=this.keyFilter?`.${this.keyFilter}`:"",r=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}${r}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(e){if(!this.keyFilter)return!1;let r=this.keyFilter.split("+");if(this.keyFilterDissatisfied(e,r))return!0;let i=r.filter(n=>!Za.includes(n))[0];return i?(us(this.keyMappings,i)||$i(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[i].toLowerCase()!==e.key.toLowerCase()):!1}shouldIgnoreMouseEvent(e){if(!this.keyFilter)return!1;let r=[this.keyFilter];return!!this.keyFilterDissatisfied(e,r)}get params(){let e={},r=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(let{name:i,value:n}of Array.from(this.element.attributes)){let s=i.match(r),o=s&&s[1];o&&(e[Ms(o)]=rf(n))}return e}get eventTargetName(){return Qh(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(e,r){let[i,n,s,o]=Za.map(a=>r.includes(a));return e.metaKey!==i||e.ctrlKey!==n||e.altKey!==s||e.shiftKey!==o}},Ga={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:t=>t.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function tf(t){let e=t.tagName.toLowerCase();if(e in Ga)return Ga[e](t)}function $i(t){throw new Error(t)}function rf(t){try{return JSON.parse(t)}catch{return t}}var fs=class{constructor(e,r){this.context=e,this.action=r}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){let r=this.prepareActionEvent(e);this.willBeInvokedByEvent(e)&&this.applyEventModifiers(r)&&this.invokeWithEvent(r)}get eventName(){return this.action.eventName}get method(){let e=this.controller[this.methodName];if(typeof e=="function")return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(e){let{element:r}=this.action,{actionDescriptorFilters:i}=this.context.application,{controller:n}=this.context,s=!0;for(let[o,a]of Object.entries(this.eventOptions))if(o in i){let c=i[o];s=s&&c({name:o,value:a,event:e,element:r,controller:n})}else continue;return s}prepareActionEvent(e){return Object.assign(e,{params:this.action.params})}invokeWithEvent(e){let{target:r,currentTarget:i}=e;try{this.method.call(this.controller,e),this.context.logDebugActivity(this.methodName,{event:e,target:r,currentTarget:i,action:this.methodName})}catch(n){let{identifier:s,controller:o,element:a,index:c}=this,f={identifier:s,controller:o,element:a,index:c,event:e};this.context.handleError(n,`invoking action "${this.action}"`,f)}}willBeInvokedByEvent(e){let r=e.target;return e instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(e)||e instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(e)?!1:this.element===r?!0:r instanceof Element&&this.element.contains(r)?this.scope.containsElement(r):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}},Bi=class{constructor(e,r){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=r,this.elements=new Set,this.mutationObserver=new MutationObserver(i=>this.processMutations(i))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){let e=new Set(this.matchElementsInTree());for(let r of Array.from(this.elements))e.has(r)||this.removeElement(r);for(let r of Array.from(e))this.addElement(r)}}processMutations(e){if(this.started)for(let r of e)this.processMutation(r)}processMutation(e){e.type=="attributes"?this.processAttributeChange(e.target,e.attributeName):e.type=="childList"&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,r){this.elements.has(e)?this.delegate.elementAttributeChanged&&this.matchElement(e)?this.delegate.elementAttributeChanged(e,r):this.removeElement(e):this.matchElement(e)&&this.addElement(e)}processRemovedNodes(e){for(let r of Array.from(e)){let i=this.elementFromNode(r);i&&this.processTree(i,this.removeElement)}}processAddedNodes(e){for(let r of Array.from(e)){let i=this.elementFromNode(r);i&&this.elementIsActive(i)&&this.processTree(i,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,r){for(let i of this.matchElementsInTree(e))r.call(this,i)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}},Fi=class{constructor(e,r,i){this.attributeName=r,this.delegate=i,this.elementObserver=new Bi(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){let r=this.matchElement(e)?[e]:[],i=Array.from(e.querySelectorAll(this.selector));return r.concat(i)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,r){this.delegate.elementAttributeValueChanged&&this.attributeName==r&&this.delegate.elementAttributeValueChanged(e,r)}};function nf(t,e,r){sl(t,e).add(r)}function sf(t,e,r){sl(t,e).delete(r),of(t,e)}function sl(t,e){let r=t.get(e);return r||(r=new Set,t.set(e,r)),r}function of(t,e){let r=t.get(e);r!=null&&r.size==0&&t.delete(e)}var wt=class{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((r,i)=>r.concat(Array.from(i)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((r,i)=>r+i.size,0)}add(e,r){nf(this.valuesByKey,e,r)}delete(e,r){sf(this.valuesByKey,e,r)}has(e,r){let i=this.valuesByKey.get(e);return i!=null&&i.has(r)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some(i=>i.has(e))}getValuesForKey(e){let r=this.valuesByKey.get(e);return r?Array.from(r):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter(([r,i])=>i.has(e)).map(([r,i])=>r)}};var ds=class{constructor(e,r,i,n){this._selector=r,this.details=n,this.elementObserver=new Bi(e,this),this.delegate=i,this.matchesByElement=new wt}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(e){this._selector=e,this.refresh()}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(e){let{selector:r}=this;if(r){let i=e.matches(r);return this.delegate.selectorMatchElement?i&&this.delegate.selectorMatchElement(e,this.details):i}else return!1}matchElementsInTree(e){let{selector:r}=this;if(r){let i=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(r)).filter(s=>this.matchElement(s));return i.concat(n)}else return[]}elementMatched(e){let{selector:r}=this;r&&this.selectorMatched(e,r)}elementUnmatched(e){let r=this.matchesByElement.getKeysForValue(e);for(let i of r)this.selectorUnmatched(e,i)}elementAttributeChanged(e,r){let{selector:i}=this;if(i){let n=this.matchElement(e),s=this.matchesByElement.has(i,e);n&&!s?this.selectorMatched(e,i):!n&&s&&this.selectorUnmatched(e,i)}}selectorMatched(e,r){this.delegate.selectorMatched(e,r,this.details),this.matchesByElement.add(r,e)}selectorUnmatched(e,r){this.delegate.selectorUnmatched(e,r,this.details),this.matchesByElement.delete(r,e)}},ps=class{constructor(e,r){this.element=e,this.delegate=r,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(i=>this.processMutations(i))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(let e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(let r of e)this.processMutation(r)}processMutation(e){let r=e.attributeName;r&&this.refreshAttribute(r,e.oldValue)}refreshAttribute(e,r){let i=this.delegate.getStringMapKeyForAttribute(e);if(i!=null){this.stringMap.has(e)||this.stringMapKeyAdded(i,e);let n=this.element.getAttribute(e);if(this.stringMap.get(e)!=n&&this.stringMapValueChanged(n,i,r),n==null){let s=this.stringMap.get(e);this.stringMap.delete(e),s&&this.stringMapKeyRemoved(i,e,s)}else this.stringMap.set(e,n)}}stringMapKeyAdded(e,r){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,r)}stringMapValueChanged(e,r,i){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,r,i)}stringMapKeyRemoved(e,r,i){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,r,i)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(e=>e.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}},Vi=class{constructor(e,r,i){this.attributeObserver=new Fi(e,r,this),this.delegate=i,this.tokensByElement=new wt}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){let[r,i]=this.refreshTokensForElement(e);this.tokensUnmatched(r),this.tokensMatched(i)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach(r=>this.tokenMatched(r))}tokensUnmatched(e){e.forEach(r=>this.tokenUnmatched(r))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){let r=this.tokensByElement.getValuesForKey(e),i=this.readTokensForElement(e),n=lf(r,i).findIndex(([s,o])=>!cf(s,o));return n==-1?[[],[]]:[r.slice(n),i.slice(n)]}readTokensForElement(e){let r=this.attributeName,i=e.getAttribute(r)||"";return af(i,e,r)}};function af(t,e,r){return t.trim().split(/\s+/).filter(i=>i.length).map((i,n)=>({element:e,attributeName:r,content:i,index:n}))}function lf(t,e){let r=Math.max(t.length,e.length);return Array.from({length:r},(i,n)=>[t[n],e[n]])}function cf(t,e){return t&&e&&t.index==e.index&&t.content==e.content}var ji=class{constructor(e,r,i){this.tokenListObserver=new Vi(e,r,this),this.delegate=i,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){let{element:r}=e,{value:i}=this.fetchParseResultForToken(e);i&&(this.fetchValuesByTokenForElement(r).set(e,i),this.delegate.elementMatchedValue(r,i))}tokenUnmatched(e){let{element:r}=e,{value:i}=this.fetchParseResultForToken(e);i&&(this.fetchValuesByTokenForElement(r).delete(e),this.delegate.elementUnmatchedValue(r,i))}fetchParseResultForToken(e){let r=this.parseResultsByToken.get(e);return r||(r=this.parseToken(e),this.parseResultsByToken.set(e,r)),r}fetchValuesByTokenForElement(e){let r=this.valuesByTokenByElement.get(e);return r||(r=new Map,this.valuesByTokenByElement.set(e,r)),r}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(r){return{error:r}}}},gs=class{constructor(e,r){this.context=e,this.delegate=r,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new ji(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){let r=new fs(this.context,e);this.bindingsByAction.set(e,r),this.delegate.bindingConnected(r)}disconnectAction(e){let r=this.bindingsByAction.get(e);r&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(r))}disconnectAllActions(){this.bindings.forEach(e=>this.delegate.bindingDisconnected(e,!0)),this.bindingsByAction.clear()}parseValueForToken(e){let r=hs.forToken(e,this.schema);if(r.identifier==this.identifier)return r}elementMatchedValue(e,r){this.connectAction(r)}elementUnmatchedValue(e,r){this.disconnectAction(r)}},ms=class{constructor(e,r){this.context=e,this.receiver=r,this.stringMapObserver=new ps(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,r){let i=this.valueDescriptorMap[r];this.hasValue(e)||this.invokeChangedCallback(e,i.writer(this.receiver[e]),i.writer(i.defaultValue))}stringMapValueChanged(e,r,i){let n=this.valueDescriptorNameMap[r];e!==null&&(i===null&&(i=n.writer(n.defaultValue)),this.invokeChangedCallback(r,e,i))}stringMapKeyRemoved(e,r,i){let n=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,n.writer(this.receiver[e]),i):this.invokeChangedCallback(e,n.writer(n.defaultValue),i)}invokeChangedCallbacksForDefaultValues(){for(let{key:e,name:r,defaultValue:i,writer:n}of this.valueDescriptors)i!=null&&!this.controller.data.has(e)&&this.invokeChangedCallback(r,n(i),void 0)}invokeChangedCallback(e,r,i){let n=`${e}Changed`,s=this.receiver[n];if(typeof s=="function"){let o=this.valueDescriptorNameMap[e];try{let a=o.reader(r),c=i;i&&(c=o.reader(i)),s.call(this.receiver,a,c)}catch(a){throw a instanceof TypeError&&(a.message=`Stimulus Value "${this.context.identifier}.${o.name}" - ${a.message}`),a}}}get valueDescriptors(){let{valueDescriptorMap:e}=this;return Object.keys(e).map(r=>e[r])}get valueDescriptorNameMap(){let e={};return Object.keys(this.valueDescriptorMap).forEach(r=>{let i=this.valueDescriptorMap[r];e[i.name]=i}),e}hasValue(e){let r=this.valueDescriptorNameMap[e],i=`has${Ur(r.name)}`;return this.receiver[i]}},vs=class{constructor(e,r){this.context=e,this.delegate=r,this.targetsByName=new wt}start(){this.tokenListObserver||(this.tokenListObserver=new Vi(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:r}){this.scope.containsElement(e)&&this.connectTarget(e,r)}tokenUnmatched({element:e,content:r}){this.disconnectTarget(e,r)}connectTarget(e,r){var i;this.targetsByName.has(r,e)||(this.targetsByName.add(r,e),(i=this.tokenListObserver)===null||i===void 0||i.pause(()=>this.delegate.targetConnected(e,r)))}disconnectTarget(e,r){var i;this.targetsByName.has(r,e)&&(this.targetsByName.delete(r,e),(i=this.tokenListObserver)===null||i===void 0||i.pause(()=>this.delegate.targetDisconnected(e,r)))}disconnectAllTargets(){for(let e of this.targetsByName.keys)for(let r of this.targetsByName.getValuesForKey(e))this.disconnectTarget(r,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}};function Kr(t,e){let r=ol(t);return Array.from(r.reduce((i,n)=>(hf(n,e).forEach(s=>i.add(s)),i),new Set))}function uf(t,e){return ol(t).reduce((i,n)=>(i.push(...ff(n,e)),i),[])}function ol(t){let e=[];for(;t;)e.push(t),t=Object.getPrototypeOf(t);return e.reverse()}function hf(t,e){let r=t[e];return Array.isArray(r)?r:[]}function ff(t,e){let r=t[e];return r?Object.keys(r).map(i=>[i,r[i]]):[]}var bs=class{constructor(e,r){this.started=!1,this.context=e,this.delegate=r,this.outletsByName=new wt,this.outletElementsByName=new wt,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach(e=>{this.setupSelectorObserverForOutlet(e),this.setupAttributeObserverForOutlet(e)}),this.started=!0,this.dependentContexts.forEach(e=>e.refresh()))}refresh(){this.selectorObserverMap.forEach(e=>e.refresh()),this.attributeObserverMap.forEach(e=>e.refresh())}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(e=>e.stop()),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(e=>e.stop()),this.attributeObserverMap.clear())}selectorMatched(e,r,{outletName:i}){let n=this.getOutlet(e,i);n&&this.connectOutlet(n,e,i)}selectorUnmatched(e,r,{outletName:i}){let n=this.getOutletFromMap(e,i);n&&this.disconnectOutlet(n,e,i)}selectorMatchElement(e,{outletName:r}){let i=this.selector(r),n=this.hasOutlet(e,r),s=e.matches(`[${this.schema.controllerAttribute}~=${r}]`);return i?n&&s&&e.matches(i):!1}elementMatchedAttribute(e,r){let i=this.getOutletNameFromOutletAttributeName(r);i&&this.updateSelectorObserverForOutlet(i)}elementAttributeValueChanged(e,r){let i=this.getOutletNameFromOutletAttributeName(r);i&&this.updateSelectorObserverForOutlet(i)}elementUnmatchedAttribute(e,r){let i=this.getOutletNameFromOutletAttributeName(r);i&&this.updateSelectorObserverForOutlet(i)}connectOutlet(e,r,i){var n;this.outletElementsByName.has(i,r)||(this.outletsByName.add(i,e),this.outletElementsByName.add(i,r),(n=this.selectorObserverMap.get(i))===null||n===void 0||n.pause(()=>this.delegate.outletConnected(e,r,i)))}disconnectOutlet(e,r,i){var n;this.outletElementsByName.has(i,r)&&(this.outletsByName.delete(i,e),this.outletElementsByName.delete(i,r),(n=this.selectorObserverMap.get(i))===null||n===void 0||n.pause(()=>this.delegate.outletDisconnected(e,r,i)))}disconnectAllOutlets(){for(let e of this.outletElementsByName.keys)for(let r of this.outletElementsByName.getValuesForKey(e))for(let i of this.outletsByName.getValuesForKey(e))this.disconnectOutlet(i,r,e)}updateSelectorObserverForOutlet(e){let r=this.selectorObserverMap.get(e);r&&(r.selector=this.selector(e))}setupSelectorObserverForOutlet(e){let r=this.selector(e),i=new ds(document.body,r,this,{outletName:e});this.selectorObserverMap.set(e,i),i.start()}setupAttributeObserverForOutlet(e){let r=this.attributeNameForOutletName(e),i=new Fi(this.scope.element,r,this);this.attributeObserverMap.set(e,i),i.start()}selector(e){return this.scope.outlets.getSelectorForOutletName(e)}attributeNameForOutletName(e){return this.scope.schema.outletAttributeForScope(this.identifier,e)}getOutletNameFromOutletAttributeName(e){return this.outletDefinitions.find(r=>this.attributeNameForOutletName(r)===e)}get outletDependencies(){let e=new wt;return this.router.modules.forEach(r=>{let i=r.definition.controllerConstructor;Kr(i,"outlets").forEach(s=>e.add(s,r.identifier))}),e}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){let e=this.dependentControllerIdentifiers;return this.router.contexts.filter(r=>e.includes(r.identifier))}hasOutlet(e,r){return!!this.getOutlet(e,r)||!!this.getOutletFromMap(e,r)}getOutlet(e,r){return this.application.getControllerForElementAndIdentifier(e,r)}getOutletFromMap(e,r){return this.outletsByName.getValuesForKey(r).find(i=>i.element===e)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}},ys=class{constructor(e,r){this.logDebugActivity=(i,n={})=>{let{identifier:s,controller:o,element:a}=this;n=Object.assign({identifier:s,controller:o,element:a},n),this.application.logDebugActivity(this.identifier,i,n)},this.module=e,this.scope=r,this.controller=new e.controllerConstructor(this),this.bindingObserver=new gs(this,this.dispatcher),this.valueObserver=new ms(this,this.controller),this.targetObserver=new vs(this,this),this.outletObserver=new bs(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(i){this.handleError(i,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,r,i={}){let{identifier:n,controller:s,element:o}=this;i=Object.assign({identifier:n,controller:s,element:o},i),this.application.handleError(e,`Error ${r}`,i)}targetConnected(e,r){this.invokeControllerMethod(`${r}TargetConnected`,e)}targetDisconnected(e,r){this.invokeControllerMethod(`${r}TargetDisconnected`,e)}outletConnected(e,r,i){this.invokeControllerMethod(`${cs(i)}OutletConnected`,e,r)}outletDisconnected(e,r,i){this.invokeControllerMethod(`${cs(i)}OutletDisconnected`,e,r)}invokeControllerMethod(e,...r){let i=this.controller;typeof i[e]=="function"&&i[e](...r)}};function df(t){return pf(t,gf(t))}function pf(t,e){let r=yf(t),i=mf(t.prototype,e);return Object.defineProperties(r.prototype,i),r}function gf(t){return Kr(t,"blessings").reduce((r,i)=>{let n=i(t);for(let s in n){let o=r[s]||{};r[s]=Object.assign(o,n[s])}return r},{})}function mf(t,e){return bf(e).reduce((r,i)=>{let n=vf(t,e,i);return n&&Object.assign(r,{[i]:n}),r},{})}function vf(t,e,r){let i=Object.getOwnPropertyDescriptor(t,r);if(!(i&&"value"in i)){let s=Object.getOwnPropertyDescriptor(e,r).value;return i&&(s.get=i.get||s.get,s.set=i.set||s.set),s}}var bf=typeof Object.getOwnPropertySymbols=="function"?t=>[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)]:Object.getOwnPropertyNames,yf=(()=>{function t(r){function i(){return Reflect.construct(r,arguments,new.target)}return i.prototype=Object.create(r.prototype,{constructor:{value:i}}),Reflect.setPrototypeOf(i,r),i}function e(){let i=t(function(){this.a.call(this)});return i.prototype.a=function(){},new i}try{return e(),t}catch{return i=>class extends i{}}})();function wf(t){return{identifier:t.identifier,controllerConstructor:df(t.controllerConstructor)}}var ws=class{constructor(e,r){this.application=e,this.definition=wf(r),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){let r=this.fetchContextForScope(e);this.connectedContexts.add(r),r.connect()}disconnectContextForScope(e){let r=this.contextsByScope.get(e);r&&(this.connectedContexts.delete(r),r.disconnect())}fetchContextForScope(e){let r=this.contextsByScope.get(e);return r||(r=new ys(this,e),this.contextsByScope.set(e,r)),r}},xs=class{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){let r=this.data.get(this.getDataKey(e))||"";return ef(r)}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}},Es=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){let r=this.getAttributeNameForKey(e);return this.element.getAttribute(r)}set(e,r){let i=this.getAttributeNameForKey(e);return this.element.setAttribute(i,r),this.get(e)}has(e){let r=this.getAttributeNameForKey(e);return this.element.hasAttribute(r)}delete(e){if(this.has(e)){let r=this.getAttributeNameForKey(e);return this.element.removeAttribute(r),!0}else return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${nl(e)}`}},ks=class{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,r,i){let n=this.warnedKeysByObject.get(e);n||(n=new Set,this.warnedKeysByObject.set(e,n)),n.has(r)||(n.add(r),this.logger.warn(i,e))}};function Ts(t,e){return`[${t}~="${e}"]`}var As=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((r,i)=>r||this.findTarget(i)||this.findLegacyTarget(i),void 0)}findAll(...e){return e.reduce((r,i)=>[...r,...this.findAllTargets(i),...this.findAllLegacyTargets(i)],[])}findTarget(e){let r=this.getSelectorForTargetName(e);return this.scope.findElement(r)}findAllTargets(e){let r=this.getSelectorForTargetName(e);return this.scope.findAllElements(r)}getSelectorForTargetName(e){let r=this.schema.targetAttributeForScope(this.identifier);return Ts(r,e)}findLegacyTarget(e){let r=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(r),e)}findAllLegacyTargets(e){let r=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(r).map(i=>this.deprecate(i,e))}getLegacySelectorForTargetName(e){let r=`${this.identifier}.${e}`;return Ts(this.schema.targetAttribute,r)}deprecate(e,r){if(e){let{identifier:i}=this,n=this.schema.targetAttribute,s=this.schema.targetAttributeForScope(i);this.guide.warn(e,`target:${r}`,`Please replace ${n}="${i}.${r}" with ${s}="${r}". The ${n} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}},_s=class{constructor(e,r){this.scope=e,this.controllerElement=r}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((r,i)=>r||this.findOutlet(i),void 0)}findAll(...e){return e.reduce((r,i)=>[...r,...this.findAllOutlets(i)],[])}getSelectorForOutletName(e){let r=this.schema.outletAttributeForScope(this.identifier,e);return this.controllerElement.getAttribute(r)}findOutlet(e){let r=this.getSelectorForOutletName(e);if(r)return this.findElement(r,e)}findAllOutlets(e){let r=this.getSelectorForOutletName(e);return r?this.findAllElements(r,e):[]}findElement(e,r){return this.scope.queryElements(e).filter(n=>this.matchesElement(n,e,r))[0]}findAllElements(e,r){return this.scope.queryElements(e).filter(n=>this.matchesElement(n,e,r))}matchesElement(e,r,i){let n=e.getAttribute(this.scope.schema.controllerAttribute)||"";return e.matches(r)&&n.split(" ").includes(i)}},Os=class t{constructor(e,r,i,n){this.targets=new As(this),this.classes=new xs(this),this.data=new Es(this),this.containsElement=s=>s.closest(this.controllerSelector)===this.element,this.schema=e,this.element=r,this.identifier=i,this.guide=new ks(n),this.outlets=new _s(this.documentScope,r)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return Ts(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new t(this.schema,document.documentElement,this.identifier,this.guide.logger)}},Ss=class{constructor(e,r,i){this.element=e,this.schema=r,this.delegate=i,this.valueListObserver=new ji(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){let{element:r,content:i}=e;return this.parseValueForElementAndIdentifier(r,i)}parseValueForElementAndIdentifier(e,r){let i=this.fetchScopesByIdentifierForElement(e),n=i.get(r);return n||(n=this.delegate.createScopeForElementAndIdentifier(e,r),i.set(r,n)),n}elementMatchedValue(e,r){let i=(this.scopeReferenceCounts.get(r)||0)+1;this.scopeReferenceCounts.set(r,i),i==1&&this.delegate.scopeConnected(r)}elementUnmatchedValue(e,r){let i=this.scopeReferenceCounts.get(r);i&&(this.scopeReferenceCounts.set(r,i-1),i==1&&this.delegate.scopeDisconnected(r))}fetchScopesByIdentifierForElement(e){let r=this.scopesByIdentifierByElement.get(e);return r||(r=new Map,this.scopesByIdentifierByElement.set(e,r)),r}},Cs=class{constructor(e){this.application=e,this.scopeObserver=new Ss(this.element,this.schema,this),this.scopesByIdentifier=new wt,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((e,r)=>e.concat(r.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);let r=new ws(this.application,e);this.connectModule(r);let i=e.controllerConstructor.afterLoad;i&&i.call(e.controllerConstructor,e.identifier,this.application)}unloadIdentifier(e){let r=this.modulesByIdentifier.get(e);r&&this.disconnectModule(r)}getContextForElementAndIdentifier(e,r){let i=this.modulesByIdentifier.get(r);if(i)return i.contexts.find(n=>n.element==e)}proposeToConnectScopeForElementAndIdentifier(e,r){let i=this.scopeObserver.parseValueForElementAndIdentifier(e,r);i?this.scopeObserver.elementMatchedValue(i.element,i):console.error(`Couldn't find or create scope for identifier: "${r}" and element:`,e)}handleError(e,r,i){this.application.handleError(e,r,i)}createScopeForElementAndIdentifier(e,r){return new Os(this.schema,e,r,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);let r=this.modulesByIdentifier.get(e.identifier);r&&r.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);let r=this.modulesByIdentifier.get(e.identifier);r&&r.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(i=>e.connectContextForScope(i))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(i=>e.disconnectContextForScope(i))}},xf={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:t=>`data-${t}-target`,outletAttributeForScope:(t,e)=>`data-${t}-${e}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},Ja("abcdefghijklmnopqrstuvwxyz".split("").map(t=>[t,t]))),Ja("0123456789".split("").map(t=>[t,t])))};function Ja(t){return t.reduce((e,[r,i])=>Object.assign(Object.assign({},e),{[r]:i}),{})}var zi=class{constructor(e=document.documentElement,r=xf){this.logger=console,this.debug=!1,this.logDebugActivity=(i,n,s={})=>{this.debug&&this.logFormattedMessage(i,n,s)},this.element=e,this.schema=r,this.dispatcher=new ls(this),this.router=new Cs(this),this.actionDescriptorFilters=Object.assign({},Yh)}static start(e,r){let i=new this(e,r);return i.start(),i}async start(){await Ef(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,r){this.load({identifier:e,controllerConstructor:r})}registerActionOption(e,r){this.actionDescriptorFilters[e]=r}load(e,...r){(Array.isArray(e)?e:[e,...r]).forEach(n=>{n.controllerConstructor.shouldLoad&&this.router.loadDefinition(n)})}unload(e,...r){(Array.isArray(e)?e:[e,...r]).forEach(n=>this.router.unloadIdentifier(n))}get controllers(){return this.router.contexts.map(e=>e.controller)}getControllerForElementAndIdentifier(e,r){let i=this.router.getContextForElementAndIdentifier(e,r);return i?i.controller:null}handleError(e,r,i){var n;this.logger.error(`%s

%o

%o`,r,e,i),(n=window.onerror)===null||n===void 0||n.call(window,r,"",0,0,e)}logFormattedMessage(e,r,i={}){i=Object.assign({application:this},i),this.logger.groupCollapsed(`${e} #${r}`),this.logger.log("details:",Object.assign({},i)),this.logger.groupEnd()}};function Ef(){return new Promise(t=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>t()):t()})}function kf(t){return Kr(t,"classes").reduce((r,i)=>Object.assign(r,Tf(i)),{})}function Tf(t){return{[`${t}Class`]:{get(){let{classes:e}=this;if(e.has(t))return e.get(t);{let r=e.getAttributeName(t);throw new Error(`Missing attribute "${r}"`)}}},[`${t}Classes`]:{get(){return this.classes.getAll(t)}},[`has${Ur(t)}Class`]:{get(){return this.classes.has(t)}}}}function Af(t){return Kr(t,"outlets").reduce((r,i)=>Object.assign(r,_f(i)),{})}function Qa(t,e,r){return t.application.getControllerForElementAndIdentifier(e,r)}function el(t,e,r){let i=Qa(t,e,r);if(i||(t.application.router.proposeToConnectScopeForElementAndIdentifier(e,r),i=Qa(t,e,r),i))return i}function _f(t){let e=cs(t);return{[`${e}Outlet`]:{get(){let r=this.outlets.find(t),i=this.outlets.getSelectorForOutletName(t);if(r){let n=el(this,r,t);if(n)return n;throw new Error(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${i}".`)}},[`${e}Outlets`]:{get(){let r=this.outlets.findAll(t);return r.length>0?r.map(i=>{let n=el(this,i,t);if(n)return n;console.warn(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`,i)}).filter(i=>i):[]}},[`${e}OutletElement`]:{get(){let r=this.outlets.find(t),i=this.outlets.getSelectorForOutletName(t);if(r)return r;throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${i}".`)}},[`${e}OutletElements`]:{get(){return this.outlets.findAll(t)}},[`has${Ur(e)}Outlet`]:{get(){return this.outlets.has(t)}}}}function Of(t){return Kr(t,"targets").reduce((r,i)=>Object.assign(r,Sf(i)),{})}function Sf(t){return{[`${t}Target`]:{get(){let e=this.targets.find(t);if(e)return e;throw new Error(`Missing target element "${t}" for "${this.identifier}" controller`)}},[`${t}Targets`]:{get(){return this.targets.findAll(t)}},[`has${Ur(t)}Target`]:{get(){return this.targets.has(t)}}}}function Cf(t){let e=uf(t,"values"),r={valueDescriptorMap:{get(){return e.reduce((i,n)=>{let s=al(n,this.identifier),o=this.data.getAttributeNameForKey(s.key);return Object.assign(i,{[o]:s})},{})}}};return e.reduce((i,n)=>Object.assign(i,Mf(n)),r)}function Mf(t,e){let r=al(t,e),{key:i,name:n,reader:s,writer:o}=r;return{[n]:{get(){let a=this.data.get(i);return a!==null?s(a):r.defaultValue},set(a){a===void 0?this.data.delete(i):this.data.set(i,o(a))}},[`has${Ur(n)}`]:{get(){return this.data.has(i)||r.hasCustomDefaultValue}}}}function al([t,e],r){return If({controller:r,token:t,typeDefinition:e})}function Hi(t){switch(t){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function qr(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(t))return"array";if(Object.prototype.toString.call(t)==="[object Object]")return"object"}function Rf(t){let{controller:e,token:r,typeObject:i}=t,n=Xa(i.type),s=Xa(i.default),o=n&&s,a=n&&!s,c=!n&&s,f=Hi(i.type),p=qr(t.typeObject.default);if(a)return f;if(c)return p;if(f!==p){let b=e?`${e}.${r}`:r;throw new Error(`The specified default value for the Stimulus Value "${b}" must match the defined type "${f}". The provided default value of "${i.default}" is of type "${p}".`)}if(o)return f}function Lf(t){let{controller:e,token:r,typeDefinition:i}=t,s=Rf({controller:e,token:r,typeObject:i}),o=qr(i),a=Hi(i),c=s||o||a;if(c)return c;let f=e?`${e}.${i}`:r;throw new Error(`Unknown value type "${f}" for "${r}" value`)}function Df(t){let e=Hi(t);if(e)return tl[e];let r=us(t,"default"),i=us(t,"type"),n=t;if(r)return n.default;if(i){let{type:s}=n,o=Hi(s);if(o)return tl[o]}return t}function If(t){let{token:e,typeDefinition:r}=t,i=`${nl(e)}-value`,n=Lf(t);return{type:n,key:i,name:Ms(i),get defaultValue(){return Df(r)},get hasCustomDefaultValue(){return qr(r)!==void 0},reader:Nf[n],writer:rl[n]||rl.default}}var tl={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},Nf={array(t){let e=JSON.parse(t);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${t}" of type "${qr(e)}"`);return e},boolean(t){return!(t=="0"||String(t).toLowerCase()=="false")},number(t){return Number(t.replace(/_/g,""))},object(t){let e=JSON.parse(t);if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${t}" of type "${qr(e)}"`);return e},string(t){return t}},rl={default:Pf,array:il,object:il};function il(t){return JSON.stringify(t)}function Pf(t){return`${t}`}var oe=class{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,r){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:r=this.element,detail:i={},prefix:n=this.identifier,bubbles:s=!0,cancelable:o=!0}={}){let a=n?`${n}:${e}`:e,c=new CustomEvent(a,{detail:i,bubbles:s,cancelable:o});return r.dispatchEvent(c),c}};oe.blessings=[kf,Of,Cf,Af];oe.targets=[];oe.outlets=[];oe.values={};var Wi=class extends oe{static targets=["links","content","menu"];static values={headerSelector:String,offset:Number,clipboardSuccess:String};connect(){if(!(this.hasContentTarget&&this.hasLinksTarget&&this.hasMenuTarget)){this.menuTarget&&this.menuTarget.remove();return}this.#e();let e=window.location.hash.replace("#","");document.getElementById(e)?.scrollIntoView({behavior:"instant",block:"start"})}disconnect(){window.removeEventListener("scroll",this.#r.bind(this))}#e(){let t=this.#t(this.headings);t.children.length>0?(this.#i(t,this.linksTarget),window.addEventListener("scroll",this.#r.bind(this)),this.#r(),this.element.classList.add("has-toc")):(this.element.classList.remove("has-toc"),this.menuTarget.style.display="none")}#t(t){let e={level:0,children:[]},r=e;return t.forEach((i,n)=>{if(i.textContent.trim()==="")return;let s=parseInt(i.tagName.substr(1),10),o=this.#n(i,s,n);i.style.position="relative";let a=this.headerHeight+Number(this.offsetValue);i.insertAdjacentHTML("beforeend",`<div js-position style="position: absolute; top: -${a}px; left: 0; width: 0; height: 0" id="${o}"></div>`),i.insertAdjacentHTML("beforeend",'<a name="'+o+'"></a>');let c={level:s,id:o,text:i.textContent,children:[]};if(s>r.level)r.children.push(c);else{for(;s<=r.level&&r!==e;)r=r.parent;r.children.push(c)}c.parent=r,r=c}),e}#i(t,e,r=0){if(t.children.length==0)return;let i=document.createElement("ul");return t.children.forEach(n=>{let s=document.createElement("li"),o=document.createElement("button");o.type="button",o.textContent=n.text,o.dataset.action="toc#navigateToAnchor",o.dataset.tocAnchorParam=n.id,s.appendChild(o),i.appendChild(s);let a=document.getElementById(n.id);if(!a)return;let c=a.parentElement;if(!c)return;c.style.position="relative",c.classList.add("group");let f=document.createElement("span");f.className="inline-flex items-center align-middle ml-1",f.setAttribute("data-controller","clipboard"),f.setAttribute("data-clipboard-success-value",this.clipboardSuccessValue),f.style.verticalAlign="middle";let p=`
        <input type="hidden" value="${window.location.href.split("#")[0]}#${n.id}" data-clipboard-target="source" />
        <button type="button" data-action="clipboard#copy" data-clipboard-target="button" class="inline-flex ml-1 opacity-0 group-hover:opacity-100">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-300 group-hover:text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
          </svg>
        </button>
      `;f.innerHTML=p,c.appendChild(f);let b=Array.from(c.childNodes).filter(w=>w.nodeType===Node.TEXT_NODE||w.nodeType===Node.ELEMENT_NODE&&!w.hasAttribute("data-controller")&&!w.hasAttribute("js-position")).pop();if(b&&b.nextSibling&&c.insertBefore(f,b.nextSibling),n.children.length>0){let w=this.#i(n,s,r+1);s.appendChild(w)}}),e.appendChild(i),i}#n(t,e,r){return t.id||`heading-menu-h${e}-${r}`}#r(t){this.hightLightTimer&&clearTimeout(this.hightLightTimer),this.hightLightTimer=setTimeout(()=>{let e=Array.from(this.linksTarget.querySelectorAll("[data-toc-anchor-param]")),r=null;for(let i=0;i<this.headings.length;i++){let n=this.headings[i],s=e.find(o=>o.dataset.tocAnchorParam===n.querySelector("[js-position]").id);if(s&&this.isHeadingInView(n)){r=s;break}}e.forEach(i=>i.classList.remove("text-primary","font-bold")),r&&(r.classList.add("text-primary","font-bold"),r.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}))},50)}isHeadingInView(t){let e=t.getBoundingClientRect();return e.top>=this.headerHeight&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}navigateToAnchor(t){let{anchor:e}=t.params,r=document.getElementById(e);if(r){let i=this.headerHeight,o={top:r.getBoundingClientRect().top-i,behavior:"smooth"};window.scrollBy(0,-i),window.scrollBy(o)}}fncAnimation=t=>(window.setTimeout(t,1e3/60),t);get headings(){return Array.from(this.contentTarget.querySelectorAll("h1, h2, h3, h4, h5, h6"))}get headerHeight(){if(!this.hasHeaderSelectorValue||!this.headerSelectorValue)return 0;let t=document.querySelector(this.headerSelectorValue);return t?t.offsetHeight:0}};var cl=Ic(ll());var qi=class extends oe{connect(){let t=this.element.getElementsByTagName("img");Array.from(t).forEach(r=>{r.addEventListener("click",this.openViewer)})}openViewer=t=>{let e=t.currentTarget,r=new cl.default(this.element,{toolbar:{zoomIn:1,zoomOut:1,oneToOne:1,reset:1,prev:1,play:{show:1,size:"large"},next:1,rotateLeft:1,rotateRight:1,flipHorizontal:1,flipVertical:1}});console.log("openViewer",e),r.view(e)}};var Ui=class extends oe{static targets=["item"];static classes=["active"];connect(){if(this.#e(),this.itemTargets.forEach(t=>{t.addEventListener("click",e=>{this.itemTargets.forEach(r=>{r.classList.remove(this.activeClass)}),t.classList.add(this.activeClass)})}),this.activeDom){let e=this.activeDom.getBoundingClientRect().top-this.element.parentElement.offsetHeight/3;this.element.parentElement.scrollTo({top:e,behavior:"instant"})}}disconnect(){this.setTimeout&&clearTimeout(this.setTimeout)}#e(){this.itemTargets.forEach(t=>{let e;if(t.tagName==="SUMMARY"?e=t.querySelector("a"):e=t,e&&e.getAttribute("href")===window.location.pathname){t.classList.add(this.activeClass),this.activeDom=t;let r=t.closest("details");for(;r;)r.setAttribute("open",""),r=r.parentElement.closest("details")}else t.classList.remove(this.activeClass)})}};var $f=Object.prototype.toString,Ar=Array.isArray||function(e){return $f.call(e)==="[object Array]"};function Is(t){return typeof t=="function"}function Bf(t){return Ar(t)?"array":typeof t}function Ds(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function ul(t,e){return t!=null&&typeof t=="object"&&e in t}function Ff(t,e){return t!=null&&typeof t!="object"&&t.hasOwnProperty&&t.hasOwnProperty(e)}var Vf=RegExp.prototype.test;function jf(t,e){return Vf.call(t,e)}var zf=/\S/;function Hf(t){return!jf(zf,t)}var Wf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function qf(t){return String(t).replace(/[&<>"'`=\/]/g,function(r){return Wf[r]})}var Uf=/\s*/,Kf=/\s+/,hl=/\s*=/,Yf=/\s*\}/,Xf=/#|\^|\/|>|\{|&|=|!/;function Zf(t,e){if(!t)return[];var r=!1,i=[],n=[],s=[],o=!1,a=!1,c="",f=0;function p(){if(o&&!a)for(;s.length;)delete n[s.pop()];else s=[];o=!1,a=!1}var b,w,T;function M(W){if(typeof W=="string"&&(W=W.split(Kf,2)),!Ar(W)||W.length!==2)throw new Error("Invalid tags: "+W);b=new RegExp(Ds(W[0])+"\\s*"),w=new RegExp("\\s*"+Ds(W[1])),T=new RegExp("\\s*"+Ds("}"+W[1]))}M(e||qe.tags);for(var E=new Xr(t),k,C,R,P,m,$;!E.eos();){if(k=E.pos,R=E.scanUntil(b),R)for(var O=0,j=R.length;O<j;++O)P=R.charAt(O),Hf(P)?(s.push(n.length),c+=P):(a=!0,r=!0,c+=" "),n.push(["text",P,k,k+1]),k+=1,P===`
`&&(p(),c="",f=0,r=!1);if(!E.scan(b))break;if(o=!0,C=E.scan(Xf)||"name",E.scan(Uf),C==="="?(R=E.scanUntil(hl),E.scan(hl),E.scanUntil(w)):C==="{"?(R=E.scanUntil(T),E.scan(Yf),E.scanUntil(w),C="&"):R=E.scanUntil(w),!E.scan(w))throw new Error("Unclosed tag at "+E.pos);if(C==">"?m=[C,R,k,E.pos,c,f,r]:m=[C,R,k,E.pos],f++,n.push(m),C==="#"||C==="^")i.push(m);else if(C==="/"){if($=i.pop(),!$)throw new Error('Unopened section "'+R+'" at '+k);if($[1]!==R)throw new Error('Unclosed section "'+$[1]+'" at '+k)}else C==="name"||C==="{"||C==="&"?a=!0:C==="="&&M(R)}if(p(),$=i.pop(),$)throw new Error('Unclosed section "'+$[1]+'" at '+E.pos);return Jf(Gf(n))}function Gf(t){for(var e=[],r,i,n=0,s=t.length;n<s;++n)r=t[n],r&&(r[0]==="text"&&i&&i[0]==="text"?(i[1]+=r[1],i[3]=r[3]):(e.push(r),i=r));return e}function Jf(t){for(var e=[],r=e,i=[],n,s,o=0,a=t.length;o<a;++o)switch(n=t[o],n[0]){case"#":case"^":r.push(n),i.push(n),r=n[4]=[];break;case"/":s=i.pop(),s[5]=n[2],r=i.length>0?i[i.length-1][4]:e;break;default:r.push(n)}return e}function Xr(t){this.string=t,this.tail=t,this.pos=0}Xr.prototype.eos=function(){return this.tail===""};Xr.prototype.scan=function(e){var r=this.tail.match(e);if(!r||r.index!==0)return"";var i=r[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i};Xr.prototype.scanUntil=function(e){var r=this.tail.search(e),i;switch(r){case-1:i=this.tail,this.tail="";break;case 0:i="";break;default:i=this.tail.substring(0,r),this.tail=this.tail.substring(r)}return this.pos+=i.length,i};function Tr(t,e){this.view=t,this.cache={".":this.view},this.parent=e}Tr.prototype.push=function(e){return new Tr(e,this)};Tr.prototype.lookup=function(e){var r=this.cache,i;if(r.hasOwnProperty(e))i=r[e];else{for(var n=this,s,o,a,c=!1;n;){if(e.indexOf(".")>0)for(s=n.view,o=e.split("."),a=0;s!=null&&a<o.length;)a===o.length-1&&(c=ul(s,o[a])||Ff(s,o[a])),s=s[o[a++]];else s=n.view[e],c=ul(n.view,e);if(c){i=s;break}n=n.parent}r[e]=i}return Is(i)&&(i=i.call(this.view)),i};function Ne(){this.templateCache={_cache:{},set:function(e,r){this._cache[e]=r},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}Ne.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};Ne.prototype.parse=function(e,r){var i=this.templateCache,n=e+":"+(r||qe.tags).join(":"),s=typeof i<"u",o=s?i.get(n):void 0;return o==null&&(o=Zf(e,r),s&&i.set(n,o)),o};Ne.prototype.render=function(e,r,i,n){var s=this.getConfigTags(n),o=this.parse(e,s),a=r instanceof Tr?r:new Tr(r,void 0);return this.renderTokens(o,a,i,e,n)};Ne.prototype.renderTokens=function(e,r,i,n,s){for(var o="",a,c,f,p=0,b=e.length;p<b;++p)f=void 0,a=e[p],c=a[0],c==="#"?f=this.renderSection(a,r,i,n,s):c==="^"?f=this.renderInverted(a,r,i,n,s):c===">"?f=this.renderPartial(a,r,i,s):c==="&"?f=this.unescapedValue(a,r):c==="name"?f=this.escapedValue(a,r,s):c==="text"&&(f=this.rawValue(a)),f!==void 0&&(o+=f);return o};Ne.prototype.renderSection=function(e,r,i,n,s){var o=this,a="",c=r.lookup(e[1]);function f(w){return o.render(w,r,i,s)}if(c){if(Ar(c))for(var p=0,b=c.length;p<b;++p)a+=this.renderTokens(e[4],r.push(c[p]),i,n,s);else if(typeof c=="object"||typeof c=="string"||typeof c=="number")a+=this.renderTokens(e[4],r.push(c),i,n,s);else if(Is(c)){if(typeof n!="string")throw new Error("Cannot use higher-order sections without the original template");c=c.call(r.view,n.slice(e[3],e[5]),f),c!=null&&(a+=c)}else a+=this.renderTokens(e[4],r,i,n,s);return a}};Ne.prototype.renderInverted=function(e,r,i,n,s){var o=r.lookup(e[1]);if(!o||Ar(o)&&o.length===0)return this.renderTokens(e[4],r,i,n,s)};Ne.prototype.indentPartial=function(e,r,i){for(var n=r.replace(/[^ \t]/g,""),s=e.split(`
`),o=0;o<s.length;o++)s[o].length&&(o>0||!i)&&(s[o]=n+s[o]);return s.join(`
`)};Ne.prototype.renderPartial=function(e,r,i,n){if(i){var s=this.getConfigTags(n),o=Is(i)?i(e[1]):i[e[1]];if(o!=null){var a=e[6],c=e[5],f=e[4],p=o;c==0&&f&&(p=this.indentPartial(o,f,a));var b=this.parse(p,s);return this.renderTokens(b,r,i,p,n)}}};Ne.prototype.unescapedValue=function(e,r){var i=r.lookup(e[1]);if(i!=null)return i};Ne.prototype.escapedValue=function(e,r,i){var n=this.getConfigEscape(i)||qe.escape,s=r.lookup(e[1]);if(s!=null)return typeof s=="number"&&n===qe.escape?String(s):n(s)};Ne.prototype.rawValue=function(e){return e[1]};Ne.prototype.getConfigTags=function(e){return Ar(e)?e:e&&typeof e=="object"?e.tags:void 0};Ne.prototype.getConfigEscape=function(e){if(e&&typeof e=="object"&&!Ar(e))return e.escape};var qe={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){Yr.templateCache=t},get templateCache(){return Yr.templateCache}},Yr=new Ne;qe.clearCache=function(){return Yr.clearCache()};qe.parse=function(e,r){return Yr.parse(e,r)};qe.render=function(e,r,i,n){if(typeof e!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+Bf(e)+'" was given as the first argument for mustache#render(template, view, partials)');return Yr.render(e,r,i,n)};qe.escape=qf;qe.Scanner=Xr;qe.Context=Tr;qe.Writer=Ne;var fl=qe;var Ki=class extends oe{static values={navTree:Array,depth:Number,parentPath:String,url:String,currentPath:String,idPrefix:String,containerStyle:String,rootContainer:String,itemStyle:String,itemActiveClass:String,linkTurboFrame:String,linkTurboFrameAction:String,linkTurbo:Boolean,expand:{type:Boolean,default:!1}};static targets=["itemTemplate"];connect(){if(this.currentPath=this.hasCurrentPathValue?this.currentPath:window.location.pathname,this.menuContainer=this.rootContainer(),this.element.dataset.rendered==="true"){this.refreshActiveState();return}this.element.dataset.rendered="true",this.itemTemplate=this.hasItemTemplateTarget?this.itemTemplateTarget.innerHTML.trim():null,this.renderTree(this.navTreeValue||[],this.depthValue||0,this.element)}disconnect(){}refreshActiveState=()=>{let t=this.currentPath,e=this.menuContainer.querySelector(`a[href='${t}']`);e&&(this.menuContainer.querySelectorAll("li[active]").forEach(r=>{r.querySelector("[turbo-nav-tree-children-container]")?.classList.remove("opacity-0")}),this.getParents(e,"li",this.menuContainer).forEach(r=>{this.treeContainerToggle(r,!0)}),this.click({currentTarget:e}))};renderTree(t,e,r){if(r.rendered)return;let i=document.createElement("ul");i.className=this.hasContainerStyleValue?this.containerStyleValue:"w-full space-y-1",requestAnimationFrame(()=>{t.forEach(n=>{let s=document.createElement("li");s.className=this.hasItemStyleValue?this.itemStyleValue:"";let o=this.expandValue?!0:this.isPathActive(n),a=o||this.hasActiveChild(n),c=n.children?.length>0,f=n.children?.length==0&&n.children_count>0,p=this.renderItem(n,e,a,o);s.innerHTML=p;let b=s.children[0];b.setAttribute("turbo-nav-tree-item","");let w=document.createElement("div");w.setAttribute("turbo-nav-tree-children-container",""),w.classList.add("transition-all","duration-300"),w.hidden=!a,o&&(s.setAttribute("active",""),this.isPathActive(n,!1)&&(b.setAttribute("active",""),requestAnimationFrame(()=>{s.scrollIntoView({behavior:"smooth",block:"center"})}))),c&&this.renderTree(n.children,e+1,w),f&&this.appendTurboFrame(w,n,e+1),s.appendChild(w),i.appendChild(s)}),r.appendChild(i)}),r.rendered=!0}appendTurboFrame(t,e,r){let i=document.createElement("turbo-frame");i.classList.add("w-full");let n=this.hasIdPrefixValue?this.idPrefixValue:"nav_tree_frame_";i.id=`${n}${e.path.replaceAll("/","_")}`;let s=this.urlValue.split("?")[0],o=new URLSearchParams;o.set("parent_path",e.path),o.set("depth",r),i.src=`${s}?${o.toString()}`,i.loading="lazy",i.innerHTML=`
      <div class="flex items-center justify-center h-12 text-base-content/60">
        <span class="loading loading-spinner loading-sm"></span>
      </div>
    `,t.appendChild(i)}toggle(t){let{onlyOpen:e=!1}=t.params,i=t.currentTarget.closest("li");if(e&&i.hasAttribute("active"))return;let n=i.querySelector("[turbo-nav-tree-children-container]");this.treeContainerToggle(i,n.hidden)}treeContainerToggle(t,e){let r=t.querySelector("[turbo-nav-tree-children-container]");if(!(r&&r.children.length>0))return;e?(r.hidden=!1,r.classList.add("opacity-0"),requestAnimationFrame(()=>{r.classList.remove("opacity-0"),r.classList.add("opacity-100")})):(r.hidden=!0,r.classList.add("opacity-100"),requestAnimationFrame(()=>{r.classList.remove("opacity-100"),r.classList.add("opacity-0")}));let i=t.querySelector("[turbo-nav-tree-item-target-icon]");i.classList.add("transition-transform","duration-300","peer-hover:text-primary"),i.classList.toggle("rotate-90",e)}click(t){let e=t.currentTarget,r=e.closest("li");this.menuContainer?.querySelectorAll("[active]").forEach(i=>{i.removeAttribute("active")}),this.getParents(e,"li").forEach(i=>{i.setAttribute("active","")}),r.querySelector("[turbo-nav-tree-item]")?.setAttribute("active",""),this.treeContainerToggle(r,!0)}renderItem(t,e,r=!1,i=!1){let n=t.children_count>0,s=[];this.hasLinkTurboFrameValue&&this.linkTurboFrameValue&&s.push(`data-turbo-frame="${this.linkTurboFrameValue}"`),this.hasLinkTurboFrameActionValue&&this.linkTurboFrameActionValue&&s.push(`data-turbo-action="${this.linkTurboFrameActionValue}"`),this.hasLinkTurboValue&&this.linkTurboValue===!1&&(s=['data-turbo="false"']);let o="";return this.itemTemplate?o=this.itemTemplate:(o=`
        <div class="flex items-center">
          <a href="{{path}}"
            ${s.join(" ")}
            class="block hover:underline"
            style="padding-left: {{padding}}rem">
            {{link_text}}
          </a>
        </div>
      `,n&&(o=`
          <div class="flex items-center" data-action="click->turbo-nav-tree#toggle">
            <a href="{{path}}"
              ${s.join(" ")}
              class="block hover:underline"
              style="padding-left: {{padding}}rem">
              {{{link_text}}}
            </a>
            <!-- \u6709\u5B50\u8282\u70B9\u65F6\u663E\u793A toggle \u6309\u94AE -->
            <div turbo-nav-tree-item-target-icon class="inline-block ml-auto mr-1 ${r?"rotate-90":""}">
              <svg class="w-4 h-4 opacity-70 transition-transform duration-200"
                  fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path d="M9 6l6 6-6 6"/>
              </svg>
            </div>
          </div>
        `)),fl.render(o,{...t,depth:e,padding:e*1.25,hasChildren:n,open:r,isActive:i})}isPathActive(t,e=!0){if(e){let r=this.currentPath.split("/").filter(Boolean),i=t.path.split("/").filter(Boolean);return i.length>r.length?!1:i.every((n,s)=>r[s]===n)}else return t.path==this.currentPath}hasActiveChild(t){return!t.children||t.children.length===0?!1:t.children.some(e=>this.isPathActive(e)||this.hasActiveChild(e))}getParents(t,e,r=null){if(!t)return;let i=[],n=t.parentElement;for(;n&&n!==r;)n.matches(e)&&i.push(n),n=n.parentElement;return i}rootContainer(){return this.hasRootContainerValue?this.element.closest(this.rootContainerValue):this.getParents(this.element.querySelector("li"),"ul").at(-1)}};var Yi=class extends oe{static targets=["autoIcon","lightIcon","darkIcon","currentIcon"];connect(){this.systemThemeMediaQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.systemThemeMediaQuery.addEventListener("change",this.handleSystemThemeChange.bind(this)),this.#e(this.theme),document.addEventListener("turbo:load",()=>{this.#e(this.theme)})}disconnect(){this.systemThemeMediaQuery.removeEventListener("change",this.handleSystemThemeChange.bind(this))}handleSystemThemeChange(){this.theme=="auto"&&this.#e(this.systemDark?"dark":"light")}toggle(t){let{mode:e}=t.params;this.theme=e,this.#e(e)}get theme(){let t=localStorage.getItem("theme");return t=="light"||t=="dark"?t:"auto"}set theme(t){t=="light"||t=="dark"?localStorage.setItem("theme",t):localStorage.removeItem("theme")}get systemDark(){return this.systemThemeMediaQuery.matches}#e(t){switch(t){case"dark":this.element.dataset.theme="dark",this.element.classList.add("dark");break;case"light":this.element.dataset.theme="light",this.element.classList.remove("dark");break;default:let e=this.systemDark;this.element.dataset.theme=e?"dark":"light",this.element.classList.toggle("dark",e);break}this.#t(t)}#t(t){let e=null;switch(t){case"light":e=this.lightIconTarget;break;case"dark":e=this.darkIconTarget;break;case"auto":default:e=this.autoIconTarget;break}e=e.cloneNode(!0),e.setAttribute("data-theme-target",this.currentIconTarget.dataset.themeTarget),e.setAttribute("class",this.currentIconTarget.classList),this.currentIconTarget.outerHTML=e.outerHTML}};var fe="top",ke="bottom",ye="right",me="left",Xi="auto",$t=[fe,ke,ye,me],xt="start",ir="end",dl="clippingParents",Zi="viewport",_r="popper",pl="reference",Ns=$t.reduce(function(t,e){return t.concat([e+"-"+xt,e+"-"+ir])},[]),Gi=[].concat($t,[Xi]).reduce(function(t,e){return t.concat([e,e+"-"+xt,e+"-"+ir])},[]),Qf="beforeRead",ed="read",td="afterRead",rd="beforeMain",id="main",nd="afterMain",sd="beforeWrite",od="write",ad="afterWrite",gl=[Qf,ed,td,rd,id,nd,sd,od,ad];function Oe(t){return t?(t.nodeName||"").toLowerCase():null}function ae(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ue(t){var e=ae(t).Element;return t instanceof e||t instanceof Element}function Te(t){var e=ae(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Or(t){if(typeof ShadowRoot>"u")return!1;var e=ae(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function ld(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var i=e.styles[r]||{},n=e.attributes[r]||{},s=e.elements[r];!Te(s)||!Oe(s)||(Object.assign(s.style,i),Object.keys(n).forEach(function(o){var a=n[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function cd(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(i){var n=e.elements[i],s=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:r[i]),a=o.reduce(function(c,f){return c[f]="",c},{});!Te(n)||!Oe(n)||(Object.assign(n.style,a),Object.keys(s).forEach(function(c){n.removeAttribute(c)}))})}}var Zr={name:"applyStyles",enabled:!0,phase:"write",fn:ld,effect:cd,requires:["computeStyles"]};function Se(t){return t.split("-")[0]}var it=Math.max,nr=Math.min,Et=Math.round;function Sr(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Gr(){return!/^((?!chrome|android).)*safari/i.test(Sr())}function Ke(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var i=t.getBoundingClientRect(),n=1,s=1;e&&Te(t)&&(n=t.offsetWidth>0&&Et(i.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Et(i.height)/t.offsetHeight||1);var o=Ue(t)?ae(t):window,a=o.visualViewport,c=!Gr()&&r,f=(i.left+(c&&a?a.offsetLeft:0))/n,p=(i.top+(c&&a?a.offsetTop:0))/s,b=i.width/n,w=i.height/s;return{width:b,height:w,top:p,right:f+b,bottom:p+w,left:f,x:f,y:p}}function sr(t){var e=Ke(t),r=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:i}}function Jr(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&Or(r)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Pe(t){return ae(t).getComputedStyle(t)}function Ps(t){return["table","td","th"].indexOf(Oe(t))>=0}function Re(t){return((Ue(t)?t.ownerDocument:t.document)||window.document).documentElement}function kt(t){return Oe(t)==="html"?t:t.assignedSlot||t.parentNode||(Or(t)?t.host:null)||Re(t)}function ml(t){return!Te(t)||Pe(t).position==="fixed"?null:t.offsetParent}function ud(t){var e=/firefox/i.test(Sr()),r=/Trident/i.test(Sr());if(r&&Te(t)){var i=Pe(t);if(i.position==="fixed")return null}var n=kt(t);for(Or(n)&&(n=n.host);Te(n)&&["html","body"].indexOf(Oe(n))<0;){var s=Pe(n);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return n;n=n.parentNode}return null}function nt(t){for(var e=ae(t),r=ml(t);r&&Ps(r)&&Pe(r).position==="static";)r=ml(r);return r&&(Oe(r)==="html"||Oe(r)==="body"&&Pe(r).position==="static")?e:r||ud(t)||e}function or(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ar(t,e,r){return it(t,nr(e,r))}function vl(t,e,r){var i=ar(t,e,r);return i>r?r:i}function Qr(){return{top:0,right:0,bottom:0,left:0}}function ei(t){return Object.assign({},Qr(),t)}function ti(t,e){return e.reduce(function(r,i){return r[i]=t,r},{})}var hd=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,ei(typeof e!="number"?e:ti(e,$t))};function fd(t){var e,r=t.state,i=t.name,n=t.options,s=r.elements.arrow,o=r.modifiersData.popperOffsets,a=Se(r.placement),c=or(a),f=[me,ye].indexOf(a)>=0,p=f?"height":"width";if(!(!s||!o)){var b=hd(n.padding,r),w=sr(s),T=c==="y"?fe:me,M=c==="y"?ke:ye,E=r.rects.reference[p]+r.rects.reference[c]-o[c]-r.rects.popper[p],k=o[c]-r.rects.reference[c],C=nt(s),R=C?c==="y"?C.clientHeight||0:C.clientWidth||0:0,P=E/2-k/2,m=b[T],$=R-w[p]-b[M],O=R/2-w[p]/2+P,j=ar(m,O,$),W=c;r.modifiersData[i]=(e={},e[W]=j,e.centerOffset=j-O,e)}}function dd(t){var e=t.state,r=t.options,i=r.element,n=i===void 0?"[data-popper-arrow]":i;n!=null&&(typeof n=="string"&&(n=e.elements.popper.querySelector(n),!n)||Jr(e.elements.popper,n)&&(e.elements.arrow=n))}var bl={name:"arrow",enabled:!0,phase:"main",fn:fd,effect:dd,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ye(t){return t.split("-")[1]}var pd={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gd(t,e){var r=t.x,i=t.y,n=e.devicePixelRatio||1;return{x:Et(r*n)/n||0,y:Et(i*n)/n||0}}function yl(t){var e,r=t.popper,i=t.popperRect,n=t.placement,s=t.variation,o=t.offsets,a=t.position,c=t.gpuAcceleration,f=t.adaptive,p=t.roundOffsets,b=t.isFixed,w=o.x,T=w===void 0?0:w,M=o.y,E=M===void 0?0:M,k=typeof p=="function"?p({x:T,y:E}):{x:T,y:E};T=k.x,E=k.y;var C=o.hasOwnProperty("x"),R=o.hasOwnProperty("y"),P=me,m=fe,$=window;if(f){var O=nt(r),j="clientHeight",W="clientWidth";if(O===ae(r)&&(O=Re(r),Pe(O).position!=="static"&&a==="absolute"&&(j="scrollHeight",W="scrollWidth")),O=O,n===fe||(n===me||n===ye)&&s===ir){m=ke;var G=b&&O===$&&$.visualViewport?$.visualViewport.height:O[j];E-=G-i.height,E*=c?1:-1}if(n===me||(n===fe||n===ke)&&s===ir){P=ye;var ee=b&&O===$&&$.visualViewport?$.visualViewport.width:O[W];T-=ee-i.width,T*=c?1:-1}}var de=Object.assign({position:a},f&&pd),re=p===!0?gd({x:T,y:E},ae(r)):{x:T,y:E};if(T=re.x,E=re.y,c){var z;return Object.assign({},de,(z={},z[m]=R?"0":"",z[P]=C?"0":"",z.transform=($.devicePixelRatio||1)<=1?"translate("+T+"px, "+E+"px)":"translate3d("+T+"px, "+E+"px, 0)",z))}return Object.assign({},de,(e={},e[m]=R?E+"px":"",e[P]=C?T+"px":"",e.transform="",e))}function md(t){var e=t.state,r=t.options,i=r.gpuAcceleration,n=i===void 0?!0:i,s=r.adaptive,o=s===void 0?!0:s,a=r.roundOffsets,c=a===void 0?!0:a,f={placement:Se(e.placement),variation:Ye(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,yl(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,yl(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var wl={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:md,data:{}};var Ji={passive:!0};function vd(t){var e=t.state,r=t.instance,i=t.options,n=i.scroll,s=n===void 0?!0:n,o=i.resize,a=o===void 0?!0:o,c=ae(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&f.forEach(function(p){p.addEventListener("scroll",r.update,Ji)}),a&&c.addEventListener("resize",r.update,Ji),function(){s&&f.forEach(function(p){p.removeEventListener("scroll",r.update,Ji)}),a&&c.removeEventListener("resize",r.update,Ji)}}var xl={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:vd,data:{}};var bd={left:"right",right:"left",bottom:"top",top:"bottom"};function Cr(t){return t.replace(/left|right|bottom|top/g,function(e){return bd[e]})}var yd={start:"end",end:"start"};function Qi(t){return t.replace(/start|end/g,function(e){return yd[e]})}function lr(t){var e=ae(t),r=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:r,scrollTop:i}}function cr(t){return Ke(Re(t)).left+lr(t).scrollLeft}function $s(t,e){var r=ae(t),i=Re(t),n=r.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,c=0;if(n){s=n.width,o=n.height;var f=Gr();(f||!f&&e==="fixed")&&(a=n.offsetLeft,c=n.offsetTop)}return{width:s,height:o,x:a+cr(t),y:c}}function Bs(t){var e,r=Re(t),i=lr(t),n=(e=t.ownerDocument)==null?void 0:e.body,s=it(r.scrollWidth,r.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),o=it(r.scrollHeight,r.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-i.scrollLeft+cr(t),c=-i.scrollTop;return Pe(n||r).direction==="rtl"&&(a+=it(r.clientWidth,n?n.clientWidth:0)-s),{width:s,height:o,x:a,y:c}}function ur(t){var e=Pe(t),r=e.overflow,i=e.overflowX,n=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+n+i)}function en(t){return["html","body","#document"].indexOf(Oe(t))>=0?t.ownerDocument.body:Te(t)&&ur(t)?t:en(kt(t))}function Bt(t,e){var r;e===void 0&&(e=[]);var i=en(t),n=i===((r=t.ownerDocument)==null?void 0:r.body),s=ae(i),o=n?[s].concat(s.visualViewport||[],ur(i)?i:[]):i,a=e.concat(o);return n?a:a.concat(Bt(kt(o)))}function Mr(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function wd(t,e){var r=Ke(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function El(t,e,r){return e===Zi?Mr($s(t,r)):Ue(e)?wd(e,r):Mr(Bs(Re(t)))}function xd(t){var e=Bt(kt(t)),r=["absolute","fixed"].indexOf(Pe(t).position)>=0,i=r&&Te(t)?nt(t):t;return Ue(i)?e.filter(function(n){return Ue(n)&&Jr(n,i)&&Oe(n)!=="body"}):[]}function Fs(t,e,r,i){var n=e==="clippingParents"?xd(t):[].concat(e),s=[].concat(n,[r]),o=s[0],a=s.reduce(function(c,f){var p=El(t,f,i);return c.top=it(p.top,c.top),c.right=nr(p.right,c.right),c.bottom=nr(p.bottom,c.bottom),c.left=it(p.left,c.left),c},El(t,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function ri(t){var e=t.reference,r=t.element,i=t.placement,n=i?Se(i):null,s=i?Ye(i):null,o=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,c;switch(n){case fe:c={x:o,y:e.y-r.height};break;case ke:c={x:o,y:e.y+e.height};break;case ye:c={x:e.x+e.width,y:a};break;case me:c={x:e.x-r.width,y:a};break;default:c={x:e.x,y:e.y}}var f=n?or(n):null;if(f!=null){var p=f==="y"?"height":"width";switch(s){case xt:c[f]=c[f]-(e[p]/2-r[p]/2);break;case ir:c[f]=c[f]+(e[p]/2-r[p]/2);break;default:}}return c}function st(t,e){e===void 0&&(e={});var r=e,i=r.placement,n=i===void 0?t.placement:i,s=r.strategy,o=s===void 0?t.strategy:s,a=r.boundary,c=a===void 0?dl:a,f=r.rootBoundary,p=f===void 0?Zi:f,b=r.elementContext,w=b===void 0?_r:b,T=r.altBoundary,M=T===void 0?!1:T,E=r.padding,k=E===void 0?0:E,C=ei(typeof k!="number"?k:ti(k,$t)),R=w===_r?pl:_r,P=t.rects.popper,m=t.elements[M?R:w],$=Fs(Ue(m)?m:m.contextElement||Re(t.elements.popper),c,p,o),O=Ke(t.elements.reference),j=ri({reference:O,element:P,strategy:"absolute",placement:n}),W=Mr(Object.assign({},P,j)),G=w===_r?W:O,ee={top:$.top-G.top+C.top,bottom:G.bottom-$.bottom+C.bottom,left:$.left-G.left+C.left,right:G.right-$.right+C.right},de=t.modifiersData.offset;if(w===_r&&de){var re=de[n];Object.keys(ee).forEach(function(z){var we=[ye,ke].indexOf(z)>=0?1:-1,ve=[fe,ke].indexOf(z)>=0?"y":"x";ee[z]+=re[ve]*we})}return ee}function Vs(t,e){e===void 0&&(e={});var r=e,i=r.placement,n=r.boundary,s=r.rootBoundary,o=r.padding,a=r.flipVariations,c=r.allowedAutoPlacements,f=c===void 0?Gi:c,p=Ye(i),b=p?a?Ns:Ns.filter(function(M){return Ye(M)===p}):$t,w=b.filter(function(M){return f.indexOf(M)>=0});w.length===0&&(w=b);var T=w.reduce(function(M,E){return M[E]=st(t,{placement:E,boundary:n,rootBoundary:s,padding:o})[Se(E)],M},{});return Object.keys(T).sort(function(M,E){return T[M]-T[E]})}function Ed(t){if(Se(t)===Xi)return[];var e=Cr(t);return[Qi(t),e,Qi(e)]}function kd(t){var e=t.state,r=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var n=r.mainAxis,s=n===void 0?!0:n,o=r.altAxis,a=o===void 0?!0:o,c=r.fallbackPlacements,f=r.padding,p=r.boundary,b=r.rootBoundary,w=r.altBoundary,T=r.flipVariations,M=T===void 0?!0:T,E=r.allowedAutoPlacements,k=e.options.placement,C=Se(k),R=C===k,P=c||(R||!M?[Cr(k)]:Ed(k)),m=[k].concat(P).reduce(function(ze,ne){return ze.concat(Se(ne)===Xi?Vs(e,{placement:ne,boundary:p,rootBoundary:b,padding:f,flipVariations:M,allowedAutoPlacements:E}):ne)},[]),$=e.rects.reference,O=e.rects.popper,j=new Map,W=!0,G=m[0],ee=0;ee<m.length;ee++){var de=m[ee],re=Se(de),z=Ye(de)===xt,we=[fe,ke].indexOf(re)>=0,ve=we?"width":"height",Ae=st(e,{placement:de,boundary:p,rootBoundary:b,altBoundary:w,padding:f}),xe=we?z?ye:me:z?ke:fe;$[ve]>O[ve]&&(xe=Cr(xe));var ie=Cr(xe),U=[];if(s&&U.push(Ae[re]<=0),a&&U.push(Ae[xe]<=0,Ae[ie]<=0),U.every(function(ze){return ze})){G=de,W=!1;break}j.set(de,U)}if(W)for(var Ce=M?3:1,Xe=function(ne){var Me=m.find(function(At){var Ze=j.get(At);if(Ze)return Ze.slice(0,ne).every(function(_t){return _t})});if(Me)return G=Me,"break"},Ve=Ce;Ve>0;Ve--){var ct=Xe(Ve);if(ct==="break")break}e.placement!==G&&(e.modifiersData[i]._skip=!0,e.placement=G,e.reset=!0)}}var kl={name:"flip",enabled:!0,phase:"main",fn:kd,requiresIfExists:["offset"],data:{_skip:!1}};function Tl(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function Al(t){return[fe,ye,ke,me].some(function(e){return t[e]>=0})}function Td(t){var e=t.state,r=t.name,i=e.rects.reference,n=e.rects.popper,s=e.modifiersData.preventOverflow,o=st(e,{elementContext:"reference"}),a=st(e,{altBoundary:!0}),c=Tl(o,i),f=Tl(a,n,s),p=Al(c),b=Al(f);e.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:f,isReferenceHidden:p,hasPopperEscaped:b},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":b})}var _l={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Td};function Ad(t,e,r){var i=Se(t),n=[me,fe].indexOf(i)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=s[0],a=s[1];return o=o||0,a=(a||0)*n,[me,ye].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function _d(t){var e=t.state,r=t.options,i=t.name,n=r.offset,s=n===void 0?[0,0]:n,o=Gi.reduce(function(p,b){return p[b]=Ad(b,e.rects,s),p},{}),a=o[e.placement],c=a.x,f=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=f),e.modifiersData[i]=o}var Ol={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:_d};function Od(t){var e=t.state,r=t.name;e.modifiersData[r]=ri({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Sl={name:"popperOffsets",enabled:!0,phase:"read",fn:Od,data:{}};function js(t){return t==="x"?"y":"x"}function Sd(t){var e=t.state,r=t.options,i=t.name,n=r.mainAxis,s=n===void 0?!0:n,o=r.altAxis,a=o===void 0?!1:o,c=r.boundary,f=r.rootBoundary,p=r.altBoundary,b=r.padding,w=r.tether,T=w===void 0?!0:w,M=r.tetherOffset,E=M===void 0?0:M,k=st(e,{boundary:c,rootBoundary:f,padding:b,altBoundary:p}),C=Se(e.placement),R=Ye(e.placement),P=!R,m=or(C),$=js(m),O=e.modifiersData.popperOffsets,j=e.rects.reference,W=e.rects.popper,G=typeof E=="function"?E(Object.assign({},e.rects,{placement:e.placement})):E,ee=typeof G=="number"?{mainAxis:G,altAxis:G}:Object.assign({mainAxis:0,altAxis:0},G),de=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,re={x:0,y:0};if(O){if(s){var z,we=m==="y"?fe:me,ve=m==="y"?ke:ye,Ae=m==="y"?"height":"width",xe=O[m],ie=xe+k[we],U=xe-k[ve],Ce=T?-W[Ae]/2:0,Xe=R===xt?j[Ae]:W[Ae],Ve=R===xt?-W[Ae]:-j[Ae],ct=e.elements.arrow,ze=T&&ct?sr(ct):{width:0,height:0},ne=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Qr(),Me=ne[we],At=ne[ve],Ze=ar(0,j[Ae],ze[Ae]),_t=P?j[Ae]/2-Ce-Ze-Me-ee.mainAxis:Xe-Ze-Me-ee.mainAxis,Ge=P?-j[Ae]/2+Ce+Ze+At+ee.mainAxis:Ve+Ze+At+ee.mainAxis,gt=e.elements.arrow&&nt(e.elements.arrow),Ft=gt?m==="y"?gt.clientTop||0:gt.clientLeft||0:0,Ot=(z=de?.[m])!=null?z:0,Le=xe+_t-Ot-Ft,Vt=xe+Ge-Ot,St=ar(T?nr(ie,Le):ie,xe,T?it(U,Vt):U);O[m]=St,re[m]=St-xe}if(a){var Ct,jt=m==="x"?fe:me,zt=m==="x"?ke:ye,He=O[$],Je=$==="y"?"height":"width",Qe=He+k[jt],ut=He-k[zt],Mt=[fe,me].indexOf(C)!==-1,Ht=(Ct=de?.[$])!=null?Ct:0,Wt=Mt?Qe:He-j[Je]-W[Je]-Ht+ee.altAxis,qt=Mt?He+j[Je]+W[Je]-Ht-ee.altAxis:ut,Ut=T&&Mt?vl(Wt,He,qt):ar(T?Wt:Qe,He,T?qt:ut);O[$]=Ut,re[$]=Ut-He}e.modifiersData[i]=re}}var Cl={name:"preventOverflow",enabled:!0,phase:"main",fn:Sd,requiresIfExists:["offset"]};function zs(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Hs(t){return t===ae(t)||!Te(t)?lr(t):zs(t)}function Cd(t){var e=t.getBoundingClientRect(),r=Et(e.width)/t.offsetWidth||1,i=Et(e.height)/t.offsetHeight||1;return r!==1||i!==1}function Ws(t,e,r){r===void 0&&(r=!1);var i=Te(e),n=Te(e)&&Cd(e),s=Re(e),o=Ke(t,n,r),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(i||!i&&!r)&&((Oe(e)!=="body"||ur(s))&&(a=Hs(e)),Te(e)?(c=Ke(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=cr(s))),{x:o.left+a.scrollLeft-c.x,y:o.top+a.scrollTop-c.y,width:o.width,height:o.height}}function Md(t){var e=new Map,r=new Set,i=[];t.forEach(function(s){e.set(s.name,s)});function n(s){r.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!r.has(a)){var c=e.get(a);c&&n(c)}}),i.push(s)}return t.forEach(function(s){r.has(s.name)||n(s)}),i}function qs(t){var e=Md(t);return gl.reduce(function(r,i){return r.concat(e.filter(function(n){return n.phase===i}))},[])}function Us(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function Ks(t){var e=t.reduce(function(r,i){var n=r[i.name];return r[i.name]=n?Object.assign({},n,i,{options:Object.assign({},n.options,i.options),data:Object.assign({},n.data,i.data)}):i,r},{});return Object.keys(e).map(function(r){return e[r]})}var Ml={placement:"bottom",modifiers:[],strategy:"absolute"};function Rl(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Ll(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,i=r===void 0?[]:r,n=e.defaultOptions,s=n===void 0?Ml:n;return function(a,c,f){f===void 0&&(f=s);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ml,s),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},b=[],w=!1,T={state:p,setOptions:function(C){var R=typeof C=="function"?C(p.options):C;E(),p.options=Object.assign({},s,p.options,R),p.scrollParents={reference:Ue(a)?Bt(a):a.contextElement?Bt(a.contextElement):[],popper:Bt(c)};var P=qs(Ks([].concat(i,p.options.modifiers)));return p.orderedModifiers=P.filter(function(m){return m.enabled}),M(),T.update()},forceUpdate:function(){if(!w){var C=p.elements,R=C.reference,P=C.popper;if(Rl(R,P)){p.rects={reference:Ws(R,nt(P),p.options.strategy==="fixed"),popper:sr(P)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(ee){return p.modifiersData[ee.name]=Object.assign({},ee.data)});for(var m=0;m<p.orderedModifiers.length;m++){if(p.reset===!0){p.reset=!1,m=-1;continue}var $=p.orderedModifiers[m],O=$.fn,j=$.options,W=j===void 0?{}:j,G=$.name;typeof O=="function"&&(p=O({state:p,options:W,name:G,instance:T})||p)}}}},update:Us(function(){return new Promise(function(k){T.forceUpdate(),k(p)})}),destroy:function(){E(),w=!0}};if(!Rl(a,c))return T;T.setOptions(f).then(function(k){!w&&f.onFirstUpdate&&f.onFirstUpdate(k)});function M(){p.orderedModifiers.forEach(function(k){var C=k.name,R=k.options,P=R===void 0?{}:R,m=k.effect;if(typeof m=="function"){var $=m({state:p,name:C,instance:T,options:P}),O=function(){};b.push($||O)}})}function E(){b.forEach(function(k){return k()}),b=[]}return T}}var Rd=[xl,Sl,wl,Zr,Ol,kl,Cl,bl,_l],Ys=Ll({defaultModifiers:Rd});var Ld="tippy-box",zl="tippy-content",Dd="tippy-backdrop",Hl="tippy-arrow",Wl="tippy-svg-arrow",hr={passive:!0,capture:!0},ql=function(){return document.body};function Xs(t,e,r){if(Array.isArray(t)){var i=t[e];return i??(Array.isArray(r)?r[e]:r)}return t}function to(t,e){var r={}.toString.call(t);return r.indexOf("[object")===0&&r.indexOf(e+"]")>-1}function Ul(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Dl(t,e){if(e===0)return t;var r;return function(i){clearTimeout(r),r=setTimeout(function(){t(i)},e)}}function Id(t){return t.split(/\s+/).filter(Boolean)}function Rr(t){return[].concat(t)}function Il(t,e){t.indexOf(e)===-1&&t.push(e)}function Nd(t){return t.filter(function(e,r){return t.indexOf(e)===r})}function Pd(t){return t.split("-")[0]}function rn(t){return[].slice.call(t)}function Nl(t){return Object.keys(t).reduce(function(e,r){return t[r]!==void 0&&(e[r]=t[r]),e},{})}function ii(){return document.createElement("div")}function nn(t){return["Element","Fragment"].some(function(e){return to(t,e)})}function $d(t){return to(t,"NodeList")}function Bd(t){return to(t,"MouseEvent")}function Fd(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function Vd(t){return nn(t)?[t]:$d(t)?rn(t):Array.isArray(t)?t:rn(document.querySelectorAll(t))}function Zs(t,e){t.forEach(function(r){r&&(r.style.transitionDuration=e+"ms")})}function Pl(t,e){t.forEach(function(r){r&&r.setAttribute("data-state",e)})}function jd(t){var e,r=Rr(t),i=r[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function zd(t,e){var r=e.clientX,i=e.clientY;return t.every(function(n){var s=n.popperRect,o=n.popperState,a=n.props,c=a.interactiveBorder,f=Pd(o.placement),p=o.modifiersData.offset;if(!p)return!0;var b=f==="bottom"?p.top.y:0,w=f==="top"?p.bottom.y:0,T=f==="right"?p.left.x:0,M=f==="left"?p.right.x:0,E=s.top-i+b>c,k=i-s.bottom-w>c,C=s.left-r+T>c,R=r-s.right-M>c;return E||k||C||R})}function Gs(t,e,r){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(n){t[i](n,r)})}function $l(t,e){for(var r=e;r;){var i;if(t.contains(r))return!0;r=r.getRootNode==null||(i=r.getRootNode())==null?void 0:i.host}return!1}var dt={isTouch:!1},Bl=0;function Hd(){dt.isTouch||(dt.isTouch=!0,window.performance&&document.addEventListener("mousemove",Kl))}function Kl(){var t=performance.now();t-Bl<20&&(dt.isTouch=!1,document.removeEventListener("mousemove",Kl)),Bl=t}function Wd(){var t=document.activeElement;if(Fd(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function qd(){document.addEventListener("touchstart",Hd,hr),window.addEventListener("blur",Wd)}var Ud=typeof window<"u"&&typeof document<"u",Kd=Ud?!!window.msCrypto:!1;var Yd={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Xd={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},ot=Object.assign({appendTo:ql,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Yd,Xd),Zd=Object.keys(ot),Gd=function(e){var r=Object.keys(e);r.forEach(function(i){ot[i]=e[i]})};function Yl(t){var e=t.plugins||[],r=e.reduce(function(i,n){var s=n.name,o=n.defaultValue;if(s){var a;i[s]=t[s]!==void 0?t[s]:(a=ot[s])!=null?a:o}return i},{});return Object.assign({},t,r)}function Jd(t,e){var r=e?Object.keys(Yl(Object.assign({},ot,{plugins:e}))):Zd,i=r.reduce(function(n,s){var o=(t.getAttribute("data-tippy-"+s)||"").trim();if(!o)return n;if(s==="content")n[s]=o;else try{n[s]=JSON.parse(o)}catch{n[s]=o}return n},{});return i}function Fl(t,e){var r=Object.assign({},e,{content:Ul(e.content,[t])},e.ignoreAttributes?{}:Jd(t,e.plugins));return r.aria=Object.assign({},ot.aria,r.aria),r.aria={expanded:r.aria.expanded==="auto"?e.interactive:r.aria.expanded,content:r.aria.content==="auto"?e.interactive?null:"describedby":r.aria.content},r}var Qd=function(){return"innerHTML"};function Qs(t,e){t[Qd()]=e}function Vl(t){var e=ii();return t===!0?e.className=Hl:(e.className=Wl,nn(t)?e.appendChild(t):Qs(e,t)),e}function jl(t,e){nn(e.content)?(Qs(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Qs(t,e.content):t.textContent=e.content)}function eo(t){var e=t.firstElementChild,r=rn(e.children);return{box:e,content:r.find(function(i){return i.classList.contains(zl)}),arrow:r.find(function(i){return i.classList.contains(Hl)||i.classList.contains(Wl)}),backdrop:r.find(function(i){return i.classList.contains(Dd)})}}function Xl(t){var e=ii(),r=ii();r.className=Ld,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var i=ii();i.className=zl,i.setAttribute("data-state","hidden"),jl(i,t.props),e.appendChild(r),r.appendChild(i),n(t.props,t.props);function n(s,o){var a=eo(e),c=a.box,f=a.content,p=a.arrow;o.theme?c.setAttribute("data-theme",o.theme):c.removeAttribute("data-theme"),typeof o.animation=="string"?c.setAttribute("data-animation",o.animation):c.removeAttribute("data-animation"),o.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?c.setAttribute("role",o.role):c.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&jl(f,t.props),o.arrow?p?s.arrow!==o.arrow&&(c.removeChild(p),c.appendChild(Vl(o.arrow))):c.appendChild(Vl(o.arrow)):p&&c.removeChild(p)}return{popper:e,onUpdate:n}}Xl.$$tippy=!0;var ep=1,tn=[],Js=[];function tp(t,e){var r=Fl(t,Object.assign({},ot,Yl(Nl(e)))),i,n,s,o=!1,a=!1,c=!1,f=!1,p,b,w,T=[],M=Dl(Le,r.interactiveDebounce),E,k=ep++,C=null,R=Nd(r.plugins),P={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},m={id:k,reference:t,popper:ii(),popperInstance:C,props:r,state:P,plugins:R,clearDelayTimeouts:Wt,setProps:qt,setContent:Ut,show:ui,hide:hi,hideWithInteractivity:fi,enable:Mt,disable:Ht,unmount:di,destroy:pr};if(!r.render)return m;var $=r.render(m),O=$.popper,j=$.onUpdate;O.setAttribute("data-tippy-root",""),O.id="tippy-"+m.id,m.popper=O,t._tippy=m,O._tippy=m;var W=R.map(function(x){return x.fn(m)}),G=t.hasAttribute("aria-expanded");return gt(),Ce(),xe(),ie("onCreate",[m]),r.showOnCreate&&Qe(),O.addEventListener("mouseenter",function(){m.props.interactive&&m.state.isVisible&&m.clearDelayTimeouts()}),O.addEventListener("mouseleave",function(){m.props.interactive&&m.props.trigger.indexOf("mouseenter")>=0&&we().addEventListener("mousemove",M)}),m;function ee(){var x=m.props.touch;return Array.isArray(x)?x:[x,0]}function de(){return ee()[0]==="hold"}function re(){var x;return!!((x=m.props.render)!=null&&x.$$tippy)}function z(){return E||t}function we(){var x=z().parentNode;return x?jd(x):document}function ve(){return eo(O)}function Ae(x){return m.state.isMounted&&!m.state.isVisible||dt.isTouch||p&&p.type==="focus"?0:Xs(m.props.delay,x?0:1,ot.delay)}function xe(x){x===void 0&&(x=!1),O.style.pointerEvents=m.props.interactive&&!x?"":"none",O.style.zIndex=""+m.props.zIndex}function ie(x,I,B){if(B===void 0&&(B=!0),W.forEach(function(N){N[x]&&N[x].apply(N,I)}),B){var Y;(Y=m.props)[x].apply(Y,I)}}function U(){var x=m.props.aria;if(x.content){var I="aria-"+x.content,B=O.id,Y=Rr(m.props.triggerTarget||t);Y.forEach(function(N){var ue=N.getAttribute(I);if(m.state.isVisible)N.setAttribute(I,ue?ue+" "+B:B);else{var Ee=ue&&ue.replace(B,"").trim();Ee?N.setAttribute(I,Ee):N.removeAttribute(I)}})}}function Ce(){if(!(G||!m.props.aria.expanded)){var x=Rr(m.props.triggerTarget||t);x.forEach(function(I){m.props.interactive?I.setAttribute("aria-expanded",m.state.isVisible&&I===z()?"true":"false"):I.removeAttribute("aria-expanded")})}}function Xe(){we().removeEventListener("mousemove",M),tn=tn.filter(function(x){return x!==M})}function Ve(x){if(!(dt.isTouch&&(c||x.type==="mousedown"))){var I=x.composedPath&&x.composedPath()[0]||x.target;if(!(m.props.interactive&&$l(O,I))){if(Rr(m.props.triggerTarget||t).some(function(B){return $l(B,I)})){if(dt.isTouch||m.state.isVisible&&m.props.trigger.indexOf("click")>=0)return}else ie("onClickOutside",[m,x]);m.props.hideOnClick===!0&&(m.clearDelayTimeouts(),m.hide(),a=!0,setTimeout(function(){a=!1}),m.state.isMounted||Me())}}}function ct(){c=!0}function ze(){c=!1}function ne(){var x=we();x.addEventListener("mousedown",Ve,!0),x.addEventListener("touchend",Ve,hr),x.addEventListener("touchstart",ze,hr),x.addEventListener("touchmove",ct,hr)}function Me(){var x=we();x.removeEventListener("mousedown",Ve,!0),x.removeEventListener("touchend",Ve,hr),x.removeEventListener("touchstart",ze,hr),x.removeEventListener("touchmove",ct,hr)}function At(x,I){_t(x,function(){!m.state.isVisible&&O.parentNode&&O.parentNode.contains(O)&&I()})}function Ze(x,I){_t(x,I)}function _t(x,I){var B=ve().box;function Y(N){N.target===B&&(Gs(B,"remove",Y),I())}if(x===0)return I();Gs(B,"remove",b),Gs(B,"add",Y),b=Y}function Ge(x,I,B){B===void 0&&(B=!1);var Y=Rr(m.props.triggerTarget||t);Y.forEach(function(N){N.addEventListener(x,I,B),T.push({node:N,eventType:x,handler:I,options:B})})}function gt(){de()&&(Ge("touchstart",Ot,{passive:!0}),Ge("touchend",Vt,{passive:!0})),Id(m.props.trigger).forEach(function(x){if(x!=="manual")switch(Ge(x,Ot),x){case"mouseenter":Ge("mouseleave",Vt);break;case"focus":Ge(Kd?"focusout":"blur",St);break;case"focusin":Ge("focusout",St);break}})}function Ft(){T.forEach(function(x){var I=x.node,B=x.eventType,Y=x.handler,N=x.options;I.removeEventListener(B,Y,N)}),T=[]}function Ot(x){var I,B=!1;if(!(!m.state.isEnabled||Ct(x)||a)){var Y=((I=p)==null?void 0:I.type)==="focus";p=x,E=x.currentTarget,Ce(),!m.state.isVisible&&Bd(x)&&tn.forEach(function(N){return N(x)}),x.type==="click"&&(m.props.trigger.indexOf("mouseenter")<0||o)&&m.props.hideOnClick!==!1&&m.state.isVisible?B=!0:Qe(x),x.type==="click"&&(o=!B),B&&!Y&&ut(x)}}function Le(x){var I=x.target,B=z().contains(I)||O.contains(I);if(!(x.type==="mousemove"&&B)){var Y=Je().concat(O).map(function(N){var ue,Ee=N._tippy,Rt=(ue=Ee.popperInstance)==null?void 0:ue.state;return Rt?{popperRect:N.getBoundingClientRect(),popperState:Rt,props:r}:null}).filter(Boolean);zd(Y,x)&&(Xe(),ut(x))}}function Vt(x){var I=Ct(x)||m.props.trigger.indexOf("click")>=0&&o;if(!I){if(m.props.interactive){m.hideWithInteractivity(x);return}ut(x)}}function St(x){m.props.trigger.indexOf("focusin")<0&&x.target!==z()||m.props.interactive&&x.relatedTarget&&O.contains(x.relatedTarget)||ut(x)}function Ct(x){return dt.isTouch?de()!==x.type.indexOf("touch")>=0:!1}function jt(){zt();var x=m.props,I=x.popperOptions,B=x.placement,Y=x.offset,N=x.getReferenceClientRect,ue=x.moveTransition,Ee=re()?eo(O).arrow:null,Rt=N?{getBoundingClientRect:N,contextElement:N.contextElement||z()}:t,mt={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(_e){var Lt=_e.state;if(re()){var je=ve(),Lr=je.box;["placement","reference-hidden","escaped"].forEach(function(et){et==="placement"?Lr.setAttribute("data-placement",Lt.placement):Lt.attributes.popper["data-popper-"+et]?Lr.setAttribute("data-"+et,""):Lr.removeAttribute("data-"+et)}),Lt.attributes.popper={}}}},H=[{name:"offset",options:{offset:Y}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!ue}},mt];re()&&Ee&&H.push({name:"arrow",options:{element:Ee,padding:3}}),H.push.apply(H,I?.modifiers||[]),m.popperInstance=Ys(Rt,O,Object.assign({},I,{placement:B,onFirstUpdate:w,modifiers:H}))}function zt(){m.popperInstance&&(m.popperInstance.destroy(),m.popperInstance=null)}function He(){var x=m.props.appendTo,I,B=z();m.props.interactive&&x===ql||x==="parent"?I=B.parentNode:I=Ul(x,[B]),I.contains(O)||I.appendChild(O),m.state.isMounted=!0,jt()}function Je(){return rn(O.querySelectorAll("[data-tippy-root]"))}function Qe(x){m.clearDelayTimeouts(),x&&ie("onTrigger",[m,x]),ne();var I=Ae(!0),B=ee(),Y=B[0],N=B[1];dt.isTouch&&Y==="hold"&&N&&(I=N),I?i=setTimeout(function(){m.show()},I):m.show()}function ut(x){if(m.clearDelayTimeouts(),ie("onUntrigger",[m,x]),!m.state.isVisible){Me();return}if(!(m.props.trigger.indexOf("mouseenter")>=0&&m.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(x.type)>=0&&o)){var I=Ae(!1);I?n=setTimeout(function(){m.state.isVisible&&m.hide()},I):s=requestAnimationFrame(function(){m.hide()})}}function Mt(){m.state.isEnabled=!0}function Ht(){m.hide(),m.state.isEnabled=!1}function Wt(){clearTimeout(i),clearTimeout(n),cancelAnimationFrame(s)}function qt(x){if(!m.state.isDestroyed){ie("onBeforeUpdate",[m,x]),Ft();var I=m.props,B=Fl(t,Object.assign({},I,Nl(x),{ignoreAttributes:!0}));m.props=B,gt(),I.interactiveDebounce!==B.interactiveDebounce&&(Xe(),M=Dl(Le,B.interactiveDebounce)),I.triggerTarget&&!B.triggerTarget?Rr(I.triggerTarget).forEach(function(Y){Y.removeAttribute("aria-expanded")}):B.triggerTarget&&t.removeAttribute("aria-expanded"),Ce(),xe(),j&&j(I,B),m.popperInstance&&(jt(),Je().forEach(function(Y){requestAnimationFrame(Y._tippy.popperInstance.forceUpdate)})),ie("onAfterUpdate",[m,x])}}function Ut(x){m.setProps({content:x})}function ui(){var x=m.state.isVisible,I=m.state.isDestroyed,B=!m.state.isEnabled,Y=dt.isTouch&&!m.props.touch,N=Xs(m.props.duration,0,ot.duration);if(!(x||I||B||Y)&&!z().hasAttribute("disabled")&&(ie("onShow",[m],!1),m.props.onShow(m)!==!1)){if(m.state.isVisible=!0,re()&&(O.style.visibility="visible"),xe(),ne(),m.state.isMounted||(O.style.transition="none"),re()){var ue=ve(),Ee=ue.box,Rt=ue.content;Zs([Ee,Rt],0)}w=function(){var H;if(!(!m.state.isVisible||f)){if(f=!0,O.offsetHeight,O.style.transition=m.props.moveTransition,re()&&m.props.animation){var J=ve(),_e=J.box,Lt=J.content;Zs([_e,Lt],N),Pl([_e,Lt],"visible")}U(),Ce(),Il(Js,m),(H=m.popperInstance)==null||H.forceUpdate(),ie("onMount",[m]),m.props.animation&&re()&&Ze(N,function(){m.state.isShown=!0,ie("onShown",[m])})}},He()}}function hi(){var x=!m.state.isVisible,I=m.state.isDestroyed,B=!m.state.isEnabled,Y=Xs(m.props.duration,1,ot.duration);if(!(x||I||B)&&(ie("onHide",[m],!1),m.props.onHide(m)!==!1)){if(m.state.isVisible=!1,m.state.isShown=!1,f=!1,o=!1,re()&&(O.style.visibility="hidden"),Xe(),Me(),xe(!0),re()){var N=ve(),ue=N.box,Ee=N.content;m.props.animation&&(Zs([ue,Ee],Y),Pl([ue,Ee],"hidden"))}U(),Ce(),m.props.animation?re()&&At(Y,m.unmount):m.unmount()}}function fi(x){we().addEventListener("mousemove",M),Il(tn,M),M(x)}function di(){m.state.isVisible&&m.hide(),m.state.isMounted&&(zt(),Je().forEach(function(x){x._tippy.unmount()}),O.parentNode&&O.parentNode.removeChild(O),Js=Js.filter(function(x){return x!==m}),m.state.isMounted=!1,ie("onHidden",[m]))}function pr(){m.state.isDestroyed||(m.clearDelayTimeouts(),m.unmount(),Ft(),delete t._tippy,m.state.isDestroyed=!0,ie("onDestroy",[m]))}}function ni(t,e){e===void 0&&(e={});var r=ot.plugins.concat(e.plugins||[]);qd();var i=Object.assign({},e,{plugins:r}),n=Vd(t);if(0)var s,o;var a=n.reduce(function(c,f){var p=f&&tp(f,i);return p&&c.push(p),c},[]);return nn(t)?a[0]:a}ni.defaultProps=ot;ni.setDefaultProps=Gd;ni.currentInput=dt;var ay=Object.assign({},Zr,{effect:function(e){var r=e.state,i={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(r.elements.popper.style,i.popper),r.styles=i,r.elements.arrow&&Object.assign(r.elements.arrow.style,i.arrow)}});ni.setDefaultProps({render:Xl});var Zl=ni;var Gl=t=>{if(navigator.clipboard&&window.isSecureContext)return navigator.clipboard.writeText(t);{let e=document.createElement("textarea");return e.value=t,e.style.position="fixed",e.style.left="-999999px",e.style.top="-999999px",document.body.appendChild(e),e.focus(),e.select(),new Promise((r,i)=>{document.execCommand("copy")?r():i(),e.remove()})}};var sn=class extends oe{static targets=["source"];static values={success:{type:String,default:"\u590D\u5236\u6210\u529F\uFF01"},content:String};copy(t){t.preventDefault();let e,r;if(this.hasContentValue?(e=this.contentValue,r=this.element):this.hasSourceTarget?(e=this.sourceTarget.tagName==="INPUT"?this.sourceTarget.value:this.sourceTarget.textContent,r=this.sourceTarget):(e=this.element.textContent,r=this.element),e=(e||"").trim(),!e)return;let i=Zl(r.parentElement,{theme:"material",content:this.successValue,trigger:"manual",arrow:!0}),n=()=>{i.hide(),i.destroy()};Gl(e).then(()=>{i.setContent(this.successValue),i.show(),setTimeout(n,800)}).catch(()=>{i.setContent("\u590D\u5236\u5931\u8D25\uFF01"),i.show(),setTimeout(n,800)})}};var on=class extends oe{connect(){this.scroller=new ro}scrollToY(t){let e=t.target.dataset.scrollToY;e?this.scroller.scrollToY(parseInt(e)):console.warn("[scroll-to] data-scroll-to-y is missing")}},ro=class{constructor(e=2e3,r="easeOutSine",i=null){this.speed=e,this.easing=r,this.scrollElement=i,this.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||fncAnimation}scrollToY(e=0){let r=e,i=this.scrollElement?this.scrollElement.scrollTop:window.scrollY||document.documentElement.scrollTop,n=Math.max(.1,Math.min(Math.abs(i-r)/this.speed,.8)),s=0,o={easeOutSine(c){return Math.sin(c*(Math.PI/2))},easeInOutSine(c){return-.5*(Math.cos(Math.PI*c)-1)},easeInOutQuint(c){return(c/=.5)<1?.5*c**5:.5*((c-2)**5+2)}},a=()=>{s+=1/60;let c=s/n,f=o[this.easing](c);if(c<1){(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||this.fncAnimation)(a),this.scrollElement?this.scrollElement.scrollTop=i+(r-i)*f:window.scrollTo(0,i+(r-i)*f);return}this.scrollElement?this.scrollElement.scrollTop=r:window.scrollTo(0,r)};a()}fncAnimation=e=>(window.setTimeout(e,1e3/60),e)};var an=class extends oe{static values={external:{type:Boolean,default:!0}};connect(){this.element.querySelectorAll("a[href]").forEach(e=>{let r=e.getAttribute("href");if(!r||r.startsWith("#"))return;let i=/^https?:\/\//i.test(r),n=!1;if(i)try{n=new URL(r,window.location.origin).hostname!==window.location.hostname}catch{}this.externalValue&&n&&(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer")),this.externalValue||(e.removeAttribute("target"),e.removeAttribute("rel"))})}};function oo(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var dr=oo();function nc(t){dr=t}var li={exec:()=>null};function Z(t,e=""){let r=typeof t=="string"?t:t.source,i={replace:(n,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace($e.caret,"$1"),r=r.replace(n,o),i},getRegex:()=>new RegExp(r,e)};return i}var $e={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},rp=/^(?:[ \t]*(?:\n|$))+/,ip=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,np=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ci=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,sp=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,ao=/(?:[*+-]|\d{1,9}[.)])/,sc=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,oc=Z(sc).replace(/bull/g,ao).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),op=Z(sc).replace(/bull/g,ao).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),lo=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,ap=/^[^\n]+/,co=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,lp=Z(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",co).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),cp=Z(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,ao).getRegex(),fn="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",uo=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,up=Z("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",uo).replace("tag",fn).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ac=Z(lo).replace("hr",ci).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",fn).getRegex(),hp=Z(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ac).getRegex(),ho={blockquote:hp,code:ip,def:lp,fences:np,heading:sp,hr:ci,html:up,lheading:oc,list:cp,newline:rp,paragraph:ac,table:li,text:ap},Jl=Z("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ci).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",fn).getRegex(),fp={...ho,lheading:op,table:Jl,paragraph:Z(lo).replace("hr",ci).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Jl).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",fn).getRegex()},dp={...ho,html:Z(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",uo).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:li,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Z(lo).replace("hr",ci).replace("heading",` *#{1,6} *[^
]`).replace("lheading",oc).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},pp=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,gp=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,lc=/^( {2,}|\\)\n(?!\s*$)/,mp=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,dn=/[\p{P}\p{S}]/u,fo=/[\s\p{P}\p{S}]/u,cc=/[^\s\p{P}\p{S}]/u,vp=Z(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,fo).getRegex(),uc=/(?!~)[\p{P}\p{S}]/u,bp=/(?!~)[\s\p{P}\p{S}]/u,yp=/(?:[^\s\p{P}\p{S}]|~)/u,wp=/\[(?:[^\[\]`]|`[^`]*?`)*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,hc=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,xp=Z(hc,"u").replace(/punct/g,dn).getRegex(),Ep=Z(hc,"u").replace(/punct/g,uc).getRegex(),fc="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",kp=Z(fc,"gu").replace(/notPunctSpace/g,cc).replace(/punctSpace/g,fo).replace(/punct/g,dn).getRegex(),Tp=Z(fc,"gu").replace(/notPunctSpace/g,yp).replace(/punctSpace/g,bp).replace(/punct/g,uc).getRegex(),Ap=Z("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,cc).replace(/punctSpace/g,fo).replace(/punct/g,dn).getRegex(),_p=Z(/\\(punct)/,"gu").replace(/punct/g,dn).getRegex(),Op=Z(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Sp=Z(uo).replace("(?:-->|$)","-->").getRegex(),Cp=Z("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Sp).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),cn=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,Mp=Z(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",cn).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),dc=Z(/^!?\[(label)\]\[(ref)\]/).replace("label",cn).replace("ref",co).getRegex(),pc=Z(/^!?\[(ref)\](?:\[\])?/).replace("ref",co).getRegex(),Rp=Z("reflink|nolink(?!\\()","g").replace("reflink",dc).replace("nolink",pc).getRegex(),Ql=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,po={_backpedal:li,anyPunctuation:_p,autolink:Op,blockSkip:wp,br:lc,code:gp,del:li,emStrongLDelim:xp,emStrongRDelimAst:kp,emStrongRDelimUnd:Ap,escape:pp,link:Mp,nolink:pc,punctuation:vp,reflink:dc,reflinkSearch:Rp,tag:Cp,text:mp,url:li},Lp={...po,link:Z(/^!?\[(label)\]\((.*?)\)/).replace("label",cn).getRegex(),reflink:Z(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",cn).getRegex()},io={...po,emStrongRDelimAst:Tp,emStrongLDelim:Ep,url:Z(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Ql).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Z(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Ql).getRegex()},Dp={...io,br:Z(lc).replace("{2,}","*").getRegex(),text:Z(io.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ln={normal:ho,gfm:fp,pedantic:dp},si={normal:po,gfm:io,breaks:Dp,pedantic:Lp},Ip={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ec=t=>Ip[t];function pt(t,e){if(e){if($e.escapeTest.test(t))return t.replace($e.escapeReplace,ec)}else if($e.escapeTestNoEncode.test(t))return t.replace($e.escapeReplaceNoEncode,ec);return t}function tc(t){try{t=encodeURI(t).replace($e.percentDecode,"%")}catch{return null}return t}function rc(t,e){let r=t.replace($e.findPipe,(s,o,a)=>{let c=!1,f=o;for(;--f>=0&&a[f]==="\\";)c=!c;return c?"|":" |"}),i=r.split($e.splitPipe),n=0;if(i[0].trim()||i.shift(),i.length>0&&!i.at(-1)?.trim()&&i.pop(),e)if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace($e.slashPipe,"|");return i}function oi(t,e,r){let i=t.length;if(i===0)return"";let n=0;for(;n<i;){let s=t.charAt(i-n-1);if(s===e&&!r)n++;else if(s!==e&&r)n++;else break}return t.slice(0,i-n)}function Np(t,e){if(t.indexOf(e[1])===-1)return-1;let r=0;for(let i=0;i<t.length;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&(r--,r<0))return i;return r>0?-2:-1}function ic(t,e,r,i,n){let s=e.href,o=e.title||null,a=t[1].replace(n.other.outputLinkReplace,"$1");i.state.inLink=!0;let c={type:t[0].charAt(0)==="!"?"image":"link",raw:r,href:s,title:o,text:a,tokens:i.inlineTokens(a)};return i.state.inLink=!1,c}function Pp(t,e,r){let i=t.match(r.other.indentCodeCompensation);if(i===null)return e;let n=i[1];return e.split(`
`).map(s=>{let o=s.match(r.other.beginningSpace);if(o===null)return s;let[a]=o;return a.length>=n.length?s.slice(n.length):s}).join(`
`)}var un=class{options;rules;lexer;constructor(t){this.options=t||dr}space(t){let e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){let e=this.rules.block.code.exec(t);if(e){let r=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:oi(r,`
`)}}}fences(t){let e=this.rules.block.fences.exec(t);if(e){let r=e[0],i=Pp(r,e[3]||"",this.rules);return{type:"code",raw:r,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:i}}}heading(t){let e=this.rules.block.heading.exec(t);if(e){let r=e[2].trim();if(this.rules.other.endingHash.test(r)){let i=oi(r,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(r=i.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(t){let e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:oi(e[0],`
`)}}blockquote(t){let e=this.rules.block.blockquote.exec(t);if(e){let r=oi(e[0],`
`).split(`
`),i="",n="",s=[];for(;r.length>0;){let o=!1,a=[],c;for(c=0;c<r.length;c++)if(this.rules.other.blockquoteStart.test(r[c]))a.push(r[c]),o=!0;else if(!o)a.push(r[c]);else break;r=r.slice(c);let f=a.join(`
`),p=f.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${f}`:f,n=n?`${n}
${p}`:p;let b=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,s,!0),this.lexer.state.top=b,r.length===0)break;let w=s.at(-1);if(w?.type==="code")break;if(w?.type==="blockquote"){let T=w,M=T.raw+`
`+r.join(`
`),E=this.blockquote(M);s[s.length-1]=E,i=i.substring(0,i.length-T.raw.length)+E.raw,n=n.substring(0,n.length-T.text.length)+E.text;break}else if(w?.type==="list"){let T=w,M=T.raw+`
`+r.join(`
`),E=this.list(M);s[s.length-1]=E,i=i.substring(0,i.length-w.raw.length)+E.raw,n=n.substring(0,n.length-T.raw.length)+E.raw,r=M.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:s,text:n}}}list(t){let e=this.rules.block.list.exec(t);if(e){let r=e[1].trim(),i=r.length>1,n={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");let s=this.rules.other.listItemRegex(r),o=!1;for(;t;){let c=!1,f="",p="";if(!(e=s.exec(t))||this.rules.block.hr.test(t))break;f=e[0],t=t.substring(f.length);let b=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,C=>" ".repeat(3*C.length)),w=t.split(`
`,1)[0],T=!b.trim(),M=0;if(this.options.pedantic?(M=2,p=b.trimStart()):T?M=e[1].length+1:(M=e[2].search(this.rules.other.nonSpaceChar),M=M>4?1:M,p=b.slice(M),M+=e[1].length),T&&this.rules.other.blankLine.test(w)&&(f+=w+`
`,t=t.substring(w.length+1),c=!0),!c){let C=this.rules.other.nextBulletRegex(M),R=this.rules.other.hrRegex(M),P=this.rules.other.fencesBeginRegex(M),m=this.rules.other.headingBeginRegex(M),$=this.rules.other.htmlBeginRegex(M);for(;t;){let O=t.split(`
`,1)[0],j;if(w=O,this.options.pedantic?(w=w.replace(this.rules.other.listReplaceNesting,"  "),j=w):j=w.replace(this.rules.other.tabCharGlobal,"    "),P.test(w)||m.test(w)||$.test(w)||C.test(w)||R.test(w))break;if(j.search(this.rules.other.nonSpaceChar)>=M||!w.trim())p+=`
`+j.slice(M);else{if(T||b.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||P.test(b)||m.test(b)||R.test(b))break;p+=`
`+w}!T&&!w.trim()&&(T=!0),f+=O+`
`,t=t.substring(O.length+1),b=j.slice(M)}}n.loose||(o?n.loose=!0:this.rules.other.doubleBlankLine.test(f)&&(o=!0));let E=null,k;this.options.gfm&&(E=this.rules.other.listIsTask.exec(p),E&&(k=E[0]!=="[ ] ",p=p.replace(this.rules.other.listReplaceTask,""))),n.items.push({type:"list_item",raw:f,task:!!E,checked:k,loose:!1,text:p,tokens:[]}),n.raw+=f}let a=n.items.at(-1);if(a)a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd();else return;n.raw=n.raw.trimEnd();for(let c=0;c<n.items.length;c++)if(this.lexer.state.top=!1,n.items[c].tokens=this.lexer.blockTokens(n.items[c].text,[]),!n.loose){let f=n.items[c].tokens.filter(b=>b.type==="space"),p=f.length>0&&f.some(b=>this.rules.other.anyLine.test(b.raw));n.loose=p}if(n.loose)for(let c=0;c<n.items.length;c++)n.items[c].loose=!0;return n}}html(t){let e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){let e=this.rules.block.def.exec(t);if(e){let r=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",n=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:r,raw:e[0],href:i,title:n}}}table(t){let e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let r=rc(e[1]),i=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),n=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:e[0],header:[],align:[],rows:[]};if(r.length===i.length){for(let o of i)this.rules.other.tableAlignRight.test(o)?s.align.push("right"):this.rules.other.tableAlignCenter.test(o)?s.align.push("center"):this.rules.other.tableAlignLeft.test(o)?s.align.push("left"):s.align.push(null);for(let o=0;o<r.length;o++)s.header.push({text:r[o],tokens:this.lexer.inline(r[o]),header:!0,align:s.align[o]});for(let o of n)s.rows.push(rc(o,s.header.length).map((a,c)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:s.align[c]})));return s}}lheading(t){let e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){let e=this.rules.block.paragraph.exec(t);if(e){let r=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:r,tokens:this.lexer.inline(r)}}}text(t){let e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){let e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){let e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){let e=this.rules.inline.link.exec(t);if(e){let r=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let s=oi(r.slice(0,-1),"\\");if((r.length-s.length)%2===0)return}else{let s=Np(e[2],"()");if(s===-2)return;if(s>-1){let o=(e[0].indexOf("!")===0?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,o).trim(),e[3]=""}}let i=e[2],n="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(i);s&&(i=s[1],n=s[3])}else n=e[3]?e[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?i=i.slice(1):i=i.slice(1,-1)),ic(e,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:n&&n.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){let i=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),n=e[i.toLowerCase()];if(!n){let s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return ic(r,n,r[0],this.lexer,this.rules)}}emStrong(t,e,r=""){let i=this.rules.inline.emStrongLDelim.exec(t);if(!(!i||i[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!r||this.rules.inline.punctuation.exec(r))){let n=[...i[0]].length-1,s,o,a=n,c=0,f=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(f.lastIndex=0,e=e.slice(-1*t.length+n);(i=f.exec(e))!=null;){if(s=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!s)continue;if(o=[...s].length,i[3]||i[4]){a+=o;continue}else if((i[5]||i[6])&&n%3&&!((n+o)%3)){c+=o;continue}if(a-=o,a>0)continue;o=Math.min(o,o+a+c);let p=[...i[0]][0].length,b=t.slice(0,n+i.index+p+o);if(Math.min(n,o)%2){let T=b.slice(1,-1);return{type:"em",raw:b,text:T,tokens:this.lexer.inlineTokens(T)}}let w=b.slice(2,-2);return{type:"strong",raw:b,text:w,tokens:this.lexer.inlineTokens(w)}}}}codespan(t){let e=this.rules.inline.code.exec(t);if(e){let r=e[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(r),n=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return i&&n&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:e[0],text:r}}}br(t){let e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){let e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){let e=this.rules.inline.autolink.exec(t);if(e){let r,i;return e[2]==="@"?(r=e[1],i="mailto:"+r):(r=e[1],i=r),{type:"link",raw:e[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(t){let e;if(e=this.rules.inline.url.exec(t)){let r,i;if(e[2]==="@")r=e[0],i="mailto:"+r;else{let n;do n=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(n!==e[0]);r=e[0],e[1]==="www."?i="http://"+e[0]:i=e[0]}return{type:"link",raw:e[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t){let e=this.rules.inline.text.exec(t);if(e){let r=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:r}}}},at=class no{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||dr,this.options.tokenizer=this.options.tokenizer||new un,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:$e,block:ln.normal,inline:si.normal};this.options.pedantic?(r.block=ln.pedantic,r.inline=si.pedantic):this.options.gfm&&(r.block=ln.gfm,this.options.breaks?r.inline=si.breaks:r.inline=si.gfm),this.tokenizer.rules=r}static get rules(){return{block:ln,inline:si}}static lex(e,r){return new no(r).lex(e)}static lexInline(e,r){return new no(r).inlineTokens(e)}lex(e){e=e.replace($e.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let i=this.inlineQueue[r];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,r=[],i=!1){for(this.options.pedantic&&(e=e.replace($e.tabCharGlobal,"    ").replace($e.spaceLine,""));e;){let n;if(this.options.extensions?.block?.some(o=>(n=o.call({lexer:this},e,r))?(e=e.substring(n.raw.length),r.push(n),!0):!1))continue;if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length);let o=r.at(-1);n.raw.length===1&&o!==void 0?o.raw+=`
`:r.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length);let o=r.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+n.raw,o.text+=`
`+n.text,this.inlineQueue.at(-1).src=o.text):r.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length);let o=r.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+n.raw,o.text+=`
`+n.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title},r.push(n));continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),r.push(n);continue}let s=e;if(this.options.extensions?.startBlock){let o=1/0,a=e.slice(1),c;this.options.extensions.startBlock.forEach(f=>{c=f.call({lexer:this},a),typeof c=="number"&&c>=0&&(o=Math.min(o,c))}),o<1/0&&o>=0&&(s=e.substring(0,o+1))}if(this.state.top&&(n=this.tokenizer.paragraph(s))){let o=r.at(-1);i&&o?.type==="paragraph"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+n.raw,o.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):r.push(n),i=s.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length);let o=r.at(-1);o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+n.raw,o.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):r.push(n);continue}if(e){let o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){let i=e,n=null;if(this.tokens.links){let a=Object.keys(this.tokens.links);if(a.length>0)for(;(n=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)a.includes(n[0].slice(n[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(n=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,n.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(n=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);i=this.options.hooks?.emStrongMask?.call({lexer:this},i)??i;let s=!1,o="";for(;e;){s||(o=""),s=!1;let a;if(this.options.extensions?.inline?.some(f=>(a=f.call({lexer:this},e,r))?(e=e.substring(a.raw.length),r.push(a),!0):!1))continue;if(a=this.tokenizer.escape(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.tag(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.link(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(a.raw.length);let f=r.at(-1);a.type==="text"&&f?.type==="text"?(f.raw+=a.raw,f.text+=a.text):r.push(a);continue}if(a=this.tokenizer.emStrong(e,i,o)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.codespan(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.br(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.del(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.autolink(e)){e=e.substring(a.raw.length),r.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(e))){e=e.substring(a.raw.length),r.push(a);continue}let c=e;if(this.options.extensions?.startInline){let f=1/0,p=e.slice(1),b;this.options.extensions.startInline.forEach(w=>{b=w.call({lexer:this},p),typeof b=="number"&&b>=0&&(f=Math.min(f,b))}),f<1/0&&f>=0&&(c=e.substring(0,f+1))}if(a=this.tokenizer.inlineText(c)){e=e.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(o=a.raw.slice(-1)),s=!0;let f=r.at(-1);f?.type==="text"?(f.raw+=a.raw,f.text+=a.text):r.push(a);continue}if(e){let f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return r}},hn=class{options;parser;constructor(t){this.options=t||dr}space(t){return""}code({text:t,lang:e,escaped:r}){let i=(e||"").match($e.notSpaceStart)?.[0],n=t.replace($e.endingNewline,"")+`
`;return i?'<pre><code class="language-'+pt(i)+'">'+(r?n:pt(n,!0))+`</code></pre>
`:"<pre><code>"+(r?n:pt(n,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){let e=t.ordered,r=t.start,i="";for(let o=0;o<t.items.length;o++){let a=t.items[o];i+=this.listitem(a)}let n=e?"ol":"ul",s=e&&r!==1?' start="'+r+'"':"";return"<"+n+s+`>
`+i+"</"+n+`>
`}listitem(t){let e="";if(t.task){let r=this.checkbox({checked:!!t.checked});t.loose?t.tokens[0]?.type==="paragraph"?(t.tokens[0].text=r+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=r+" "+pt(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):e+=r+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",r="";for(let n=0;n<t.header.length;n++)r+=this.tablecell(t.header[n]);e+=this.tablerow({text:r});let i="";for(let n=0;n<t.rows.length;n++){let s=t.rows[n];r="";for(let o=0;o<s.length;o++)r+=this.tablecell(s[o]);i+=this.tablerow({text:r})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+i+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let e=this.parser.parseInline(t.tokens),r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${pt(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:r}){let i=this.parser.parseInline(r),n=tc(t);if(n===null)return i;t=n;let s='<a href="'+t+'"';return e&&(s+=' title="'+pt(e)+'"'),s+=">"+i+"</a>",s}image({href:t,title:e,text:r,tokens:i}){i&&(r=this.parser.parseInline(i,this.parser.textRenderer));let n=tc(t);if(n===null)return pt(r);t=n;let s=`<img src="${t}" alt="${r}"`;return e&&(s+=` title="${pt(e)}"`),s+=">",s}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:pt(t.text)}},go=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},lt=class so{options;renderer;textRenderer;constructor(e){this.options=e||dr,this.options.renderer=this.options.renderer||new hn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new go}static parse(e,r){return new so(r).parse(e)}static parseInline(e,r){return new so(r).parseInline(e)}parse(e,r=!0){let i="";for(let n=0;n<e.length;n++){let s=e[n];if(this.options.extensions?.renderers?.[s.type]){let a=s,c=this.options.extensions.renderers[a.type].call({parser:this},a);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(a.type)){i+=c||"";continue}}let o=s;switch(o.type){case"space":{i+=this.renderer.space(o);continue}case"hr":{i+=this.renderer.hr(o);continue}case"heading":{i+=this.renderer.heading(o);continue}case"code":{i+=this.renderer.code(o);continue}case"table":{i+=this.renderer.table(o);continue}case"blockquote":{i+=this.renderer.blockquote(o);continue}case"list":{i+=this.renderer.list(o);continue}case"html":{i+=this.renderer.html(o);continue}case"def":{i+=this.renderer.def(o);continue}case"paragraph":{i+=this.renderer.paragraph(o);continue}case"text":{let a=o,c=this.renderer.text(a);for(;n+1<e.length&&e[n+1].type==="text";)a=e[++n],c+=`
`+this.renderer.text(a);r?i+=this.renderer.paragraph({type:"paragraph",raw:c,text:c,tokens:[{type:"text",raw:c,text:c,escaped:!0}]}):i+=c;continue}default:{let a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return i}parseInline(e,r=this.renderer){let i="";for(let n=0;n<e.length;n++){let s=e[n];if(this.options.extensions?.renderers?.[s.type]){let a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){i+=a||"";continue}}let o=s;switch(o.type){case"escape":{i+=r.text(o);break}case"html":{i+=r.html(o);break}case"link":{i+=r.link(o);break}case"image":{i+=r.image(o);break}case"strong":{i+=r.strong(o);break}case"em":{i+=r.em(o);break}case"codespan":{i+=r.codespan(o);break}case"br":{i+=r.br(o);break}case"del":{i+=r.del(o);break}case"text":{i+=r.text(o);break}default:{let a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return i}},ai=class{options;block;constructor(t){this.options=t||dr}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?at.lex:at.lexInline}provideParser(){return this.block?lt.parse:lt.parseInline}},$p=class{defaults=oo();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=lt;Renderer=hn;TextRenderer=go;Lexer=at;Tokenizer=un;Hooks=ai;constructor(...t){this.use(...t)}walkTokens(t,e){let r=[];for(let i of t)switch(r=r.concat(e.call(this,i)),i.type){case"table":{let n=i;for(let s of n.header)r=r.concat(this.walkTokens(s.tokens,e));for(let s of n.rows)for(let o of s)r=r.concat(this.walkTokens(o.tokens,e));break}case"list":{let n=i;r=r.concat(this.walkTokens(n.items,e));break}default:{let n=i;this.defaults.extensions?.childTokens?.[n.type]?this.defaults.extensions.childTokens[n.type].forEach(s=>{let o=n[s].flat(1/0);r=r.concat(this.walkTokens(o,e))}):n.tokens&&(r=r.concat(this.walkTokens(n.tokens,e)))}}return r}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(r=>{let i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(n=>{if(!n.name)throw new Error("extension name required");if("renderer"in n){let s=e.renderers[n.name];s?e.renderers[n.name]=function(...o){let a=n.renderer.apply(this,o);return a===!1&&(a=s.apply(this,o)),a}:e.renderers[n.name]=n.renderer}if("tokenizer"in n){if(!n.level||n.level!=="block"&&n.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=e[n.level];s?s.unshift(n.tokenizer):e[n.level]=[n.tokenizer],n.start&&(n.level==="block"?e.startBlock?e.startBlock.push(n.start):e.startBlock=[n.start]:n.level==="inline"&&(e.startInline?e.startInline.push(n.start):e.startInline=[n.start]))}"childTokens"in n&&n.childTokens&&(e.childTokens[n.name]=n.childTokens)}),i.extensions=e),r.renderer){let n=this.defaults.renderer||new hn(this.defaults);for(let s in r.renderer){if(!(s in n))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let o=s,a=r.renderer[o],c=n[o];n[o]=(...f)=>{let p=a.apply(n,f);return p===!1&&(p=c.apply(n,f)),p||""}}i.renderer=n}if(r.tokenizer){let n=this.defaults.tokenizer||new un(this.defaults);for(let s in r.tokenizer){if(!(s in n))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let o=s,a=r.tokenizer[o],c=n[o];n[o]=(...f)=>{let p=a.apply(n,f);return p===!1&&(p=c.apply(n,f)),p}}i.tokenizer=n}if(r.hooks){let n=this.defaults.hooks||new ai;for(let s in r.hooks){if(!(s in n))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let o=s,a=r.hooks[o],c=n[o];ai.passThroughHooks.has(s)?n[o]=f=>{if(this.defaults.async&&ai.passThroughHooksRespectAsync.has(s))return(async()=>{let b=await a.call(n,f);return c.call(n,b)})();let p=a.call(n,f);return c.call(n,p)}:n[o]=(...f)=>{if(this.defaults.async)return(async()=>{let b=await a.apply(n,f);return b===!1&&(b=await c.apply(n,f)),b})();let p=a.apply(n,f);return p===!1&&(p=c.apply(n,f)),p}}i.hooks=n}if(r.walkTokens){let n=this.defaults.walkTokens,s=r.walkTokens;i.walkTokens=function(o){let a=[];return a.push(s.call(this,o)),n&&(a=a.concat(n.call(this,o))),a}}this.defaults={...this.defaults,...i}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return at.lex(t,e??this.defaults)}parser(t,e){return lt.parse(t,e??this.defaults)}parseMarkdown(t){return(e,r)=>{let i={...r},n={...this.defaults,...i},s=this.onError(!!n.silent,!!n.async);if(this.defaults.async===!0&&i.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(n.hooks&&(n.hooks.options=n,n.hooks.block=t),n.async)return(async()=>{let o=n.hooks?await n.hooks.preprocess(e):e,a=await(n.hooks?await n.hooks.provideLexer():t?at.lex:at.lexInline)(o,n),c=n.hooks?await n.hooks.processAllTokens(a):a;n.walkTokens&&await Promise.all(this.walkTokens(c,n.walkTokens));let f=await(n.hooks?await n.hooks.provideParser():t?lt.parse:lt.parseInline)(c,n);return n.hooks?await n.hooks.postprocess(f):f})().catch(s);try{n.hooks&&(e=n.hooks.preprocess(e));let o=(n.hooks?n.hooks.provideLexer():t?at.lex:at.lexInline)(e,n);n.hooks&&(o=n.hooks.processAllTokens(o)),n.walkTokens&&this.walkTokens(o,n.walkTokens);let a=(n.hooks?n.hooks.provideParser():t?lt.parse:lt.parseInline)(o,n);return n.hooks&&(a=n.hooks.postprocess(a)),a}catch(o){return s(o)}}}onError(t,e){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let i="<p>An error occurred:</p><pre>"+pt(r.message+"",!0)+"</pre>";return e?Promise.resolve(i):i}if(e)return Promise.reject(r);throw r}}},fr=new $p;function q(t,e){return fr.parse(t,e)}q.options=q.setOptions=function(t){return fr.setOptions(t),q.defaults=fr.defaults,nc(q.defaults),q};q.getDefaults=oo;q.defaults=dr;q.use=function(...t){return fr.use(...t),q.defaults=fr.defaults,nc(q.defaults),q};q.walkTokens=function(t,e){return fr.walkTokens(t,e)};q.parseInline=fr.parseInline;q.Parser=lt;q.parser=lt.parse;q.Renderer=hn;q.TextRenderer=go;q.Lexer=at;q.lexer=at.lex;q.Tokenizer=un;q.Hooks=ai;q.parse=q;var xy=q.options,Ey=q.setOptions,ky=q.use,Ty=q.walkTokens,Ay=q.parseInline;var _y=lt.parse,Oy=at.lex;q.setOptions({renderer:new q.Renderer});q.use({renderer:{link({href:t,text:e}){return`<a href="${t}" target="_blank" rel="noopener noreferrer">${e}</a>`}}});var pn=class extends oe{static targets=["messages","error","input","send","userMessageTemplate","assistantMessageTemplate","retryButton"];static classes=["hidden"];static values={url:String,timeout:Number,autoSubmit:{type:Boolean,default:!1},message:String,messages:Object};connect(){console.log("[AIChat] connect"),this.isStreaming=!1,this.chatHistory=[],this.currentRound=null,this.renderChatHistoryOnce()}disconnect(){console.log("[AIChat] disconnect"),this.stopStreaming()}inputTargetConnected(t){t.addEventListener("keydown",e=>{e.key==="Enter"&&(console.log("[AIChat] inputTargetConnected: Enter pressed"),this.#t())})}sendTargetConnected(t){t.addEventListener("click",e=>{console.log("[AIChat] sendTargetConnected: click"),this.#t()})}messageValueChanged(){this.autoSubmitValue&&this.messageValue&&this.#e()}#e(){this.delayAutoSubmitTimer&&clearTimeout(this.delayAutoSubmitTimer),this.delayAutoSubmitTimer=setTimeout(()=>{this.messageValue&&this.sendMessage(this.messageValue)},500)}#t(){let t=this.inputTarget.value;console.log("[AIChat] #sendUserMessage",t),t&&(this.inputTarget.value="",this.sendMessage(t))}async chat(t){let{message:e}=t.params;this.sendMessage(e)}addUserMessage(t){console.log("[AIChat] addUserMessage",t),this.currentRound={user:t,ai:"",status:"streaming",retry:null},this.chatHistory.push(this.currentRound),this.appendUserMessage(t),this.appendAssistantMessage("","streaming",this.chatHistory.length-1)}renderChatHistoryOnce(){this.hasMessagesTarget&&(this.messagesTarget.innerHTML="",this.chatHistory.forEach((t,e)=>{this.appendUserMessage(t.user),this.appendAssistantMessage(t.ai,t.status,e,t.retry)}),this.scrollToBottom(!0))}appendUserMessage(t){if(console.log("[AIChat] appendUserMessage",t),!this.hasUserMessageTemplateTarget)return;let e=this.userMessageTemplateTarget.content.cloneNode(!0);e.querySelector(".ai-user-message").textContent=t,this.messagesTarget.appendChild(e),this.scrollToBottom(!0)}appendAssistantMessage(t,e,r,i){if(console.log("[AIChat] appendAssistantMessage",t,e,r),!this.hasAssistantMessageTemplateTarget)return;let n=!0,s=this.assistantMessageTemplateTarget.content.cloneNode(!0),o=s.querySelector(".ai-assistant-message");if(e==="error"){let a=this.retryButton;a.dataset.idx=r,o.innerHTML=`<span class='bkt-text-red-500'>${this.escapeHTML(t)}</span> ${a.outerHTML}`,i&&setTimeout(()=>{let c=this.messagesTarget.querySelectorAll(`[data-idx='${r}']`),f=c[c.length-1];f&&(f.onclick=()=>i())},0)}else t?(o.innerHTML=q(t),n=!1):o.innerHTML=`<span class="bkt-text-gray-400">${this.messagesValue.thinking}</span>`;this.messagesTarget.appendChild(s),e==="error"&&i&&setTimeout(()=>{let a=this.messagesTarget.querySelectorAll(`[data-idx='${r}']`),c=a[a.length-1];c&&(c.onclick=()=>i())},0),this.scrollToBottom(n)}updateCurrentAssistantMessage(t,e,r,i){console.log("[AIChat] updateCurrentAssistantMessage",t,e,r);let n=this.messagesTarget.querySelectorAll(".ai-assistant-message"),s=n[n.length-1];if(!s){console.warn("[AIChat] updateCurrentAssistantMessage: no msgSpan found");return}if(e==="error"){let o=this.retryButton;o.dataset.idx=r,s.innerHTML=`<span class='bkt-text-red-500'>${this.escapeHTML(t)}</span> ${o.outerHTML}`,i&&setTimeout(()=>{let a=this.messagesTarget.querySelector(`[data-idx='${r}']`);a&&(a.onclick=()=>i())},0)}else e==="canceled"?s.innerHTML=`<span class="bkt-text-gray-400">${this.messagesValue.canceled}</span>`:t?s.innerHTML=q(t):s.innerHTML=`<span class="bkt-text-gray-400">${this.messagesValue.thinking}</span>`;this.scrollToBottom()}async sendMessage(t){if(console.log("[AIChat] sendMessage",t),!t||!this.url){console.warn("[AIChat] sendMessage: invalid params",t,this.url);return}this.isStreaming&&(this.updateCurrentAssistantMessage(this.currentRound.ai,"canceled",this.chatHistory.length-1),this.stopStreaming()),this.addUserMessage(t),this.isStreaming=!0,this.currentRound.ai="",this.currentRound.status="streaming";let e=this.chatHistory.length-1;this.updateCurrentAssistantMessage("","streaming",e);let r=new URLSearchParams({message:t});this.eventSource=new EventSource(`${this.url}?${r.toString()}`),this.startTimeoutTimer(),this.eventSource.onmessage=i=>{let n=JSON.parse(i.data);n.message||="",console.log("[AIChat] eventSource.onmessage",n),this.resetTimeoutTimer(),n.status==="system"?(this.currentRound.ai=n.message,this.currentRound.status="system",this.updateCurrentAssistantMessage(this.currentRound.ai,"system",e)):n.status==="streaming"?(this.currentRound.status!=="streaming"&&(this.currentRound.ai=""),this.currentRound.status="streaming",this.currentRound.ai+=n.message,this.updateCurrentAssistantMessage(this.currentRound.ai,"streaming",e)):n.status==="completed"?(this.currentRound.ai+=n.message,this.currentRound.status="completed",this.isStreaming=!1,this.eventSource.close(),this.clearTimeoutTimer(),this.currentRound.ai+=this.messagesValue.completed,this.updateCurrentAssistantMessage(this.currentRound.ai,"completed",e)):n.status==="error"&&(this.currentRound.ai=n.message,this.currentRound.status="error",this.isStreaming=!1,this.eventSource.close(),this.clearTimeoutTimer(),this.currentRound.retry=()=>{console.log("[AIChat] retry",e),this.currentRound.status="streaming",this.currentRound.ai="",this.appendAssistantMessage("","streaming",e),this.updateCurrentAssistantMessage("","streaming",e),this.sendMessage(this.currentRound.user)},this.updateCurrentAssistantMessage(this.currentRound.ai,"error",e,this.currentRound.retry))},this.eventSource.onerror=i=>{console.error("[AIChat] eventSource.onerror",i),this.eventSource.close(),this.isStreaming=!1,this.currentRound.status="error",this.currentRound.ai="\u7F51\u7EDC\u9519\u8BEF\uFF0C\u8BF7\u91CD\u8BD5",this.currentRound.retry=()=>{console.log("[AIChat] retry (onerror)",e),this.currentRound.status="streaming",this.currentRound.ai="",this.appendAssistantMessage("","streaming",e),this.updateCurrentAssistantMessage("","streaming",e),this.sendMessage(this.currentRound.user)},this.clearTimeoutTimer(),this.updateCurrentAssistantMessage(this.currentRound.ai,"error",e,this.currentRound.retry)}}stopStreaming(){if(this.eventSource)try{this.eventSource.close()}catch{}this.isStreaming=!1,this.clearTimeoutTimer(),this.hasErrorTarget&&this.errorTarget.classList.add(...this.hiddenClasses)}escapeHTML(t){return t?t.replace(/[&<>"']/g,function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[e]}):""}startTimeoutTimer(){this.hasTimeoutValue&&(this.timeoutTimer=setTimeout(()=>{if(this.currentRound){this.currentRound.status="error",this.currentRound.ai="\u54CD\u5E94\u8D85\u65F6\uFF0C\u8BF7\u91CD\u8BD5";let t=this.chatHistory.length-1;this.currentRound.retry=()=>{this.currentRound.status="streaming",this.currentRound.ai="",this.updateCurrentAssistantMessage("","streaming",t),this.sendMessage(this.currentRound.user)},this.updateCurrentAssistantMessage(this.currentRound.ai,"error",t,this.currentRound.retry)}this.eventSource&&this.eventSource.close(),this.isStreaming=!1},this.timeoutValue*1e3))}clearTimeoutTimer(){!this.hasTimeoutValue||!this.timeoutTimer||clearTimeout(this.timeoutTimer)}resetTimeoutTimer(){this.clearTimeoutTimer(),this.startTimeoutTimer()}scrollToBottom(t=!1){if(!this.hasMessagesTarget)return;let e=this.messagesTarget,r=e.scrollHeight-e.scrollTop-e.clientHeight<80;(t||r)&&(e.scrollTop=e.scrollHeight)}get url(){return this.hasUrlValue?this.urlValue:null}get retryButton(){if(this.hasRetryButtonTarget)return this.retryButtonTarget;{let t=document.createElement("button");return t.classList.add("bkt-size-4","bkt-text-gray-600"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="bkt-size-full" viewBox="0 0 24 24" fill="currentColor"><path d="M5.46257 4.43262C7.21556 2.91688 9.5007 2 12 2C17.5228 2 22 6.47715 22 12C22 14.1361 21.3302 16.1158 20.1892 17.7406L17 12H20C20 7.58172 16.4183 4 12 4C9.84982 4 7.89777 4.84827 6.46023 6.22842L5.46257 4.43262ZM18.5374 19.5674C16.7844 21.0831 14.4993 22 12 22C6.47715 22 2 17.5228 2 12C2 9.86386 2.66979 7.88416 3.8108 6.25944L7 12H4C4 16.4183 7.58172 20 12 20C14.1502 20 16.1022 19.1517 17.5398 17.7716L18.5374 19.5674Z"></path></svg>',t}}};window.Stimulus||(window.Stimulus=zi.start());var Tt=window.Stimulus;Tt.register("toc",Wi);Tt.register("images-viewer",qi);Tt.register("nav-tree",Ui);Tt.register("turbo-nav-tree",Ki);Tt.register("theme",Yi);Tt.register("clipboard",sn);Tt.register("scroll-to",on);Tt.register("link-target",an);Tt.register("ai-search",pn);window.Alpine=Pi;Pi.plugin(Ya);Pi.start();})();
/*! Bundled license information:

viewerjs/dist/viewer.js:
  (*!
   * Viewer.js v1.11.7
   * https://fengyuanchen.github.io/viewerjs
   *
   * Copyright 2015-present Chen Fengyuan
   * Released under the MIT license
   *
   * Date: 2024-11-24T04:32:19.116Z
   *)

mustache/mustache.mjs:
  (*!
   * mustache.js - Logic-less {{mustache}} templates with JavaScript
   * http://github.com/janl/mustache.js
   *)
*/
