(()=>{var Ah=Object.create;var rs=Object.defineProperty;var kh=Object.getOwnPropertyDescriptor;var Ch=Object.getOwnPropertyNames;var Oh=Object.getPrototypeOf,_h=Object.prototype.hasOwnProperty;var Lh=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Rh=(t,e)=>{for(var r in e)rs(t,r,{get:e[r],enumerable:!0})},Mh=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Ch(e))!_h.call(t,n)&&n!==r&&rs(t,n,{get:()=>e[n],enumerable:!(i=kh(e,n))||i.enumerable});return t};var Ph=(t,e,r)=>(r=t!=null?Ah(Oh(t)):{},Mh(e||!t||!t.__esModule?rs(r,"default",{value:t,enumerable:!0}):r,t));var uu=Lh((na,sa)=>{(function(t,e){typeof na=="object"&&typeof sa<"u"?sa.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Viewer=e())})(na,function(){"use strict";function t(p,l){if(!(p instanceof l))throw new TypeError("Cannot call a class as a function")}function e(p,l){for(var d=0;d<l.length;d++){var u=l[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(p,a(u.key),u)}}function r(p,l,d){return l&&e(p.prototype,l),d&&e(p,d),Object.defineProperty(p,"prototype",{writable:!1}),p}function i(p,l,d){return(l=a(l))in p?Object.defineProperty(p,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):p[l]=d,p}function n(p,l){var d=Object.keys(p);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(p);l&&(u=u.filter(function(m){return Object.getOwnPropertyDescriptor(p,m).enumerable})),d.push.apply(d,u)}return d}function s(p){for(var l=1;l<arguments.length;l++){var d=arguments[l]!=null?arguments[l]:{};l%2?n(Object(d),!0).forEach(function(u){i(p,u,d[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(d)):n(Object(d)).forEach(function(u){Object.defineProperty(p,u,Object.getOwnPropertyDescriptor(d,u))})}return p}function o(p,l){if(typeof p!="object"||!p)return p;var d=p[Symbol.toPrimitive];if(d!==void 0){var u=d.call(p,l||"default");if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(p)}function a(p){var l=o(p,"string");return typeof l=="symbol"?l:l+""}function c(p){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},c(p)}var f={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},g='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',C=typeof window<"u"&&typeof window.document<"u",v=C?window:{},O=C&&v.document.documentElement?"ontouchstart"in v.document.documentElement:!1,R=C?"PointerEvent"in v:!1,T="viewer",x="move",L="switch",y="zoom",A="".concat(T,"-active"),h="".concat(T,"-close"),w="".concat(T,"-fade"),E="".concat(T,"-fixed"),_="".concat(T,"-fullscreen"),M="".concat(T,"-fullscreen-exit"),F="".concat(T,"-hide"),q="".concat(T,"-hide-md-down"),j="".concat(T,"-hide-sm-down"),G="".concat(T,"-hide-xs-down"),U="".concat(T,"-in"),J="".concat(T,"-invisible"),we="".concat(T,"-loading"),Oe="".concat(T,"-move"),xe="".concat(T,"-open"),se="".concat(T,"-show"),X="".concat(T,"-transition"),Pe="click",et="dblclick",ze="dragstart",dt="focusin",Ue="keydown",oe="load",Ie="error",Lt=O?"touchend touchcancel":"mouseup",tt=O?"touchmove":"mousemove",Rt=O?"touchstart":"mousedown",rt=R?"pointerdown":Rt,bt=R?"pointermove":tt,Zt=R?"pointerup pointercancel":Lt,Mt="resize",Ne="transitionend",Gt="wheel",Pt="ready",It="show",Jt="shown",Qt="hide",Ke="hidden",it="view",nt="viewed",ft="move",Dt="moved",er="rotate",tr="rotated",rr="scale",ir="scaled",Mi="zoom",Pi="zoomed",Ii="play",Di="stop",_r="".concat(T,"Action"),k=/\s\s*/,$=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function H(p){return typeof p=="string"}var Q=Number.isNaN||v.isNaN;function V(p){return typeof p=="number"&&!Q(p)}function de(p){return typeof p>"u"}function Te(p){return c(p)==="object"&&p!==null}var Nt=Object.prototype.hasOwnProperty;function yt(p){if(!Te(p))return!1;try{var l=p.constructor,d=l.prototype;return l&&d&&Nt.call(d,"isPrototypeOf")}catch{return!1}}function K(p){return typeof p=="function"}function te(p,l){if(p&&K(l))if(Array.isArray(p)||V(p.length)){var d=p.length,u;for(u=0;u<d&&l.call(p,p[u],u,p)!==!1;u+=1);}else Te(p)&&Object.keys(p).forEach(function(m){l.call(p,p[m],m,p)});return p}var _e=Object.assign||function(l){for(var d=arguments.length,u=new Array(d>1?d-1:0),m=1;m<d;m++)u[m-1]=arguments[m];return Te(l)&&u.length>0&&u.forEach(function(b){Te(b)&&Object.keys(b).forEach(function(S){l[S]=b[S]})}),l},Ft=/^(?:width|height|left|top|marginLeft|marginTop)$/;function je(p,l){var d=p.style;te(l,function(u,m){Ft.test(m)&&V(u)&&(u+="px"),d[m]=u})}function Qr(p){return H(p)?p.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):p}function st(p,l){return!p||!l?!1:p.classList?p.classList.contains(l):p.className.indexOf(l)>-1}function z(p,l){if(!(!p||!l)){if(V(p.length)){te(p,function(u){z(u,l)});return}if(p.classList){p.classList.add(l);return}var d=p.className.trim();d?d.indexOf(l)<0&&(p.className="".concat(d," ").concat(l)):p.className=l}}function ee(p,l){if(!(!p||!l)){if(V(p.length)){te(p,function(d){ee(d,l)});return}if(p.classList){p.classList.remove(l);return}p.className.indexOf(l)>=0&&(p.className=p.className.replace(l,""))}}function ei(p,l,d){if(l){if(V(p.length)){te(p,function(u){ei(u,l,d)});return}d?z(p,l):ee(p,l)}}var fh=/([a-z\d])([A-Z])/g;function Qn(p){return p.replace(fh,"$1-$2").toLowerCase()}function Lr(p,l){return Te(p[l])?p[l]:p.dataset?p.dataset[l]:p.getAttribute("data-".concat(Qn(l)))}function es(p,l,d){Te(d)?p[l]=d:p.dataset?p.dataset[l]=d:p.setAttribute("data-".concat(Qn(l)),d)}var Va=function(){var p=!1;if(C){var l=!1,d=function(){},u=Object.defineProperty({},"once",{get:function(){return p=!0,l},set:function(b){l=b}});v.addEventListener("test",d,u),v.removeEventListener("test",d,u)}return p}();function ie(p,l,d){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},m=d;l.trim().split(k).forEach(function(b){if(!Va){var S=p.listeners;S&&S[b]&&S[b][d]&&(m=S[b][d],delete S[b][d],Object.keys(S[b]).length===0&&delete S[b],Object.keys(S).length===0&&delete p.listeners)}p.removeEventListener(b,m,u)})}function W(p,l,d){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},m=d;l.trim().split(k).forEach(function(b){if(u.once&&!Va){var S=p.listeners,I=S===void 0?{}:S;m=function(){delete I[b][d],p.removeEventListener(b,m,u);for(var D=arguments.length,P=new Array(D),B=0;B<D;B++)P[B]=arguments[B];d.apply(p,P)},I[b]||(I[b]={}),I[b][d]&&p.removeEventListener(b,I[b][d],u),I[b][d]=m,p.listeners=I}p.addEventListener(b,m,u)})}function ve(p,l,d,u){var m;return K(Event)&&K(CustomEvent)?m=new CustomEvent(l,s({bubbles:!0,cancelable:!0,detail:d},u)):(m=document.createEvent("CustomEvent"),m.initCustomEvent(l,!0,!0,d)),p.dispatchEvent(m)}function ph(p){var l=p.getBoundingClientRect();return{left:l.left+(window.pageXOffset-document.documentElement.clientLeft),top:l.top+(window.pageYOffset-document.documentElement.clientTop)}}function Ni(p){var l=p.rotate,d=p.scaleX,u=p.scaleY,m=p.translateX,b=p.translateY,S=[];V(m)&&m!==0&&S.push("translateX(".concat(m,"px)")),V(b)&&b!==0&&S.push("translateY(".concat(b,"px)")),V(l)&&l!==0&&S.push("rotate(".concat(l,"deg)")),V(d)&&d!==1&&S.push("scaleX(".concat(d,")")),V(u)&&u!==1&&S.push("scaleY(".concat(u,")"));var I=S.length?S.join(" "):"none";return{WebkitTransform:I,msTransform:I,transform:I}}function mh(p){return H(p)?decodeURIComponent(p.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var ts=v.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(v.navigator.userAgent);function Ha(p,l,d){var u=document.createElement("img");if(p.naturalWidth&&!ts)return d(p.naturalWidth,p.naturalHeight),u;var m=document.body||document.documentElement;return u.onload=function(){d(u.width,u.height),ts||m.removeChild(u)},te(l.inheritedAttributes,function(b){var S=p.getAttribute(b);S!==null&&u.setAttribute(b,S)}),u.src=p.src,ts||(u.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",m.appendChild(u)),u}function Fi(p){switch(p){case 2:return G;case 3:return j;case 4:return q;default:return""}}function gh(p){var l=s({},p),d=[];return te(p,function(u,m){delete l[m],te(l,function(b){var S=Math.abs(u.startX-b.startX),I=Math.abs(u.startY-b.startY),N=Math.abs(u.endX-b.endX),D=Math.abs(u.endY-b.endY),P=Math.sqrt(S*S+I*I),B=Math.sqrt(N*N+D*D),Z=(B-P)/P;d.push(Z)})}),d.sort(function(u,m){return Math.abs(u)<Math.abs(m)}),d[0]}function Bi(p,l){var d=p.pageX,u=p.pageY,m={endX:d,endY:u};return l?m:s({timeStamp:Date.now(),startX:d,startY:u},m)}function vh(p){var l=0,d=0,u=0;return te(p,function(m){var b=m.startX,S=m.startY;l+=b,d+=S,u+=1}),l/=u,d/=u,{pageX:l,pageY:d}}var bh={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var l=this.element.ownerDocument,d=l.body||l.documentElement;this.body=d,this.scrollbarWidth=window.innerWidth-l.documentElement.clientWidth,this.initialBodyPaddingRight=d.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(d).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var l=this.options,d=this.parent,u;l.inline&&(u={width:Math.max(d.offsetWidth,l.minWidth),height:Math.max(d.offsetHeight,l.minHeight)},this.parentData=u),(this.fulled||!u)&&(u=this.containerData),this.viewerData=_e({},u)},renderViewer:function(){this.options.inline&&!this.fulled&&je(this.viewer,this.viewerData)},initList:function(){var l=this,d=this.element,u=this.options,m=this.list,b=[];m.innerHTML="",te(this.images,function(S,I){var N=S.src,D=S.alt||mh(N),P=l.getImageURL(S);if(N||P){var B=document.createElement("li"),Z=document.createElement("img");te(u.inheritedAttributes,function(be){var fe=S.getAttribute(be);fe!==null&&Z.setAttribute(be,fe)}),u.navbar&&(Z.src=N||P),Z.alt=D,Z.setAttribute("data-original-url",P||N),B.setAttribute("data-index",I),B.setAttribute("data-viewer-action","view"),B.setAttribute("role","button"),u.keyboard&&B.setAttribute("tabindex",0),B.appendChild(Z),m.appendChild(B),b.push(B)}}),this.items=b,te(b,function(S){var I=S.firstElementChild,N,D;es(I,"filled",!0),u.loading&&z(S,we),W(I,oe,N=function(B){ie(I,Ie,D),u.loading&&ee(S,we),l.loadImage(B)},{once:!0}),W(I,Ie,D=function(){ie(I,oe,N),u.loading&&ee(S,we)},{once:!0})}),u.transition&&W(d,nt,function(){z(m,X)},{once:!0})},renderList:function(){var l=this.index,d=this.items[l];if(d){var u=d.nextElementSibling,m=parseInt(window.getComputedStyle(u||d).marginLeft,10),b=d.offsetWidth,S=b+m;je(this.list,_e({width:S*this.length-m},Ni({translateX:(this.viewerData.width-b)/2-S*l})))}},resetList:function(){var l=this.list;l.innerHTML="",ee(l,X),je(l,Ni({translateX:0}))},initImage:function(l){var d=this,u=this.options,m=this.image,b=this.viewerData,S=this.footer.offsetHeight,I=b.width,N=Math.max(b.height-S,S),D=this.imageData||{},P;this.imageInitializing={abort:function(){P.onload=null}},P=Ha(m,u,function(B,Z){var be=B/Z,fe=Math.max(0,Math.min(1,u.initialCoverage)),ce=I,Fe=N;d.imageInitializing=!1,N*be>I?Fe=I/be:ce=N*be,fe=V(fe)?fe:.9,ce=Math.min(ce*fe,B),Fe=Math.min(Fe*fe,Z);var He=(I-ce)/2,qe=(N-Fe)/2,ae={left:He,top:qe,x:He,y:qe,width:ce,height:Fe,oldRatio:1,ratio:ce/B,aspectRatio:be,naturalWidth:B,naturalHeight:Z},wt=_e({},ae);u.rotatable&&(ae.rotate=D.rotate||0,wt.rotate=0),u.scalable&&(ae.scaleX=D.scaleX||1,ae.scaleY=D.scaleY||1,wt.scaleX=1,wt.scaleY=1),d.imageData=ae,d.initialImageData=wt,l&&l()})},renderImage:function(l){var d=this,u=this.image,m=this.imageData;if(je(u,_e({width:m.width,height:m.height,marginLeft:m.x,marginTop:m.y},Ni(m))),l)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&st(u,X)){var b=function(){d.imageRendering=!1,l()};this.imageRendering={abort:function(){ie(u,Ne,b)}},W(u,Ne,b,{once:!0})}else l()},resetImage:function(){var l=this.image;l&&(this.viewing&&this.viewing.abort(),l.parentNode.removeChild(l),this.image=null,this.title.innerHTML="")}},yh={bind:function(){var l=this.options,d=this.viewer,u=this.canvas,m=this.element.ownerDocument;W(d,Pe,this.onClick=this.click.bind(this)),W(d,ze,this.onDragStart=this.dragstart.bind(this)),W(u,rt,this.onPointerDown=this.pointerdown.bind(this)),W(m,bt,this.onPointerMove=this.pointermove.bind(this)),W(m,Zt,this.onPointerUp=this.pointerup.bind(this)),W(m,Ue,this.onKeyDown=this.keydown.bind(this)),W(window,Mt,this.onResize=this.resize.bind(this)),l.zoomable&&l.zoomOnWheel&&W(d,Gt,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),l.toggleOnDblclick&&W(u,et,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var l=this.options,d=this.viewer,u=this.canvas,m=this.element.ownerDocument;ie(d,Pe,this.onClick),ie(d,ze,this.onDragStart),ie(u,rt,this.onPointerDown),ie(m,bt,this.onPointerMove),ie(m,Zt,this.onPointerUp),ie(m,Ue,this.onKeyDown),ie(window,Mt,this.onResize),l.zoomable&&l.zoomOnWheel&&ie(d,Gt,this.onWheel,{passive:!1,capture:!0}),l.toggleOnDblclick&&ie(u,et,this.onDblclick)}},wh={click:function(l){var d=this.options,u=this.imageData,m=l.target,b=Lr(m,_r);switch(!b&&m.localName==="img"&&m.parentElement.localName==="li"&&(m=m.parentElement,b=Lr(m,_r)),O&&l.isTrusted&&m===this.canvas&&clearTimeout(this.clickCanvasTimeout),b){case"mix":this.played?this.stop():d.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(Lr(m,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(d.loop);break;case"play":this.play(d.fullscreen);break;case"next":this.next(d.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-u.scaleX||-1);break;case"flip-vertical":this.scaleY(-u.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(l){l.preventDefault(),this.viewed&&l.target===this.image&&(O&&l.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(l.isTrusted?l:l.detail&&l.detail.originalEvent))},load:function(){var l=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var d=this.element,u=this.options,m=this.image,b=this.index,S=this.viewerData;ee(m,J),u.loading&&ee(this.canvas,we),m.style.cssText="height:0;"+"margin-left:".concat(S.width/2,"px;")+"margin-top:".concat(S.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){ei(m,Oe,u.movable),ei(m,X,u.transition),l.renderImage(function(){l.viewed=!0,l.viewing=!1,K(u.viewed)&&W(d,nt,u.viewed,{once:!0}),ve(d,nt,{originalImage:l.images[b],index:b,image:m},{cancelable:!1})})})},loadImage:function(l){var d=l.target,u=d.parentNode,m=u.offsetWidth||30,b=u.offsetHeight||50,S=!!Lr(d,"filled");Ha(d,this.options,function(I,N){var D=I/N,P=m,B=b;b*D>m?S?P=b*D:B=m/D:S?B=m/D:P=b*D,je(d,_e({width:P,height:B},Ni({translateX:(m-P)/2,translateY:(b-B)/2})))})},keydown:function(l){var d=this.options;if(d.keyboard){var u=l.keyCode||l.which||l.charCode;switch(u){case 13:this.viewer.contains(l.target)&&this.click(l);break}if(this.fulled)switch(u){case 27:this.played?this.stop():d.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(d.loop);break;case 38:l.preventDefault(),this.zoom(d.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(d.loop);break;case 40:l.preventDefault(),this.zoom(-d.zoomRatio,!0);break;case 48:case 49:l.ctrlKey&&(l.preventDefault(),this.toggle());break}}},dragstart:function(l){l.target.localName==="img"&&l.preventDefault()},pointerdown:function(l){var d=this.options,u=this.pointers,m=l.buttons,b=l.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(l.type==="mousedown"||l.type==="pointerdown"&&l.pointerType==="mouse")&&(V(m)&&m!==1||V(b)&&b!==0||l.ctrlKey))){l.preventDefault(),l.changedTouches?te(l.changedTouches,function(I){u[I.identifier]=Bi(I)}):u[l.pointerId||0]=Bi(l);var S=d.movable?x:!1;d.zoomOnTouch&&d.zoomable&&Object.keys(u).length>1?S=y:d.slideOnTouch&&(l.pointerType==="touch"||l.type==="touchstart")&&this.isSwitchable()&&(S=L),d.transition&&(S===x||S===y)&&ee(this.image,X),this.action=S}},pointermove:function(l){var d=this.pointers,u=this.action;!this.viewed||!u||(l.preventDefault(),l.changedTouches?te(l.changedTouches,function(m){_e(d[m.identifier]||{},Bi(m,!0))}):_e(d[l.pointerId||0]||{},Bi(l,!0)),this.change(l))},pointerup:function(l){var d=this,u=this.options,m=this.action,b=this.pointers,S;l.changedTouches?te(l.changedTouches,function(I){S=b[I.identifier],delete b[I.identifier]}):(S=b[l.pointerId||0],delete b[l.pointerId||0]),m&&(l.preventDefault(),u.transition&&(m===x||m===y)&&z(this.image,X),this.action=!1,O&&m!==y&&S&&Date.now()-S.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),u.toggleOnDblclick&&this.viewed&&l.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){ve(d.image,et,{originalEvent:l})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){d.imageClicked=!1},500)):(this.imageClicked=!1,u.backdrop&&u.backdrop!=="static"&&l.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){ve(d.canvas,Pe,{originalEvent:l})},50)))))},resize:function(){var l=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){l.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}te(this.player.getElementsByTagName("img"),function(d){W(d,oe,l.loadImage.bind(l),{once:!0}),ve(d,oe)})}},wheel:function(l){var d=this;if(this.viewed&&(l.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){d.wheeling=!1},50);var u=Number(this.options.zoomRatio)||.1,m=1;l.deltaY?m=l.deltaY>0?1:-1:l.wheelDelta?m=-l.wheelDelta/120:l.detail&&(m=l.detail>0?1:-1),this.zoom(-m*u,!0,null,l)}}},Eh={show:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,d=this.element,u=this.options;if(u.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(l),this;if(K(u.show)&&W(d,It,u.show,{once:!0}),ve(d,It)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var m=this.viewer;if(ee(m,F),m.setAttribute("role","dialog"),m.setAttribute("aria-labelledby",this.title.id),m.setAttribute("aria-modal",!0),m.removeAttribute("aria-hidden"),u.transition&&!l){var b=this.shown.bind(this);this.transitioning={abort:function(){ie(m,Ne,b),ee(m,U)}},z(m,X),m.initialOffsetWidth=m.offsetWidth,W(m,Ne,b,{once:!0}),z(m,U)}else z(m,U),this.shown();return this},hide:function(){var l=this,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,u=this.element,m=this.options;if(m.inline||this.hiding||!(this.isShown||this.showing))return this;if(K(m.hide)&&W(u,Qt,m.hide,{once:!0}),ve(u,Qt)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var b=this.viewer,S=this.image,I=function(){ee(b,U),l.hidden()};if(m.transition&&!d){var N=function(B){B&&B.target===b&&(ie(b,Ne,N),l.hidden())},D=function(){st(b,X)?(W(b,Ne,N),ee(b,U)):I()};this.transitioning={abort:function(){l.viewed&&st(S,X)?ie(S,Ne,D):st(b,X)&&ie(b,Ne,N)}},this.viewed&&st(S,X)?(W(S,Ne,D,{once:!0}),this.zoomTo(0,!1,null,null,!0)):D()}else I();return this},view:function(){var l=this,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(d=Number(d)||0,this.hiding||this.played||d<0||d>=this.length||this.viewed&&d===this.index)return this;if(!this.isShown)return this.index=d,this.show();this.viewing&&this.viewing.abort();var u=this.element,m=this.options,b=this.title,S=this.canvas,I=this.items[d],N=I.querySelector("img"),D=Lr(N,"originalUrl"),P=N.getAttribute("alt"),B=document.createElement("img");if(te(m.inheritedAttributes,function(Fe){var He=N.getAttribute(Fe);He!==null&&B.setAttribute(Fe,He)}),B.src=D,B.alt=P,K(m.view)&&W(u,it,m.view,{once:!0}),ve(u,it,{originalImage:this.images[d],index:d,image:B})===!1||!this.isShown||this.hiding||this.played)return this;var Z=this.items[this.index];Z&&(ee(Z,A),Z.removeAttribute("aria-selected")),z(I,A),I.setAttribute("aria-selected",!0),m.focus&&I.focus(),this.image=B,this.viewed=!1,this.index=d,this.imageData={},z(B,J),m.loading&&z(S,we),S.innerHTML="",S.appendChild(B),this.renderList(),b.innerHTML="";var be=function(){var He=l.imageData,qe=Array.isArray(m.title)?m.title[1]:m.title;b.innerHTML=Qr(K(qe)?qe.call(l,B,He):"".concat(P," (").concat(He.naturalWidth," \xD7 ").concat(He.naturalHeight,")"))},fe,ce;return W(u,nt,be,{once:!0}),this.viewing={abort:function(){ie(u,nt,be),B.complete?l.imageRendering?l.imageRendering.abort():l.imageInitializing&&l.imageInitializing.abort():(B.src="",ie(B,oe,fe),l.timeout&&clearTimeout(l.timeout))}},B.complete?this.load():(W(B,oe,fe=function(){ie(B,Ie,ce),l.load()},{once:!0}),W(B,Ie,ce=function(){ie(B,oe,fe),l.timeout&&(clearTimeout(l.timeout),l.timeout=!1),ee(B,J),m.loading&&ee(l.canvas,we)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){ee(B,J),l.timeout=!1},1e3)),this},prev:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,d=this.index-1;return d<0&&(d=l?this.length-1:0),this.view(d),this},next:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,d=this.length-1,u=this.index+1;return u>d&&(u=l?0:d),this.view(u),this},move:function(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l,u=this.imageData;return this.moveTo(de(l)?l:u.x+Number(l),de(d)?d:u.y+Number(d)),this},moveTo:function(l){var d=this,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,b=this.element,S=this.options,I=this.imageData;if(l=Number(l),u=Number(u),this.viewed&&!this.played&&S.movable){var N=I.x,D=I.y,P=!1;if(V(l)?P=!0:l=N,V(u)?P=!0:u=D,P){if(K(S.move)&&W(b,ft,S.move,{once:!0}),ve(b,ft,{x:l,y:u,oldX:N,oldY:D,originalEvent:m})===!1)return this;I.x=l,I.y=u,I.left=l,I.top=u,this.moving=!0,this.renderImage(function(){d.moving=!1,K(S.moved)&&W(b,Dt,S.moved,{once:!0}),ve(b,Dt,{x:l,y:u,oldX:N,oldY:D,originalEvent:m},{cancelable:!1})})}}return this},rotate:function(l){return this.rotateTo((this.imageData.rotate||0)+Number(l)),this},rotateTo:function(l){var d=this,u=this.element,m=this.options,b=this.imageData;if(l=Number(l),V(l)&&this.viewed&&!this.played&&m.rotatable){var S=b.rotate;if(K(m.rotate)&&W(u,er,m.rotate,{once:!0}),ve(u,er,{degree:l,oldDegree:S})===!1)return this;b.rotate=l,this.rotating=!0,this.renderImage(function(){d.rotating=!1,K(m.rotated)&&W(u,tr,m.rotated,{once:!0}),ve(u,tr,{degree:l,oldDegree:S},{cancelable:!1})})}return this},scaleX:function(l){return this.scale(l,this.imageData.scaleY),this},scaleY:function(l){return this.scale(this.imageData.scaleX,l),this},scale:function(l){var d=this,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l,m=this.element,b=this.options,S=this.imageData;if(l=Number(l),u=Number(u),this.viewed&&!this.played&&b.scalable){var I=S.scaleX,N=S.scaleY,D=!1;if(V(l)?D=!0:l=I,V(u)?D=!0:u=N,D){if(K(b.scale)&&W(m,rr,b.scale,{once:!0}),ve(m,rr,{scaleX:l,scaleY:u,oldScaleX:I,oldScaleY:N})===!1)return this;S.scaleX=l,S.scaleY=u,this.scaling=!0,this.renderImage(function(){d.scaling=!1,K(b.scaled)&&W(m,ir,b.scaled,{once:!0}),ve(m,ir,{scaleX:l,scaleY:u,oldScaleX:I,oldScaleY:N},{cancelable:!1})})}}return this},zoom:function(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,b=this.imageData;return l=Number(l),l<0?l=1/(1-l):l=1+l,this.zoomTo(b.width*l/b.naturalWidth,d,u,m),this},zoomTo:function(l){var d=this,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,S=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,I=this.element,N=this.options,D=this.pointers,P=this.imageData,B=P.x,Z=P.y,be=P.width,fe=P.height,ce=P.naturalWidth,Fe=P.naturalHeight;if(l=Math.max(0,l),V(l)&&this.viewed&&!this.played&&(S||N.zoomable)){if(!S){var He=Math.max(.01,N.minZoomRatio),qe=Math.min(100,N.maxZoomRatio);l=Math.min(Math.max(l,He),qe)}if(b)switch(b.type){case"wheel":N.zoomRatio>=.055&&l>.95&&l<1.05&&(l=1);break;case"pointermove":case"touchmove":case"mousemove":l>.99&&l<1.01&&(l=1);break}var ae=ce*l,wt=Fe*l,nr=ae-be,pt=wt-fe,sr=P.ratio;if(K(N.zoom)&&W(I,Mi,N.zoom,{once:!0}),ve(I,Mi,{ratio:l,oldRatio:sr,originalEvent:b})===!1)return this;if(this.zooming=!0,b){var ti=ph(this.viewer),Rr=D&&Object.keys(D).length>0?vh(D):{pageX:b.pageX,pageY:b.pageY};P.x-=nr*((Rr.pageX-ti.left-B)/be),P.y-=pt*((Rr.pageY-ti.top-Z)/fe)}else yt(m)&&V(m.x)&&V(m.y)?(P.x-=nr*((m.x-B)/be),P.y-=pt*((m.y-Z)/fe)):(P.x-=nr/2,P.y-=pt/2);P.left=P.x,P.top=P.y,P.width=ae,P.height=wt,P.oldRatio=sr,P.ratio=l,this.renderImage(function(){d.zooming=!1,K(N.zoomed)&&W(I,Pi,N.zoomed,{once:!0}),ve(I,Pi,{ratio:l,oldRatio:sr,originalEvent:b},{cancelable:!1})}),u&&this.tooltip()}return this},play:function(){var l=this,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var u=this.element,m=this.options;if(K(m.play)&&W(u,Ii,m.play,{once:!0}),ve(u,Ii)===!1)return this;var b=this.player,S=this.loadImage.bind(this),I=[],N=0,D=0;if(this.played=!0,this.onLoadWhenPlay=S,d&&this.requestFullscreen(d),z(b,se),te(this.items,function(Z,be){var fe=Z.querySelector("img"),ce=document.createElement("img");ce.src=Lr(fe,"originalUrl"),ce.alt=fe.getAttribute("alt"),ce.referrerPolicy=fe.referrerPolicy,N+=1,z(ce,w),ei(ce,X,m.transition),st(Z,A)&&(z(ce,U),D=be),I.push(ce),W(ce,oe,S,{once:!0}),b.appendChild(ce)}),V(m.interval)&&m.interval>0){var P=function(){clearTimeout(l.playing.timeout),ee(I[D],U),D-=1,D=D>=0?D:N-1,z(I[D],U),l.playing.timeout=setTimeout(P,m.interval)},B=function(){clearTimeout(l.playing.timeout),ee(I[D],U),D+=1,D=D<N?D:0,z(I[D],U),l.playing.timeout=setTimeout(B,m.interval)};N>1&&(this.playing={prev:P,next:B,timeout:setTimeout(B,m.interval)})}return this},stop:function(){var l=this;if(!this.played)return this;var d=this.element,u=this.options;if(K(u.stop)&&W(d,Di,u.stop,{once:!0}),ve(d,Di)===!1)return this;var m=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,te(m.getElementsByTagName("img"),function(b){ie(b,oe,l.onLoadWhenPlay)}),ee(m,se),m.innerHTML="",this.exitFullscreen(),this},full:function(){var l=this,d=this.options,u=this.viewer,m=this.image,b=this.list;return!this.isShown||this.played||this.fulled||!d.inline?this:(this.fulled=!0,this.open(),z(this.button,M),d.transition&&(ee(b,X),this.viewed&&ee(m,X)),z(u,E),u.setAttribute("role","dialog"),u.setAttribute("aria-labelledby",this.title.id),u.setAttribute("aria-modal",!0),u.removeAttribute("style"),je(u,{zIndex:d.zIndex}),d.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=_e({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){l.renderImage(function(){d.transition&&setTimeout(function(){z(m,X),z(b,X)},0)})}),this)},exit:function(){var l=this,d=this.options,u=this.viewer,m=this.image,b=this.list;return!this.isShown||this.played||!this.fulled||!d.inline?this:(this.fulled=!1,this.close(),ee(this.button,M),d.transition&&(ee(b,X),this.viewed&&ee(m,X)),d.focus&&this.clearEnforceFocus(),u.removeAttribute("role"),u.removeAttribute("aria-labelledby"),u.removeAttribute("aria-modal"),ee(u,E),je(u,{zIndex:d.zIndexInline}),this.viewerData=_e({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){l.renderImage(function(){d.transition&&setTimeout(function(){z(m,X),z(b,X)},0)})}),this)},tooltip:function(){var l=this,d=this.options,u=this.tooltipBox,m=this.imageData;return!this.viewed||this.played||!d.tooltip?this:(u.textContent="".concat(Math.round(m.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):d.transition?(this.fading&&ve(u,Ne),z(u,se),z(u,w),z(u,X),u.removeAttribute("aria-hidden"),u.initialOffsetWidth=u.offsetWidth,z(u,U)):(z(u,se),u.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){d.transition?(W(u,Ne,function(){ee(u,se),ee(u,w),ee(u,X),u.setAttribute("aria-hidden",!0),l.fading=!1},{once:!0}),ee(u,U),l.fading=!0):(ee(u,se),u.setAttribute("aria-hidden",!0)),l.tooltipping=!1},1e3),this)},toggle:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,l):this.zoomTo(1,!0,null,l),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=_e({},this.initialImageData),this.renderImage()),this},update:function(){var l=this,d=this.element,u=this.options,m=this.isImg;if(m&&!d.parentNode)return this.destroy();var b=[];if(te(m?[d]:d.querySelectorAll("img"),function(D){K(u.filter)?u.filter.call(l,D)&&b.push(D):l.getImageURL(D)&&b.push(D)}),!b.length)return this;if(this.images=b,this.length=b.length,this.ready){var S=[];if(te(this.items,function(D,P){var B=D.querySelector("img"),Z=b[P];Z&&B?(Z.src!==B.src||Z.alt!==B.alt)&&S.push(P):S.push(P)}),je(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var I=S.indexOf(this.index);if(I>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-I,this.length-1),0));else{var N=this.items[this.index];z(N,A),N.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var l=this.element,d=this.options;return l[T]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),d.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):d.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),d.inline||ie(l,Pe,this.onStart),l[T]=void 0,this):this}},Sh={getImageURL:function(l){var d=this.options.url;return H(d)?d=l.getAttribute(d):K(d)?d=d.call(this,l):d="",d},enforceFocus:function(){var l=this;this.clearEnforceFocus(),W(document,dt,this.onFocusin=function(d){var u=l.viewer,m=d.target;if(!(m===document||m===u||u.contains(m))){for(;m;){if(m.getAttribute("tabindex")!==null||m.getAttribute("aria-modal")==="true")return;m=m.parentElement}u.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(ie(document,dt,this.onFocusin),this.onFocusin=null)},open:function(){var l=this.body;z(l,xe),this.scrollbarWidth>0&&(l.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var l=this.body;ee(l,xe),this.scrollbarWidth>0&&(l.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var l=this.element,d=this.options,u=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,d.focus&&(u.focus(),this.enforceFocus()),K(d.shown)&&W(l,Jt,d.shown,{once:!0}),ve(l,Jt)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var l=this.element,d=this.options,u=this.viewer;d.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),z(u,F),u.removeAttribute("role"),u.removeAttribute("aria-labelledby"),u.removeAttribute("aria-modal"),u.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(K(d.hidden)&&W(l,Ke,d.hidden,{once:!0}),ve(l,Ke,null,{cancelable:!1}))},requestFullscreen:function(l){var d=this.element.ownerDocument;if(this.fulled&&!(d.fullscreenElement||d.webkitFullscreenElement||d.mozFullScreenElement||d.msFullscreenElement)){var u=d.documentElement;u.requestFullscreen?yt(l)?u.requestFullscreen(l):u.requestFullscreen():u.webkitRequestFullscreen?u.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):u.mozRequestFullScreen?u.mozRequestFullScreen():u.msRequestFullscreen&&u.msRequestFullscreen()}},exitFullscreen:function(){var l=this.element.ownerDocument;this.fulled&&(l.fullscreenElement||l.webkitFullscreenElement||l.mozFullScreenElement||l.msFullscreenElement)&&(l.exitFullscreen?l.exitFullscreen():l.webkitExitFullscreen?l.webkitExitFullscreen():l.mozCancelFullScreen?l.mozCancelFullScreen():l.msExitFullscreen&&l.msExitFullscreen())},change:function(l){var d=this.options,u=this.pointers,m=u[Object.keys(u)[0]];if(m){var b=m.endX-m.startX,S=m.endY-m.startY;switch(this.action){case x:(b!==0||S!==0)&&(this.pointerMoved=!0,this.move(b,S,l));break;case y:this.zoom(gh(u),!1,null,l);break;case L:{this.action="switched";var I=Math.abs(b);I>1&&I>Math.abs(S)&&(this.pointers={},b>1?this.prev(d.loop):b<-1&&this.next(d.loop));break}}te(u,function(N){N.startX=N.endX,N.startY=N.endY})}},isSwitchable:function(){var l=this.imageData,d=this.viewerData;return this.length>1&&l.x>=0&&l.y>=0&&l.width<=d.width&&l.height<=d.height}},xh=v.Viewer,Th=function(p){return function(){return p+=1,p}}(-1),qa=function(){function p(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t(this,p),!l||l.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=l,this.options=_e({},f,yt(d)&&d),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=Th(),this.init()}return r(p,[{key:"init",value:function(){var d=this,u=this.element,m=this.options;if(!u[T]){u[T]=this,m.focus&&!m.keyboard&&(m.focus=!1);var b=u.localName==="img",S=[];if(te(b?[u]:u.querySelectorAll("img"),function(D){K(m.filter)?m.filter.call(d,D)&&S.push(D):d.getImageURL(D)&&S.push(D)}),this.isImg=b,this.length=S.length,this.images=S,this.initBody(),de(document.createElement(T).style.transition)&&(m.transition=!1),m.inline){var I=0,N=function(){if(I+=1,I===d.length){var P;d.initializing=!1,d.delaying={abort:function(){clearTimeout(P)}},P=setTimeout(function(){d.delaying=!1,d.build()},0)}};this.initializing={abort:function(){te(S,function(P){P.complete||(ie(P,oe,N),ie(P,Ie,N))})}},te(S,function(D){if(D.complete)N();else{var P,B;W(D,oe,P=function(){ie(D,Ie,B),N()},{once:!0}),W(D,Ie,B=function(){ie(D,oe,P),N()},{once:!0})}})}else W(u,Pe,this.onStart=function(D){var P=D.target;P.localName==="img"&&(!K(m.filter)||m.filter.call(d,P))&&d.view(d.images.indexOf(P))})}}},{key:"build",value:function(){if(!this.ready){var d=this.element,u=this.options,m=d.parentNode,b=document.createElement("div");b.innerHTML=g;var S=b.querySelector(".".concat(T,"-container")),I=S.querySelector(".".concat(T,"-title")),N=S.querySelector(".".concat(T,"-toolbar")),D=S.querySelector(".".concat(T,"-navbar")),P=S.querySelector(".".concat(T,"-button")),B=S.querySelector(".".concat(T,"-canvas"));if(this.parent=m,this.viewer=S,this.title=I,this.toolbar=N,this.navbar=D,this.button=P,this.canvas=B,this.footer=S.querySelector(".".concat(T,"-footer")),this.tooltipBox=S.querySelector(".".concat(T,"-tooltip")),this.player=S.querySelector(".".concat(T,"-player")),this.list=S.querySelector(".".concat(T,"-list")),S.id="".concat(T).concat(this.id),I.id="".concat(T,"Title").concat(this.id),z(I,u.title?Fi(Array.isArray(u.title)?u.title[0]:u.title):F),z(D,u.navbar?Fi(u.navbar):F),ei(P,F,!u.button),u.keyboard&&P.setAttribute("tabindex",0),u.backdrop&&(z(S,"".concat(T,"-backdrop")),!u.inline&&u.backdrop!=="static"&&es(B,_r,"hide")),H(u.className)&&u.className&&u.className.split(k).forEach(function(ae){z(S,ae)}),u.toolbar){var Z=document.createElement("ul"),be=yt(u.toolbar),fe=$.slice(0,3),ce=$.slice(7,9),Fe=$.slice(9);be||z(N,Fi(u.toolbar)),te(be?u.toolbar:$,function(ae,wt){var nr=be&&yt(ae),pt=be?Qn(wt):ae,sr=nr&&!de(ae.show)?ae.show:ae;if(!(!sr||!u.zoomable&&fe.indexOf(pt)!==-1||!u.rotatable&&ce.indexOf(pt)!==-1||!u.scalable&&Fe.indexOf(pt)!==-1)){var ti=nr&&!de(ae.size)?ae.size:ae,Rr=nr&&!de(ae.click)?ae.click:ae,Et=document.createElement("li");u.keyboard&&Et.setAttribute("tabindex",0),Et.setAttribute("role","button"),z(Et,"".concat(T,"-").concat(pt)),K(Rr)||es(Et,_r,pt),V(sr)&&z(Et,Fi(sr)),["small","large"].indexOf(ti)!==-1?z(Et,"".concat(T,"-").concat(ti)):pt==="play"&&z(Et,"".concat(T,"-large")),K(Rr)&&W(Et,Pe,Rr),Z.appendChild(Et)}}),N.appendChild(Z)}else z(N,F);if(!u.rotatable){var He=N.querySelectorAll('li[class*="rotate"]');z(He,J),te(He,function(ae){N.appendChild(ae)})}if(u.inline)z(P,_),je(S,{zIndex:u.zIndexInline}),window.getComputedStyle(m).position==="static"&&je(m,{position:"relative"}),m.insertBefore(S,d.nextSibling);else{z(P,h),z(S,E),z(S,w),z(S,F),je(S,{zIndex:u.zIndex});var qe=u.container;H(qe)&&(qe=d.ownerDocument.querySelector(qe)),qe||(qe=this.body),qe.appendChild(S)}if(u.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,K(u.ready)&&W(d,Pt,u.ready,{once:!0}),ve(d,Pt)===!1){this.ready=!1;return}this.ready&&u.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=xh,p}},{key:"setDefaults",value:function(d){_e(f,yt(d)&&d)}}])}();return _e(qa.prototype,bh,yh,wh,Eh,Sh),qa})});var zs={};Rh(zs,{FetchEnctype:()=>$t,FetchMethod:()=>We,FetchRequest:()=>Ht,FetchResponse:()=>Nr,FrameElement:()=>Xe,FrameLoadingStyle:()=>ar,FrameRenderer:()=>Br,PageRenderer:()=>$r,PageSnapshot:()=>Ye,StreamActions:()=>qs,StreamElement:()=>Gi,StreamSourceElement:()=>Ji,cache:()=>fl,clearCache:()=>bl,config:()=>Ae,connectStreamSource:()=>Vs,disconnectStreamSource:()=>Hs,fetch:()=>Fs,fetchEnctypeFromString:()=>ll,fetchMethodFromString:()=>Qi,isSafe:()=>en,navigator:()=>pl,registerAdapter:()=>ml,renderStreamMessage:()=>vl,session:()=>pe,setConfirmMethod:()=>wl,setFormMode:()=>El,setProgressBarDelay:()=>yl,start:()=>$s,visit:()=>gl});(function(t){if(typeof t.requestSubmit=="function")return;t.requestSubmit=function(i){i?(e(i,this),i.click()):(i=document.createElement("input"),i.type="submit",i.hidden=!0,this.appendChild(i),i.click(),this.removeChild(i))};function e(i,n){i instanceof HTMLElement||r(TypeError,"parameter 1 is not of type 'HTMLElement'"),i.type=="submit"||r(TypeError,"The specified element is not a submit button"),i.form==n||r(DOMException,"The specified element is not owned by this form element","NotFoundError")}function r(i,n,s){throw new i("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+n+".",s)}})(HTMLFormElement.prototype);var Za=new WeakMap;function Ih(t){let e=t instanceof Element?t:t instanceof Node?t.parentElement:null,r=e?e.closest("input, button"):null;return r?.type=="submit"?r:null}function Dh(t){let e=Ih(t.target);e&&e.form&&Za.set(e.form,e)}(function(){if("submitter"in Event.prototype)return;let t=window.Event.prototype;if("SubmitEvent"in window){let e=window.SubmitEvent.prototype;if(/Apple Computer/.test(navigator.vendor)&&!("submitter"in e))t=e;else return}addEventListener("click",Dh,!0),Object.defineProperty(t,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return Za.get(this.target)}})})();var ar={eager:"eager",lazy:"lazy"},Xe=class t extends HTMLElement{static delegateConstructor=void 0;loaded=Promise.resolve();static get observedAttributes(){return["disabled","loading","src"]}constructor(){super(),this.delegate=new t.delegateConstructor(this)}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(e){e=="loading"?this.delegate.loadingStyleChanged():e=="src"?this.delegate.sourceURLChanged():e=="disabled"&&this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(e){e?this.setAttribute("src",e):this.removeAttribute("src")}get refresh(){return this.getAttribute("refresh")}set refresh(e){e?this.setAttribute("refresh",e):this.removeAttribute("refresh")}get shouldReloadWithMorph(){return this.src&&this.refresh==="morph"}get loading(){return Nh(this.getAttribute("loading")||"")}set loading(e){e?this.setAttribute("loading",e):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(e){e?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){return this.ownerDocument?.documentElement?.hasAttribute("data-turbo-preview")}};function Nh(t){switch(t.toLowerCase()){case"lazy":return ar.lazy;default:return ar.eager}}var Fh={enabled:!0,progressBarDelay:500,unvisitableExtensions:new Set([".7z",".aac",".apk",".avi",".bmp",".bz2",".css",".csv",".deb",".dmg",".doc",".docx",".exe",".gif",".gz",".heic",".heif",".ico",".iso",".jpeg",".jpg",".js",".json",".m4a",".mkv",".mov",".mp3",".mp4",".mpeg",".mpg",".msi",".ogg",".ogv",".pdf",".pkg",".png",".ppt",".pptx",".rar",".rtf",".svg",".tar",".tif",".tiff",".txt",".wav",".webm",".webp",".wma",".wmv",".xls",".xlsx",".xml",".zip"])};function ii(t){if(t.getAttribute("data-turbo-eval")=="false")return t;{let e=document.createElement("script"),r=rl();return r&&(e.nonce=r),e.textContent=t.textContent,e.async=!1,Bh(e,t),e}}function Bh(t,e){for(let{name:r,value:i}of e.attributes)t.setAttribute(r,i)}function $h(t){let e=document.createElement("template");return e.innerHTML=t,e.content}function ue(t,{target:e,cancelable:r,detail:i}={}){let n=new CustomEvent(t,{cancelable:r,bubbles:!0,composed:!0,detail:i});return e&&e.isConnected?e.dispatchEvent(n):document.documentElement.dispatchEvent(n),n}function za(t){t.preventDefault(),t.stopImmediatePropagation()}function ri(){return document.visibilityState==="hidden"?Ja():Ga()}function Ga(){return new Promise(t=>requestAnimationFrame(()=>t()))}function Ja(){return new Promise(t=>setTimeout(()=>t(),0))}function Vh(){return Promise.resolve()}function Qa(t=""){return new DOMParser().parseFromString(t,"text/html")}function el(t,...e){let r=Hh(t,e).replace(/^\n/,"").split(`
`),i=r[0].match(/^\s+/),n=i?i[0].length:0;return r.map(s=>s.slice(n)).join(`
`)}function Hh(t,e){return t.reduce((r,i,n)=>{let s=e[n]==null?"":e[n];return r+i+s},"")}function Vt(){return Array.from({length:36}).map((t,e)=>e==8||e==13||e==18||e==23?"-":e==14?"4":e==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)).join("")}function Hi(t,...e){for(let r of e.map(i=>i?.getAttribute(t)))if(typeof r=="string")return r;return null}function qh(t,...e){return e.some(r=>r&&r.hasAttribute(t))}function qi(...t){for(let e of t)e.localName=="turbo-frame"&&e.setAttribute("busy",""),e.setAttribute("aria-busy","true")}function zi(...t){for(let e of t)e.localName=="turbo-frame"&&e.removeAttribute("busy"),e.removeAttribute("aria-busy")}function zh(t,e=2e3){return new Promise(r=>{let i=()=>{t.removeEventListener("error",i),t.removeEventListener("load",i),r()};t.addEventListener("load",i,{once:!0}),t.addEventListener("error",i,{once:!0}),setTimeout(r,e)})}function tl(t){switch(t){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function jh(t){return t=="advance"||t=="replace"||t=="restore"}function lr(...t){let e=Hi("data-turbo-action",...t);return jh(e)?e:null}function Is(t){return document.querySelector(`meta[name="${t}"]`)}function ji(t){let e=Is(t);return e&&e.content}function rl(){let t=Is("csp-nonce");if(t){let{nonce:e,content:r}=t;return e==""?r:e}}function Wh(t,e){let r=Is(t);return r||(r=document.createElement("meta"),r.setAttribute("name",t),document.head.appendChild(r)),r.setAttribute("content",e),r}function Ir(t,e){if(t instanceof Element)return t.closest(e)||Ir(t.assignedSlot||t.getRootNode()?.host,e)}function Ds(t){return!!t&&t.closest("[inert], :disabled, [hidden], details:not([open]), dialog:not([open])")==null&&typeof t.focus=="function"}function il(t){return Array.from(t.querySelectorAll("[autofocus]")).find(Ds)}async function Uh(t,e){let r=e();t(),await Ga();let i=e();return[r,i]}function nl(t){if(t==="_blank")return!1;if(t){for(let e of document.getElementsByName(t))if(e instanceof HTMLIFrameElement)return!1;return!0}else return!0}function sl(t){return Ir(t,"a[href]:not([target^=_]):not([download])")}function ol(t){return Le(t.getAttribute("href")||"")}function Kh(t,e){let r=null;return(...i)=>{let n=()=>t.apply(this,i);clearTimeout(r),r=setTimeout(n,e)}}var Yh={"aria-disabled":{beforeSubmit:t=>{t.setAttribute("aria-disabled","true"),t.addEventListener("click",za)},afterSubmit:t=>{t.removeAttribute("aria-disabled"),t.removeEventListener("click",za)}},disabled:{beforeSubmit:t=>t.disabled=!0,afterSubmit:t=>t.disabled=!1}},is=class{#e=null;constructor(e){Object.assign(this,e)}get submitter(){return this.#e}set submitter(e){this.#e=Yh[e]||e}},Xh=new is({mode:"on",submitter:"disabled"}),Ae={drive:Fh,forms:Xh};function Le(t){return new URL(t.toString(),document.baseURI)}function cr(t){let e;if(t.hash)return t.hash.slice(1);if(e=t.href.match(/#(.*)$/))return e[1]}function Ns(t,e){let r=e?.getAttribute("formaction")||t.getAttribute("action")||t.action;return Le(r)}function Zh(t){return(ed(t).match(/\.[^.]*$/)||[])[0]||""}function Gh(t,e){let r=td(e);return t.href===Le(r).href||t.href.startsWith(r)}function Bt(t,e){return Gh(t,e)&&!Ae.drive.unvisitableExtensions.has(Zh(t))}function ns(t){let e=cr(t);return e!=null?t.href.slice(0,-(e.length+1)):t.href}function $i(t){return ns(t)}function Jh(t,e){return Le(t).href==Le(e).href}function Qh(t){return t.pathname.split("/").slice(1)}function ed(t){return Qh(t).slice(-1)[0]}function td(t){return rd(t.origin+t.pathname)}function rd(t){return t.endsWith("/")?t:t+"/"}var Nr=class{constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return Le(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(e){return this.response.headers.get(e)}},ss=class extends Set{constructor(e){super(),this.maxSize=e}add(e){if(this.size>=this.maxSize){let i=this.values().next().value;this.delete(i)}super.add(e)}},al=new ss(20),id=window.fetch;function Fs(t,e={}){let r=new Headers(e.headers||{}),i=Vt();return al.add(i),r.append("X-Turbo-Request-Id",i),id(t,{...e,headers:r})}function Qi(t){switch(t.toLowerCase()){case"get":return We.get;case"post":return We.post;case"put":return We.put;case"patch":return We.patch;case"delete":return We.delete}}var We={get:"get",post:"post",put:"put",patch:"patch",delete:"delete"};function ll(t){switch(t.toLowerCase()){case $t.multipart:return $t.multipart;case $t.plain:return $t.plain;default:return $t.urlEncoded}}var $t={urlEncoded:"application/x-www-form-urlencoded",multipart:"multipart/form-data",plain:"text/plain"},Ht=class{abortController=new AbortController;#e=e=>{};constructor(e,r,i,n=new URLSearchParams,s=null,o=$t.urlEncoded){let[a,c]=ja(Le(i),r,n,o);this.delegate=e,this.url=a,this.target=s,this.fetchOptions={credentials:"same-origin",redirect:"follow",method:r.toUpperCase(),headers:{...this.defaultHeaders},body:c,signal:this.abortSignal,referrer:this.delegate.referrer?.href},this.enctype=o}get method(){return this.fetchOptions.method}set method(e){let r=this.isSafe?this.url.searchParams:this.fetchOptions.body||new FormData,i=Qi(e)||We.get;this.url.search="";let[n,s]=ja(this.url,i,r,this.enctype);this.url=n,this.fetchOptions.body=s,this.fetchOptions.method=i.toUpperCase()}get headers(){return this.fetchOptions.headers}set headers(e){this.fetchOptions.headers=e}get body(){return this.isSafe?this.url.searchParams:this.fetchOptions.body}set body(e){this.fetchOptions.body=e}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){let{fetchOptions:e}=this;this.delegate.prepareRequest(this);let r=await this.#t(e);try{this.delegate.requestStarted(this),r.detail.fetchRequest?this.response=r.detail.fetchRequest.response:this.response=Fs(this.url.href,e);let i=await this.response;return await this.receive(i)}catch(i){if(i.name!=="AbortError")throw this.#r(i)&&this.delegate.requestErrored(this,i),i}finally{this.delegate.requestFinished(this)}}async receive(e){let r=new Nr(e);return ue("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:r},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,r):r.succeeded?this.delegate.requestSucceededWithResponse(this,r):this.delegate.requestFailedWithResponse(this,r),r}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return en(this.method)}get abortSignal(){return this.abortController.signal}acceptResponseType(e){this.headers.Accept=[e,this.headers.Accept].join(", ")}async#t(e){let r=new Promise(n=>this.#e=n),i=ue("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:e,url:this.url,resume:this.#e},target:this.target});return this.url=i.detail.url,i.defaultPrevented&&await r,i}#r(e){return!ue("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:e}}).defaultPrevented}};function en(t){return Qi(t)==We.get}function ja(t,e,r,i){let n=Array.from(r).length>0?new URLSearchParams(cl(r)):t.searchParams;return en(e)?[nd(t,n),null]:i==$t.urlEncoded?[t,n]:[t,r]}function cl(t){let e=[];for(let[r,i]of t)i instanceof File||e.push([r,i]);return e}function nd(t,e){let r=new URLSearchParams(cl(e));return t.search=r.toString(),t}var os=class{started=!1;constructor(e,r){this.delegate=e,this.element=r,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}intersect=e=>{e.slice(-1)[0]?.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)}},qt=class{static contentType="text/vnd.turbo-stream.html";static wrap(e){return typeof e=="string"?new this($h(e)):e}constructor(e){this.fragment=sd(e)}};function sd(t){for(let e of t.querySelectorAll("turbo-stream")){let r=document.importNode(e,!0);for(let i of r.templateElement.content.querySelectorAll("script"))i.replaceWith(ii(i));e.replaceWith(r)}return t}var od=100,as=class{#e=null;#t=null;get(e){if(this.#t&&this.#t.url===e&&this.#t.expire>Date.now())return this.#t.request}setLater(e,r,i){this.clear(),this.#e=setTimeout(()=>{r.perform(),this.set(e,r,i),this.#e=null},od)}set(e,r,i){this.#t={url:e,request:r,expire:new Date(new Date().getTime()+i)}}clear(){this.#e&&clearTimeout(this.#e),this.#t=null}},ad=10*1e3,Pr=new as,Mr={initialized:"initialized",requesting:"requesting",waiting:"waiting",receiving:"receiving",stopping:"stopping",stopped:"stopped"},Wi=class t{state=Mr.initialized;static confirmMethod(e){return Promise.resolve(confirm(e))}constructor(e,r,i,n=!1){let s=fd(r,i),o=dd(hd(r,i),s),a=ld(r,i),c=pd(r,i);this.delegate=e,this.formElement=r,this.submitter=i,this.fetchRequest=new Ht(this,s,o,a,r,c),this.mustRedirect=n}get method(){return this.fetchRequest.method}set method(e){this.fetchRequest.method=e}get action(){return this.fetchRequest.url.toString()}set action(e){this.fetchRequest.url=Le(e)}get body(){return this.fetchRequest.body}get enctype(){return this.fetchRequest.enctype}get isSafe(){return this.fetchRequest.isSafe}get location(){return this.fetchRequest.url}async start(){let{initialized:e,requesting:r}=Mr,i=Hi("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof i=="string"&&!await(typeof Ae.forms.confirm=="function"?Ae.forms.confirm:t.confirmMethod)(i,this.formElement,this.submitter))&&this.state==e)return this.state=r,this.fetchRequest.perform()}stop(){let{stopping:e,stopped:r}=Mr;if(this.state!=e&&this.state!=r)return this.state=e,this.fetchRequest.cancel(),!0}prepareRequest(e){if(!e.isSafe){let r=cd(ji("csrf-param"))||ji("csrf-token");r&&(e.headers["X-CSRF-Token"]=r)}this.requestAcceptsTurboStreamResponse(e)&&e.acceptResponseType(qt.contentType)}requestStarted(e){this.state=Mr.waiting,this.submitter&&Ae.forms.submitter.beforeSubmit(this.submitter),this.setSubmitsWith(),qi(this.formElement),ue("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,r){Pr.clear(),this.result={success:r.succeeded,fetchResponse:r}}requestSucceededWithResponse(e,r){if(r.clientError||r.serverError){this.delegate.formSubmissionFailedWithResponse(this,r);return}if(Pr.clear(),this.requestMustRedirect(e)&&ud(r)){let i=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,i)}else this.state=Mr.receiving,this.result={success:!0,fetchResponse:r},this.delegate.formSubmissionSucceededWithResponse(this,r)}requestFailedWithResponse(e,r){this.result={success:!1,fetchResponse:r},this.delegate.formSubmissionFailedWithResponse(this,r)}requestErrored(e,r){this.result={success:!1,error:r},this.delegate.formSubmissionErrored(this,r)}requestFinished(e){this.state=Mr.stopped,this.submitter&&Ae.forms.submitter.afterSubmit(this.submitter),this.resetSubmitterText(),zi(this.formElement),ue("turbo:submit-end",{target:this.formElement,detail:{formSubmission:this,...this.result}}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){let e=this.submitter;this.originalSubmitText=e.value,e.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){let e=this.submitter;e.value=this.originalSubmitText}}}requestMustRedirect(e){return!e.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(e){return!e.isSafe||qh("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){return this.submitter?.getAttribute("data-turbo-submits-with")}};function ld(t,e){let r=new FormData(t),i=e?.getAttribute("name"),n=e?.getAttribute("value");return i&&r.append(i,n||""),r}function cd(t){if(t!=null){let r=(document.cookie?document.cookie.split("; "):[]).find(i=>i.startsWith(t));if(r){let i=r.split("=").slice(1).join("=");return i?decodeURIComponent(i):void 0}}}function ud(t){return t.statusCode==200&&!t.redirected}function hd(t,e){let r=typeof t.action=="string"?t.action:null;return e?.hasAttribute("formaction")?e.getAttribute("formaction")||"":t.getAttribute("action")||r||""}function dd(t,e){let r=Le(t);return en(e)&&(r.search=""),r}function fd(t,e){let r=e?.getAttribute("formmethod")||t.getAttribute("method")||"";return Qi(r.toLowerCase())||We.get}function pd(t,e){return ll(e?.getAttribute("formenctype")||t.enctype)}var Fr=class{constructor(e){this.element=e}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(e){return this.getElementForAnchor(e)!=null}getElementForAnchor(e){return e?this.element.querySelector(`[id='${e}'], a[name='${e}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){return il(this.element)}get permanentElements(){return hl(this.element)}getPermanentElementById(e){return ul(this.element,e)}getPermanentElementMapForSnapshot(e){let r={};for(let i of this.permanentElements){let{id:n}=i,s=e.getPermanentElementById(n);s&&(r[n]=[i,s])}return r}};function ul(t,e){return t.querySelector(`#${e}[data-turbo-permanent]`)}function hl(t){return t.querySelectorAll("[id][data-turbo-permanent]")}var ni=class{started=!1;constructor(e,r){this.delegate=e,this.eventTarget=r}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}submitCaptured=()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)};submitBubbled=e=>{if(!e.defaultPrevented){let r=e.target instanceof HTMLFormElement?e.target:void 0,i=e.submitter||void 0;r&&md(r,i)&&gd(r,i)&&this.delegate.willSubmitForm(r,i)&&(e.preventDefault(),e.stopImmediatePropagation(),this.delegate.formSubmitted(r,i))}}};function md(t,e){return(e?.getAttribute("formmethod")||t.getAttribute("method"))!="dialog"}function gd(t,e){let r=e?.getAttribute("formtarget")||t.getAttribute("target");return nl(r)}var Ui=class{#e=e=>{};#t=e=>{};constructor(e,r){this.delegate=e,this.element=r}scrollToAnchor(e){let r=this.snapshot.getElementForAnchor(e);r?(this.scrollToElement(r),this.focusElement(r)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(e){this.scrollToAnchor(cr(e))}scrollToElement(e){e.scrollIntoView()}focusElement(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))}scrollToPosition({x:e,y:r}){this.scrollRoot.scrollTo(e,r)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(e){let{isPreview:r,shouldRender:i,willRender:n,newSnapshot:s}=e,o=n;if(i)try{this.renderPromise=new Promise(g=>this.#e=g),this.renderer=e,await this.prepareToRenderSnapshot(e);let a=new Promise(g=>this.#t=g),c={resume:this.#t,render:this.renderer.renderElement,renderMethod:this.renderer.renderMethod};this.delegate.allowsImmediateRender(s,c)||await a,await this.renderSnapshot(e),this.delegate.viewRenderedSnapshot(s,r,this.renderer.renderMethod),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(e)}finally{delete this.renderer,this.#e(void 0),delete this.renderPromise}else o&&this.invalidate(e.reloadReason)}invalidate(e){this.delegate.viewInvalidated(e)}async prepareToRenderSnapshot(e){this.markAsPreview(e.isPreview),await e.prepareToRender()}markAsPreview(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}markVisitDirection(e){this.element.setAttribute("data-turbo-visit-direction",e)}unmarkVisitDirection(){this.element.removeAttribute("data-turbo-visit-direction")}async renderSnapshot(e){await e.render()}finishRenderingSnapshot(e){e.finishRendering()}},ls=class extends Ui{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new Fr(this.element)}},Ki=class{constructor(e,r){this.delegate=e,this.element=r}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}clickBubbled=e=>{this.clickEventIsSignificant(e)?this.clickEvent=e:delete this.clickEvent};linkClicked=e=>{this.clickEvent&&this.clickEventIsSignificant(e)&&this.delegate.shouldInterceptLinkClick(e.target,e.detail.url,e.detail.originalEvent)&&(this.clickEvent.preventDefault(),e.preventDefault(),this.delegate.linkClickIntercepted(e.target,e.detail.url,e.detail.originalEvent)),delete this.clickEvent};willVisit=e=>{delete this.clickEvent};clickEventIsSignificant(e){let r=e.composed?e.target?.parentElement:e.target,i=sl(r)||r;return i instanceof Element&&i.closest("turbo-frame, html")==this.element}},Yi=class{started=!1;constructor(e,r){this.delegate=e,this.eventTarget=r}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickCaptured=()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)};clickBubbled=e=>{if(e instanceof MouseEvent&&this.clickEventIsSignificant(e)){let r=e.composedPath&&e.composedPath()[0]||e.target,i=sl(r);if(i&&nl(i.target)){let n=ol(i);this.delegate.willFollowLinkToLocation(i,n,e)&&(e.preventDefault(),this.delegate.followedLinkToLocation(i,n))}}};clickEventIsSignificant(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}},Xi=class{constructor(e,r){this.delegate=e,this.linkInterceptor=new Yi(this,r)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}canPrefetchRequestToLocation(e,r){return!1}prefetchAndCacheRequestToLocation(e,r){}willFollowLinkToLocation(e,r,i){return this.delegate.willSubmitFormLinkToLocation(e,r,i)&&(e.hasAttribute("data-turbo-method")||e.hasAttribute("data-turbo-stream"))}followedLinkToLocation(e,r){let i=document.createElement("form"),n="hidden";for(let[C,v]of r.searchParams)i.append(Object.assign(document.createElement("input"),{type:n,name:C,value:v}));let s=Object.assign(r,{search:""});i.setAttribute("data-turbo","true"),i.setAttribute("action",s.href),i.setAttribute("hidden","");let o=e.getAttribute("data-turbo-method");o&&i.setAttribute("method",o);let a=e.getAttribute("data-turbo-frame");a&&i.setAttribute("data-turbo-frame",a);let c=lr(e);c&&i.setAttribute("data-turbo-action",c);let f=e.getAttribute("data-turbo-confirm");f&&i.setAttribute("data-turbo-confirm",f),e.hasAttribute("data-turbo-stream")&&i.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(e,r,i),document.body.appendChild(i),i.addEventListener("turbo:submit-end",()=>i.remove(),{once:!0}),requestAnimationFrame(()=>i.requestSubmit())}},Zi=class{static async preservingPermanentElements(e,r,i){let n=new this(e,r);n.enter(),await i(),n.leave()}constructor(e,r){this.delegate=e,this.permanentElementMap=r}enter(){for(let e in this.permanentElementMap){let[r,i]=this.permanentElementMap[e];this.delegate.enteringBardo(r,i),this.replaceNewPermanentElementWithPlaceholder(i)}}leave(){for(let e in this.permanentElementMap){let[r]=this.permanentElementMap[e];this.replaceCurrentPermanentElementWithClone(r),this.replacePlaceholderWithPermanentElement(r),this.delegate.leavingBardo(r)}}replaceNewPermanentElementWithPlaceholder(e){let r=vd(e);e.replaceWith(r)}replaceCurrentPermanentElementWithClone(e){let r=e.cloneNode(!0);e.replaceWith(r)}replacePlaceholderWithPermanentElement(e){this.getPlaceholderById(e.id)?.replaceWith(e)}getPlaceholderById(e){return this.placeholders.find(r=>r.content==e)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}};function vd(t){let e=document.createElement("meta");return e.setAttribute("name","turbo-permanent-placeholder"),e.setAttribute("content",t.id),e}var si=class{#e=null;static renderElement(e,r){}constructor(e,r,i,n=!0){this.currentSnapshot=e,this.newSnapshot=r,this.isPreview=i,this.willRender=n,this.renderElement=this.constructor.renderElement,this.promise=new Promise((s,o)=>this.resolvingFunctions={resolve:s,reject:o})}get shouldRender(){return!0}get shouldAutofocus(){return!0}get reloadReason(){}prepareToRender(){}render(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(e){await Zi.preservingPermanentElements(this,this.permanentElementMap,e)}focusFirstAutofocusableElement(){if(this.shouldAutofocus){let e=this.connectedSnapshot.firstAutofocusableElement;e&&e.focus()}}enteringBardo(e){this.#e||e.contains(this.currentSnapshot.activeElement)&&(this.#e=this.currentSnapshot.activeElement)}leavingBardo(e){e.contains(this.#e)&&this.#e instanceof HTMLElement&&(this.#e.focus(),this.#e=null)}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}get renderMethod(){return"replace"}},Br=class extends si{static renderElement(e,r){let i=document.createRange();i.selectNodeContents(e),i.deleteContents();let n=r,s=n.ownerDocument?.createRange();s&&(s.selectNodeContents(n),e.appendChild(s.extractContents()))}constructor(e,r,i,n,s,o=!0){super(r,i,n,s,o),this.delegate=e}get shouldRender(){return!0}async render(){await ri(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await ri(),this.focusFirstAutofocusableElement(),await ri(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){let e=this.currentElement.firstElementChild,r=bd(this.currentElement.getAttribute("data-autoscroll-block"),"end"),i=yd(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(e)return e.scrollIntoView({block:r,behavior:i}),!0}return!1}activateScriptElements(){for(let e of this.newScriptElements){let r=ii(e);e.replaceWith(r)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}};function bd(t,e){return t=="end"||t=="start"||t=="center"||t=="nearest"?t:e}function yd(t,e){return t=="auto"||t=="smooth"?t:e}var wd=function(){let t=()=>{},e={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:t,afterNodeAdded:t,beforeNodeMorphed:t,afterNodeMorphed:t,beforeNodeRemoved:t,afterNodeRemoved:t,beforeAttributeUpdated:t},head:{style:"merge",shouldPreserve:v=>v.getAttribute("im-preserve")==="true",shouldReAppend:v=>v.getAttribute("im-re-append")==="true",shouldRemove:t,afterHeadMorphed:t},restoreFocus:!0};function r(v,O,R={}){v=g(v);let T=C(O),x=f(v,T,R),L=n(x,()=>a(x,v,T,y=>y.morphStyle==="innerHTML"?(s(y,v,T),Array.from(v.childNodes)):i(y,v,T)));return x.pantry.remove(),L}function i(v,O,R){let T=C(O),x=Array.from(T.childNodes),L=x.indexOf(O),y=x.length-(L+1);return s(v,T,R,O,O.nextSibling),x=Array.from(T.childNodes),x.slice(L,x.length-y)}function n(v,O){if(!v.config.restoreFocus)return O();let R=document.activeElement;if(!(R instanceof HTMLInputElement||R instanceof HTMLTextAreaElement))return O();let{id:T,selectionStart:x,selectionEnd:L}=R,y=O();return T&&T!==document.activeElement?.id&&(R=v.target.querySelector(`#${T}`),R?.focus()),R&&!R.selectionEnd&&L&&R.setSelectionRange(x,L),y}let s=function(){function v(h,w,E,_=null,M=null){w instanceof HTMLTemplateElement&&E instanceof HTMLTemplateElement&&(w=w.content,E=E.content),_||=w.firstChild;for(let F of E.childNodes){if(_&&_!=M){let j=R(h,F,_,M);if(j){j!==_&&x(h,_,j),o(j,F,h),_=j.nextSibling;continue}}if(F instanceof Element&&h.persistentIds.has(F.id)){let j=L(w,F.id,_,h);o(j,F,h),_=j.nextSibling;continue}let q=O(w,F,_,h);q&&(_=q.nextSibling)}for(;_&&_!=M;){let F=_;_=_.nextSibling,T(h,F)}}function O(h,w,E,_){if(_.callbacks.beforeNodeAdded(w)===!1)return null;if(_.idMap.has(w)){let M=document.createElement(w.tagName);return h.insertBefore(M,E),o(M,w,_),_.callbacks.afterNodeAdded(M),M}else{let M=document.importNode(w,!0);return h.insertBefore(M,E),_.callbacks.afterNodeAdded(M),M}}let R=function(){function h(_,M,F,q){let j=null,G=M.nextSibling,U=0,J=F;for(;J&&J!=q;){if(E(J,M)){if(w(_,J,M))return J;j===null&&(_.idMap.has(J)||(j=J))}if(j===null&&G&&E(J,G)&&(U++,G=G.nextSibling,U>=2&&(j=void 0)),J.contains(document.activeElement))break;J=J.nextSibling}return j||null}function w(_,M,F){let q=_.idMap.get(M),j=_.idMap.get(F);if(!j||!q)return!1;for(let G of q)if(j.has(G))return!0;return!1}function E(_,M){let F=_,q=M;return F.nodeType===q.nodeType&&F.tagName===q.tagName&&(!F.id||F.id===q.id)}return h}();function T(h,w){if(h.idMap.has(w))A(h.pantry,w,null);else{if(h.callbacks.beforeNodeRemoved(w)===!1)return;w.parentNode?.removeChild(w),h.callbacks.afterNodeRemoved(w)}}function x(h,w,E){let _=w;for(;_&&_!==E;){let M=_;_=_.nextSibling,T(h,M)}return _}function L(h,w,E,_){let M=_.target.querySelector(`#${w}`)||_.pantry.querySelector(`#${w}`);return y(M,_),A(h,M,E),M}function y(h,w){let E=h.id;for(;h=h.parentNode;){let _=w.idMap.get(h);_&&(_.delete(E),_.size||w.idMap.delete(h))}}function A(h,w,E){if(h.moveBefore)try{h.moveBefore(w,E)}catch{h.insertBefore(w,E)}else h.insertBefore(w,E)}return v}(),o=function(){function v(y,A,h){return h.ignoreActive&&y===document.activeElement?null:(h.callbacks.beforeNodeMorphed(y,A)===!1||(y instanceof HTMLHeadElement&&h.head.ignore||(y instanceof HTMLHeadElement&&h.head.style!=="morph"?c(y,A,h):(O(y,A,h),L(y,h)||s(h,y,A))),h.callbacks.afterNodeMorphed(y,A)),y)}function O(y,A,h){let w=A.nodeType;if(w===1){let E=y,_=A,M=E.attributes,F=_.attributes;for(let q of F)x(q.name,E,"update",h)||E.getAttribute(q.name)!==q.value&&E.setAttribute(q.name,q.value);for(let q=M.length-1;0<=q;q--){let j=M[q];if(j&&!_.hasAttribute(j.name)){if(x(j.name,E,"remove",h))continue;E.removeAttribute(j.name)}}L(E,h)||R(E,_,h)}(w===8||w===3)&&y.nodeValue!==A.nodeValue&&(y.nodeValue=A.nodeValue)}function R(y,A,h){if(y instanceof HTMLInputElement&&A instanceof HTMLInputElement&&A.type!=="file"){let w=A.value,E=y.value;T(y,A,"checked",h),T(y,A,"disabled",h),A.hasAttribute("value")?E!==w&&(x("value",y,"update",h)||(y.setAttribute("value",w),y.value=w)):x("value",y,"remove",h)||(y.value="",y.removeAttribute("value"))}else if(y instanceof HTMLOptionElement&&A instanceof HTMLOptionElement)T(y,A,"selected",h);else if(y instanceof HTMLTextAreaElement&&A instanceof HTMLTextAreaElement){let w=A.value,E=y.value;if(x("value",y,"update",h))return;w!==E&&(y.value=w),y.firstChild&&y.firstChild.nodeValue!==w&&(y.firstChild.nodeValue=w)}}function T(y,A,h,w){let E=A[h],_=y[h];if(E!==_){let M=x(h,y,"update",w);M||(y[h]=A[h]),E?M||y.setAttribute(h,""):x(h,y,"remove",w)||y.removeAttribute(h)}}function x(y,A,h,w){return y==="value"&&w.ignoreActiveValue&&A===document.activeElement?!0:w.callbacks.beforeAttributeUpdated(y,A,h)===!1}function L(y,A){return!!A.ignoreActiveValue&&y===document.activeElement&&y!==document.body}return v}();function a(v,O,R,T){if(v.head.block){let x=O.querySelector("head"),L=R.querySelector("head");if(x&&L){let y=c(x,L,v);return Promise.all(y).then(()=>{let A=Object.assign(v,{head:{block:!1,ignore:!0}});return T(A)})}}return T(v)}function c(v,O,R){let T=[],x=[],L=[],y=[],A=new Map;for(let w of O.children)A.set(w.outerHTML,w);for(let w of v.children){let E=A.has(w.outerHTML),_=R.head.shouldReAppend(w),M=R.head.shouldPreserve(w);E||M?_?x.push(w):(A.delete(w.outerHTML),L.push(w)):R.head.style==="append"?_&&(x.push(w),y.push(w)):R.head.shouldRemove(w)!==!1&&x.push(w)}y.push(...A.values());let h=[];for(let w of y){let E=document.createRange().createContextualFragment(w.outerHTML).firstChild;if(R.callbacks.beforeNodeAdded(E)!==!1){if("href"in E&&E.href||"src"in E&&E.src){let _,M=new Promise(function(F){_=F});E.addEventListener("load",function(){_()}),h.push(M)}v.appendChild(E),R.callbacks.afterNodeAdded(E),T.push(E)}}for(let w of x)R.callbacks.beforeNodeRemoved(w)!==!1&&(v.removeChild(w),R.callbacks.afterNodeRemoved(w));return R.head.afterHeadMorphed(v,{added:T,kept:L,removed:x}),h}let f=function(){function v(A,h,w){let{persistentIds:E,idMap:_}=L(A,h),M=O(w),F=M.morphStyle||"outerHTML";if(!["innerHTML","outerHTML"].includes(F))throw`Do not understand how to morph style ${F}`;return{target:A,newContent:h,config:M,morphStyle:F,ignoreActive:M.ignoreActive,ignoreActiveValue:M.ignoreActiveValue,restoreFocus:M.restoreFocus,idMap:_,persistentIds:E,pantry:R(),callbacks:M.callbacks,head:M.head}}function O(A){let h=Object.assign({},e);return Object.assign(h,A),h.callbacks=Object.assign({},e.callbacks,A.callbacks),h.head=Object.assign({},e.head,A.head),h}function R(){let A=document.createElement("div");return A.hidden=!0,document.body.insertAdjacentElement("afterend",A),A}function T(A){let h=Array.from(A.querySelectorAll("[id]"));return A.id&&h.push(A),h}function x(A,h,w,E){for(let _ of E)if(h.has(_.id)){let M=_;for(;M;){let F=A.get(M);if(F==null&&(F=new Set,A.set(M,F)),F.add(_.id),M===w)break;M=M.parentElement}}}function L(A,h){let w=T(A),E=T(h),_=y(w,E),M=new Map;x(M,_,A,w);let F=h.__idiomorphRoot||h;return x(M,_,F,E),{persistentIds:_,idMap:M}}function y(A,h){let w=new Set,E=new Map;for(let{id:M,tagName:F}of A)E.has(M)?w.add(M):E.set(M,F);let _=new Set;for(let{id:M,tagName:F}of h)_.has(M)?w.add(M):E.get(M)===F&&_.add(M);for(let M of w)_.delete(M);return _}return v}(),{normalizeElement:g,normalizeParent:C}=function(){let v=new WeakSet;function O(L){return L instanceof Document?L.documentElement:L}function R(L){if(L==null)return document.createElement("div");if(typeof L=="string")return R(x(L));if(v.has(L))return L;if(L instanceof Node){if(L.parentNode)return T(L);{let y=document.createElement("div");return y.append(L),y}}else{let y=document.createElement("div");for(let A of[...L])y.append(A);return y}}function T(L){return{childNodes:[L],querySelectorAll:y=>{let A=L.querySelectorAll(y);return L.matches(y)?[L,...A]:A},insertBefore:(y,A)=>L.parentNode.insertBefore(y,A),moveBefore:(y,A)=>L.parentNode.moveBefore(y,A),get __idiomorphRoot(){return L}}}function x(L){let y=new DOMParser,A=L.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(A.match(/<\/html>/)||A.match(/<\/head>/)||A.match(/<\/body>/)){let h=y.parseFromString(L,"text/html");if(A.match(/<\/html>/))return v.add(h),h;{let w=h.firstChild;return w&&v.add(w),w}}else{let w=y.parseFromString("<body><template>"+L+"</template></body>","text/html").body.querySelector("template").content;return v.add(w),w}}return{normalizeElement:O,normalizeParent:R}}();return{morph:r,defaults:e}}();function Bs(t,e,{callbacks:r,...i}={}){wd.morph(t,e,{...i,callbacks:new cs(r)})}function dl(t,e){Bs(t,e.childNodes,{morphStyle:"innerHTML"})}var cs=class{#e;constructor({beforeNodeMorphed:e}={}){this.#e=e||(()=>!0)}beforeNodeAdded=e=>!(e.id&&e.hasAttribute("data-turbo-permanent")&&document.getElementById(e.id));beforeNodeMorphed=(e,r)=>{if(e instanceof Element)return!e.hasAttribute("data-turbo-permanent")&&this.#e(e,r)?!ue("turbo:before-morph-element",{cancelable:!0,target:e,detail:{currentElement:e,newElement:r}}).defaultPrevented:!1};beforeAttributeUpdated=(e,r,i)=>!ue("turbo:before-morph-attribute",{cancelable:!0,target:r,detail:{attributeName:e,mutationType:i}}).defaultPrevented;beforeNodeRemoved=e=>this.beforeNodeMorphed(e);afterNodeMorphed=(e,r)=>{e instanceof Element&&ue("turbo:morph-element",{target:e,detail:{currentElement:e,newElement:r}})}},us=class extends Br{static renderElement(e,r){ue("turbo:before-frame-morph",{target:e,detail:{currentElement:e,newElement:r}}),dl(e,r)}async preservingPermanentElements(e){return await e()}},hs=class t{static animationDuration=300;static get defaultCSS(){return el`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${t.animationDuration}ms ease-out,
          opacity ${t.animationDuration/2}ms ${t.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}hiding=!1;value=0;visible=!1;constructor(){this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity="0",setTimeout(e,t.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,t.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}trickle=()=>{this.setValue(this.value+Math.random()/100)};refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){let e=document.createElement("style");e.type="text/css",e.textContent=t.defaultCSS;let r=rl();return r&&(e.nonce=r),e}createProgressElement(){let e=document.createElement("div");return e.className="turbo-progress-bar",e}},ds=class extends Fr{detailsByOuterHTML=this.children.filter(e=>!Td(e)).map(e=>Cd(e)).reduce((e,r)=>{let{outerHTML:i}=r,n=i in e?e[i]:{type:Ed(r),tracked:Sd(r),elements:[]};return{...e,[i]:{...n,elements:[...n.elements,r]}}},{});get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(e=>this.detailsByOuterHTML[e].tracked).join("")}getScriptElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("script",e)}getStylesheetElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",e)}getElementsMatchingTypeNotInSnapshot(e,r){return Object.keys(this.detailsByOuterHTML).filter(i=>!(i in r.detailsByOuterHTML)).map(i=>this.detailsByOuterHTML[i]).filter(({type:i})=>i==e).map(({elements:[i]})=>i)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((e,r)=>{let{type:i,tracked:n,elements:s}=this.detailsByOuterHTML[r];return i==null&&!n?[...e,...s]:s.length>1?[...e,...s.slice(1)]:e},[])}getMetaValue(e){let r=this.findMetaElementByName(e);return r?r.getAttribute("content"):null}findMetaElementByName(e){return Object.keys(this.detailsByOuterHTML).reduce((r,i)=>{let{elements:[n]}=this.detailsByOuterHTML[i];return kd(n,e)?n:r},void 0|void 0)}};function Ed(t){if(xd(t))return"script";if(Ad(t))return"stylesheet"}function Sd(t){return t.getAttribute("data-turbo-track")=="reload"}function xd(t){return t.localName=="script"}function Td(t){return t.localName=="noscript"}function Ad(t){let e=t.localName;return e=="style"||e=="link"&&t.getAttribute("rel")=="stylesheet"}function kd(t,e){return t.localName=="meta"&&t.getAttribute("name")==e}function Cd(t){return t.hasAttribute("nonce")&&t.setAttribute("nonce",""),t}var Ye=class t extends Fr{static fromHTMLString(e=""){return this.fromDocument(Qa(e))}static fromElement(e){return this.fromDocument(e.ownerDocument)}static fromDocument({documentElement:e,body:r,head:i}){return new this(e,r,new ds(i))}constructor(e,r,i){super(r),this.documentElement=e,this.headSnapshot=i}clone(){let e=this.element.cloneNode(!0),r=this.element.querySelectorAll("select"),i=e.querySelectorAll("select");for(let[n,s]of r.entries()){let o=i[n];for(let a of o.selectedOptions)a.selected=!1;for(let a of s.selectedOptions)o.options[a.index].selected=!0}for(let n of e.querySelectorAll('input[type="password"]'))n.value="";return new t(this.documentElement,e,this.headSnapshot)}get lang(){return this.documentElement.getAttribute("lang")}get headElement(){return this.headSnapshot.element}get rootLocation(){let e=this.getSetting("root")??"/";return Le(e)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}get prefersViewTransitions(){return this.headSnapshot.getMetaValue("view-transition")==="same-origin"}get shouldMorphPage(){return this.getSetting("refresh-method")==="morph"}get shouldPreserveScrollPosition(){return this.getSetting("refresh-scroll")==="preserve"}getSetting(e){return this.headSnapshot.getMetaValue(`turbo-${e}`)}},fs=class{#e=!1;#t=Promise.resolve();renderChange(e,r){return e&&this.viewTransitionsAvailable&&!this.#e?(this.#e=!0,this.#t=this.#t.then(async()=>{await document.startViewTransition(r).finished})):this.#t=this.#t.then(r),this.#t}get viewTransitionsAvailable(){return document.startViewTransition}},Od={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1},Vi={visitStart:"visitStart",requestStart:"requestStart",requestEnd:"requestEnd",visitEnd:"visitEnd"},St={initialized:"initialized",started:"started",canceled:"canceled",failed:"failed",completed:"completed"},Dr={networkFailure:0,timeoutFailure:-1,contentTypeMismatch:-2},_d={advance:"forward",restore:"back",replace:"none"},ps=class{identifier=Vt();timingMetrics={};followedRedirect=!1;historyChanged=!1;scrolled=!1;shouldCacheSnapshot=!0;acceptsStreamResponse=!1;snapshotCached=!1;state=St.initialized;viewTransitioner=new fs;constructor(e,r,i,n={}){this.delegate=e,this.location=r,this.restorationIdentifier=i||Vt();let{action:s,historyChanged:o,referrer:a,snapshot:c,snapshotHTML:f,response:g,visitCachedSnapshot:C,willRender:v,updateHistory:O,shouldCacheSnapshot:R,acceptsStreamResponse:T,direction:x}={...Od,...n};this.action=s,this.historyChanged=o,this.referrer=a,this.snapshot=c,this.snapshotHTML=f,this.response=g,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.isPageRefresh=this.view.isPageRefresh(this),this.visitCachedSnapshot=C,this.willRender=v,this.updateHistory=O,this.scrolled=!v,this.shouldCacheSnapshot=R,this.acceptsStreamResponse=T,this.direction=x||_d[s]}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==St.initialized&&(this.recordTimingMetric(Vi.visitStart),this.state=St.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==St.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=St.canceled)}complete(){this.state==St.started&&(this.recordTimingMetric(Vi.visitEnd),this.adapter.visitCompleted(this),this.state=St.completed,this.followRedirect(),this.followedRedirect||this.delegate.visitCompleted(this))}fail(){this.state==St.started&&(this.state=St.failed,this.adapter.visitFailed(this),this.delegate.visitCompleted(this))}changeHistory(){if(!this.historyChanged&&this.updateHistory){let e=this.location.href===this.referrer?.href?"replace":this.action,r=tl(e);this.history.update(r,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new Ht(this,We.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(Vi.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){let{statusCode:r}=e;Wa(r)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,r)}}finishRequest(){this.recordTimingMetric(Vi.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){let{statusCode:e,responseHTML:r}=this.response;this.render(async()=>{if(this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,Wa(e)&&r!=null){let i=Ye.fromHTMLString(r);await this.renderPageSnapshot(i,!1),this.adapter.visitRendered(this),this.complete()}else await this.view.renderError(Ye.fromHTMLString(r),this),this.adapter.visitRendered(this),this.fail()})}}getCachedSnapshot(){let e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!cr(this.location)||e.hasAnchor(cr(this.location)))&&(this.action=="restore"||e.isPreviewable))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return Ye.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){let e=this.getCachedSnapshot();if(e){let r=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage||this.isPageRefresh?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.renderPageSnapshot(e,r),this.adapter.visitRendered(this),r||this.complete())})}}followRedirect(){this.redirectedToLocation&&!this.followedRedirect&&this.response?.redirected&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)})}prepareRequest(e){this.acceptsStreamResponse&&e.acceptResponseType(qt.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,r){}async requestSucceededWithResponse(e,r){let i=await r.responseHTML,{redirected:n,statusCode:s}=r;i==null?this.recordResponse({statusCode:Dr.contentTypeMismatch,redirected:n}):(this.redirectedToLocation=r.redirected?r.location:void 0,this.recordResponse({statusCode:s,responseHTML:i,redirected:n}))}async requestFailedWithResponse(e,r){let i=await r.responseHTML,{redirected:n,statusCode:s}=r;i==null?this.recordResponse({statusCode:Dr.contentTypeMismatch,redirected:n}):this.recordResponse({statusCode:s,responseHTML:i,redirected:n})}requestErrored(e,r){this.recordResponse({statusCode:Dr.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&!this.view.shouldPreserveScrollPosition(this)&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){let{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){let e=cr(this.location);if(e!=null)return this.view.scrollToAnchor(e),!0}recordTimingMetric(e){this.timingMetrics[e]=new Date().getTime()}getTimingMetrics(){return{...this.timingMetrics}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.isSamePage?!1:this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(e=>e&&this.visitCachedSnapshot(e)),this.snapshotCached=!0)}async render(e){this.cancelRender(),await new Promise(r=>{this.frame=document.visibilityState==="hidden"?setTimeout(()=>r(),0):requestAnimationFrame(()=>r())}),await e(),delete this.frame}async renderPageSnapshot(e,r){await this.viewTransitioner.renderChange(this.view.shouldTransitionTo(e),async()=>{await this.view.renderPage(e,r,this.willRender,this),this.performScroll()})}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}};function Wa(t){return t>=200&&t<300}var ms=class{progressBar=new hs;constructor(e){this.session=e}visitProposedToLocation(e,r){Bt(e,this.navigator.rootLocation)?this.navigator.startVisit(e,r?.restorationIdentifier||Vt(),r):window.location.href=e.toString()}visitStarted(e){this.location=e.location,e.loadCachedSnapshot(),e.issueRequest(),e.goToSamePageAnchor()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||e.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse()}visitRequestFailedWithStatusCode(e,r){switch(r){case Dr.networkFailure:case Dr.timeoutFailure:case Dr.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:r}});default:return e.loadResponse()}}visitRequestFinished(e){}visitCompleted(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}pageInvalidated(e){this.reload(e)}visitFailed(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitRendered(e){}linkPrefetchingIsEnabledForLocation(e){return!0}formSubmissionStarted(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(e){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}showProgressBar=()=>{this.progressBar.show()};reload(e){ue("turbo:reload",{detail:e}),window.location.href=this.location?.toString()||window.location.href}get navigator(){return this.session.navigator}},gs=class{selector="[data-turbo-temporary]";deprecatedSelector="[data-turbo-cache=false]";started=!1;start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}removeTemporaryElements=e=>{for(let r of this.temporaryElements)r.remove()};get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){let e=document.querySelectorAll(this.deprecatedSelector);return e.length&&console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`),[...e]}},vs=class{constructor(e,r){this.session=e,this.element=r,this.linkInterceptor=new Ki(this,r),this.formSubmitObserver=new ni(this,r)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(e,r,i){return this.#t(e)}linkClickIntercepted(e,r,i){let n=this.#r(e);n&&n.delegate.linkClickIntercepted(e,r,i)}willSubmitForm(e,r){return e.closest("turbo-frame")==null&&this.#e(e,r)&&this.#t(e,r)}formSubmitted(e,r){let i=this.#r(e,r);i&&i.delegate.formSubmitted(e,r)}#e(e,r){let i=Ns(e,r),n=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),s=Le(n?.content??"/");return this.#t(e,r)&&Bt(i,s)}#t(e,r){if(e instanceof HTMLFormElement?this.session.submissionIsNavigatable(e,r):this.session.elementIsNavigatable(e)){let n=this.#r(e,r);return n?n!=e.closest("turbo-frame"):!1}else return!1}#r(e,r){let i=r?.getAttribute("data-turbo-frame")||e.getAttribute("data-turbo-frame");if(i&&i!="_top"){let n=this.element.querySelector(`#${i}:not([disabled])`);if(n instanceof Xe)return n}}},bs=class{location;restorationIdentifier=Vt();restorationData={};started=!1;pageLoaded=!1;currentIndex=0;constructor(e){this.delegate=e}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.currentIndex=history.state?.turbo?.restorationIndex||0,this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(e,r){this.update(history.pushState,e,r)}replace(e,r){this.update(history.replaceState,e,r)}update(e,r,i=Vt()){e===history.pushState&&++this.currentIndex;let n={turbo:{restorationIdentifier:i,restorationIndex:this.currentIndex}};e.call(history,n,"",r.href),this.location=r,this.restorationIdentifier=i}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){let{restorationIdentifier:r}=this,i=this.restorationData[r];this.restorationData[r]={...i,...e}}assumeControlOfScrollRestoration(){this.previousScrollRestoration||(this.previousScrollRestoration=history.scrollRestoration??"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}onPopState=e=>{if(this.shouldHandlePopState()){let{turbo:r}=e.state||{};if(r){this.location=new URL(window.location.href);let{restorationIdentifier:i,restorationIndex:n}=r;this.restorationIdentifier=i;let s=n>this.currentIndex?"forward":"back";this.delegate.historyPoppedToLocationWithRestorationIdentifierAndDirection(this.location,i,s),this.currentIndex=n}}};onPageLoad=async e=>{await Vh(),this.pageLoaded=!0};shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}},ys=class{started=!1;#e=null;constructor(e,r){this.delegate=e,this.eventTarget=r}start(){this.started||(this.eventTarget.readyState==="loading"?this.eventTarget.addEventListener("DOMContentLoaded",this.#t,{once:!0}):this.#t())}stop(){this.started&&(this.eventTarget.removeEventListener("mouseenter",this.#r,{capture:!0,passive:!0}),this.eventTarget.removeEventListener("mouseleave",this.#n,{capture:!0,passive:!0}),this.eventTarget.removeEventListener("turbo:before-fetch-request",this.#o,!0),this.started=!1)}#t=()=>{this.eventTarget.addEventListener("mouseenter",this.#r,{capture:!0,passive:!0}),this.eventTarget.addEventListener("mouseleave",this.#n,{capture:!0,passive:!0}),this.eventTarget.addEventListener("turbo:before-fetch-request",this.#o,!0),this.started=!0};#r=e=>{if(ji("turbo-prefetch")==="false")return;let r=e.target;if(r.matches&&r.matches("a[href]:not([target^=_]):not([download])")&&this.#l(r)){let n=r,s=ol(n);if(this.delegate.canPrefetchRequestToLocation(n,s)){this.#e=n;let o=new Ht(this,We.get,s,new URLSearchParams,r);Pr.setLater(s.toString(),o,this.#s)}}};#n=e=>{e.target===this.#e&&this.#i()};#i=()=>{Pr.clear(),this.#e=null};#o=e=>{if(e.target.tagName!=="FORM"&&e.detail.fetchOptions.method==="GET"){let r=Pr.get(e.detail.url.toString());r&&(e.detail.fetchRequest=r),Pr.clear()}};prepareRequest(e){let r=e.target;e.headers["X-Sec-Purpose"]="prefetch";let i=r.closest("turbo-frame"),n=r.getAttribute("data-turbo-frame")||i?.getAttribute("target")||i?.id;n&&n!=="_top"&&(e.headers["Turbo-Frame"]=n)}requestSucceededWithResponse(){}requestStarted(e){}requestErrored(e){}requestFinished(e){}requestPreventedHandlingResponse(e,r){}requestFailedWithResponse(e,r){}get#s(){return Number(ji("turbo-prefetch-cache-time"))||ad}#l(e){return!(!e.getAttribute("href")||Ld(e)||Rd(e)||Md(e)||Pd(e)||Dd(e))}},Ld=t=>t.origin!==document.location.origin||!["http:","https:"].includes(t.protocol)||t.hasAttribute("target"),Rd=t=>t.pathname+t.search===document.location.pathname+document.location.search||t.href.startsWith("#"),Md=t=>{if(t.getAttribute("data-turbo-prefetch")==="false"||t.getAttribute("data-turbo")==="false")return!0;let e=Ir(t,"[data-turbo-prefetch]");return!!(e&&e.getAttribute("data-turbo-prefetch")==="false")},Pd=t=>{let e=t.getAttribute("data-turbo-method");return!!(e&&e.toLowerCase()!=="get"||Id(t)||t.hasAttribute("data-turbo-confirm")||t.hasAttribute("data-turbo-stream"))},Id=t=>t.hasAttribute("data-remote")||t.hasAttribute("data-behavior")||t.hasAttribute("data-confirm")||t.hasAttribute("data-method"),Dd=t=>ue("turbo:before-prefetch",{target:t,cancelable:!0}).defaultPrevented,ws=class{constructor(e){this.delegate=e}proposeVisit(e,r={}){this.delegate.allowsVisitingLocationWithAction(e,r.action)&&this.delegate.visitProposedToLocation(e,r)}startVisit(e,r,i={}){this.stop(),this.currentVisit=new ps(this,Le(e),r,{referrer:this.location,...i}),this.currentVisit.start()}submitForm(e,r){this.stop(),this.formSubmission=new Wi(this,e,r,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get rootLocation(){return this.view.snapshot.rootLocation}get history(){return this.delegate.history}formSubmissionStarted(e){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(e)}async formSubmissionSucceededWithResponse(e,r){if(e==this.formSubmission){let i=await r.responseHTML;if(i){let n=e.isSafe;n||this.view.clearSnapshotCache();let{statusCode:s,redirected:o}=r,c={action:this.#e(e,r),shouldCacheSnapshot:n,response:{statusCode:s,responseHTML:i,redirected:o}};this.proposeVisit(r.location,c)}}}async formSubmissionFailedWithResponse(e,r){let i=await r.responseHTML;if(i){let n=Ye.fromHTMLString(i);r.serverError?await this.view.renderError(n,this.currentVisit):await this.view.renderPage(n,!1,!0,this.currentVisit),n.shouldPreserveScrollPosition||this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(e,r){console.error(r)}formSubmissionFinished(e){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(e)}linkPrefetchingIsEnabledForLocation(e){return typeof this.adapter.linkPrefetchingIsEnabledForLocation=="function"?this.adapter.linkPrefetchingIsEnabledForLocation(e):!0}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e),delete this.currentVisit}locationWithActionIsSamePage(e,r){let i=cr(e),n=cr(this.view.lastRenderedLocation),s=r==="restore"&&typeof i>"u";return r!=="replace"&&ns(e)===ns(this.view.lastRenderedLocation)&&(s||i!=null&&i!==n)}visitScrolledToSamePageLocation(e,r){this.delegate.visitScrolledToSamePageLocation(e,r)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}#e(e,r){let{submitter:i,formElement:n}=e;return lr(i,n)||this.#t(r)}#t(e){return e.redirected&&e.location.href===this.location?.href?"replace":"advance"}},or={initial:0,loading:1,interactive:2,complete:3},Es=class{stage=or.initial;started=!1;constructor(e){this.delegate=e}start(){this.started||(this.stage==or.initial&&(this.stage=or.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}interpretReadyState=()=>{let{readyState:e}=this;e=="interactive"?this.pageIsInteractive():e=="complete"&&this.pageIsComplete()};pageIsInteractive(){this.stage==or.loading&&(this.stage=or.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==or.interactive&&(this.stage=or.complete,this.delegate.pageLoaded())}pageWillUnload=()=>{this.delegate.pageWillUnload()};get readyState(){return document.readyState}},Ss=class{started=!1;constructor(e){this.delegate=e}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})};updatePosition(e){this.delegate.scrollPositionChanged(e)}},xs=class{render({fragment:e}){Zi.preservingPermanentElements(this,Nd(e),()=>{Fd(e,()=>{Bd(()=>{document.documentElement.appendChild(e)})})})}enteringBardo(e,r){r.replaceWith(e.cloneNode(!0))}leavingBardo(){}};function Nd(t){let e=hl(document.documentElement),r={};for(let i of e){let{id:n}=i;for(let s of t.querySelectorAll("turbo-stream")){let o=ul(s.templateElement.content,n);o&&(r[n]=[i,o])}}return r}async function Fd(t,e){let r=`turbo-stream-autofocus-${Vt()}`,i=t.querySelectorAll("turbo-stream"),n=$d(i),s=null;if(n&&(n.id?s=n.id:s=r,n.id=s),e(),await ri(),(document.activeElement==null||document.activeElement==document.body)&&s){let a=document.getElementById(s);Ds(a)&&a.focus(),a&&a.id==r&&a.removeAttribute("id")}}async function Bd(t){let[e,r]=await Uh(t,()=>document.activeElement),i=e&&e.id;if(i){let n=document.getElementById(i);Ds(n)&&n!=r&&n.focus()}}function $d(t){for(let e of t){let r=il(e.templateElement.content);if(r)return r}return null}var Ts=class{sources=new Set;#e=!1;constructor(e){this.delegate=e}start(){this.#e||(this.#e=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.#e&&(this.#e=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}inspectFetchResponse=e=>{let r=Vd(e);r&&Hd(r)&&(e.preventDefault(),this.receiveMessageResponse(r))};receiveMessageEvent=e=>{this.#e&&typeof e.data=="string"&&this.receiveMessageHTML(e.data)};async receiveMessageResponse(e){let r=await e.responseHTML;r&&this.receiveMessageHTML(r)}receiveMessageHTML(e){this.delegate.receivedMessageFromStream(qt.wrap(e))}};function Vd(t){let e=t.detail?.fetchResponse;if(e instanceof Nr)return e}function Hd(t){return(t.contentType??"").startsWith(qt.contentType)}var As=class extends si{static renderElement(e,r){let{documentElement:i,body:n}=document;i.replaceChild(r,n)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){let{documentElement:e,head:r}=document;e.replaceChild(this.newHead,r),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(let e of this.scriptElements){let r=e.parentNode;if(r){let i=ii(e);r.replaceChild(i,e)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}},$r=class extends si{static renderElement(e,r){document.body&&r instanceof HTMLBodyElement?document.body.replaceWith(r):document.documentElement.appendChild(r)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){this.#e(),await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}#e(){let{documentElement:e}=this.currentSnapshot,{lang:r}=this.newSnapshot;r?e.setAttribute("lang",r):e.removeAttribute("lang")}async mergeHead(){let e=this.mergeProvisionalElements(),r=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await e,await r,this.willRender&&this.removeUnusedDynamicStylesheetElements()}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){let e=[];for(let r of this.newHeadStylesheetElements)e.push(zh(r)),document.head.appendChild(r);await Promise.all(e)}copyNewHeadScriptElements(){for(let e of this.newHeadScriptElements)document.head.appendChild(ii(e))}removeUnusedDynamicStylesheetElements(){for(let e of this.unusedDynamicStylesheetElements)document.head.removeChild(e)}async mergeProvisionalElements(){let e=[...this.newHeadProvisionalElements];for(let r of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(r,e)||document.head.removeChild(r);for(let r of e)document.head.appendChild(r)}isCurrentElementInElementList(e,r){for(let[i,n]of r.entries()){if(e.tagName=="TITLE"){if(n.tagName!="TITLE")continue;if(e.innerHTML==n.innerHTML)return r.splice(i,1),!0}if(n.isEqualNode(e))return r.splice(i,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(let e of this.currentHeadProvisionalElements)document.head.removeChild(e)}copyNewHeadProvisionalElements(){for(let e of this.newHeadProvisionalElements)document.head.appendChild(e)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(let e of this.newBodyScriptElements){let r=ii(e);e.replaceWith(r)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get unusedDynamicStylesheetElements(){return this.oldHeadStylesheetElements.filter(e=>e.getAttribute("data-turbo-track")==="dynamic")}get oldHeadStylesheetElements(){return this.currentHeadSnapshot.getStylesheetElementsNotInSnapshot(this.newHeadSnapshot)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}},ks=class extends $r{static renderElement(e,r){Bs(e,r,{callbacks:{beforeNodeMorphed:i=>!Ua(i)}});for(let i of e.querySelectorAll("turbo-frame"))Ua(i)&&i.reload();ue("turbo:morph",{detail:{currentElement:e,newElement:r}})}async preservingPermanentElements(e){return await e()}get renderMethod(){return"morph"}get shouldAutofocus(){return!1}};function Ua(t){return t instanceof Xe&&t.src&&t.refresh==="morph"&&!t.closest("[data-turbo-permanent]")}var Cs=class{keys=[];snapshots={};constructor(e){this.size=e}has(e){return $i(e)in this.snapshots}get(e){if(this.has(e)){let r=this.read(e);return this.touch(e),r}}put(e,r){return this.write(e,r),this.touch(e),r}clear(){this.snapshots={}}read(e){return this.snapshots[$i(e)]}write(e,r){this.snapshots[$i(e)]=r}touch(e){let r=$i(e),i=this.keys.indexOf(r);i>-1&&this.keys.splice(i,1),this.keys.unshift(r),this.trim()}trim(){for(let e of this.keys.splice(this.size))delete this.snapshots[e]}},Os=class extends Ui{snapshotCache=new Cs(10);lastRenderedLocation=new URL(location.href);forceReloaded=!1;shouldTransitionTo(e){return this.snapshot.prefersViewTransitions&&e.prefersViewTransitions}renderPage(e,r=!1,i=!0,n){let o=this.isPageRefresh(n)&&this.snapshot.shouldMorphPage?ks:$r,a=new o(this.snapshot,e,r,i);return a.shouldRender?n?.changeHistory():this.forceReloaded=!0,this.render(a)}renderError(e,r){r?.changeHistory();let i=new As(this.snapshot,e,!1);return this.render(i)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(e=this.snapshot){if(e.isCacheable){this.delegate.viewWillCacheSnapshot();let{lastRenderedLocation:r}=this;await Ja();let i=e.clone();return this.snapshotCache.put(r,i),i}}getCachedSnapshotForLocation(e){return this.snapshotCache.get(e)}isPageRefresh(e){return!e||this.lastRenderedLocation.pathname===e.location.pathname&&e.action==="replace"}shouldPreserveScrollPosition(e){return this.isPageRefresh(e)&&this.snapshot.shouldPreserveScrollPosition}get snapshot(){return Ye.fromElement(this.element)}},_s=class{selector="a[data-turbo-preload]";constructor(e,r){this.delegate=e,this.snapshotCache=r}start(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",this.#e):this.preloadOnLoadLinksForView(document.body)}stop(){document.removeEventListener("DOMContentLoaded",this.#e)}preloadOnLoadLinksForView(e){for(let r of e.querySelectorAll(this.selector))this.delegate.shouldPreloadLink(r)&&this.preloadURL(r)}async preloadURL(e){let r=new URL(e.href);if(this.snapshotCache.has(r))return;await new Ht(this,We.get,r,new URLSearchParams,e).perform()}prepareRequest(e){e.headers["X-Sec-Purpose"]="prefetch"}async requestSucceededWithResponse(e,r){try{let i=await r.responseHTML,n=Ye.fromHTMLString(i);this.snapshotCache.put(e.url,n)}catch{}}requestStarted(e){}requestErrored(e){}requestFinished(e){}requestPreventedHandlingResponse(e,r){}requestFailedWithResponse(e,r){}#e=()=>{this.preloadOnLoadLinksForView(document.body)}},Ls=class{constructor(e){this.session=e}clear(){this.session.clearCache()}resetCacheControl(){this.#e("")}exemptPageFromCache(){this.#e("no-cache")}exemptPageFromPreview(){this.#e("no-preview")}#e(e){Wh("turbo-cache-control",e)}},Rs=class{navigator=new ws(this);history=new bs(this);view=new Os(this,document.documentElement);adapter=new ms(this);pageObserver=new Es(this);cacheObserver=new gs;linkPrefetchObserver=new ys(this,document);linkClickObserver=new Yi(this,window);formSubmitObserver=new ni(this,document);scrollObserver=new Ss(this);streamObserver=new Ts(this);formLinkClickObserver=new Xi(this,document.documentElement);frameRedirector=new vs(this,document.documentElement);streamMessageRenderer=new xs;cache=new Ls(this);enabled=!0;started=!1;#e=150;constructor(e){this.recentRequests=e,this.preloader=new _s(this,this.view.snapshotCache),this.debouncedRefresh=this.refresh,this.pageRefreshDebouncePeriod=this.pageRefreshDebouncePeriod}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.linkPrefetchObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.linkPrefetchObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.preloader.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,r={}){let i=r.frame?document.getElementById(r.frame):null;if(i instanceof Xe){let n=r.action||lr(i);i.delegate.proposeVisitIfNavigatedWithAction(i,n),i.src=e.toString()}else this.navigator.proposeVisit(Le(e),r)}refresh(e,r){let i=r&&this.recentRequests.has(r),n=e===document.baseURI;!i&&!this.navigator.currentVisit&&n&&this.visit(e,{action:"replace",shouldCacheSnapshot:!1})}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){this.streamMessageRenderer.render(qt.wrap(e))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){console.warn("Please replace `session.setProgressBarDelay(delay)` with `session.progressBarDelay = delay`. The function is deprecated and will be removed in a future version of Turbo.`"),this.progressBarDelay=e}set progressBarDelay(e){Ae.drive.progressBarDelay=e}get progressBarDelay(){return Ae.drive.progressBarDelay}set drive(e){Ae.drive.enabled=e}get drive(){return Ae.drive.enabled}set formMode(e){Ae.forms.mode=e}get formMode(){return Ae.forms.mode}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}get pageRefreshDebouncePeriod(){return this.#e}set pageRefreshDebouncePeriod(e){this.refresh=Kh(this.debouncedRefresh.bind(this),e),this.#e=e}shouldPreloadLink(e){let r=e.hasAttribute("data-turbo-method"),i=e.hasAttribute("data-turbo-stream"),n=e.getAttribute("data-turbo-frame"),s=n=="_top"?null:document.getElementById(n)||Ir(e,"turbo-frame:not([disabled])");if(r||i||s instanceof Xe)return!1;{let o=new URL(e.href);return this.elementIsNavigatable(e)&&Bt(o,this.snapshot.rootLocation)}}historyPoppedToLocationWithRestorationIdentifierAndDirection(e,r,i){this.enabled?this.navigator.startVisit(e,r,{action:"restore",historyChanged:!0,direction:i}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willSubmitFormLinkToLocation(e,r){return this.elementIsNavigatable(e)&&Bt(r,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}canPrefetchRequestToLocation(e,r){return this.elementIsNavigatable(e)&&Bt(r,this.snapshot.rootLocation)&&this.navigator.linkPrefetchingIsEnabledForLocation(r)}willFollowLinkToLocation(e,r,i){return this.elementIsNavigatable(e)&&Bt(r,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(e,r,i)}followedLinkToLocation(e,r){let i=this.getActionForLink(e),n=e.hasAttribute("data-turbo-stream");this.visit(r.href,{action:i,acceptsStreamResponse:n})}allowsVisitingLocationWithAction(e,r){return this.locationWithActionIsSamePage(e,r)||this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,r){Ka(e),this.adapter.visitProposedToLocation(e,r)}visitStarted(e){e.acceptsStreamResponse||(qi(document.documentElement),this.view.markVisitDirection(e.direction)),Ka(e.location),e.silent||this.notifyApplicationAfterVisitingLocation(e.location,e.action)}visitCompleted(e){this.view.unmarkVisitDirection(),zi(document.documentElement),this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}locationWithActionIsSamePage(e,r){return this.navigator.locationWithActionIsSamePage(e,r)}visitScrolledToSamePageLocation(e,r){this.notifyApplicationAfterVisitingSamePageLocation(e,r)}willSubmitForm(e,r){let i=Ns(e,r);return this.submissionIsNavigatable(e,r)&&Bt(Le(i),this.snapshot.rootLocation)}formSubmitted(e,r){this.navigator.submitForm(e,r)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillCacheSnapshot(){this.navigator.currentVisit?.silent||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:e},r){let i=this.notifyApplicationBeforeRender(e,r),{defaultPrevented:n,detail:{render:s}}=i;return this.view.renderer&&s&&(this.view.renderer.renderElement=s),!n}viewRenderedSnapshot(e,r,i){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender(i)}preloadOnLoadLinksForView(e){this.preloader.preloadOnLoadLinksForView(e)}viewInvalidated(e){this.adapter.pageInvalidated(e)}frameLoaded(e){this.notifyApplicationAfterFrameLoad(e)}frameRendered(e,r){this.notifyApplicationAfterFrameRender(e,r)}applicationAllowsFollowingLinkToLocation(e,r,i){return!this.notifyApplicationAfterClickingLinkToLocation(e,r,i).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,r,i){return ue("turbo:click",{target:e,detail:{url:r.href,originalEvent:i},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return ue("turbo:before-visit",{detail:{url:e.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(e,r){return ue("turbo:visit",{detail:{url:e.href,action:r}})}notifyApplicationBeforeCachingSnapshot(){return ue("turbo:before-cache")}notifyApplicationBeforeRender(e,r){return ue("turbo:before-render",{detail:{newBody:e,...r},cancelable:!0})}notifyApplicationAfterRender(e){return ue("turbo:render",{detail:{renderMethod:e}})}notifyApplicationAfterPageLoad(e={}){return ue("turbo:load",{detail:{url:this.location.href,timing:e}})}notifyApplicationAfterVisitingSamePageLocation(e,r){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:e.toString(),newURL:r.toString()}))}notifyApplicationAfterFrameLoad(e){return ue("turbo:frame-load",{target:e})}notifyApplicationAfterFrameRender(e,r){return ue("turbo:frame-render",{detail:{fetchResponse:e},target:r,cancelable:!0})}submissionIsNavigatable(e,r){if(Ae.forms.mode=="off")return!1;{let i=r?this.elementIsNavigatable(r):!0;return Ae.forms.mode=="optin"?i&&e.closest('[data-turbo="true"]')!=null:i&&this.elementIsNavigatable(e)}}elementIsNavigatable(e){let r=Ir(e,"[data-turbo]"),i=Ir(e,"turbo-frame");return Ae.drive.enabled||i?r?r.getAttribute("data-turbo")!="false":!0:r?r.getAttribute("data-turbo")=="true":!1}getActionForLink(e){return lr(e)||"advance"}get snapshot(){return this.view.snapshot}};function Ka(t){Object.defineProperties(t,qd)}var qd={absoluteURL:{get(){return this.toString()}}},pe=new Rs(al),{cache:fl,navigator:pl}=pe;function $s(){pe.start()}function ml(t){pe.registerAdapter(t)}function gl(t,e){pe.visit(t,e)}function Vs(t){pe.connectStreamSource(t)}function Hs(t){pe.disconnectStreamSource(t)}function vl(t){pe.renderStreamMessage(t)}function bl(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),pe.clearCache()}function yl(t){console.warn("Please replace `Turbo.setProgressBarDelay(delay)` with `Turbo.config.drive.progressBarDelay = delay`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),Ae.drive.progressBarDelay=t}function wl(t){console.warn("Please replace `Turbo.setConfirmMethod(confirmMethod)` with `Turbo.config.forms.confirm = confirmMethod`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),Ae.forms.confirm=t}function El(t){console.warn("Please replace `Turbo.setFormMode(mode)` with `Turbo.config.forms.mode = mode`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),Ae.forms.mode=t}var zd=Object.freeze({__proto__:null,navigator:pl,session:pe,cache:fl,PageRenderer:$r,PageSnapshot:Ye,FrameRenderer:Br,fetch:Fs,config:Ae,start:$s,registerAdapter:ml,visit:gl,connectStreamSource:Vs,disconnectStreamSource:Hs,renderStreamMessage:vl,clearCache:bl,setProgressBarDelay:yl,setConfirmMethod:wl,setFormMode:El}),Ms=class extends Error{},Ps=class{fetchResponseLoaded=e=>Promise.resolve();#e=null;#t=()=>{};#r=!1;#n=!1;#i=new Set;#o=!1;action=null;constructor(e){this.element=e,this.view=new ls(this,this.element),this.appearanceObserver=new os(this,this.element),this.formLinkClickObserver=new Xi(this,this.element),this.linkInterceptor=new Ki(this,this.element),this.restorationIdentifier=Vt(),this.formSubmitObserver=new ni(this,this.element)}connect(){this.#r||(this.#r=!0,this.loadingStyle==ar.lazy?this.appearanceObserver.start():this.#s(),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){this.#r&&(this.#r=!1,this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==ar.eager&&this.#s()}sourceURLChanged(){this.#b("src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==ar.eager||this.#n)&&this.#s())}sourceURLReloaded(){let{refresh:e,src:r}=this.element;return this.#o=r&&e==="morph",this.element.removeAttribute("complete"),this.element.src=null,this.element.src=r,this.element.loaded}loadingStyleChanged(){this.loadingStyle==ar.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.#s())}async#s(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=this.#h(Le(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,this.#n=!0)}async loadResponse(e){(e.redirected||e.succeeded&&e.isHTML)&&(this.sourceURL=e.response.url);try{let r=await e.responseHTML;if(r){let i=Qa(r);Ye.fromDocument(i).isVisitable?await this.#l(e,i):await this.#f(e)}}finally{this.#o=!1,this.fetchResponseLoaded=()=>Promise.resolve()}}elementAppearedInViewport(e){this.proposeVisitIfNavigatedWithAction(e,lr(e)),this.#s()}willSubmitFormLinkToLocation(e){return this.#c(e)}submittedFormLinkToLocation(e,r,i){let n=this.#a(e);n&&i.setAttribute("data-turbo-frame",n.id)}shouldInterceptLinkClick(e,r,i){return this.#c(e)}linkClickIntercepted(e,r){this.#d(e,r)}willSubmitForm(e,r){return e.closest("turbo-frame")==this.element&&this.#c(e,r)}formSubmitted(e,r){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new Wi(this,e,r);let{fetchRequest:i}=this.formSubmission;this.prepareRequest(i),this.formSubmission.start()}prepareRequest(e){e.headers["Turbo-Frame"]=this.id,this.currentNavigationElement?.hasAttribute("data-turbo-stream")&&e.acceptResponseType(qt.contentType)}requestStarted(e){qi(this.element)}requestPreventedHandlingResponse(e,r){this.#t()}async requestSucceededWithResponse(e,r){await this.loadResponse(r),this.#t()}async requestFailedWithResponse(e,r){await this.loadResponse(r),this.#t()}requestErrored(e,r){console.error(r),this.#t()}requestFinished(e){zi(this.element)}formSubmissionStarted({formElement:e}){qi(e,this.#a(e))}formSubmissionSucceededWithResponse(e,r){let i=this.#a(e.formElement,e.submitter);i.delegate.proposeVisitIfNavigatedWithAction(i,lr(e.submitter,e.formElement,i)),i.delegate.loadResponse(r),e.isSafe||pe.clearCache()}formSubmissionFailedWithResponse(e,r){this.element.delegate.loadResponse(r),pe.clearCache()}formSubmissionErrored(e,r){console.error(r)}formSubmissionFinished({formElement:e}){zi(e,this.#a(e))}allowsImmediateRender({element:e},r){let i=ue("turbo:before-frame-render",{target:this.element,detail:{newFrame:e,...r},cancelable:!0}),{defaultPrevented:n,detail:{render:s}}=i;return this.view.renderer&&s&&(this.view.renderer.renderElement=s),!n}viewRenderedSnapshot(e,r,i){}preloadOnLoadLinksForView(e){pe.preloadOnLoadLinksForView(e)}viewInvalidated(){}willRenderFrame(e,r){this.previousFrameElement=e.cloneNode(!0)}visitCachedSnapshot=({element:e})=>{let r=e.querySelector("#"+this.element.id);r&&this.previousFrameElement&&r.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement};async#l(e,r){let i=await this.extractForeignFrameElement(r.body),n=this.#o?us:Br;if(i){let s=new Fr(i),o=new n(this,this.view.snapshot,s,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(o),this.complete=!0,pe.frameRendered(e,this.element),pe.frameLoaded(this.element),await this.fetchResponseLoaded(e)}else this.#p(e)&&this.#m(e)}async#h(e){let r=new Ht(this,We.get,e,new URLSearchParams,this.element);return this.#e?.cancel(),this.#e=r,new Promise(i=>{this.#t=()=>{this.#t=()=>{},this.#e=null,i()},r.perform()})}#d(e,r,i){let n=this.#a(e,i);n.delegate.proposeVisitIfNavigatedWithAction(n,lr(i,e,n)),this.#w(e,()=>{n.src=r})}proposeVisitIfNavigatedWithAction(e,r=null){if(this.action=r,this.action){let i=Ye.fromElement(e).clone(),{visitCachedSnapshot:n}=e.delegate;e.delegate.fetchResponseLoaded=async s=>{if(e.src){let{statusCode:o,redirected:a}=s,c=await s.responseHTML,g={response:{statusCode:o,redirected:a,responseHTML:c},visitCachedSnapshot:n,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:i};this.action&&(g.action=this.action),pe.visit(e.src,g)}}}}changeHistory(){if(this.action){let e=tl(this.action);pe.history.update(e,Le(this.element.src||""),this.restorationIdentifier)}}async#f(e){console.warn(`The response (${e.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await this.#u(e.response)}#p(e){this.element.setAttribute("complete","");let r=e.response,i=async(s,o)=>{s instanceof Response?this.#u(s):pe.visit(s,o)};return!ue("turbo:frame-missing",{target:this.element,detail:{response:r,visit:i},cancelable:!0}).defaultPrevented}#m(e){this.view.missing(),this.#g(e)}#g(e){let r=`The response (${e.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new Ms(r)}async#u(e){let r=new Nr(e),i=await r.responseHTML,{location:n,redirected:s,statusCode:o}=r;return pe.visit(n,{response:{redirected:s,statusCode:o,responseHTML:i}})}#a(e,r){let i=Hi("data-turbo-frame",r,e)||this.element.getAttribute("target");return Ya(i)??this.element}async extractForeignFrameElement(e){let r,i=CSS.escape(this.id);try{if(r=Xa(e.querySelector(`turbo-frame#${i}`),this.sourceURL),r)return r;if(r=Xa(e.querySelector(`turbo-frame[src][recurse~=${i}]`),this.sourceURL),r)return await r.loaded,await this.extractForeignFrameElement(r)}catch(n){return console.error(n),new Xe}return null}#v(e,r){let i=Ns(e,r);return Bt(Le(i),this.rootLocation)}#c(e,r){let i=Hi("data-turbo-frame",r,e)||this.element.getAttribute("target");if(e instanceof HTMLFormElement&&!this.#v(e,r)||!this.enabled||i=="_top")return!1;if(i){let n=Ya(i);if(n)return!n.disabled}return!(!pe.elementIsNavigatable(e)||r&&!pe.elementIsNavigatable(r))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(e){this.#y("src",()=>{this.element.src=e??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||this.#t()!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(e){e?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")}get isActive(){return this.element.isActive&&this.#r}get rootLocation(){let r=this.element.ownerDocument.querySelector('meta[name="turbo-root"]')?.content??"/";return Le(r)}#b(e){return this.#i.has(e)}#y(e,r){this.#i.add(e),r(),this.#i.delete(e)}#w(e,r){this.currentNavigationElement=e,r(),delete this.currentNavigationElement}};function Ya(t){if(t!=null){let e=document.getElementById(t);if(e instanceof Xe)return e}}function Xa(t,e){if(t){let r=t.getAttribute("src");if(r!=null&&e!=null&&Jh(r,e))throw new Error(`Matching <turbo-frame id="${t.id}"> element has a source URL which references itself`);if(t.ownerDocument!==document&&(t=document.importNode(t,!0)),t instanceof Xe)return t.connectedCallback(),t.disconnectedCallback(),t}}var qs={after(){this.targetElements.forEach(t=>t.parentElement?.insertBefore(this.templateContent,t.nextSibling))},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(t=>t.append(this.templateContent))},before(){this.targetElements.forEach(t=>t.parentElement?.insertBefore(this.templateContent,t))},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(t=>t.prepend(this.templateContent))},remove(){this.targetElements.forEach(t=>t.remove())},replace(){let t=this.getAttribute("method");this.targetElements.forEach(e=>{t==="morph"?Bs(e,this.templateContent):e.replaceWith(this.templateContent)})},update(){let t=this.getAttribute("method");this.targetElements.forEach(e=>{t==="morph"?dl(e,this.templateContent):(e.innerHTML="",e.append(this.templateContent))})},refresh(){pe.refresh(this.baseURI,this.requestId)}},Gi=class t extends HTMLElement{static async renderElement(e){await e.performAction()}async connectedCallback(){try{await this.render()}catch(e){console.error(e)}finally{this.disconnect()}}async render(){return this.renderPromise??=(async()=>{let e=this.beforeRenderEvent;this.dispatchEvent(e)&&(await ri(),await e.detail.render(this))})()}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(e=>e.remove())}get duplicateChildren(){let e=this.targetElements.flatMap(i=>[...i.children]).filter(i=>!!i.getAttribute("id")),r=[...this.templateContent?.children||[]].filter(i=>!!i.getAttribute("id")).map(i=>i.getAttribute("id"));return e.filter(i=>r.includes(i.getAttribute("id")))}get performAction(){if(this.action){let e=qs[this.action];if(e)return e;this.#e("unknown action")}this.#e("action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;this.#e("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){let e=this.ownerDocument.createElement("template");return this.appendChild(e),e}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.#e("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}get requestId(){return this.getAttribute("request-id")}#e(e){throw new Error(`${this.description}: ${e}`)}get description(){return(this.outerHTML.match(/<[^>]+>/)??[])[0]??"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:t.renderElement}})}get targetElementsById(){let e=this.ownerDocument?.getElementById(this.target);return e!==null?[e]:[]}get targetElementsByQuery(){let e=this.ownerDocument?.querySelectorAll(this.targets);return e.length!==0?Array.prototype.slice.call(e):[]}},Ji=class extends HTMLElement{streamSource=null;connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),Vs(this.streamSource)}disconnectedCallback(){this.streamSource&&(this.streamSource.close(),Hs(this.streamSource))}get src(){return this.getAttribute("src")||""}};Xe.delegateConstructor=Ps;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",Xe);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",Gi);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",Ji);(()=>{let t=document.currentScript;if(t&&!t.hasAttribute("data-turbo-suppress-warning"))for(t=t.parentElement;t;){if(t==document.body)return console.warn(el`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your application’s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        ——
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,t.outerHTML);t=t.parentElement}})();window.Turbo={...zd,StreamActions:qs};$s();var Xs=!1,Zs=!1,dr=[],Gs=-1;function jd(t){Wd(t)}function Wd(t){dr.includes(t)||dr.push(t),Kd()}function Ud(t){let e=dr.indexOf(t);e!==-1&&e>Gs&&dr.splice(e,1)}function Kd(){!Zs&&!Xs&&(Xs=!0,queueMicrotask(Yd))}function Yd(){Xs=!1,Zs=!0;for(let t=0;t<dr.length;t++)dr[t](),Gs=t;dr.length=0,Gs=-1,Zs=!1}var qr,vr,zr,Nl,Js=!0;function Xd(t){Js=!1,t(),Js=!0}function Zd(t){qr=t.reactive,zr=t.release,vr=e=>t.effect(e,{scheduler:r=>{Js?jd(r):r()}}),Nl=t.raw}function Sl(t){vr=t}function Gd(t){let e=()=>{};return[i=>{let n=vr(i);return t._x_effects||(t._x_effects=new Set,t._x_runEffects=()=>{t._x_effects.forEach(s=>s())}),t._x_effects.add(n),e=()=>{n!==void 0&&(t._x_effects.delete(n),zr(n))},n},()=>{e()}]}function Fl(t,e){let r=!0,i,n=vr(()=>{let s=t();JSON.stringify(s),r?i=s:queueMicrotask(()=>{e(s,i),i=s}),r=!1});return()=>zr(n)}var Bl=[],$l=[],Vl=[];function Jd(t){Vl.push(t)}function fo(t,e){typeof e=="function"?(t._x_cleanups||(t._x_cleanups=[]),t._x_cleanups.push(e)):(e=t,$l.push(e))}function Hl(t){Bl.push(t)}function ql(t,e,r){t._x_attributeCleanups||(t._x_attributeCleanups={}),t._x_attributeCleanups[e]||(t._x_attributeCleanups[e]=[]),t._x_attributeCleanups[e].push(r)}function zl(t,e){t._x_attributeCleanups&&Object.entries(t._x_attributeCleanups).forEach(([r,i])=>{(e===void 0||e.includes(r))&&(i.forEach(n=>n()),delete t._x_attributeCleanups[r])})}function Qd(t){for(t._x_effects?.forEach(Ud);t._x_cleanups?.length;)t._x_cleanups.pop()()}var po=new MutationObserver(bo),mo=!1;function go(){po.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),mo=!0}function jl(){ef(),po.disconnect(),mo=!1}var oi=[];function ef(){let t=po.takeRecords();oi.push(()=>t.length>0&&bo(t));let e=oi.length;queueMicrotask(()=>{if(oi.length===e)for(;oi.length>0;)oi.shift()()})}function he(t){if(!mo)return t();jl();let e=t();return go(),e}var vo=!1,cn=[];function tf(){vo=!0}function rf(){vo=!1,bo(cn),cn=[]}function bo(t){if(vo){cn=cn.concat(t);return}let e=[],r=new Set,i=new Map,n=new Map;for(let s=0;s<t.length;s++)if(!t[s].target._x_ignoreMutationObserver&&(t[s].type==="childList"&&(t[s].removedNodes.forEach(o=>{o.nodeType===1&&o._x_marker&&r.add(o)}),t[s].addedNodes.forEach(o=>{if(o.nodeType===1){if(r.has(o)){r.delete(o);return}o._x_marker||e.push(o)}})),t[s].type==="attributes")){let o=t[s].target,a=t[s].attributeName,c=t[s].oldValue,f=()=>{i.has(o)||i.set(o,[]),i.get(o).push({name:a,value:o.getAttribute(a)})},g=()=>{n.has(o)||n.set(o,[]),n.get(o).push(a)};o.hasAttribute(a)&&c===null?f():o.hasAttribute(a)?(g(),f()):g()}n.forEach((s,o)=>{zl(o,s)}),i.forEach((s,o)=>{Bl.forEach(a=>a(o,s))});for(let s of r)e.some(o=>o.contains(s))||$l.forEach(o=>o(s));for(let s of e)s.isConnected&&Vl.forEach(o=>o(s));e=null,r=null,i=null,n=null}function Wl(t){return pi(Vr(t))}function fi(t,e,r){return t._x_dataStack=[e,...Vr(r||t)],()=>{t._x_dataStack=t._x_dataStack.filter(i=>i!==e)}}function Vr(t){return t._x_dataStack?t._x_dataStack:typeof ShadowRoot=="function"&&t instanceof ShadowRoot?Vr(t.host):t.parentNode?Vr(t.parentNode):[]}function pi(t){return new Proxy({objects:t},nf)}var nf={ownKeys({objects:t}){return Array.from(new Set(t.flatMap(e=>Object.keys(e))))},has({objects:t},e){return e==Symbol.unscopables?!1:t.some(r=>Object.prototype.hasOwnProperty.call(r,e)||Reflect.has(r,e))},get({objects:t},e,r){return e=="toJSON"?sf:Reflect.get(t.find(i=>Reflect.has(i,e))||{},e,r)},set({objects:t},e,r,i){let n=t.find(o=>Object.prototype.hasOwnProperty.call(o,e))||t[t.length-1],s=Object.getOwnPropertyDescriptor(n,e);return s?.set&&s?.get?s.set.call(i,r)||!0:Reflect.set(n,e,r)}};function sf(){return Reflect.ownKeys(this).reduce((e,r)=>(e[r]=Reflect.get(this,r),e),{})}function Ul(t){let e=i=>typeof i=="object"&&!Array.isArray(i)&&i!==null,r=(i,n="")=>{Object.entries(Object.getOwnPropertyDescriptors(i)).forEach(([s,{value:o,enumerable:a}])=>{if(a===!1||o===void 0||typeof o=="object"&&o!==null&&o.__v_skip)return;let c=n===""?s:`${n}.${s}`;typeof o=="object"&&o!==null&&o._x_interceptor?i[s]=o.initialize(t,c,s):e(o)&&o!==i&&!(o instanceof Element)&&r(o,c)})};return r(t)}function Kl(t,e=()=>{}){let r={initialValue:void 0,_x_interceptor:!0,initialize(i,n,s){return t(this.initialValue,()=>of(i,n),o=>Qs(i,n,o),n,s)}};return e(r),i=>{if(typeof i=="object"&&i!==null&&i._x_interceptor){let n=r.initialize.bind(r);r.initialize=(s,o,a)=>{let c=i.initialize(s,o,a);return r.initialValue=c,n(s,o,a)}}else r.initialValue=i;return r}}function of(t,e){return e.split(".").reduce((r,i)=>r[i],t)}function Qs(t,e,r){if(typeof e=="string"&&(e=e.split(".")),e.length===1)t[e[0]]=r;else{if(e.length===0)throw error;return t[e[0]]||(t[e[0]]={}),Qs(t[e[0]],e.slice(1),r)}}var Yl={};function at(t,e){Yl[t]=e}function eo(t,e){let r=af(e);return Object.entries(Yl).forEach(([i,n])=>{Object.defineProperty(t,`$${i}`,{get(){return n(e,r)},enumerable:!1})}),t}function af(t){let[e,r]=ec(t),i={interceptor:Kl,...e};return fo(t,r),i}function lf(t,e,r,...i){try{return r(...i)}catch(n){di(n,t,e)}}function di(t,e,r=void 0){t=Object.assign(t??{message:"No error message given."},{el:e,expression:r}),console.warn(`Alpine Expression Error: ${t.message}

${r?'Expression: "'+r+`"

`:""}`,e),setTimeout(()=>{throw t},0)}var an=!0;function Xl(t){let e=an;an=!1;let r=t();return an=e,r}function fr(t,e,r={}){let i;return Be(t,e)(n=>i=n,r),i}function Be(...t){return Zl(...t)}var Zl=Gl;function cf(t){Zl=t}function Gl(t,e){let r={};eo(r,t);let i=[r,...Vr(t)],n=typeof e=="function"?uf(i,e):df(i,e,t);return lf.bind(null,t,e,n)}function uf(t,e){return(r=()=>{},{scope:i={},params:n=[]}={})=>{let s=e.apply(pi([i,...t]),n);un(r,s)}}var js={};function hf(t,e){if(js[t])return js[t];let r=Object.getPrototypeOf(async function(){}).constructor,i=/^[\n\s]*if.*\(.*\)/.test(t.trim())||/^(let|const)\s/.test(t.trim())?`(async()=>{ ${t} })()`:t,s=(()=>{try{let o=new r(["__self","scope"],`with (scope) { __self.result = ${i} }; __self.finished = true; return __self.result;`);return Object.defineProperty(o,"name",{value:`[Alpine] ${t}`}),o}catch(o){return di(o,e,t),Promise.resolve()}})();return js[t]=s,s}function df(t,e,r){let i=hf(e,r);return(n=()=>{},{scope:s={},params:o=[]}={})=>{i.result=void 0,i.finished=!1;let a=pi([s,...t]);if(typeof i=="function"){let c=i(i,a).catch(f=>di(f,r,e));i.finished?(un(n,i.result,a,o,r),i.result=void 0):c.then(f=>{un(n,f,a,o,r)}).catch(f=>di(f,r,e)).finally(()=>i.result=void 0)}}}function un(t,e,r,i,n){if(an&&typeof e=="function"){let s=e.apply(r,i);s instanceof Promise?s.then(o=>un(t,o,r,i)).catch(o=>di(o,n,e)):t(s)}else typeof e=="object"&&e instanceof Promise?e.then(s=>t(s)):t(e)}var yo="x-";function jr(t=""){return yo+t}function ff(t){yo=t}var hn={};function Ee(t,e){return hn[t]=e,{before(r){if(!hn[r]){console.warn(String.raw`Cannot find directive \`${r}\`. \`${t}\` will use the default order of execution`);return}let i=hr.indexOf(r);hr.splice(i>=0?i:hr.indexOf("DEFAULT"),0,t)}}}function pf(t){return Object.keys(hn).includes(t)}function wo(t,e,r){if(e=Array.from(e),t._x_virtualDirectives){let s=Object.entries(t._x_virtualDirectives).map(([a,c])=>({name:a,value:c})),o=Jl(s);s=s.map(a=>o.find(c=>c.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),e=e.concat(s)}let i={};return e.map(ic((s,o)=>i[s]=o)).filter(sc).map(vf(i,r)).sort(bf).map(s=>gf(t,s))}function Jl(t){return Array.from(t).map(ic()).filter(e=>!sc(e))}var to=!1,ci=new Map,Ql=Symbol();function mf(t){to=!0;let e=Symbol();Ql=e,ci.set(e,[]);let r=()=>{for(;ci.get(e).length;)ci.get(e).shift()();ci.delete(e)},i=()=>{to=!1,r()};t(r),i()}function ec(t){let e=[],r=a=>e.push(a),[i,n]=Gd(t);return e.push(n),[{Alpine:mi,effect:i,cleanup:r,evaluateLater:Be.bind(Be,t),evaluate:fr.bind(fr,t)},()=>e.forEach(a=>a())]}function gf(t,e){let r=()=>{},i=hn[e.type]||r,[n,s]=ec(t);ql(t,e.original,s);let o=()=>{t._x_ignore||t._x_ignoreSelf||(i.inline&&i.inline(t,e,n),i=i.bind(i,t,e,n),to?ci.get(Ql).push(i):i())};return o.runCleanups=s,o}var tc=(t,e)=>({name:r,value:i})=>(r.startsWith(t)&&(r=r.replace(t,e)),{name:r,value:i}),rc=t=>t;function ic(t=()=>{}){return({name:e,value:r})=>{let{name:i,value:n}=nc.reduce((s,o)=>o(s),{name:e,value:r});return i!==e&&t(i,e),{name:i,value:n}}}var nc=[];function Eo(t){nc.push(t)}function sc({name:t}){return oc().test(t)}var oc=()=>new RegExp(`^${yo}([^:^.]+)\\b`);function vf(t,e){return({name:r,value:i})=>{let n=r.match(oc()),s=r.match(/:([a-zA-Z0-9\-_:]+)/),o=r.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=e||t[r]||r;return{type:n?n[1]:null,value:s?s[1]:null,modifiers:o.map(c=>c.replace(".","")),expression:i,original:a}}}var ro="DEFAULT",hr=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",ro,"teleport"];function bf(t,e){let r=hr.indexOf(t.type)===-1?ro:t.type,i=hr.indexOf(e.type)===-1?ro:e.type;return hr.indexOf(r)-hr.indexOf(i)}function ui(t,e,r={}){t.dispatchEvent(new CustomEvent(e,{detail:r,bubbles:!0,composed:!0,cancelable:!0}))}function gr(t,e){if(typeof ShadowRoot=="function"&&t instanceof ShadowRoot){Array.from(t.children).forEach(n=>gr(n,e));return}let r=!1;if(e(t,()=>r=!0),r)return;let i=t.firstElementChild;for(;i;)gr(i,e,!1),i=i.nextElementSibling}function Ze(t,...e){console.warn(`Alpine Warning: ${t}`,...e)}var xl=!1;function yf(){xl&&Ze("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),xl=!0,document.body||Ze("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),ui(document,"alpine:init"),ui(document,"alpine:initializing"),go(),Jd(e=>xt(e,gr)),fo(e=>Ur(e)),Hl((e,r)=>{wo(e,r).forEach(i=>i())});let t=e=>!fn(e.parentElement,!0);Array.from(document.querySelectorAll(cc().join(","))).filter(t).forEach(e=>{xt(e)}),ui(document,"alpine:initialized"),setTimeout(()=>{xf()})}var So=[],ac=[];function lc(){return So.map(t=>t())}function cc(){return So.concat(ac).map(t=>t())}function uc(t){So.push(t)}function hc(t){ac.push(t)}function fn(t,e=!1){return Wr(t,r=>{if((e?cc():lc()).some(n=>r.matches(n)))return!0})}function Wr(t,e){if(t){if(e(t))return t;if(t._x_teleportBack&&(t=t._x_teleportBack),!!t.parentElement)return Wr(t.parentElement,e)}}function wf(t){return lc().some(e=>t.matches(e))}var dc=[];function Ef(t){dc.push(t)}var Sf=1;function xt(t,e=gr,r=()=>{}){Wr(t,i=>i._x_ignore)||mf(()=>{e(t,(i,n)=>{i._x_marker||(r(i,n),dc.forEach(s=>s(i,n)),wo(i,i.attributes).forEach(s=>s()),i._x_ignore||(i._x_marker=Sf++),i._x_ignore&&n())})})}function Ur(t,e=gr){e(t,r=>{Qd(r),zl(r),delete r._x_marker})}function xf(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([e,r,i])=>{pf(r)||i.some(n=>{if(document.querySelector(n))return Ze(`found "${n}", but missing ${e} plugin`),!0})})}var io=[],xo=!1;function To(t=()=>{}){return queueMicrotask(()=>{xo||setTimeout(()=>{no()})}),new Promise(e=>{io.push(()=>{t(),e()})})}function no(){for(xo=!1;io.length;)io.shift()()}function Tf(){xo=!0}function Ao(t,e){return Array.isArray(e)?Tl(t,e.join(" ")):typeof e=="object"&&e!==null?Af(t,e):typeof e=="function"?Ao(t,e()):Tl(t,e)}function Tl(t,e){let r=s=>s.split(" ").filter(Boolean),i=s=>s.split(" ").filter(o=>!t.classList.contains(o)).filter(Boolean),n=s=>(t.classList.add(...s),()=>{t.classList.remove(...s)});return e=e===!0?e="":e||"",n(i(e))}function Af(t,e){let r=a=>a.split(" ").filter(Boolean),i=Object.entries(e).flatMap(([a,c])=>c?r(a):!1).filter(Boolean),n=Object.entries(e).flatMap(([a,c])=>c?!1:r(a)).filter(Boolean),s=[],o=[];return n.forEach(a=>{t.classList.contains(a)&&(t.classList.remove(a),o.push(a))}),i.forEach(a=>{t.classList.contains(a)||(t.classList.add(a),s.push(a))}),()=>{o.forEach(a=>t.classList.add(a)),s.forEach(a=>t.classList.remove(a))}}function pn(t,e){return typeof e=="object"&&e!==null?kf(t,e):Cf(t,e)}function kf(t,e){let r={};return Object.entries(e).forEach(([i,n])=>{r[i]=t.style[i],i.startsWith("--")||(i=Of(i)),t.style.setProperty(i,n)}),setTimeout(()=>{t.style.length===0&&t.removeAttribute("style")}),()=>{pn(t,r)}}function Cf(t,e){let r=t.getAttribute("style",e);return t.setAttribute("style",e),()=>{t.setAttribute("style",r||"")}}function Of(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function so(t,e=()=>{}){let r=!1;return function(){r?e.apply(this,arguments):(r=!0,t.apply(this,arguments))}}Ee("transition",(t,{value:e,modifiers:r,expression:i},{evaluate:n})=>{typeof i=="function"&&(i=n(i)),i!==!1&&(!i||typeof i=="boolean"?Lf(t,r,e):_f(t,i,e))});function _f(t,e,r){fc(t,Ao,""),{enter:n=>{t._x_transition.enter.during=n},"enter-start":n=>{t._x_transition.enter.start=n},"enter-end":n=>{t._x_transition.enter.end=n},leave:n=>{t._x_transition.leave.during=n},"leave-start":n=>{t._x_transition.leave.start=n},"leave-end":n=>{t._x_transition.leave.end=n}}[r](e)}function Lf(t,e,r){fc(t,pn);let i=!e.includes("in")&&!e.includes("out")&&!r,n=i||e.includes("in")||["enter"].includes(r),s=i||e.includes("out")||["leave"].includes(r);e.includes("in")&&!i&&(e=e.filter((L,y)=>y<e.indexOf("out"))),e.includes("out")&&!i&&(e=e.filter((L,y)=>y>e.indexOf("out")));let o=!e.includes("opacity")&&!e.includes("scale"),a=o||e.includes("opacity"),c=o||e.includes("scale"),f=a?0:1,g=c?ai(e,"scale",95)/100:1,C=ai(e,"delay",0)/1e3,v=ai(e,"origin","center"),O="opacity, transform",R=ai(e,"duration",150)/1e3,T=ai(e,"duration",75)/1e3,x="cubic-bezier(0.4, 0.0, 0.2, 1)";n&&(t._x_transition.enter.during={transformOrigin:v,transitionDelay:`${C}s`,transitionProperty:O,transitionDuration:`${R}s`,transitionTimingFunction:x},t._x_transition.enter.start={opacity:f,transform:`scale(${g})`},t._x_transition.enter.end={opacity:1,transform:"scale(1)"}),s&&(t._x_transition.leave.during={transformOrigin:v,transitionDelay:`${C}s`,transitionProperty:O,transitionDuration:`${T}s`,transitionTimingFunction:x},t._x_transition.leave.start={opacity:1,transform:"scale(1)"},t._x_transition.leave.end={opacity:f,transform:`scale(${g})`})}function fc(t,e,r={}){t._x_transition||(t._x_transition={enter:{during:r,start:r,end:r},leave:{during:r,start:r,end:r},in(i=()=>{},n=()=>{}){oo(t,e,{during:this.enter.during,start:this.enter.start,end:this.enter.end},i,n)},out(i=()=>{},n=()=>{}){oo(t,e,{during:this.leave.during,start:this.leave.start,end:this.leave.end},i,n)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(t,e,r,i){let n=document.visibilityState==="visible"?requestAnimationFrame:setTimeout,s=()=>n(r);if(e){t._x_transition&&(t._x_transition.enter||t._x_transition.leave)?t._x_transition.enter&&(Object.entries(t._x_transition.enter.during).length||Object.entries(t._x_transition.enter.start).length||Object.entries(t._x_transition.enter.end).length)?t._x_transition.in(r):s():t._x_transition?t._x_transition.in(r):s();return}t._x_hidePromise=t._x_transition?new Promise((o,a)=>{t._x_transition.out(()=>{},()=>o(i)),t._x_transitioning&&t._x_transitioning.beforeCancel(()=>a({isFromCancelledTransition:!0}))}):Promise.resolve(i),queueMicrotask(()=>{let o=pc(t);o?(o._x_hideChildren||(o._x_hideChildren=[]),o._x_hideChildren.push(t)):n(()=>{let a=c=>{let f=Promise.all([c._x_hidePromise,...(c._x_hideChildren||[]).map(a)]).then(([g])=>g?.());return delete c._x_hidePromise,delete c._x_hideChildren,f};a(t).catch(c=>{if(!c.isFromCancelledTransition)throw c})})})};function pc(t){let e=t.parentNode;if(e)return e._x_hidePromise?e:pc(e)}function oo(t,e,{during:r,start:i,end:n}={},s=()=>{},o=()=>{}){if(t._x_transitioning&&t._x_transitioning.cancel(),Object.keys(r).length===0&&Object.keys(i).length===0&&Object.keys(n).length===0){s(),o();return}let a,c,f;Rf(t,{start(){a=e(t,i)},during(){c=e(t,r)},before:s,end(){a(),f=e(t,n)},after:o,cleanup(){c(),f()}})}function Rf(t,e){let r,i,n,s=so(()=>{he(()=>{r=!0,i||e.before(),n||(e.end(),no()),e.after(),t.isConnected&&e.cleanup(),delete t._x_transitioning})});t._x_transitioning={beforeCancels:[],beforeCancel(o){this.beforeCancels.push(o)},cancel:so(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();s()}),finish:s},he(()=>{e.start(),e.during()}),Tf(),requestAnimationFrame(()=>{if(r)return;let o=Number(getComputedStyle(t).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,a=Number(getComputedStyle(t).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;o===0&&(o=Number(getComputedStyle(t).animationDuration.replace("s",""))*1e3),he(()=>{e.before()}),i=!0,requestAnimationFrame(()=>{r||(he(()=>{e.end()}),no(),setTimeout(t._x_transitioning.finish,o+a),n=!0)})})}function ai(t,e,r){if(t.indexOf(e)===-1)return r;let i=t[t.indexOf(e)+1];if(!i||e==="scale"&&isNaN(i))return r;if(e==="duration"||e==="delay"){let n=i.match(/([0-9]+)ms/);if(n)return n[1]}return e==="origin"&&["top","right","left","center","bottom"].includes(t[t.indexOf(e)+2])?[i,t[t.indexOf(e)+2]].join(" "):i}var jt=!1;function Ut(t,e=()=>{}){return(...r)=>jt?e(...r):t(...r)}function Mf(t){return(...e)=>jt&&t(...e)}var mc=[];function mn(t){mc.push(t)}function Pf(t,e){mc.forEach(r=>r(t,e)),jt=!0,gc(()=>{xt(e,(r,i)=>{i(r,()=>{})})}),jt=!1}var ao=!1;function If(t,e){e._x_dataStack||(e._x_dataStack=t._x_dataStack),jt=!0,ao=!0,gc(()=>{Df(e)}),jt=!1,ao=!1}function Df(t){let e=!1;xt(t,(i,n)=>{gr(i,(s,o)=>{if(e&&wf(s))return o();e=!0,n(s,o)})})}function gc(t){let e=vr;Sl((r,i)=>{let n=e(r);return zr(n),()=>{}}),t(),Sl(e)}function vc(t,e,r,i=[]){switch(t._x_bindings||(t._x_bindings=qr({})),t._x_bindings[e]=r,e=i.includes("camel")?zf(e):e,e){case"value":Nf(t,r);break;case"style":Bf(t,r);break;case"class":Ff(t,r);break;case"selected":case"checked":$f(t,e,r);break;default:bc(t,e,r);break}}function Nf(t,e){if(Ec(t))t.attributes.value===void 0&&(t.value=e),window.fromModel&&(typeof e=="boolean"?t.checked=ln(t.value)===e:t.checked=Al(t.value,e));else if(ko(t))Number.isInteger(e)?t.value=e:!Array.isArray(e)&&typeof e!="boolean"&&![null,void 0].includes(e)?t.value=String(e):Array.isArray(e)?t.checked=e.some(r=>Al(r,t.value)):t.checked=!!e;else if(t.tagName==="SELECT")qf(t,e);else{if(t.value===e)return;t.value=e===void 0?"":e}}function Ff(t,e){t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedClasses=Ao(t,e)}function Bf(t,e){t._x_undoAddedStyles&&t._x_undoAddedStyles(),t._x_undoAddedStyles=pn(t,e)}function $f(t,e,r){bc(t,e,r),Hf(t,e,r)}function bc(t,e,r){[null,void 0,!1].includes(r)&&Wf(e)?t.removeAttribute(e):(yc(e)&&(r=e),Vf(t,e,r))}function Vf(t,e,r){t.getAttribute(e)!=r&&t.setAttribute(e,r)}function Hf(t,e,r){t[e]!==r&&(t[e]=r)}function qf(t,e){let r=[].concat(e).map(i=>i+"");Array.from(t.options).forEach(i=>{i.selected=r.includes(i.value)})}function zf(t){return t.toLowerCase().replace(/-(\w)/g,(e,r)=>r.toUpperCase())}function Al(t,e){return t==e}function ln(t){return[1,"1","true","on","yes",!0].includes(t)?!0:[0,"0","false","off","no",!1].includes(t)?!1:t?!!t:null}var jf=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function yc(t){return jf.has(t)}function Wf(t){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(t)}function Uf(t,e,r){return t._x_bindings&&t._x_bindings[e]!==void 0?t._x_bindings[e]:wc(t,e,r)}function Kf(t,e,r,i=!0){if(t._x_bindings&&t._x_bindings[e]!==void 0)return t._x_bindings[e];if(t._x_inlineBindings&&t._x_inlineBindings[e]!==void 0){let n=t._x_inlineBindings[e];return n.extract=i,Xl(()=>fr(t,n.expression))}return wc(t,e,r)}function wc(t,e,r){let i=t.getAttribute(e);return i===null?typeof r=="function"?r():r:i===""?!0:yc(e)?!![e,"true"].includes(i):i}function ko(t){return t.type==="checkbox"||t.localName==="ui-checkbox"||t.localName==="ui-switch"}function Ec(t){return t.type==="radio"||t.localName==="ui-radio"}function Sc(t,e){var r;return function(){var i=this,n=arguments,s=function(){r=null,t.apply(i,n)};clearTimeout(r),r=setTimeout(s,e)}}function xc(t,e){let r;return function(){let i=this,n=arguments;r||(t.apply(i,n),r=!0,setTimeout(()=>r=!1,e))}}function Tc({get:t,set:e},{get:r,set:i}){let n=!0,s,o,a=vr(()=>{let c=t(),f=r();if(n)i(Ws(c)),n=!1;else{let g=JSON.stringify(c),C=JSON.stringify(f);g!==s?i(Ws(c)):g!==C&&e(Ws(f))}s=JSON.stringify(t()),o=JSON.stringify(r())});return()=>{zr(a)}}function Ws(t){return typeof t=="object"?JSON.parse(JSON.stringify(t)):t}function Yf(t){(Array.isArray(t)?t:[t]).forEach(r=>r(mi))}var ur={},kl=!1;function Xf(t,e){if(kl||(ur=qr(ur),kl=!0),e===void 0)return ur[t];ur[t]=e,Ul(ur[t]),typeof e=="object"&&e!==null&&e.hasOwnProperty("init")&&typeof e.init=="function"&&ur[t].init()}function Zf(){return ur}var Ac={};function Gf(t,e){let r=typeof e!="function"?()=>e:e;return t instanceof Element?kc(t,r()):(Ac[t]=r,()=>{})}function Jf(t){return Object.entries(Ac).forEach(([e,r])=>{Object.defineProperty(t,e,{get(){return(...i)=>r(...i)}})}),t}function kc(t,e,r){let i=[];for(;i.length;)i.pop()();let n=Object.entries(e).map(([o,a])=>({name:o,value:a})),s=Jl(n);return n=n.map(o=>s.find(a=>a.name===o.name)?{name:`x-bind:${o.name}`,value:`"${o.value}"`}:o),wo(t,n,r).map(o=>{i.push(o.runCleanups),o()}),()=>{for(;i.length;)i.pop()()}}var Cc={};function Qf(t,e){Cc[t]=e}function ep(t,e){return Object.entries(Cc).forEach(([r,i])=>{Object.defineProperty(t,r,{get(){return(...n)=>i.bind(e)(...n)},enumerable:!1})}),t}var tp={get reactive(){return qr},get release(){return zr},get effect(){return vr},get raw(){return Nl},version:"3.14.9",flushAndStopDeferringMutations:rf,dontAutoEvaluateFunctions:Xl,disableEffectScheduling:Xd,startObservingMutations:go,stopObservingMutations:jl,setReactivityEngine:Zd,onAttributeRemoved:ql,onAttributesAdded:Hl,closestDataStack:Vr,skipDuringClone:Ut,onlyDuringClone:Mf,addRootSelector:uc,addInitSelector:hc,interceptClone:mn,addScopeToNode:fi,deferMutations:tf,mapAttributes:Eo,evaluateLater:Be,interceptInit:Ef,setEvaluator:cf,mergeProxies:pi,extractProp:Kf,findClosest:Wr,onElRemoved:fo,closestRoot:fn,destroyTree:Ur,interceptor:Kl,transition:oo,setStyles:pn,mutateDom:he,directive:Ee,entangle:Tc,throttle:xc,debounce:Sc,evaluate:fr,initTree:xt,nextTick:To,prefixed:jr,prefix:ff,plugin:Yf,magic:at,store:Xf,start:yf,clone:If,cloneNode:Pf,bound:Uf,$data:Wl,watch:Fl,walk:gr,data:Qf,bind:Gf},mi=tp;function Oc(t,e){let r=Object.create(null),i=t.split(",");for(let n=0;n<i.length;n++)r[i[n]]=!0;return e?n=>!!r[n.toLowerCase()]:n=>!!r[n]}var rp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Mv=Oc(rp+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),ip=Object.freeze({}),Pv=Object.freeze([]),np=Object.prototype.hasOwnProperty,gn=(t,e)=>np.call(t,e),pr=Array.isArray,hi=t=>_c(t)==="[object Map]",sp=t=>typeof t=="string",Co=t=>typeof t=="symbol",vn=t=>t!==null&&typeof t=="object",op=Object.prototype.toString,_c=t=>op.call(t),Lc=t=>_c(t).slice(8,-1),Oo=t=>sp(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,bn=t=>{let e=Object.create(null);return r=>e[r]||(e[r]=t(r))},ap=/-(\w)/g,Iv=bn(t=>t.replace(ap,(e,r)=>r?r.toUpperCase():"")),lp=/\B([A-Z])/g,Dv=bn(t=>t.replace(lp,"-$1").toLowerCase()),Rc=bn(t=>t.charAt(0).toUpperCase()+t.slice(1)),Nv=bn(t=>t?`on${Rc(t)}`:""),Mc=(t,e)=>t!==e&&(t===t||e===e),lo=new WeakMap,li=[],mt,mr=Symbol("iterate"),co=Symbol("Map key iterate");function cp(t){return t&&t._isEffect===!0}function up(t,e=ip){cp(t)&&(t=t.raw);let r=fp(t,e);return e.lazy||r(),r}function hp(t){t.active&&(Pc(t),t.options.onStop&&t.options.onStop(),t.active=!1)}var dp=0;function fp(t,e){let r=function(){if(!r.active)return t();if(!li.includes(r)){Pc(r);try{return mp(),li.push(r),mt=r,t()}finally{li.pop(),Ic(),mt=li[li.length-1]}}};return r.id=dp++,r.allowRecurse=!!e.allowRecurse,r._isEffect=!0,r.active=!0,r.raw=t,r.deps=[],r.options=e,r}function Pc(t){let{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}var Hr=!0,_o=[];function pp(){_o.push(Hr),Hr=!1}function mp(){_o.push(Hr),Hr=!0}function Ic(){let t=_o.pop();Hr=t===void 0?!0:t}function ot(t,e,r){if(!Hr||mt===void 0)return;let i=lo.get(t);i||lo.set(t,i=new Map);let n=i.get(r);n||i.set(r,n=new Set),n.has(mt)||(n.add(mt),mt.deps.push(n),mt.options.onTrack&&mt.options.onTrack({effect:mt,target:t,type:e,key:r}))}function Wt(t,e,r,i,n,s){let o=lo.get(t);if(!o)return;let a=new Set,c=g=>{g&&g.forEach(C=>{(C!==mt||C.allowRecurse)&&a.add(C)})};if(e==="clear")o.forEach(c);else if(r==="length"&&pr(t))o.forEach((g,C)=>{(C==="length"||C>=i)&&c(g)});else switch(r!==void 0&&c(o.get(r)),e){case"add":pr(t)?Oo(r)&&c(o.get("length")):(c(o.get(mr)),hi(t)&&c(o.get(co)));break;case"delete":pr(t)||(c(o.get(mr)),hi(t)&&c(o.get(co)));break;case"set":hi(t)&&c(o.get(mr));break}let f=g=>{g.options.onTrigger&&g.options.onTrigger({effect:g,target:t,key:r,type:e,newValue:i,oldValue:n,oldTarget:s}),g.options.scheduler?g.options.scheduler(g):g()};a.forEach(f)}var gp=Oc("__proto__,__v_isRef,__isVue"),Dc=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(Co)),vp=Nc(),bp=Nc(!0),Cl=yp();function yp(){let t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){let i=ne(this);for(let s=0,o=this.length;s<o;s++)ot(i,"get",s+"");let n=i[e](...r);return n===-1||n===!1?i[e](...r.map(ne)):n}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){pp();let i=ne(this)[e].apply(this,r);return Ic(),i}}),t}function Nc(t=!1,e=!1){return function(i,n,s){if(n==="__v_isReactive")return!t;if(n==="__v_isReadonly")return t;if(n==="__v_raw"&&s===(t?e?Dp:Vc:e?Ip:$c).get(i))return i;let o=pr(i);if(!t&&o&&gn(Cl,n))return Reflect.get(Cl,n,s);let a=Reflect.get(i,n,s);return(Co(n)?Dc.has(n):gp(n))||(t||ot(i,"get",n),e)?a:uo(a)?!o||!Oo(n)?a.value:a:vn(a)?t?Hc(a):Po(a):a}}var wp=Ep();function Ep(t=!1){return function(r,i,n,s){let o=r[i];if(!t&&(n=ne(n),o=ne(o),!pr(r)&&uo(o)&&!uo(n)))return o.value=n,!0;let a=pr(r)&&Oo(i)?Number(i)<r.length:gn(r,i),c=Reflect.set(r,i,n,s);return r===ne(s)&&(a?Mc(n,o)&&Wt(r,"set",i,n,o):Wt(r,"add",i,n)),c}}function Sp(t,e){let r=gn(t,e),i=t[e],n=Reflect.deleteProperty(t,e);return n&&r&&Wt(t,"delete",e,void 0,i),n}function xp(t,e){let r=Reflect.has(t,e);return(!Co(e)||!Dc.has(e))&&ot(t,"has",e),r}function Tp(t){return ot(t,"iterate",pr(t)?"length":mr),Reflect.ownKeys(t)}var Ap={get:vp,set:wp,deleteProperty:Sp,has:xp,ownKeys:Tp},kp={get:bp,set(t,e){return console.warn(`Set operation on key "${String(e)}" failed: target is readonly.`,t),!0},deleteProperty(t,e){return console.warn(`Delete operation on key "${String(e)}" failed: target is readonly.`,t),!0}},Lo=t=>vn(t)?Po(t):t,Ro=t=>vn(t)?Hc(t):t,Mo=t=>t,yn=t=>Reflect.getPrototypeOf(t);function tn(t,e,r=!1,i=!1){t=t.__v_raw;let n=ne(t),s=ne(e);e!==s&&!r&&ot(n,"get",e),!r&&ot(n,"get",s);let{has:o}=yn(n),a=i?Mo:r?Ro:Lo;if(o.call(n,e))return a(t.get(e));if(o.call(n,s))return a(t.get(s));t!==n&&t.get(e)}function rn(t,e=!1){let r=this.__v_raw,i=ne(r),n=ne(t);return t!==n&&!e&&ot(i,"has",t),!e&&ot(i,"has",n),t===n?r.has(t):r.has(t)||r.has(n)}function nn(t,e=!1){return t=t.__v_raw,!e&&ot(ne(t),"iterate",mr),Reflect.get(t,"size",t)}function Ol(t){t=ne(t);let e=ne(this);return yn(e).has.call(e,t)||(e.add(t),Wt(e,"add",t,t)),this}function _l(t,e){e=ne(e);let r=ne(this),{has:i,get:n}=yn(r),s=i.call(r,t);s?Bc(r,i,t):(t=ne(t),s=i.call(r,t));let o=n.call(r,t);return r.set(t,e),s?Mc(e,o)&&Wt(r,"set",t,e,o):Wt(r,"add",t,e),this}function Ll(t){let e=ne(this),{has:r,get:i}=yn(e),n=r.call(e,t);n?Bc(e,r,t):(t=ne(t),n=r.call(e,t));let s=i?i.call(e,t):void 0,o=e.delete(t);return n&&Wt(e,"delete",t,void 0,s),o}function Rl(){let t=ne(this),e=t.size!==0,r=hi(t)?new Map(t):new Set(t),i=t.clear();return e&&Wt(t,"clear",void 0,void 0,r),i}function sn(t,e){return function(i,n){let s=this,o=s.__v_raw,a=ne(o),c=e?Mo:t?Ro:Lo;return!t&&ot(a,"iterate",mr),o.forEach((f,g)=>i.call(n,c(f),c(g),s))}}function on(t,e,r){return function(...i){let n=this.__v_raw,s=ne(n),o=hi(s),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,f=n[t](...i),g=r?Mo:e?Ro:Lo;return!e&&ot(s,"iterate",c?co:mr),{next(){let{value:C,done:v}=f.next();return v?{value:C,done:v}:{value:a?[g(C[0]),g(C[1])]:g(C),done:v}},[Symbol.iterator](){return this}}}}function zt(t){return function(...e){{let r=e[0]?`on key "${e[0]}" `:"";console.warn(`${Rc(t)} operation ${r}failed: target is readonly.`,ne(this))}return t==="delete"?!1:this}}function Cp(){let t={get(s){return tn(this,s)},get size(){return nn(this)},has:rn,add:Ol,set:_l,delete:Ll,clear:Rl,forEach:sn(!1,!1)},e={get(s){return tn(this,s,!1,!0)},get size(){return nn(this)},has:rn,add:Ol,set:_l,delete:Ll,clear:Rl,forEach:sn(!1,!0)},r={get(s){return tn(this,s,!0)},get size(){return nn(this,!0)},has(s){return rn.call(this,s,!0)},add:zt("add"),set:zt("set"),delete:zt("delete"),clear:zt("clear"),forEach:sn(!0,!1)},i={get(s){return tn(this,s,!0,!0)},get size(){return nn(this,!0)},has(s){return rn.call(this,s,!0)},add:zt("add"),set:zt("set"),delete:zt("delete"),clear:zt("clear"),forEach:sn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=on(s,!1,!1),r[s]=on(s,!0,!1),e[s]=on(s,!1,!0),i[s]=on(s,!0,!0)}),[t,r,e,i]}var[Op,_p,Lp,Rp]=Cp();function Fc(t,e){let r=e?t?Rp:Lp:t?_p:Op;return(i,n,s)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?i:Reflect.get(gn(r,n)&&n in i?r:i,n,s)}var Mp={get:Fc(!1,!1)},Pp={get:Fc(!0,!1)};function Bc(t,e,r){let i=ne(r);if(i!==r&&e.call(t,i)){let n=Lc(t);console.warn(`Reactive ${n} contains both the raw and reactive versions of the same object${n==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var $c=new WeakMap,Ip=new WeakMap,Vc=new WeakMap,Dp=new WeakMap;function Np(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Fp(t){return t.__v_skip||!Object.isExtensible(t)?0:Np(Lc(t))}function Po(t){return t&&t.__v_isReadonly?t:qc(t,!1,Ap,Mp,$c)}function Hc(t){return qc(t,!0,kp,Pp,Vc)}function qc(t,e,r,i,n){if(!vn(t))return console.warn(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;let s=n.get(t);if(s)return s;let o=Fp(t);if(o===0)return t;let a=new Proxy(t,o===2?i:r);return n.set(t,a),a}function ne(t){return t&&ne(t.__v_raw)||t}function uo(t){return!!(t&&t.__v_isRef===!0)}at("nextTick",()=>To);at("dispatch",t=>ui.bind(ui,t));at("watch",(t,{evaluateLater:e,cleanup:r})=>(i,n)=>{let s=e(i),a=Fl(()=>{let c;return s(f=>c=f),c},n);r(a)});at("store",Zf);at("data",t=>Wl(t));at("root",t=>fn(t));at("refs",t=>(t._x_refs_proxy||(t._x_refs_proxy=pi(Bp(t))),t._x_refs_proxy));function Bp(t){let e=[];return Wr(t,r=>{r._x_refs&&e.push(r._x_refs)}),e}var Us={};function zc(t){return Us[t]||(Us[t]=0),++Us[t]}function $p(t,e){return Wr(t,r=>{if(r._x_ids&&r._x_ids[e])return!0})}function Vp(t,e){t._x_ids||(t._x_ids={}),t._x_ids[e]||(t._x_ids[e]=zc(e))}at("id",(t,{cleanup:e})=>(r,i=null)=>{let n=`${r}${i?`-${i}`:""}`;return Hp(t,n,e,()=>{let s=$p(t,r),o=s?s._x_ids[r]:zc(r);return i?`${r}-${o}-${i}`:`${r}-${o}`})});mn((t,e)=>{t._x_id&&(e._x_id=t._x_id)});function Hp(t,e,r,i){if(t._x_id||(t._x_id={}),t._x_id[e])return t._x_id[e];let n=i();return t._x_id[e]=n,r(()=>{delete t._x_id[e]}),n}at("el",t=>t);jc("Focus","focus","focus");jc("Persist","persist","persist");function jc(t,e,r){at(e,i=>Ze(`You can't use [$${e}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${r}`,i))}Ee("modelable",(t,{expression:e},{effect:r,evaluateLater:i,cleanup:n})=>{let s=i(e),o=()=>{let g;return s(C=>g=C),g},a=i(`${e} = __placeholder`),c=g=>a(()=>{},{scope:{__placeholder:g}}),f=o();c(f),queueMicrotask(()=>{if(!t._x_model)return;t._x_removeModelListeners.default();let g=t._x_model.get,C=t._x_model.set,v=Tc({get(){return g()},set(O){C(O)}},{get(){return o()},set(O){c(O)}});n(v)})});Ee("teleport",(t,{modifiers:e,expression:r},{cleanup:i})=>{t.tagName.toLowerCase()!=="template"&&Ze("x-teleport can only be used on a <template> tag",t);let n=Ml(r),s=t.content.cloneNode(!0).firstElementChild;t._x_teleport=s,s._x_teleportBack=t,t.setAttribute("data-teleport-template",!0),s.setAttribute("data-teleport-target",!0),t._x_forwardEvents&&t._x_forwardEvents.forEach(a=>{s.addEventListener(a,c=>{c.stopPropagation(),t.dispatchEvent(new c.constructor(c.type,c))})}),fi(s,{},t);let o=(a,c,f)=>{f.includes("prepend")?c.parentNode.insertBefore(a,c):f.includes("append")?c.parentNode.insertBefore(a,c.nextSibling):c.appendChild(a)};he(()=>{o(s,n,e),Ut(()=>{xt(s)})()}),t._x_teleportPutBack=()=>{let a=Ml(r);he(()=>{o(t._x_teleport,a,e)})},i(()=>he(()=>{s.remove(),Ur(s)}))});var qp=document.createElement("div");function Ml(t){let e=Ut(()=>document.querySelector(t),()=>qp)();return e||Ze(`Cannot find x-teleport element for selector: "${t}"`),e}var Wc=()=>{};Wc.inline=(t,{modifiers:e},{cleanup:r})=>{e.includes("self")?t._x_ignoreSelf=!0:t._x_ignore=!0,r(()=>{e.includes("self")?delete t._x_ignoreSelf:delete t._x_ignore})};Ee("ignore",Wc);Ee("effect",Ut((t,{expression:e},{effect:r})=>{r(Be(t,e))}));function ho(t,e,r,i){let n=t,s=c=>i(c),o={},a=(c,f)=>g=>f(c,g);if(r.includes("dot")&&(e=zp(e)),r.includes("camel")&&(e=jp(e)),r.includes("passive")&&(o.passive=!0),r.includes("capture")&&(o.capture=!0),r.includes("window")&&(n=window),r.includes("document")&&(n=document),r.includes("debounce")){let c=r[r.indexOf("debounce")+1]||"invalid-wait",f=dn(c.split("ms")[0])?Number(c.split("ms")[0]):250;s=Sc(s,f)}if(r.includes("throttle")){let c=r[r.indexOf("throttle")+1]||"invalid-wait",f=dn(c.split("ms")[0])?Number(c.split("ms")[0]):250;s=xc(s,f)}return r.includes("prevent")&&(s=a(s,(c,f)=>{f.preventDefault(),c(f)})),r.includes("stop")&&(s=a(s,(c,f)=>{f.stopPropagation(),c(f)})),r.includes("once")&&(s=a(s,(c,f)=>{c(f),n.removeEventListener(e,s,o)})),(r.includes("away")||r.includes("outside"))&&(n=document,s=a(s,(c,f)=>{t.contains(f.target)||f.target.isConnected!==!1&&(t.offsetWidth<1&&t.offsetHeight<1||t._x_isShown!==!1&&c(f))})),r.includes("self")&&(s=a(s,(c,f)=>{f.target===t&&c(f)})),(Up(e)||Uc(e))&&(s=a(s,(c,f)=>{Kp(f,r)||c(f)})),n.addEventListener(e,s,o),()=>{n.removeEventListener(e,s,o)}}function zp(t){return t.replace(/-/g,".")}function jp(t){return t.toLowerCase().replace(/-(\w)/g,(e,r)=>r.toUpperCase())}function dn(t){return!Array.isArray(t)&&!isNaN(t)}function Wp(t){return[" ","_"].includes(t)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Up(t){return["keydown","keyup"].includes(t)}function Uc(t){return["contextmenu","click","mouse"].some(e=>t.includes(e))}function Kp(t,e){let r=e.filter(s=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(s));if(r.includes("debounce")){let s=r.indexOf("debounce");r.splice(s,dn((r[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(r.includes("throttle")){let s=r.indexOf("throttle");r.splice(s,dn((r[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(r.length===0||r.length===1&&Pl(t.key).includes(r[0]))return!1;let n=["ctrl","shift","alt","meta","cmd","super"].filter(s=>r.includes(s));return r=r.filter(s=>!n.includes(s)),!(n.length>0&&n.filter(o=>((o==="cmd"||o==="super")&&(o="meta"),t[`${o}Key`])).length===n.length&&(Uc(t.type)||Pl(t.key).includes(r[0])))}function Pl(t){if(!t)return[];t=Wp(t);let e={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return e[t]=t,Object.keys(e).map(r=>{if(e[r]===t)return r}).filter(r=>r)}Ee("model",(t,{modifiers:e,expression:r},{effect:i,cleanup:n})=>{let s=t;e.includes("parent")&&(s=t.parentNode);let o=Be(s,r),a;typeof r=="string"?a=Be(s,`${r} = __placeholder`):typeof r=="function"&&typeof r()=="string"?a=Be(s,`${r()} = __placeholder`):a=()=>{};let c=()=>{let v;return o(O=>v=O),Il(v)?v.get():v},f=v=>{let O;o(R=>O=R),Il(O)?O.set(v):a(()=>{},{scope:{__placeholder:v}})};typeof r=="string"&&t.type==="radio"&&he(()=>{t.hasAttribute("name")||t.setAttribute("name",r)});var g=t.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(t.type)||e.includes("lazy")?"change":"input";let C=jt?()=>{}:ho(t,g,e,v=>{f(Ks(t,e,v,c()))});if(e.includes("fill")&&([void 0,null,""].includes(c())||ko(t)&&Array.isArray(c())||t.tagName.toLowerCase()==="select"&&t.multiple)&&f(Ks(t,e,{target:t},c())),t._x_removeModelListeners||(t._x_removeModelListeners={}),t._x_removeModelListeners.default=C,n(()=>t._x_removeModelListeners.default()),t.form){let v=ho(t.form,"reset",[],O=>{To(()=>t._x_model&&t._x_model.set(Ks(t,e,{target:t},c())))});n(()=>v())}t._x_model={get(){return c()},set(v){f(v)}},t._x_forceModelUpdate=v=>{v===void 0&&typeof r=="string"&&r.match(/\./)&&(v=""),window.fromModel=!0,he(()=>vc(t,"value",v)),delete window.fromModel},i(()=>{let v=c();e.includes("unintrusive")&&document.activeElement.isSameNode(t)||t._x_forceModelUpdate(v)})});function Ks(t,e,r,i){return he(()=>{if(r instanceof CustomEvent&&r.detail!==void 0)return r.detail!==null&&r.detail!==void 0?r.detail:r.target.value;if(ko(t))if(Array.isArray(i)){let n=null;return e.includes("number")?n=Ys(r.target.value):e.includes("boolean")?n=ln(r.target.value):n=r.target.value,r.target.checked?i.includes(n)?i:i.concat([n]):i.filter(s=>!Yp(s,n))}else return r.target.checked;else{if(t.tagName.toLowerCase()==="select"&&t.multiple)return e.includes("number")?Array.from(r.target.selectedOptions).map(n=>{let s=n.value||n.text;return Ys(s)}):e.includes("boolean")?Array.from(r.target.selectedOptions).map(n=>{let s=n.value||n.text;return ln(s)}):Array.from(r.target.selectedOptions).map(n=>n.value||n.text);{let n;return Ec(t)?r.target.checked?n=r.target.value:n=i:n=r.target.value,e.includes("number")?Ys(n):e.includes("boolean")?ln(n):e.includes("trim")?n.trim():n}}})}function Ys(t){let e=t?parseFloat(t):null;return Xp(e)?e:t}function Yp(t,e){return t==e}function Xp(t){return!Array.isArray(t)&&!isNaN(t)}function Il(t){return t!==null&&typeof t=="object"&&typeof t.get=="function"&&typeof t.set=="function"}Ee("cloak",t=>queueMicrotask(()=>he(()=>t.removeAttribute(jr("cloak")))));hc(()=>`[${jr("init")}]`);Ee("init",Ut((t,{expression:e},{evaluate:r})=>typeof e=="string"?!!e.trim()&&r(e,{},!1):r(e,{},!1)));Ee("text",(t,{expression:e},{effect:r,evaluateLater:i})=>{let n=i(e);r(()=>{n(s=>{he(()=>{t.textContent=s})})})});Ee("html",(t,{expression:e},{effect:r,evaluateLater:i})=>{let n=i(e);r(()=>{n(s=>{he(()=>{t.innerHTML=s,t._x_ignoreSelf=!0,xt(t),delete t._x_ignoreSelf})})})});Eo(tc(":",rc(jr("bind:"))));var Kc=(t,{value:e,modifiers:r,expression:i,original:n},{effect:s,cleanup:o})=>{if(!e){let c={};Jf(c),Be(t,i)(g=>{kc(t,g,n)},{scope:c});return}if(e==="key")return Zp(t,i);if(t._x_inlineBindings&&t._x_inlineBindings[e]&&t._x_inlineBindings[e].extract)return;let a=Be(t,i);s(()=>a(c=>{c===void 0&&typeof i=="string"&&i.match(/\./)&&(c=""),he(()=>vc(t,e,c,r))})),o(()=>{t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedStyles&&t._x_undoAddedStyles()})};Kc.inline=(t,{value:e,modifiers:r,expression:i})=>{e&&(t._x_inlineBindings||(t._x_inlineBindings={}),t._x_inlineBindings[e]={expression:i,extract:!1})};Ee("bind",Kc);function Zp(t,e){t._x_keyExpression=e}uc(()=>`[${jr("data")}]`);Ee("data",(t,{expression:e},{cleanup:r})=>{if(Gp(t))return;e=e===""?"{}":e;let i={};eo(i,t);let n={};ep(n,i);let s=fr(t,e,{scope:n});(s===void 0||s===!0)&&(s={}),eo(s,t);let o=qr(s);Ul(o);let a=fi(t,o);o.init&&fr(t,o.init),r(()=>{o.destroy&&fr(t,o.destroy),a()})});mn((t,e)=>{t._x_dataStack&&(e._x_dataStack=t._x_dataStack,e.setAttribute("data-has-alpine-state",!0))});function Gp(t){return jt?ao?!0:t.hasAttribute("data-has-alpine-state"):!1}Ee("show",(t,{modifiers:e,expression:r},{effect:i})=>{let n=Be(t,r);t._x_doHide||(t._x_doHide=()=>{he(()=>{t.style.setProperty("display","none",e.includes("important")?"important":void 0)})}),t._x_doShow||(t._x_doShow=()=>{he(()=>{t.style.length===1&&t.style.display==="none"?t.removeAttribute("style"):t.style.removeProperty("display")})});let s=()=>{t._x_doHide(),t._x_isShown=!1},o=()=>{t._x_doShow(),t._x_isShown=!0},a=()=>setTimeout(o),c=so(C=>C?o():s(),C=>{typeof t._x_toggleAndCascadeWithTransitions=="function"?t._x_toggleAndCascadeWithTransitions(t,C,o,s):C?a():s()}),f,g=!0;i(()=>n(C=>{!g&&C===f||(e.includes("immediate")&&(C?a():s()),c(C),f=C,g=!1)}))});Ee("for",(t,{expression:e},{effect:r,cleanup:i})=>{let n=Qp(e),s=Be(t,n.items),o=Be(t,t._x_keyExpression||"index");t._x_prevKeys=[],t._x_lookup={},r(()=>Jp(t,n,s,o)),i(()=>{Object.values(t._x_lookup).forEach(a=>he(()=>{Ur(a),a.remove()})),delete t._x_prevKeys,delete t._x_lookup})});function Jp(t,e,r,i){let n=o=>typeof o=="object"&&!Array.isArray(o),s=t;r(o=>{em(o)&&o>=0&&(o=Array.from(Array(o).keys(),x=>x+1)),o===void 0&&(o=[]);let a=t._x_lookup,c=t._x_prevKeys,f=[],g=[];if(n(o))o=Object.entries(o).map(([x,L])=>{let y=Dl(e,L,x,o);i(A=>{g.includes(A)&&Ze("Duplicate key on x-for",t),g.push(A)},{scope:{index:x,...y}}),f.push(y)});else for(let x=0;x<o.length;x++){let L=Dl(e,o[x],x,o);i(y=>{g.includes(y)&&Ze("Duplicate key on x-for",t),g.push(y)},{scope:{index:x,...L}}),f.push(L)}let C=[],v=[],O=[],R=[];for(let x=0;x<c.length;x++){let L=c[x];g.indexOf(L)===-1&&O.push(L)}c=c.filter(x=>!O.includes(x));let T="template";for(let x=0;x<g.length;x++){let L=g[x],y=c.indexOf(L);if(y===-1)c.splice(x,0,L),C.push([T,x]);else if(y!==x){let A=c.splice(x,1)[0],h=c.splice(y-1,1)[0];c.splice(x,0,h),c.splice(y,0,A),v.push([A,h])}else R.push(L);T=L}for(let x=0;x<O.length;x++){let L=O[x];L in a&&(he(()=>{Ur(a[L]),a[L].remove()}),delete a[L])}for(let x=0;x<v.length;x++){let[L,y]=v[x],A=a[L],h=a[y],w=document.createElement("div");he(()=>{h||Ze('x-for ":key" is undefined or invalid',s,y,a),h.after(w),A.after(h),h._x_currentIfEl&&h.after(h._x_currentIfEl),w.before(A),A._x_currentIfEl&&A.after(A._x_currentIfEl),w.remove()}),h._x_refreshXForScope(f[g.indexOf(y)])}for(let x=0;x<C.length;x++){let[L,y]=C[x],A=L==="template"?s:a[L];A._x_currentIfEl&&(A=A._x_currentIfEl);let h=f[y],w=g[y],E=document.importNode(s.content,!0).firstElementChild,_=qr(h);fi(E,_,s),E._x_refreshXForScope=M=>{Object.entries(M).forEach(([F,q])=>{_[F]=q})},he(()=>{A.after(E),Ut(()=>xt(E))()}),typeof w=="object"&&Ze("x-for key cannot be an object, it must be a string or an integer",s),a[w]=E}for(let x=0;x<R.length;x++)a[R[x]]._x_refreshXForScope(f[g.indexOf(R[x])]);s._x_prevKeys=g})}function Qp(t){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,r=/^\s*\(|\)\s*$/g,i=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,n=t.match(i);if(!n)return;let s={};s.items=n[2].trim();let o=n[1].replace(r,"").trim(),a=o.match(e);return a?(s.item=o.replace(e,"").trim(),s.index=a[1].trim(),a[2]&&(s.collection=a[2].trim())):s.item=o,s}function Dl(t,e,r,i){let n={};return/^\[.*\]$/.test(t.item)&&Array.isArray(e)?t.item.replace("[","").replace("]","").split(",").map(o=>o.trim()).forEach((o,a)=>{n[o]=e[a]}):/^\{.*\}$/.test(t.item)&&!Array.isArray(e)&&typeof e=="object"?t.item.replace("{","").replace("}","").split(",").map(o=>o.trim()).forEach(o=>{n[o]=e[o]}):n[t.item]=e,t.index&&(n[t.index]=r),t.collection&&(n[t.collection]=i),n}function em(t){return!Array.isArray(t)&&!isNaN(t)}function Yc(){}Yc.inline=(t,{expression:e},{cleanup:r})=>{let i=fn(t);i._x_refs||(i._x_refs={}),i._x_refs[e]=t,r(()=>delete i._x_refs[e])};Ee("ref",Yc);Ee("if",(t,{expression:e},{effect:r,cleanup:i})=>{t.tagName.toLowerCase()!=="template"&&Ze("x-if can only be used on a <template> tag",t);let n=Be(t,e),s=()=>{if(t._x_currentIfEl)return t._x_currentIfEl;let a=t.content.cloneNode(!0).firstElementChild;return fi(a,{},t),he(()=>{t.after(a),Ut(()=>xt(a))()}),t._x_currentIfEl=a,t._x_undoIf=()=>{he(()=>{Ur(a),a.remove()}),delete t._x_currentIfEl},a},o=()=>{t._x_undoIf&&(t._x_undoIf(),delete t._x_undoIf)};r(()=>n(a=>{a?s():o()})),i(()=>t._x_undoIf&&t._x_undoIf())});Ee("id",(t,{expression:e},{evaluate:r})=>{r(e).forEach(n=>Vp(t,n))});mn((t,e)=>{t._x_ids&&(e._x_ids=t._x_ids)});Eo(tc("@",rc(jr("on:"))));Ee("on",Ut((t,{value:e,modifiers:r,expression:i},{cleanup:n})=>{let s=i?Be(t,i):()=>{};t.tagName.toLowerCase()==="template"&&(t._x_forwardEvents||(t._x_forwardEvents=[]),t._x_forwardEvents.includes(e)||t._x_forwardEvents.push(e));let o=ho(t,e,r,a=>{s(()=>{},{scope:{$event:a},params:[a]})});n(()=>o())}));wn("Collapse","collapse","collapse");wn("Intersect","intersect","intersect");wn("Focus","trap","focus");wn("Mask","mask","mask");function wn(t,e,r){Ee(e,i=>Ze(`You can't use [x-${e}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${r}`,i))}mi.setEvaluator(Gl);mi.setReactivityEngine({reactive:Po,effect:up,release:hp,raw:ne});var tm=mi,En=tm;function rm(t){t.directive("collapse",e),e.inline=(r,{modifiers:i})=>{i.includes("min")&&(r._x_doShow=()=>{},r._x_doHide=()=>{})};function e(r,{modifiers:i}){let n=Xc(i,"duration",250)/1e3,s=Xc(i,"min",0),o=!i.includes("min");r._x_isShown||(r.style.height=`${s}px`),!r._x_isShown&&o&&(r.hidden=!0),r._x_isShown||(r.style.overflow="hidden");let a=(f,g)=>{let C=t.setStyles(f,g);return g.height?()=>{}:C},c={transitionProperty:"height",transitionDuration:`${n}s`,transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)"};r._x_transition={in(f=()=>{},g=()=>{}){o&&(r.hidden=!1),o&&(r.style.display=null);let C=r.getBoundingClientRect().height;r.style.height="auto";let v=r.getBoundingClientRect().height;C===v&&(C=s),t.transition(r,t.setStyles,{during:c,start:{height:C+"px"},end:{height:v+"px"}},()=>r._x_isShown=!0,()=>{Math.abs(r.getBoundingClientRect().height-v)<1&&(r.style.overflow=null)})},out(f=()=>{},g=()=>{}){let C=r.getBoundingClientRect().height;t.transition(r,a,{during:c,start:{height:C+"px"},end:{height:s+"px"}},()=>r.style.overflow="hidden",()=>{r._x_isShown=!1,r.style.height==`${s}px`&&o&&(r.style.display="none",r.hidden=!0)})}}}}function Xc(t,e,r){if(t.indexOf(e)===-1)return r;let i=t[t.indexOf(e)+1];if(!i)return r;if(e==="duration"){let n=i.match(/([0-9]+)ms/);if(n)return n[1]}if(e==="min"){let n=i.match(/([0-9]+)px/);if(n)return n[1]}return i}var Zc=rm;var Io=class{constructor(e,r,i){this.eventTarget=e,this.eventName=r,this.eventOptions=i,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){let r=im(e);for(let i of this.bindings){if(r.immediatePropagationStopped)break;i.handleEvent(r)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((e,r)=>{let i=e.index,n=r.index;return i<n?-1:i>n?1:0})}};function im(t){if("immediatePropagationStopped"in t)return t;{let{stopImmediatePropagation:e}=t;return Object.assign(t,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,e.call(this)}})}}var Do=class{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(e=>e.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(e=>e.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((e,r)=>e.concat(Array.from(r.values())),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e,r=!1){this.fetchEventListenerForBinding(e).bindingDisconnected(e),r&&this.clearEventListenersForBinding(e)}handleError(e,r,i={}){this.application.handleError(e,`Error ${r}`,i)}clearEventListenersForBinding(e){let r=this.fetchEventListenerForBinding(e);r.hasBindings()||(r.disconnect(),this.removeMappedEventListenerFor(e))}removeMappedEventListenerFor(e){let{eventTarget:r,eventName:i,eventOptions:n}=e,s=this.fetchEventListenerMapForEventTarget(r),o=this.cacheKey(i,n);s.delete(o),s.size==0&&this.eventListenerMaps.delete(r)}fetchEventListenerForBinding(e){let{eventTarget:r,eventName:i,eventOptions:n}=e;return this.fetchEventListener(r,i,n)}fetchEventListener(e,r,i){let n=this.fetchEventListenerMapForEventTarget(e),s=this.cacheKey(r,i),o=n.get(s);return o||(o=this.createEventListener(e,r,i),n.set(s,o)),o}createEventListener(e,r,i){let n=new Io(e,r,i);return this.started&&n.connect(),n}fetchEventListenerMapForEventTarget(e){let r=this.eventListenerMaps.get(e);return r||(r=new Map,this.eventListenerMaps.set(e,r)),r}cacheKey(e,r){let i=[e];return Object.keys(r).sort().forEach(n=>{i.push(`${r[n]?"":"!"}${n}`)}),i.join(":")}},nm={stop({event:t,value:e}){return e&&t.stopPropagation(),!0},prevent({event:t,value:e}){return e&&t.preventDefault(),!0},self({event:t,value:e,element:r}){return e?r===t.target:!0}},sm=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function om(t){let r=t.trim().match(sm)||[],i=r[2],n=r[3];return n&&!["keydown","keyup","keypress"].includes(i)&&(i+=`.${n}`,n=""),{eventTarget:am(r[4]),eventName:i,eventOptions:r[7]?lm(r[7]):{},identifier:r[5],methodName:r[6],keyFilter:r[1]||n}}function am(t){if(t=="window")return window;if(t=="document")return document}function lm(t){return t.split(":").reduce((e,r)=>Object.assign(e,{[r.replace(/^!/,"")]:!/^!/.test(r)}),{})}function cm(t){if(t==window)return"window";if(t==document)return"document"}function ia(t){return t.replace(/(?:[_-])([a-z0-9])/g,(e,r)=>r.toUpperCase())}function No(t){return ia(t.replace(/--/g,"-").replace(/__/g,"_"))}function vi(t){return t.charAt(0).toUpperCase()+t.slice(1)}function ou(t){return t.replace(/([A-Z])/g,(e,r)=>`-${r.toLowerCase()}`)}function um(t){return t.match(/[^\s]+/g)||[]}function Gc(t){return t!=null}function Fo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Jc=["meta","ctrl","alt","shift"],Bo=class{constructor(e,r,i,n){this.element=e,this.index=r,this.eventTarget=i.eventTarget||e,this.eventName=i.eventName||hm(e)||Sn("missing event name"),this.eventOptions=i.eventOptions||{},this.identifier=i.identifier||Sn("missing identifier"),this.methodName=i.methodName||Sn("missing method name"),this.keyFilter=i.keyFilter||"",this.schema=n}static forToken(e,r){return new this(e.element,e.index,om(e.content),r)}toString(){let e=this.keyFilter?`.${this.keyFilter}`:"",r=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}${r}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(e){if(!this.keyFilter)return!1;let r=this.keyFilter.split("+");if(this.keyFilterDissatisfied(e,r))return!0;let i=r.filter(n=>!Jc.includes(n))[0];return i?(Fo(this.keyMappings,i)||Sn(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[i].toLowerCase()!==e.key.toLowerCase()):!1}shouldIgnoreMouseEvent(e){if(!this.keyFilter)return!1;let r=[this.keyFilter];return!!this.keyFilterDissatisfied(e,r)}get params(){let e={},r=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(let{name:i,value:n}of Array.from(this.element.attributes)){let s=i.match(r),o=s&&s[1];o&&(e[ia(o)]=dm(n))}return e}get eventTargetName(){return cm(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(e,r){let[i,n,s,o]=Jc.map(a=>r.includes(a));return e.metaKey!==i||e.ctrlKey!==n||e.altKey!==s||e.shiftKey!==o}},Qc={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:t=>t.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function hm(t){let e=t.tagName.toLowerCase();if(e in Qc)return Qc[e](t)}function Sn(t){throw new Error(t)}function dm(t){try{return JSON.parse(t)}catch{return t}}var $o=class{constructor(e,r){this.context=e,this.action=r}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){let r=this.prepareActionEvent(e);this.willBeInvokedByEvent(e)&&this.applyEventModifiers(r)&&this.invokeWithEvent(r)}get eventName(){return this.action.eventName}get method(){let e=this.controller[this.methodName];if(typeof e=="function")return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(e){let{element:r}=this.action,{actionDescriptorFilters:i}=this.context.application,{controller:n}=this.context,s=!0;for(let[o,a]of Object.entries(this.eventOptions))if(o in i){let c=i[o];s=s&&c({name:o,value:a,event:e,element:r,controller:n})}else continue;return s}prepareActionEvent(e){return Object.assign(e,{params:this.action.params})}invokeWithEvent(e){let{target:r,currentTarget:i}=e;try{this.method.call(this.controller,e),this.context.logDebugActivity(this.methodName,{event:e,target:r,currentTarget:i,action:this.methodName})}catch(n){let{identifier:s,controller:o,element:a,index:c}=this,f={identifier:s,controller:o,element:a,index:c,event:e};this.context.handleError(n,`invoking action "${this.action}"`,f)}}willBeInvokedByEvent(e){let r=e.target;return e instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(e)||e instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(e)?!1:this.element===r?!0:r instanceof Element&&this.element.contains(r)?this.scope.containsElement(r):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}},xn=class{constructor(e,r){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=r,this.elements=new Set,this.mutationObserver=new MutationObserver(i=>this.processMutations(i))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){let e=new Set(this.matchElementsInTree());for(let r of Array.from(this.elements))e.has(r)||this.removeElement(r);for(let r of Array.from(e))this.addElement(r)}}processMutations(e){if(this.started)for(let r of e)this.processMutation(r)}processMutation(e){e.type=="attributes"?this.processAttributeChange(e.target,e.attributeName):e.type=="childList"&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,r){this.elements.has(e)?this.delegate.elementAttributeChanged&&this.matchElement(e)?this.delegate.elementAttributeChanged(e,r):this.removeElement(e):this.matchElement(e)&&this.addElement(e)}processRemovedNodes(e){for(let r of Array.from(e)){let i=this.elementFromNode(r);i&&this.processTree(i,this.removeElement)}}processAddedNodes(e){for(let r of Array.from(e)){let i=this.elementFromNode(r);i&&this.elementIsActive(i)&&this.processTree(i,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,r){for(let i of this.matchElementsInTree(e))r.call(this,i)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}},Tn=class{constructor(e,r,i){this.attributeName=r,this.delegate=i,this.elementObserver=new xn(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){let r=this.matchElement(e)?[e]:[],i=Array.from(e.querySelectorAll(this.selector));return r.concat(i)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,r){this.delegate.elementAttributeValueChanged&&this.attributeName==r&&this.delegate.elementAttributeValueChanged(e,r)}};function fm(t,e,r){au(t,e).add(r)}function pm(t,e,r){au(t,e).delete(r),mm(t,e)}function au(t,e){let r=t.get(e);return r||(r=new Set,t.set(e,r)),r}function mm(t,e){let r=t.get(e);r!=null&&r.size==0&&t.delete(e)}var Tt=class{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((r,i)=>r.concat(Array.from(i)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((r,i)=>r+i.size,0)}add(e,r){fm(this.valuesByKey,e,r)}delete(e,r){pm(this.valuesByKey,e,r)}has(e,r){let i=this.valuesByKey.get(e);return i!=null&&i.has(r)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some(i=>i.has(e))}getValuesForKey(e){let r=this.valuesByKey.get(e);return r?Array.from(r):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter(([r,i])=>i.has(e)).map(([r,i])=>r)}};var Vo=class{constructor(e,r,i,n){this._selector=r,this.details=n,this.elementObserver=new xn(e,this),this.delegate=i,this.matchesByElement=new Tt}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(e){this._selector=e,this.refresh()}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(e){let{selector:r}=this;if(r){let i=e.matches(r);return this.delegate.selectorMatchElement?i&&this.delegate.selectorMatchElement(e,this.details):i}else return!1}matchElementsInTree(e){let{selector:r}=this;if(r){let i=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(r)).filter(s=>this.matchElement(s));return i.concat(n)}else return[]}elementMatched(e){let{selector:r}=this;r&&this.selectorMatched(e,r)}elementUnmatched(e){let r=this.matchesByElement.getKeysForValue(e);for(let i of r)this.selectorUnmatched(e,i)}elementAttributeChanged(e,r){let{selector:i}=this;if(i){let n=this.matchElement(e),s=this.matchesByElement.has(i,e);n&&!s?this.selectorMatched(e,i):!n&&s&&this.selectorUnmatched(e,i)}}selectorMatched(e,r){this.delegate.selectorMatched(e,r,this.details),this.matchesByElement.add(r,e)}selectorUnmatched(e,r){this.delegate.selectorUnmatched(e,r,this.details),this.matchesByElement.delete(r,e)}},Ho=class{constructor(e,r){this.element=e,this.delegate=r,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(i=>this.processMutations(i))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(let e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(let r of e)this.processMutation(r)}processMutation(e){let r=e.attributeName;r&&this.refreshAttribute(r,e.oldValue)}refreshAttribute(e,r){let i=this.delegate.getStringMapKeyForAttribute(e);if(i!=null){this.stringMap.has(e)||this.stringMapKeyAdded(i,e);let n=this.element.getAttribute(e);if(this.stringMap.get(e)!=n&&this.stringMapValueChanged(n,i,r),n==null){let s=this.stringMap.get(e);this.stringMap.delete(e),s&&this.stringMapKeyRemoved(i,e,s)}else this.stringMap.set(e,n)}}stringMapKeyAdded(e,r){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,r)}stringMapValueChanged(e,r,i){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,r,i)}stringMapKeyRemoved(e,r,i){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,r,i)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(e=>e.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}},An=class{constructor(e,r,i){this.attributeObserver=new Tn(e,r,this),this.delegate=i,this.tokensByElement=new Tt}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){let[r,i]=this.refreshTokensForElement(e);this.tokensUnmatched(r),this.tokensMatched(i)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach(r=>this.tokenMatched(r))}tokensUnmatched(e){e.forEach(r=>this.tokenUnmatched(r))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){let r=this.tokensByElement.getValuesForKey(e),i=this.readTokensForElement(e),n=vm(r,i).findIndex(([s,o])=>!bm(s,o));return n==-1?[[],[]]:[r.slice(n),i.slice(n)]}readTokensForElement(e){let r=this.attributeName,i=e.getAttribute(r)||"";return gm(i,e,r)}};function gm(t,e,r){return t.trim().split(/\s+/).filter(i=>i.length).map((i,n)=>({element:e,attributeName:r,content:i,index:n}))}function vm(t,e){let r=Math.max(t.length,e.length);return Array.from({length:r},(i,n)=>[t[n],e[n]])}function bm(t,e){return t&&e&&t.index==e.index&&t.content==e.content}var kn=class{constructor(e,r,i){this.tokenListObserver=new An(e,r,this),this.delegate=i,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){let{element:r}=e,{value:i}=this.fetchParseResultForToken(e);i&&(this.fetchValuesByTokenForElement(r).set(e,i),this.delegate.elementMatchedValue(r,i))}tokenUnmatched(e){let{element:r}=e,{value:i}=this.fetchParseResultForToken(e);i&&(this.fetchValuesByTokenForElement(r).delete(e),this.delegate.elementUnmatchedValue(r,i))}fetchParseResultForToken(e){let r=this.parseResultsByToken.get(e);return r||(r=this.parseToken(e),this.parseResultsByToken.set(e,r)),r}fetchValuesByTokenForElement(e){let r=this.valuesByTokenByElement.get(e);return r||(r=new Map,this.valuesByTokenByElement.set(e,r)),r}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(r){return{error:r}}}},qo=class{constructor(e,r){this.context=e,this.delegate=r,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new kn(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){let r=new $o(this.context,e);this.bindingsByAction.set(e,r),this.delegate.bindingConnected(r)}disconnectAction(e){let r=this.bindingsByAction.get(e);r&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(r))}disconnectAllActions(){this.bindings.forEach(e=>this.delegate.bindingDisconnected(e,!0)),this.bindingsByAction.clear()}parseValueForToken(e){let r=Bo.forToken(e,this.schema);if(r.identifier==this.identifier)return r}elementMatchedValue(e,r){this.connectAction(r)}elementUnmatchedValue(e,r){this.disconnectAction(r)}},zo=class{constructor(e,r){this.context=e,this.receiver=r,this.stringMapObserver=new Ho(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,r){let i=this.valueDescriptorMap[r];this.hasValue(e)||this.invokeChangedCallback(e,i.writer(this.receiver[e]),i.writer(i.defaultValue))}stringMapValueChanged(e,r,i){let n=this.valueDescriptorNameMap[r];e!==null&&(i===null&&(i=n.writer(n.defaultValue)),this.invokeChangedCallback(r,e,i))}stringMapKeyRemoved(e,r,i){let n=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,n.writer(this.receiver[e]),i):this.invokeChangedCallback(e,n.writer(n.defaultValue),i)}invokeChangedCallbacksForDefaultValues(){for(let{key:e,name:r,defaultValue:i,writer:n}of this.valueDescriptors)i!=null&&!this.controller.data.has(e)&&this.invokeChangedCallback(r,n(i),void 0)}invokeChangedCallback(e,r,i){let n=`${e}Changed`,s=this.receiver[n];if(typeof s=="function"){let o=this.valueDescriptorNameMap[e];try{let a=o.reader(r),c=i;i&&(c=o.reader(i)),s.call(this.receiver,a,c)}catch(a){throw a instanceof TypeError&&(a.message=`Stimulus Value "${this.context.identifier}.${o.name}" - ${a.message}`),a}}}get valueDescriptors(){let{valueDescriptorMap:e}=this;return Object.keys(e).map(r=>e[r])}get valueDescriptorNameMap(){let e={};return Object.keys(this.valueDescriptorMap).forEach(r=>{let i=this.valueDescriptorMap[r];e[i.name]=i}),e}hasValue(e){let r=this.valueDescriptorNameMap[e],i=`has${vi(r.name)}`;return this.receiver[i]}},jo=class{constructor(e,r){this.context=e,this.delegate=r,this.targetsByName=new Tt}start(){this.tokenListObserver||(this.tokenListObserver=new An(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:r}){this.scope.containsElement(e)&&this.connectTarget(e,r)}tokenUnmatched({element:e,content:r}){this.disconnectTarget(e,r)}connectTarget(e,r){var i;this.targetsByName.has(r,e)||(this.targetsByName.add(r,e),(i=this.tokenListObserver)===null||i===void 0||i.pause(()=>this.delegate.targetConnected(e,r)))}disconnectTarget(e,r){var i;this.targetsByName.has(r,e)&&(this.targetsByName.delete(r,e),(i=this.tokenListObserver)===null||i===void 0||i.pause(()=>this.delegate.targetDisconnected(e,r)))}disconnectAllTargets(){for(let e of this.targetsByName.keys)for(let r of this.targetsByName.getValuesForKey(e))this.disconnectTarget(r,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}};function bi(t,e){let r=lu(t);return Array.from(r.reduce((i,n)=>(wm(n,e).forEach(s=>i.add(s)),i),new Set))}function ym(t,e){return lu(t).reduce((i,n)=>(i.push(...Em(n,e)),i),[])}function lu(t){let e=[];for(;t;)e.push(t),t=Object.getPrototypeOf(t);return e.reverse()}function wm(t,e){let r=t[e];return Array.isArray(r)?r:[]}function Em(t,e){let r=t[e];return r?Object.keys(r).map(i=>[i,r[i]]):[]}var Wo=class{constructor(e,r){this.started=!1,this.context=e,this.delegate=r,this.outletsByName=new Tt,this.outletElementsByName=new Tt,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach(e=>{this.setupSelectorObserverForOutlet(e),this.setupAttributeObserverForOutlet(e)}),this.started=!0,this.dependentContexts.forEach(e=>e.refresh()))}refresh(){this.selectorObserverMap.forEach(e=>e.refresh()),this.attributeObserverMap.forEach(e=>e.refresh())}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(e=>e.stop()),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(e=>e.stop()),this.attributeObserverMap.clear())}selectorMatched(e,r,{outletName:i}){let n=this.getOutlet(e,i);n&&this.connectOutlet(n,e,i)}selectorUnmatched(e,r,{outletName:i}){let n=this.getOutletFromMap(e,i);n&&this.disconnectOutlet(n,e,i)}selectorMatchElement(e,{outletName:r}){let i=this.selector(r),n=this.hasOutlet(e,r),s=e.matches(`[${this.schema.controllerAttribute}~=${r}]`);return i?n&&s&&e.matches(i):!1}elementMatchedAttribute(e,r){let i=this.getOutletNameFromOutletAttributeName(r);i&&this.updateSelectorObserverForOutlet(i)}elementAttributeValueChanged(e,r){let i=this.getOutletNameFromOutletAttributeName(r);i&&this.updateSelectorObserverForOutlet(i)}elementUnmatchedAttribute(e,r){let i=this.getOutletNameFromOutletAttributeName(r);i&&this.updateSelectorObserverForOutlet(i)}connectOutlet(e,r,i){var n;this.outletElementsByName.has(i,r)||(this.outletsByName.add(i,e),this.outletElementsByName.add(i,r),(n=this.selectorObserverMap.get(i))===null||n===void 0||n.pause(()=>this.delegate.outletConnected(e,r,i)))}disconnectOutlet(e,r,i){var n;this.outletElementsByName.has(i,r)&&(this.outletsByName.delete(i,e),this.outletElementsByName.delete(i,r),(n=this.selectorObserverMap.get(i))===null||n===void 0||n.pause(()=>this.delegate.outletDisconnected(e,r,i)))}disconnectAllOutlets(){for(let e of this.outletElementsByName.keys)for(let r of this.outletElementsByName.getValuesForKey(e))for(let i of this.outletsByName.getValuesForKey(e))this.disconnectOutlet(i,r,e)}updateSelectorObserverForOutlet(e){let r=this.selectorObserverMap.get(e);r&&(r.selector=this.selector(e))}setupSelectorObserverForOutlet(e){let r=this.selector(e),i=new Vo(document.body,r,this,{outletName:e});this.selectorObserverMap.set(e,i),i.start()}setupAttributeObserverForOutlet(e){let r=this.attributeNameForOutletName(e),i=new Tn(this.scope.element,r,this);this.attributeObserverMap.set(e,i),i.start()}selector(e){return this.scope.outlets.getSelectorForOutletName(e)}attributeNameForOutletName(e){return this.scope.schema.outletAttributeForScope(this.identifier,e)}getOutletNameFromOutletAttributeName(e){return this.outletDefinitions.find(r=>this.attributeNameForOutletName(r)===e)}get outletDependencies(){let e=new Tt;return this.router.modules.forEach(r=>{let i=r.definition.controllerConstructor;bi(i,"outlets").forEach(s=>e.add(s,r.identifier))}),e}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){let e=this.dependentControllerIdentifiers;return this.router.contexts.filter(r=>e.includes(r.identifier))}hasOutlet(e,r){return!!this.getOutlet(e,r)||!!this.getOutletFromMap(e,r)}getOutlet(e,r){return this.application.getControllerForElementAndIdentifier(e,r)}getOutletFromMap(e,r){return this.outletsByName.getValuesForKey(r).find(i=>i.element===e)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}},Uo=class{constructor(e,r){this.logDebugActivity=(i,n={})=>{let{identifier:s,controller:o,element:a}=this;n=Object.assign({identifier:s,controller:o,element:a},n),this.application.logDebugActivity(this.identifier,i,n)},this.module=e,this.scope=r,this.controller=new e.controllerConstructor(this),this.bindingObserver=new qo(this,this.dispatcher),this.valueObserver=new zo(this,this.controller),this.targetObserver=new jo(this,this),this.outletObserver=new Wo(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(i){this.handleError(i,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,r,i={}){let{identifier:n,controller:s,element:o}=this;i=Object.assign({identifier:n,controller:s,element:o},i),this.application.handleError(e,`Error ${r}`,i)}targetConnected(e,r){this.invokeControllerMethod(`${r}TargetConnected`,e)}targetDisconnected(e,r){this.invokeControllerMethod(`${r}TargetDisconnected`,e)}outletConnected(e,r,i){this.invokeControllerMethod(`${No(i)}OutletConnected`,e,r)}outletDisconnected(e,r,i){this.invokeControllerMethod(`${No(i)}OutletDisconnected`,e,r)}invokeControllerMethod(e,...r){let i=this.controller;typeof i[e]=="function"&&i[e](...r)}};function Sm(t){return xm(t,Tm(t))}function xm(t,e){let r=Om(t),i=Am(t.prototype,e);return Object.defineProperties(r.prototype,i),r}function Tm(t){return bi(t,"blessings").reduce((r,i)=>{let n=i(t);for(let s in n){let o=r[s]||{};r[s]=Object.assign(o,n[s])}return r},{})}function Am(t,e){return Cm(e).reduce((r,i)=>{let n=km(t,e,i);return n&&Object.assign(r,{[i]:n}),r},{})}function km(t,e,r){let i=Object.getOwnPropertyDescriptor(t,r);if(!(i&&"value"in i)){let s=Object.getOwnPropertyDescriptor(e,r).value;return i&&(s.get=i.get||s.get,s.set=i.set||s.set),s}}var Cm=typeof Object.getOwnPropertySymbols=="function"?t=>[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)]:Object.getOwnPropertyNames,Om=(()=>{function t(r){function i(){return Reflect.construct(r,arguments,new.target)}return i.prototype=Object.create(r.prototype,{constructor:{value:i}}),Reflect.setPrototypeOf(i,r),i}function e(){let i=t(function(){this.a.call(this)});return i.prototype.a=function(){},new i}try{return e(),t}catch{return i=>class extends i{}}})();function _m(t){return{identifier:t.identifier,controllerConstructor:Sm(t.controllerConstructor)}}var Ko=class{constructor(e,r){this.application=e,this.definition=_m(r),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){let r=this.fetchContextForScope(e);this.connectedContexts.add(r),r.connect()}disconnectContextForScope(e){let r=this.contextsByScope.get(e);r&&(this.connectedContexts.delete(r),r.disconnect())}fetchContextForScope(e){let r=this.contextsByScope.get(e);return r||(r=new Uo(this,e),this.contextsByScope.set(e,r)),r}},Yo=class{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){let r=this.data.get(this.getDataKey(e))||"";return um(r)}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}},Xo=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){let r=this.getAttributeNameForKey(e);return this.element.getAttribute(r)}set(e,r){let i=this.getAttributeNameForKey(e);return this.element.setAttribute(i,r),this.get(e)}has(e){let r=this.getAttributeNameForKey(e);return this.element.hasAttribute(r)}delete(e){if(this.has(e)){let r=this.getAttributeNameForKey(e);return this.element.removeAttribute(r),!0}else return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${ou(e)}`}},Zo=class{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,r,i){let n=this.warnedKeysByObject.get(e);n||(n=new Set,this.warnedKeysByObject.set(e,n)),n.has(r)||(n.add(r),this.logger.warn(i,e))}};function Go(t,e){return`[${t}~="${e}"]`}var Jo=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((r,i)=>r||this.findTarget(i)||this.findLegacyTarget(i),void 0)}findAll(...e){return e.reduce((r,i)=>[...r,...this.findAllTargets(i),...this.findAllLegacyTargets(i)],[])}findTarget(e){let r=this.getSelectorForTargetName(e);return this.scope.findElement(r)}findAllTargets(e){let r=this.getSelectorForTargetName(e);return this.scope.findAllElements(r)}getSelectorForTargetName(e){let r=this.schema.targetAttributeForScope(this.identifier);return Go(r,e)}findLegacyTarget(e){let r=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(r),e)}findAllLegacyTargets(e){let r=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(r).map(i=>this.deprecate(i,e))}getLegacySelectorForTargetName(e){let r=`${this.identifier}.${e}`;return Go(this.schema.targetAttribute,r)}deprecate(e,r){if(e){let{identifier:i}=this,n=this.schema.targetAttribute,s=this.schema.targetAttributeForScope(i);this.guide.warn(e,`target:${r}`,`Please replace ${n}="${i}.${r}" with ${s}="${r}". The ${n} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}},Qo=class{constructor(e,r){this.scope=e,this.controllerElement=r}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((r,i)=>r||this.findOutlet(i),void 0)}findAll(...e){return e.reduce((r,i)=>[...r,...this.findAllOutlets(i)],[])}getSelectorForOutletName(e){let r=this.schema.outletAttributeForScope(this.identifier,e);return this.controllerElement.getAttribute(r)}findOutlet(e){let r=this.getSelectorForOutletName(e);if(r)return this.findElement(r,e)}findAllOutlets(e){let r=this.getSelectorForOutletName(e);return r?this.findAllElements(r,e):[]}findElement(e,r){return this.scope.queryElements(e).filter(n=>this.matchesElement(n,e,r))[0]}findAllElements(e,r){return this.scope.queryElements(e).filter(n=>this.matchesElement(n,e,r))}matchesElement(e,r,i){let n=e.getAttribute(this.scope.schema.controllerAttribute)||"";return e.matches(r)&&n.split(" ").includes(i)}},ea=class t{constructor(e,r,i,n){this.targets=new Jo(this),this.classes=new Yo(this),this.data=new Xo(this),this.containsElement=s=>s.closest(this.controllerSelector)===this.element,this.schema=e,this.element=r,this.identifier=i,this.guide=new Zo(n),this.outlets=new Qo(this.documentScope,r)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return Go(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new t(this.schema,document.documentElement,this.identifier,this.guide.logger)}},ta=class{constructor(e,r,i){this.element=e,this.schema=r,this.delegate=i,this.valueListObserver=new kn(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){let{element:r,content:i}=e;return this.parseValueForElementAndIdentifier(r,i)}parseValueForElementAndIdentifier(e,r){let i=this.fetchScopesByIdentifierForElement(e),n=i.get(r);return n||(n=this.delegate.createScopeForElementAndIdentifier(e,r),i.set(r,n)),n}elementMatchedValue(e,r){let i=(this.scopeReferenceCounts.get(r)||0)+1;this.scopeReferenceCounts.set(r,i),i==1&&this.delegate.scopeConnected(r)}elementUnmatchedValue(e,r){let i=this.scopeReferenceCounts.get(r);i&&(this.scopeReferenceCounts.set(r,i-1),i==1&&this.delegate.scopeDisconnected(r))}fetchScopesByIdentifierForElement(e){let r=this.scopesByIdentifierByElement.get(e);return r||(r=new Map,this.scopesByIdentifierByElement.set(e,r)),r}},ra=class{constructor(e){this.application=e,this.scopeObserver=new ta(this.element,this.schema,this),this.scopesByIdentifier=new Tt,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((e,r)=>e.concat(r.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);let r=new Ko(this.application,e);this.connectModule(r);let i=e.controllerConstructor.afterLoad;i&&i.call(e.controllerConstructor,e.identifier,this.application)}unloadIdentifier(e){let r=this.modulesByIdentifier.get(e);r&&this.disconnectModule(r)}getContextForElementAndIdentifier(e,r){let i=this.modulesByIdentifier.get(r);if(i)return i.contexts.find(n=>n.element==e)}proposeToConnectScopeForElementAndIdentifier(e,r){let i=this.scopeObserver.parseValueForElementAndIdentifier(e,r);i?this.scopeObserver.elementMatchedValue(i.element,i):console.error(`Couldn't find or create scope for identifier: "${r}" and element:`,e)}handleError(e,r,i){this.application.handleError(e,r,i)}createScopeForElementAndIdentifier(e,r){return new ea(this.schema,e,r,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);let r=this.modulesByIdentifier.get(e.identifier);r&&r.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);let r=this.modulesByIdentifier.get(e.identifier);r&&r.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(i=>e.connectContextForScope(i))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(i=>e.disconnectContextForScope(i))}},Lm={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:t=>`data-${t}-target`,outletAttributeForScope:(t,e)=>`data-${t}-${e}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},eu("abcdefghijklmnopqrstuvwxyz".split("").map(t=>[t,t]))),eu("0123456789".split("").map(t=>[t,t])))};function eu(t){return t.reduce((e,[r,i])=>Object.assign(Object.assign({},e),{[r]:i}),{})}var Cn=class{constructor(e=document.documentElement,r=Lm){this.logger=console,this.debug=!1,this.logDebugActivity=(i,n,s={})=>{this.debug&&this.logFormattedMessage(i,n,s)},this.element=e,this.schema=r,this.dispatcher=new Do(this),this.router=new ra(this),this.actionDescriptorFilters=Object.assign({},nm)}static start(e,r){let i=new this(e,r);return i.start(),i}async start(){await Rm(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,r){this.load({identifier:e,controllerConstructor:r})}registerActionOption(e,r){this.actionDescriptorFilters[e]=r}load(e,...r){(Array.isArray(e)?e:[e,...r]).forEach(n=>{n.controllerConstructor.shouldLoad&&this.router.loadDefinition(n)})}unload(e,...r){(Array.isArray(e)?e:[e,...r]).forEach(n=>this.router.unloadIdentifier(n))}get controllers(){return this.router.contexts.map(e=>e.controller)}getControllerForElementAndIdentifier(e,r){let i=this.router.getContextForElementAndIdentifier(e,r);return i?i.controller:null}handleError(e,r,i){var n;this.logger.error(`%s

%o

%o`,r,e,i),(n=window.onerror)===null||n===void 0||n.call(window,r,"",0,0,e)}logFormattedMessage(e,r,i={}){i=Object.assign({application:this},i),this.logger.groupCollapsed(`${e} #${r}`),this.logger.log("details:",Object.assign({},i)),this.logger.groupEnd()}};function Rm(){return new Promise(t=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>t()):t()})}function Mm(t){return bi(t,"classes").reduce((r,i)=>Object.assign(r,Pm(i)),{})}function Pm(t){return{[`${t}Class`]:{get(){let{classes:e}=this;if(e.has(t))return e.get(t);{let r=e.getAttributeName(t);throw new Error(`Missing attribute "${r}"`)}}},[`${t}Classes`]:{get(){return this.classes.getAll(t)}},[`has${vi(t)}Class`]:{get(){return this.classes.has(t)}}}}function Im(t){return bi(t,"outlets").reduce((r,i)=>Object.assign(r,Dm(i)),{})}function tu(t,e,r){return t.application.getControllerForElementAndIdentifier(e,r)}function ru(t,e,r){let i=tu(t,e,r);if(i||(t.application.router.proposeToConnectScopeForElementAndIdentifier(e,r),i=tu(t,e,r),i))return i}function Dm(t){let e=No(t);return{[`${e}Outlet`]:{get(){let r=this.outlets.find(t),i=this.outlets.getSelectorForOutletName(t);if(r){let n=ru(this,r,t);if(n)return n;throw new Error(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${i}".`)}},[`${e}Outlets`]:{get(){let r=this.outlets.findAll(t);return r.length>0?r.map(i=>{let n=ru(this,i,t);if(n)return n;console.warn(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`,i)}).filter(i=>i):[]}},[`${e}OutletElement`]:{get(){let r=this.outlets.find(t),i=this.outlets.getSelectorForOutletName(t);if(r)return r;throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${i}".`)}},[`${e}OutletElements`]:{get(){return this.outlets.findAll(t)}},[`has${vi(e)}Outlet`]:{get(){return this.outlets.has(t)}}}}function Nm(t){return bi(t,"targets").reduce((r,i)=>Object.assign(r,Fm(i)),{})}function Fm(t){return{[`${t}Target`]:{get(){let e=this.targets.find(t);if(e)return e;throw new Error(`Missing target element "${t}" for "${this.identifier}" controller`)}},[`${t}Targets`]:{get(){return this.targets.findAll(t)}},[`has${vi(t)}Target`]:{get(){return this.targets.has(t)}}}}function Bm(t){let e=ym(t,"values"),r={valueDescriptorMap:{get(){return e.reduce((i,n)=>{let s=cu(n,this.identifier),o=this.data.getAttributeNameForKey(s.key);return Object.assign(i,{[o]:s})},{})}}};return e.reduce((i,n)=>Object.assign(i,$m(n)),r)}function $m(t,e){let r=cu(t,e),{key:i,name:n,reader:s,writer:o}=r;return{[n]:{get(){let a=this.data.get(i);return a!==null?s(a):r.defaultValue},set(a){a===void 0?this.data.delete(i):this.data.set(i,o(a))}},[`has${vi(n)}`]:{get(){return this.data.has(i)||r.hasCustomDefaultValue}}}}function cu([t,e],r){return zm({controller:r,token:t,typeDefinition:e})}function On(t){switch(t){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function gi(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(t))return"array";if(Object.prototype.toString.call(t)==="[object Object]")return"object"}function Vm(t){let{controller:e,token:r,typeObject:i}=t,n=Gc(i.type),s=Gc(i.default),o=n&&s,a=n&&!s,c=!n&&s,f=On(i.type),g=gi(t.typeObject.default);if(a)return f;if(c)return g;if(f!==g){let C=e?`${e}.${r}`:r;throw new Error(`The specified default value for the Stimulus Value "${C}" must match the defined type "${f}". The provided default value of "${i.default}" is of type "${g}".`)}if(o)return f}function Hm(t){let{controller:e,token:r,typeDefinition:i}=t,s=Vm({controller:e,token:r,typeObject:i}),o=gi(i),a=On(i),c=s||o||a;if(c)return c;let f=e?`${e}.${i}`:r;throw new Error(`Unknown value type "${f}" for "${r}" value`)}function qm(t){let e=On(t);if(e)return iu[e];let r=Fo(t,"default"),i=Fo(t,"type"),n=t;if(r)return n.default;if(i){let{type:s}=n,o=On(s);if(o)return iu[o]}return t}function zm(t){let{token:e,typeDefinition:r}=t,i=`${ou(e)}-value`,n=Hm(t);return{type:n,key:i,name:ia(i),get defaultValue(){return qm(r)},get hasCustomDefaultValue(){return gi(r)!==void 0},reader:jm[n],writer:nu[n]||nu.default}}var iu={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},jm={array(t){let e=JSON.parse(t);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${t}" of type "${gi(e)}"`);return e},boolean(t){return!(t=="0"||String(t).toLowerCase()=="false")},number(t){return Number(t.replace(/_/g,""))},object(t){let e=JSON.parse(t);if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${t}" of type "${gi(e)}"`);return e},string(t){return t}},nu={default:Wm,array:su,object:su};function su(t){return JSON.stringify(t)}function Wm(t){return`${t}`}var me=class{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,r){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:r=this.element,detail:i={},prefix:n=this.identifier,bubbles:s=!0,cancelable:o=!0}={}){let a=n?`${n}:${e}`:e,c=new CustomEvent(a,{detail:i,bubbles:s,cancelable:o});return r.dispatchEvent(c),c}};me.blessings=[Mm,Nm,Bm,Im];me.targets=[];me.outlets=[];me.values={};var _n=class extends me{static targets=["links","content","menu"];static values={headerSelector:String,offset:Number,clipboardSuccess:String};connect(){if(!(this.hasContentTarget&&this.hasLinksTarget&&this.hasMenuTarget)){this.menuTarget&&this.menuTarget.remove();return}this.#e();let e=window.location.hash.replace("#","");document.getElementById(e)?.scrollIntoView({behavior:"instant",block:"start"})}disconnect(){window.removeEventListener("scroll",this.#i.bind(this))}#e(){let t=this.#t(this.headings);t.children.length>0?(this.#r(t,this.linksTarget),window.addEventListener("scroll",this.#i.bind(this)),this.#i(),this.element.classList.add("has-toc")):(this.element.classList.remove("has-toc"),this.menuTarget.remove())}#t(t){let e={level:0,children:[]},r=e;return t.forEach((i,n)=>{if(i.textContent.trim()==="")return;let s=parseInt(i.tagName.substr(1),10),o=this.#n(i,s,n);i.style.position="relative";let a=this.headerHeight+Number(this.offsetValue);i.insertAdjacentHTML("beforeend",`<div js-position style="position: absolute; top: -${a}px; left: 0; width: 0; height: 0" id="${o}"></div>`),i.insertAdjacentHTML("beforeend",'<a name="'+o+'"></a>');let c={level:s,id:o,text:i.textContent,children:[]};if(s>r.level)r.children.push(c);else{for(;s<=r.level&&r!==e;)r=r.parent;r.children.push(c)}c.parent=r,r=c}),e}#r(t,e,r=0){if(t.children.length==0)return;let i=document.createElement("ul");return t.children.forEach(n=>{let s=document.createElement("li"),o=document.createElement("button");o.type="button",o.textContent=n.text,o.dataset.action="toc#navigateToAnchor",o.dataset.tocAnchorParam=n.id,s.appendChild(o),i.appendChild(s);let a=document.getElementById(n.id);if(!a)return;let c=a.parentElement;if(!c)return;c.style.position="relative",c.classList.add("group");let f=document.createElement("span");f.className="inline-flex items-center align-middle ml-1",f.setAttribute("data-controller","clipboard"),f.setAttribute("data-clipboard-success-value",this.clipboardSuccessValue),f.style.verticalAlign="middle";let g=`
        <input type="hidden" value="${window.location.href.split("#")[0]}#${n.id}" data-clipboard-target="source" />
        <button type="button" data-action="clipboard#copy" data-clipboard-target="button" class="inline-flex ml-1 opacity-0 group-hover:opacity-100">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-300 group-hover:text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
          </svg>
        </button>
      `;f.innerHTML=g,c.appendChild(f);let C=Array.from(c.childNodes).filter(v=>v.nodeType===Node.TEXT_NODE||v.nodeType===Node.ELEMENT_NODE&&!v.hasAttribute("data-controller")&&!v.hasAttribute("js-position")).pop();if(C&&C.nextSibling&&c.insertBefore(f,C.nextSibling),n.children.length>0){let v=this.#r(n,s,r+1);s.appendChild(v)}}),e.appendChild(i),i}#n(t,e,r){return t.id||`heading-menu-h${e}-${r}`}#i(t){this.hightLightTimer&&clearTimeout(this.hightLightTimer),this.hightLightTimer=setTimeout(()=>{let e=Array.from(this.linksTarget.querySelectorAll("[data-toc-anchor-param]")),r=null;for(let i=0;i<this.headings.length;i++){let n=this.headings[i],s=e.find(o=>o.dataset.tocAnchorParam===n.querySelector("[js-position]").id);if(s&&this.isHeadingInView(n)){r=s;break}}e.forEach(i=>i.classList.remove("text-primary","font-bold")),r&&(r.classList.add("text-primary","font-bold"),r.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}))},50)}isHeadingInView(t){let e=t.getBoundingClientRect();return e.top>=this.headerHeight&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}navigateToAnchor(t){let{anchor:e}=t.params,r=document.getElementById(e);if(r){let i=this.headerHeight,o={top:r.getBoundingClientRect().top-i,behavior:"smooth"};window.scrollBy(0,-i),window.scrollBy(o)}}fncAnimation=t=>(window.setTimeout(t,1e3/60),t);get headings(){return Array.from(this.contentTarget.querySelectorAll("h1, h2, h3, h4, h5, h6"))}get headerHeight(){if(!this.hasHeaderSelectorValue||!this.headerSelectorValue)return 0;let t=document.querySelector(this.headerSelectorValue);return t?t.offsetHeight:0}};var hu=Ph(uu());var Ln=class extends me{connect(){let t=this.element.getElementsByTagName("img");Array.from(t).forEach(r=>{r.addEventListener("click",this.openViewer)})}openViewer=t=>{let e=t.currentTarget,r=new hu.default(this.element,{toolbar:{zoomIn:1,zoomOut:1,oneToOne:1,reset:1,prev:1,play:{show:1,size:"large"},next:1,rotateLeft:1,rotateRight:1,flipHorizontal:1,flipVertical:1}});console.log("openViewer",e),r.view(e)}};var Rn=class extends me{static targets=["item"];static classes=["active"];connect(){if(this.#e(),this.itemTargets.forEach(t=>{t.addEventListener("click",e=>{this.itemTargets.forEach(r=>{r.classList.remove(this.activeClass)}),t.classList.add(this.activeClass)})}),this.activeDom){let e=this.activeDom.getBoundingClientRect().top-this.element.parentElement.offsetHeight/3;this.element.parentElement.scrollTo({top:e,behavior:"instant"})}}disconnect(){this.setTimeout&&clearTimeout(this.setTimeout)}#e(){this.itemTargets.forEach(t=>{let e;if(t.tagName==="SUMMARY"?e=t.querySelector("a"):e=t,e&&e.getAttribute("href")===window.location.pathname){t.classList.add(this.activeClass),this.activeDom=t;let r=t.closest("details");for(;r;)r.setAttribute("open",""),r=r.parentElement.closest("details")}else t.classList.remove(this.activeClass)})}};var Mn=class extends me{static targets=["autoIcon","lightIcon","darkIcon","currentIcon"];connect(){this.systemThemeMediaQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.systemThemeMediaQuery.addEventListener("change",this.handleSystemThemeChange.bind(this)),this.#e(this.theme),document.addEventListener("turbo:load",()=>{this.#e(this.theme)})}disconnect(){this.systemThemeMediaQuery.removeEventListener("change",this.handleSystemThemeChange.bind(this))}handleSystemThemeChange(){this.theme=="auto"&&this.#e(this.systemDark?"dark":"light")}toggle(t){let{mode:e}=t.params;this.theme=e,this.#e(e)}get theme(){let t=localStorage.getItem("theme");return t=="light"||t=="dark"?t:"auto"}set theme(t){t=="light"||t=="dark"?localStorage.setItem("theme",t):localStorage.removeItem("theme")}get systemDark(){return this.systemThemeMediaQuery.matches}#e(t){switch(t){case"dark":this.element.dataset.theme="dark",this.element.classList.add("dark");break;case"light":this.element.dataset.theme="light",this.element.classList.remove("dark");break;default:let e=this.systemDark;this.element.dataset.theme=e?"dark":"light",this.element.classList.toggle("dark",e);break}this.#t(t)}#t(t){let e=null;switch(t){case"light":e=this.lightIconTarget;break;case"dark":e=this.darkIconTarget;break;case"auto":default:e=this.autoIconTarget;break}e=e.cloneNode(!0),e.setAttribute("data-theme-target",this.currentIconTarget.dataset.themeTarget),e.setAttribute("class",this.currentIconTarget.classList),this.currentIconTarget.outerHTML=e.outerHTML}};var ge="top",ke="bottom",Se="right",ye="left",Pn="auto",Kt=[ge,ke,Se,ye],At="start",br="end",du="clippingParents",In="viewport",Kr="popper",fu="reference",oa=Kt.reduce(function(t,e){return t.concat([e+"-"+At,e+"-"+br])},[]),Dn=[].concat(Kt,[Pn]).reduce(function(t,e){return t.concat([e,e+"-"+At,e+"-"+br])},[]),Um="beforeRead",Km="read",Ym="afterRead",Xm="beforeMain",Zm="main",Gm="afterMain",Jm="beforeWrite",Qm="write",eg="afterWrite",pu=[Um,Km,Ym,Xm,Zm,Gm,Jm,Qm,eg];function Re(t){return t?(t.nodeName||"").toLowerCase():null}function le(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ge(t){var e=le(t).Element;return t instanceof e||t instanceof Element}function Ce(t){var e=le(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Yr(t){if(typeof ShadowRoot>"u")return!1;var e=le(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function tg(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var i=e.styles[r]||{},n=e.attributes[r]||{},s=e.elements[r];!Ce(s)||!Re(s)||(Object.assign(s.style,i),Object.keys(n).forEach(function(o){var a=n[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function rg(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(i){var n=e.elements[i],s=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:r[i]),a=o.reduce(function(c,f){return c[f]="",c},{});!Ce(n)||!Re(n)||(Object.assign(n.style,a),Object.keys(s).forEach(function(c){n.removeAttribute(c)}))})}}var yi={name:"applyStyles",enabled:!0,phase:"write",fn:tg,effect:rg,requires:["computeStyles"]};function Me(t){return t.split("-")[0]}var lt=Math.max,yr=Math.min,kt=Math.round;function Xr(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function wi(){return!/^((?!chrome|android).)*safari/i.test(Xr())}function Je(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var i=t.getBoundingClientRect(),n=1,s=1;e&&Ce(t)&&(n=t.offsetWidth>0&&kt(i.width)/t.offsetWidth||1,s=t.offsetHeight>0&&kt(i.height)/t.offsetHeight||1);var o=Ge(t)?le(t):window,a=o.visualViewport,c=!wi()&&r,f=(i.left+(c&&a?a.offsetLeft:0))/n,g=(i.top+(c&&a?a.offsetTop:0))/s,C=i.width/n,v=i.height/s;return{width:C,height:v,top:g,right:f+C,bottom:g+v,left:f,x:f,y:g}}function wr(t){var e=Je(t),r=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:i}}function Ei(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&Yr(r)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function $e(t){return le(t).getComputedStyle(t)}function aa(t){return["table","td","th"].indexOf(Re(t))>=0}function De(t){return((Ge(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ct(t){return Re(t)==="html"?t:t.assignedSlot||t.parentNode||(Yr(t)?t.host:null)||De(t)}function mu(t){return!Ce(t)||$e(t).position==="fixed"?null:t.offsetParent}function ig(t){var e=/firefox/i.test(Xr()),r=/Trident/i.test(Xr());if(r&&Ce(t)){var i=$e(t);if(i.position==="fixed")return null}var n=Ct(t);for(Yr(n)&&(n=n.host);Ce(n)&&["html","body"].indexOf(Re(n))<0;){var s=$e(n);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return n;n=n.parentNode}return null}function ct(t){for(var e=le(t),r=mu(t);r&&aa(r)&&$e(r).position==="static";)r=mu(r);return r&&(Re(r)==="html"||Re(r)==="body"&&$e(r).position==="static")?e:r||ig(t)||e}function Er(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Sr(t,e,r){return lt(t,yr(e,r))}function gu(t,e,r){var i=Sr(t,e,r);return i>r?r:i}function Si(){return{top:0,right:0,bottom:0,left:0}}function xi(t){return Object.assign({},Si(),t)}function Ti(t,e){return e.reduce(function(r,i){return r[i]=t,r},{})}var ng=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,xi(typeof e!="number"?e:Ti(e,Kt))};function sg(t){var e,r=t.state,i=t.name,n=t.options,s=r.elements.arrow,o=r.modifiersData.popperOffsets,a=Me(r.placement),c=Er(a),f=[ye,Se].indexOf(a)>=0,g=f?"height":"width";if(!(!s||!o)){var C=ng(n.padding,r),v=wr(s),O=c==="y"?ge:ye,R=c==="y"?ke:Se,T=r.rects.reference[g]+r.rects.reference[c]-o[c]-r.rects.popper[g],x=o[c]-r.rects.reference[c],L=ct(s),y=L?c==="y"?L.clientHeight||0:L.clientWidth||0:0,A=T/2-x/2,h=C[O],w=y-v[g]-C[R],E=y/2-v[g]/2+A,_=Sr(h,E,w),M=c;r.modifiersData[i]=(e={},e[M]=_,e.centerOffset=_-E,e)}}function og(t){var e=t.state,r=t.options,i=r.element,n=i===void 0?"[data-popper-arrow]":i;n!=null&&(typeof n=="string"&&(n=e.elements.popper.querySelector(n),!n)||Ei(e.elements.popper,n)&&(e.elements.arrow=n))}var vu={name:"arrow",enabled:!0,phase:"main",fn:sg,effect:og,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Qe(t){return t.split("-")[1]}var ag={top:"auto",right:"auto",bottom:"auto",left:"auto"};function lg(t,e){var r=t.x,i=t.y,n=e.devicePixelRatio||1;return{x:kt(r*n)/n||0,y:kt(i*n)/n||0}}function bu(t){var e,r=t.popper,i=t.popperRect,n=t.placement,s=t.variation,o=t.offsets,a=t.position,c=t.gpuAcceleration,f=t.adaptive,g=t.roundOffsets,C=t.isFixed,v=o.x,O=v===void 0?0:v,R=o.y,T=R===void 0?0:R,x=typeof g=="function"?g({x:O,y:T}):{x:O,y:T};O=x.x,T=x.y;var L=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),A=ye,h=ge,w=window;if(f){var E=ct(r),_="clientHeight",M="clientWidth";if(E===le(r)&&(E=De(r),$e(E).position!=="static"&&a==="absolute"&&(_="scrollHeight",M="scrollWidth")),E=E,n===ge||(n===ye||n===Se)&&s===br){h=ke;var F=C&&E===w&&w.visualViewport?w.visualViewport.height:E[_];T-=F-i.height,T*=c?1:-1}if(n===ye||(n===ge||n===ke)&&s===br){A=Se;var q=C&&E===w&&w.visualViewport?w.visualViewport.width:E[M];O-=q-i.width,O*=c?1:-1}}var j=Object.assign({position:a},f&&ag),G=g===!0?lg({x:O,y:T},le(r)):{x:O,y:T};if(O=G.x,T=G.y,c){var U;return Object.assign({},j,(U={},U[h]=y?"0":"",U[A]=L?"0":"",U.transform=(w.devicePixelRatio||1)<=1?"translate("+O+"px, "+T+"px)":"translate3d("+O+"px, "+T+"px, 0)",U))}return Object.assign({},j,(e={},e[h]=y?T+"px":"",e[A]=L?O+"px":"",e.transform="",e))}function cg(t){var e=t.state,r=t.options,i=r.gpuAcceleration,n=i===void 0?!0:i,s=r.adaptive,o=s===void 0?!0:s,a=r.roundOffsets,c=a===void 0?!0:a,f={placement:Me(e.placement),variation:Qe(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,bu(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,bu(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var yu={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:cg,data:{}};var Nn={passive:!0};function ug(t){var e=t.state,r=t.instance,i=t.options,n=i.scroll,s=n===void 0?!0:n,o=i.resize,a=o===void 0?!0:o,c=le(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&f.forEach(function(g){g.addEventListener("scroll",r.update,Nn)}),a&&c.addEventListener("resize",r.update,Nn),function(){s&&f.forEach(function(g){g.removeEventListener("scroll",r.update,Nn)}),a&&c.removeEventListener("resize",r.update,Nn)}}var wu={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ug,data:{}};var hg={left:"right",right:"left",bottom:"top",top:"bottom"};function Zr(t){return t.replace(/left|right|bottom|top/g,function(e){return hg[e]})}var dg={start:"end",end:"start"};function Fn(t){return t.replace(/start|end/g,function(e){return dg[e]})}function xr(t){var e=le(t),r=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:r,scrollTop:i}}function Tr(t){return Je(De(t)).left+xr(t).scrollLeft}function la(t,e){var r=le(t),i=De(t),n=r.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,c=0;if(n){s=n.width,o=n.height;var f=wi();(f||!f&&e==="fixed")&&(a=n.offsetLeft,c=n.offsetTop)}return{width:s,height:o,x:a+Tr(t),y:c}}function ca(t){var e,r=De(t),i=xr(t),n=(e=t.ownerDocument)==null?void 0:e.body,s=lt(r.scrollWidth,r.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),o=lt(r.scrollHeight,r.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-i.scrollLeft+Tr(t),c=-i.scrollTop;return $e(n||r).direction==="rtl"&&(a+=lt(r.clientWidth,n?n.clientWidth:0)-s),{width:s,height:o,x:a,y:c}}function Ar(t){var e=$e(t),r=e.overflow,i=e.overflowX,n=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+n+i)}function Bn(t){return["html","body","#document"].indexOf(Re(t))>=0?t.ownerDocument.body:Ce(t)&&Ar(t)?t:Bn(Ct(t))}function Yt(t,e){var r;e===void 0&&(e=[]);var i=Bn(t),n=i===((r=t.ownerDocument)==null?void 0:r.body),s=le(i),o=n?[s].concat(s.visualViewport||[],Ar(i)?i:[]):i,a=e.concat(o);return n?a:a.concat(Yt(Ct(o)))}function Gr(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function fg(t,e){var r=Je(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function Eu(t,e,r){return e===In?Gr(la(t,r)):Ge(e)?fg(e,r):Gr(ca(De(t)))}function pg(t){var e=Yt(Ct(t)),r=["absolute","fixed"].indexOf($e(t).position)>=0,i=r&&Ce(t)?ct(t):t;return Ge(i)?e.filter(function(n){return Ge(n)&&Ei(n,i)&&Re(n)!=="body"}):[]}function ua(t,e,r,i){var n=e==="clippingParents"?pg(t):[].concat(e),s=[].concat(n,[r]),o=s[0],a=s.reduce(function(c,f){var g=Eu(t,f,i);return c.top=lt(g.top,c.top),c.right=yr(g.right,c.right),c.bottom=yr(g.bottom,c.bottom),c.left=lt(g.left,c.left),c},Eu(t,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Ai(t){var e=t.reference,r=t.element,i=t.placement,n=i?Me(i):null,s=i?Qe(i):null,o=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,c;switch(n){case ge:c={x:o,y:e.y-r.height};break;case ke:c={x:o,y:e.y+e.height};break;case Se:c={x:e.x+e.width,y:a};break;case ye:c={x:e.x-r.width,y:a};break;default:c={x:e.x,y:e.y}}var f=n?Er(n):null;if(f!=null){var g=f==="y"?"height":"width";switch(s){case At:c[f]=c[f]-(e[g]/2-r[g]/2);break;case br:c[f]=c[f]+(e[g]/2-r[g]/2);break;default:}}return c}function ut(t,e){e===void 0&&(e={});var r=e,i=r.placement,n=i===void 0?t.placement:i,s=r.strategy,o=s===void 0?t.strategy:s,a=r.boundary,c=a===void 0?du:a,f=r.rootBoundary,g=f===void 0?In:f,C=r.elementContext,v=C===void 0?Kr:C,O=r.altBoundary,R=O===void 0?!1:O,T=r.padding,x=T===void 0?0:T,L=xi(typeof x!="number"?x:Ti(x,Kt)),y=v===Kr?fu:Kr,A=t.rects.popper,h=t.elements[R?y:v],w=ua(Ge(h)?h:h.contextElement||De(t.elements.popper),c,g,o),E=Je(t.elements.reference),_=Ai({reference:E,element:A,strategy:"absolute",placement:n}),M=Gr(Object.assign({},A,_)),F=v===Kr?M:E,q={top:w.top-F.top+L.top,bottom:F.bottom-w.bottom+L.bottom,left:w.left-F.left+L.left,right:F.right-w.right+L.right},j=t.modifiersData.offset;if(v===Kr&&j){var G=j[n];Object.keys(q).forEach(function(U){var J=[Se,ke].indexOf(U)>=0?1:-1,we=[ge,ke].indexOf(U)>=0?"y":"x";q[U]+=G[we]*J})}return q}function ha(t,e){e===void 0&&(e={});var r=e,i=r.placement,n=r.boundary,s=r.rootBoundary,o=r.padding,a=r.flipVariations,c=r.allowedAutoPlacements,f=c===void 0?Dn:c,g=Qe(i),C=g?a?oa:oa.filter(function(R){return Qe(R)===g}):Kt,v=C.filter(function(R){return f.indexOf(R)>=0});v.length===0&&(v=C);var O=v.reduce(function(R,T){return R[T]=ut(t,{placement:T,boundary:n,rootBoundary:s,padding:o})[Me(T)],R},{});return Object.keys(O).sort(function(R,T){return O[R]-O[T]})}function mg(t){if(Me(t)===Pn)return[];var e=Zr(t);return[Fn(t),e,Fn(e)]}function gg(t){var e=t.state,r=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var n=r.mainAxis,s=n===void 0?!0:n,o=r.altAxis,a=o===void 0?!0:o,c=r.fallbackPlacements,f=r.padding,g=r.boundary,C=r.rootBoundary,v=r.altBoundary,O=r.flipVariations,R=O===void 0?!0:O,T=r.allowedAutoPlacements,x=e.options.placement,L=Me(x),y=L===x,A=c||(y||!R?[Zr(x)]:mg(x)),h=[x].concat(A).reduce(function(Ue,oe){return Ue.concat(Me(oe)===Pn?ha(e,{placement:oe,boundary:g,rootBoundary:C,padding:f,flipVariations:R,allowedAutoPlacements:T}):oe)},[]),w=e.rects.reference,E=e.rects.popper,_=new Map,M=!0,F=h[0],q=0;q<h.length;q++){var j=h[q],G=Me(j),U=Qe(j)===At,J=[ge,ke].indexOf(G)>=0,we=J?"width":"height",Oe=ut(e,{placement:j,boundary:g,rootBoundary:C,altBoundary:v,padding:f}),xe=J?U?Se:ye:U?ke:ge;w[we]>E[we]&&(xe=Zr(xe));var se=Zr(xe),X=[];if(s&&X.push(Oe[G]<=0),a&&X.push(Oe[xe]<=0,Oe[se]<=0),X.every(function(Ue){return Ue})){F=j,M=!1;break}_.set(j,X)}if(M)for(var Pe=R?3:1,et=function(oe){var Ie=h.find(function(Lt){var tt=_.get(Lt);if(tt)return tt.slice(0,oe).every(function(Rt){return Rt})});if(Ie)return F=Ie,"break"},ze=Pe;ze>0;ze--){var dt=et(ze);if(dt==="break")break}e.placement!==F&&(e.modifiersData[i]._skip=!0,e.placement=F,e.reset=!0)}}var Su={name:"flip",enabled:!0,phase:"main",fn:gg,requiresIfExists:["offset"],data:{_skip:!1}};function xu(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function Tu(t){return[ge,Se,ke,ye].some(function(e){return t[e]>=0})}function vg(t){var e=t.state,r=t.name,i=e.rects.reference,n=e.rects.popper,s=e.modifiersData.preventOverflow,o=ut(e,{elementContext:"reference"}),a=ut(e,{altBoundary:!0}),c=xu(o,i),f=xu(a,n,s),g=Tu(c),C=Tu(f);e.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:f,isReferenceHidden:g,hasPopperEscaped:C},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":C})}var Au={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:vg};function bg(t,e,r){var i=Me(t),n=[ye,ge].indexOf(i)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=s[0],a=s[1];return o=o||0,a=(a||0)*n,[ye,Se].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function yg(t){var e=t.state,r=t.options,i=t.name,n=r.offset,s=n===void 0?[0,0]:n,o=Dn.reduce(function(g,C){return g[C]=bg(C,e.rects,s),g},{}),a=o[e.placement],c=a.x,f=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=f),e.modifiersData[i]=o}var ku={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:yg};function wg(t){var e=t.state,r=t.name;e.modifiersData[r]=Ai({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Cu={name:"popperOffsets",enabled:!0,phase:"read",fn:wg,data:{}};function da(t){return t==="x"?"y":"x"}function Eg(t){var e=t.state,r=t.options,i=t.name,n=r.mainAxis,s=n===void 0?!0:n,o=r.altAxis,a=o===void 0?!1:o,c=r.boundary,f=r.rootBoundary,g=r.altBoundary,C=r.padding,v=r.tether,O=v===void 0?!0:v,R=r.tetherOffset,T=R===void 0?0:R,x=ut(e,{boundary:c,rootBoundary:f,padding:C,altBoundary:g}),L=Me(e.placement),y=Qe(e.placement),A=!y,h=Er(L),w=da(h),E=e.modifiersData.popperOffsets,_=e.rects.reference,M=e.rects.popper,F=typeof T=="function"?T(Object.assign({},e.rects,{placement:e.placement})):T,q=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),j=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,G={x:0,y:0};if(E){if(s){var U,J=h==="y"?ge:ye,we=h==="y"?ke:Se,Oe=h==="y"?"height":"width",xe=E[h],se=xe+x[J],X=xe-x[we],Pe=O?-M[Oe]/2:0,et=y===At?_[Oe]:M[Oe],ze=y===At?-M[Oe]:-_[Oe],dt=e.elements.arrow,Ue=O&&dt?wr(dt):{width:0,height:0},oe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Si(),Ie=oe[J],Lt=oe[we],tt=Sr(0,_[Oe],Ue[Oe]),Rt=A?_[Oe]/2-Pe-tt-Ie-q.mainAxis:et-tt-Ie-q.mainAxis,rt=A?-_[Oe]/2+Pe+tt+Lt+q.mainAxis:ze+tt+Lt+q.mainAxis,bt=e.elements.arrow&&ct(e.elements.arrow),Zt=bt?h==="y"?bt.clientTop||0:bt.clientLeft||0:0,Mt=(U=j?.[h])!=null?U:0,Ne=xe+Rt-Mt-Zt,Gt=xe+rt-Mt,Pt=Sr(O?yr(se,Ne):se,xe,O?lt(X,Gt):X);E[h]=Pt,G[h]=Pt-xe}if(a){var It,Jt=h==="x"?ge:ye,Qt=h==="x"?ke:Se,Ke=E[w],it=w==="y"?"height":"width",nt=Ke+x[Jt],ft=Ke-x[Qt],Dt=[ge,ye].indexOf(L)!==-1,er=(It=j?.[w])!=null?It:0,tr=Dt?nt:Ke-_[it]-M[it]-er+q.altAxis,rr=Dt?Ke+_[it]+M[it]-er-q.altAxis:ft,ir=O&&Dt?gu(tr,Ke,rr):Sr(O?tr:nt,Ke,O?rr:ft);E[w]=ir,G[w]=ir-Ke}e.modifiersData[i]=G}}var Ou={name:"preventOverflow",enabled:!0,phase:"main",fn:Eg,requiresIfExists:["offset"]};function fa(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function pa(t){return t===le(t)||!Ce(t)?xr(t):fa(t)}function Sg(t){var e=t.getBoundingClientRect(),r=kt(e.width)/t.offsetWidth||1,i=kt(e.height)/t.offsetHeight||1;return r!==1||i!==1}function ma(t,e,r){r===void 0&&(r=!1);var i=Ce(e),n=Ce(e)&&Sg(e),s=De(e),o=Je(t,n,r),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(i||!i&&!r)&&((Re(e)!=="body"||Ar(s))&&(a=pa(e)),Ce(e)?(c=Je(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=Tr(s))),{x:o.left+a.scrollLeft-c.x,y:o.top+a.scrollTop-c.y,width:o.width,height:o.height}}function xg(t){var e=new Map,r=new Set,i=[];t.forEach(function(s){e.set(s.name,s)});function n(s){r.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!r.has(a)){var c=e.get(a);c&&n(c)}}),i.push(s)}return t.forEach(function(s){r.has(s.name)||n(s)}),i}function ga(t){var e=xg(t);return pu.reduce(function(r,i){return r.concat(e.filter(function(n){return n.phase===i}))},[])}function va(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function ba(t){var e=t.reduce(function(r,i){var n=r[i.name];return r[i.name]=n?Object.assign({},n,i,{options:Object.assign({},n.options,i.options),data:Object.assign({},n.data,i.data)}):i,r},{});return Object.keys(e).map(function(r){return e[r]})}var _u={placement:"bottom",modifiers:[],strategy:"absolute"};function Lu(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Ru(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,i=r===void 0?[]:r,n=e.defaultOptions,s=n===void 0?_u:n;return function(a,c,f){f===void 0&&(f=s);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},_u,s),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},C=[],v=!1,O={state:g,setOptions:function(L){var y=typeof L=="function"?L(g.options):L;T(),g.options=Object.assign({},s,g.options,y),g.scrollParents={reference:Ge(a)?Yt(a):a.contextElement?Yt(a.contextElement):[],popper:Yt(c)};var A=ga(ba([].concat(i,g.options.modifiers)));return g.orderedModifiers=A.filter(function(h){return h.enabled}),R(),O.update()},forceUpdate:function(){if(!v){var L=g.elements,y=L.reference,A=L.popper;if(Lu(y,A)){g.rects={reference:ma(y,ct(A),g.options.strategy==="fixed"),popper:wr(A)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(q){return g.modifiersData[q.name]=Object.assign({},q.data)});for(var h=0;h<g.orderedModifiers.length;h++){if(g.reset===!0){g.reset=!1,h=-1;continue}var w=g.orderedModifiers[h],E=w.fn,_=w.options,M=_===void 0?{}:_,F=w.name;typeof E=="function"&&(g=E({state:g,options:M,name:F,instance:O})||g)}}}},update:va(function(){return new Promise(function(x){O.forceUpdate(),x(g)})}),destroy:function(){T(),v=!0}};if(!Lu(a,c))return O;O.setOptions(f).then(function(x){!v&&f.onFirstUpdate&&f.onFirstUpdate(x)});function R(){g.orderedModifiers.forEach(function(x){var L=x.name,y=x.options,A=y===void 0?{}:y,h=x.effect;if(typeof h=="function"){var w=h({state:g,name:L,instance:O,options:A}),E=function(){};C.push(w||E)}})}function T(){C.forEach(function(x){return x()}),C=[]}return O}}var Tg=[wu,Cu,yu,yi,ku,Su,Ou,vu,Au],ya=Ru({defaultModifiers:Tg});var Ag="tippy-box",Hu="tippy-content",kg="tippy-backdrop",qu="tippy-arrow",zu="tippy-svg-arrow",kr={passive:!0,capture:!0},ju=function(){return document.body};function wa(t,e,r){if(Array.isArray(t)){var i=t[e];return i??(Array.isArray(r)?r[e]:r)}return t}function ka(t,e){var r={}.toString.call(t);return r.indexOf("[object")===0&&r.indexOf(e+"]")>-1}function Wu(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Mu(t,e){if(e===0)return t;var r;return function(i){clearTimeout(r),r=setTimeout(function(){t(i)},e)}}function Cg(t){return t.split(/\s+/).filter(Boolean)}function Jr(t){return[].concat(t)}function Pu(t,e){t.indexOf(e)===-1&&t.push(e)}function Og(t){return t.filter(function(e,r){return t.indexOf(e)===r})}function _g(t){return t.split("-")[0]}function Vn(t){return[].slice.call(t)}function Iu(t){return Object.keys(t).reduce(function(e,r){return t[r]!==void 0&&(e[r]=t[r]),e},{})}function ki(){return document.createElement("div")}function Hn(t){return["Element","Fragment"].some(function(e){return ka(t,e)})}function Lg(t){return ka(t,"NodeList")}function Rg(t){return ka(t,"MouseEvent")}function Mg(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function Pg(t){return Hn(t)?[t]:Lg(t)?Vn(t):Array.isArray(t)?t:Vn(document.querySelectorAll(t))}function Ea(t,e){t.forEach(function(r){r&&(r.style.transitionDuration=e+"ms")})}function Du(t,e){t.forEach(function(r){r&&r.setAttribute("data-state",e)})}function Ig(t){var e,r=Jr(t),i=r[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function Dg(t,e){var r=e.clientX,i=e.clientY;return t.every(function(n){var s=n.popperRect,o=n.popperState,a=n.props,c=a.interactiveBorder,f=_g(o.placement),g=o.modifiersData.offset;if(!g)return!0;var C=f==="bottom"?g.top.y:0,v=f==="top"?g.bottom.y:0,O=f==="right"?g.left.x:0,R=f==="left"?g.right.x:0,T=s.top-i+C>c,x=i-s.bottom-v>c,L=s.left-r+O>c,y=r-s.right-R>c;return T||x||L||y})}function Sa(t,e,r){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(n){t[i](n,r)})}function Nu(t,e){for(var r=e;r;){var i;if(t.contains(r))return!0;r=r.getRootNode==null||(i=r.getRootNode())==null?void 0:i.host}return!1}var gt={isTouch:!1},Fu=0;function Ng(){gt.isTouch||(gt.isTouch=!0,window.performance&&document.addEventListener("mousemove",Uu))}function Uu(){var t=performance.now();t-Fu<20&&(gt.isTouch=!1,document.removeEventListener("mousemove",Uu)),Fu=t}function Fg(){var t=document.activeElement;if(Mg(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function Bg(){document.addEventListener("touchstart",Ng,kr),window.addEventListener("blur",Fg)}var $g=typeof window<"u"&&typeof document<"u",Vg=$g?!!window.msCrypto:!1;var Hg={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},qg={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},ht=Object.assign({appendTo:ju,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Hg,qg),zg=Object.keys(ht),jg=function(e){var r=Object.keys(e);r.forEach(function(i){ht[i]=e[i]})};function Ku(t){var e=t.plugins||[],r=e.reduce(function(i,n){var s=n.name,o=n.defaultValue;if(s){var a;i[s]=t[s]!==void 0?t[s]:(a=ht[s])!=null?a:o}return i},{});return Object.assign({},t,r)}function Wg(t,e){var r=e?Object.keys(Ku(Object.assign({},ht,{plugins:e}))):zg,i=r.reduce(function(n,s){var o=(t.getAttribute("data-tippy-"+s)||"").trim();if(!o)return n;if(s==="content")n[s]=o;else try{n[s]=JSON.parse(o)}catch{n[s]=o}return n},{});return i}function Bu(t,e){var r=Object.assign({},e,{content:Wu(e.content,[t])},e.ignoreAttributes?{}:Wg(t,e.plugins));return r.aria=Object.assign({},ht.aria,r.aria),r.aria={expanded:r.aria.expanded==="auto"?e.interactive:r.aria.expanded,content:r.aria.content==="auto"?e.interactive?null:"describedby":r.aria.content},r}var Ug=function(){return"innerHTML"};function Ta(t,e){t[Ug()]=e}function $u(t){var e=ki();return t===!0?e.className=qu:(e.className=zu,Hn(t)?e.appendChild(t):Ta(e,t)),e}function Vu(t,e){Hn(e.content)?(Ta(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Ta(t,e.content):t.textContent=e.content)}function Aa(t){var e=t.firstElementChild,r=Vn(e.children);return{box:e,content:r.find(function(i){return i.classList.contains(Hu)}),arrow:r.find(function(i){return i.classList.contains(qu)||i.classList.contains(zu)}),backdrop:r.find(function(i){return i.classList.contains(kg)})}}function Yu(t){var e=ki(),r=ki();r.className=Ag,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var i=ki();i.className=Hu,i.setAttribute("data-state","hidden"),Vu(i,t.props),e.appendChild(r),r.appendChild(i),n(t.props,t.props);function n(s,o){var a=Aa(e),c=a.box,f=a.content,g=a.arrow;o.theme?c.setAttribute("data-theme",o.theme):c.removeAttribute("data-theme"),typeof o.animation=="string"?c.setAttribute("data-animation",o.animation):c.removeAttribute("data-animation"),o.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?c.setAttribute("role",o.role):c.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&Vu(f,t.props),o.arrow?g?s.arrow!==o.arrow&&(c.removeChild(g),c.appendChild($u(o.arrow))):c.appendChild($u(o.arrow)):g&&c.removeChild(g)}return{popper:e,onUpdate:n}}Yu.$$tippy=!0;var Kg=1,$n=[],xa=[];function Yg(t,e){var r=Bu(t,Object.assign({},ht,Ku(Iu(e)))),i,n,s,o=!1,a=!1,c=!1,f=!1,g,C,v,O=[],R=Mu(Ne,r.interactiveDebounce),T,x=Kg++,L=null,y=Og(r.plugins),A={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},h={id:x,reference:t,popper:ki(),popperInstance:L,props:r,state:A,plugins:y,clearDelayTimeouts:tr,setProps:rr,setContent:ir,show:Mi,hide:Pi,hideWithInteractivity:Ii,enable:Dt,disable:er,unmount:Di,destroy:_r};if(!r.render)return h;var w=r.render(h),E=w.popper,_=w.onUpdate;E.setAttribute("data-tippy-root",""),E.id="tippy-"+h.id,h.popper=E,t._tippy=h,E._tippy=h;var M=y.map(function(k){return k.fn(h)}),F=t.hasAttribute("aria-expanded");return bt(),Pe(),xe(),se("onCreate",[h]),r.showOnCreate&&nt(),E.addEventListener("mouseenter",function(){h.props.interactive&&h.state.isVisible&&h.clearDelayTimeouts()}),E.addEventListener("mouseleave",function(){h.props.interactive&&h.props.trigger.indexOf("mouseenter")>=0&&J().addEventListener("mousemove",R)}),h;function q(){var k=h.props.touch;return Array.isArray(k)?k:[k,0]}function j(){return q()[0]==="hold"}function G(){var k;return!!((k=h.props.render)!=null&&k.$$tippy)}function U(){return T||t}function J(){var k=U().parentNode;return k?Ig(k):document}function we(){return Aa(E)}function Oe(k){return h.state.isMounted&&!h.state.isVisible||gt.isTouch||g&&g.type==="focus"?0:wa(h.props.delay,k?0:1,ht.delay)}function xe(k){k===void 0&&(k=!1),E.style.pointerEvents=h.props.interactive&&!k?"":"none",E.style.zIndex=""+h.props.zIndex}function se(k,$,H){if(H===void 0&&(H=!0),M.forEach(function(V){V[k]&&V[k].apply(V,$)}),H){var Q;(Q=h.props)[k].apply(Q,$)}}function X(){var k=h.props.aria;if(k.content){var $="aria-"+k.content,H=E.id,Q=Jr(h.props.triggerTarget||t);Q.forEach(function(V){var de=V.getAttribute($);if(h.state.isVisible)V.setAttribute($,de?de+" "+H:H);else{var Te=de&&de.replace(H,"").trim();Te?V.setAttribute($,Te):V.removeAttribute($)}})}}function Pe(){if(!(F||!h.props.aria.expanded)){var k=Jr(h.props.triggerTarget||t);k.forEach(function($){h.props.interactive?$.setAttribute("aria-expanded",h.state.isVisible&&$===U()?"true":"false"):$.removeAttribute("aria-expanded")})}}function et(){J().removeEventListener("mousemove",R),$n=$n.filter(function(k){return k!==R})}function ze(k){if(!(gt.isTouch&&(c||k.type==="mousedown"))){var $=k.composedPath&&k.composedPath()[0]||k.target;if(!(h.props.interactive&&Nu(E,$))){if(Jr(h.props.triggerTarget||t).some(function(H){return Nu(H,$)})){if(gt.isTouch||h.state.isVisible&&h.props.trigger.indexOf("click")>=0)return}else se("onClickOutside",[h,k]);h.props.hideOnClick===!0&&(h.clearDelayTimeouts(),h.hide(),a=!0,setTimeout(function(){a=!1}),h.state.isMounted||Ie())}}}function dt(){c=!0}function Ue(){c=!1}function oe(){var k=J();k.addEventListener("mousedown",ze,!0),k.addEventListener("touchend",ze,kr),k.addEventListener("touchstart",Ue,kr),k.addEventListener("touchmove",dt,kr)}function Ie(){var k=J();k.removeEventListener("mousedown",ze,!0),k.removeEventListener("touchend",ze,kr),k.removeEventListener("touchstart",Ue,kr),k.removeEventListener("touchmove",dt,kr)}function Lt(k,$){Rt(k,function(){!h.state.isVisible&&E.parentNode&&E.parentNode.contains(E)&&$()})}function tt(k,$){Rt(k,$)}function Rt(k,$){var H=we().box;function Q(V){V.target===H&&(Sa(H,"remove",Q),$())}if(k===0)return $();Sa(H,"remove",C),Sa(H,"add",Q),C=Q}function rt(k,$,H){H===void 0&&(H=!1);var Q=Jr(h.props.triggerTarget||t);Q.forEach(function(V){V.addEventListener(k,$,H),O.push({node:V,eventType:k,handler:$,options:H})})}function bt(){j()&&(rt("touchstart",Mt,{passive:!0}),rt("touchend",Gt,{passive:!0})),Cg(h.props.trigger).forEach(function(k){if(k!=="manual")switch(rt(k,Mt),k){case"mouseenter":rt("mouseleave",Gt);break;case"focus":rt(Vg?"focusout":"blur",Pt);break;case"focusin":rt("focusout",Pt);break}})}function Zt(){O.forEach(function(k){var $=k.node,H=k.eventType,Q=k.handler,V=k.options;$.removeEventListener(H,Q,V)}),O=[]}function Mt(k){var $,H=!1;if(!(!h.state.isEnabled||It(k)||a)){var Q=(($=g)==null?void 0:$.type)==="focus";g=k,T=k.currentTarget,Pe(),!h.state.isVisible&&Rg(k)&&$n.forEach(function(V){return V(k)}),k.type==="click"&&(h.props.trigger.indexOf("mouseenter")<0||o)&&h.props.hideOnClick!==!1&&h.state.isVisible?H=!0:nt(k),k.type==="click"&&(o=!H),H&&!Q&&ft(k)}}function Ne(k){var $=k.target,H=U().contains($)||E.contains($);if(!(k.type==="mousemove"&&H)){var Q=it().concat(E).map(function(V){var de,Te=V._tippy,Nt=(de=Te.popperInstance)==null?void 0:de.state;return Nt?{popperRect:V.getBoundingClientRect(),popperState:Nt,props:r}:null}).filter(Boolean);Dg(Q,k)&&(et(),ft(k))}}function Gt(k){var $=It(k)||h.props.trigger.indexOf("click")>=0&&o;if(!$){if(h.props.interactive){h.hideWithInteractivity(k);return}ft(k)}}function Pt(k){h.props.trigger.indexOf("focusin")<0&&k.target!==U()||h.props.interactive&&k.relatedTarget&&E.contains(k.relatedTarget)||ft(k)}function It(k){return gt.isTouch?j()!==k.type.indexOf("touch")>=0:!1}function Jt(){Qt();var k=h.props,$=k.popperOptions,H=k.placement,Q=k.offset,V=k.getReferenceClientRect,de=k.moveTransition,Te=G()?Aa(E).arrow:null,Nt=V?{getBoundingClientRect:V,contextElement:V.contextElement||U()}:t,yt={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(_e){var Ft=_e.state;if(G()){var je=we(),Qr=je.box;["placement","reference-hidden","escaped"].forEach(function(st){st==="placement"?Qr.setAttribute("data-placement",Ft.placement):Ft.attributes.popper["data-popper-"+st]?Qr.setAttribute("data-"+st,""):Qr.removeAttribute("data-"+st)}),Ft.attributes.popper={}}}},K=[{name:"offset",options:{offset:Q}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!de}},yt];G()&&Te&&K.push({name:"arrow",options:{element:Te,padding:3}}),K.push.apply(K,$?.modifiers||[]),h.popperInstance=ya(Nt,E,Object.assign({},$,{placement:H,onFirstUpdate:v,modifiers:K}))}function Qt(){h.popperInstance&&(h.popperInstance.destroy(),h.popperInstance=null)}function Ke(){var k=h.props.appendTo,$,H=U();h.props.interactive&&k===ju||k==="parent"?$=H.parentNode:$=Wu(k,[H]),$.contains(E)||$.appendChild(E),h.state.isMounted=!0,Jt()}function it(){return Vn(E.querySelectorAll("[data-tippy-root]"))}function nt(k){h.clearDelayTimeouts(),k&&se("onTrigger",[h,k]),oe();var $=Oe(!0),H=q(),Q=H[0],V=H[1];gt.isTouch&&Q==="hold"&&V&&($=V),$?i=setTimeout(function(){h.show()},$):h.show()}function ft(k){if(h.clearDelayTimeouts(),se("onUntrigger",[h,k]),!h.state.isVisible){Ie();return}if(!(h.props.trigger.indexOf("mouseenter")>=0&&h.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(k.type)>=0&&o)){var $=Oe(!1);$?n=setTimeout(function(){h.state.isVisible&&h.hide()},$):s=requestAnimationFrame(function(){h.hide()})}}function Dt(){h.state.isEnabled=!0}function er(){h.hide(),h.state.isEnabled=!1}function tr(){clearTimeout(i),clearTimeout(n),cancelAnimationFrame(s)}function rr(k){if(!h.state.isDestroyed){se("onBeforeUpdate",[h,k]),Zt();var $=h.props,H=Bu(t,Object.assign({},$,Iu(k),{ignoreAttributes:!0}));h.props=H,bt(),$.interactiveDebounce!==H.interactiveDebounce&&(et(),R=Mu(Ne,H.interactiveDebounce)),$.triggerTarget&&!H.triggerTarget?Jr($.triggerTarget).forEach(function(Q){Q.removeAttribute("aria-expanded")}):H.triggerTarget&&t.removeAttribute("aria-expanded"),Pe(),xe(),_&&_($,H),h.popperInstance&&(Jt(),it().forEach(function(Q){requestAnimationFrame(Q._tippy.popperInstance.forceUpdate)})),se("onAfterUpdate",[h,k])}}function ir(k){h.setProps({content:k})}function Mi(){var k=h.state.isVisible,$=h.state.isDestroyed,H=!h.state.isEnabled,Q=gt.isTouch&&!h.props.touch,V=wa(h.props.duration,0,ht.duration);if(!(k||$||H||Q)&&!U().hasAttribute("disabled")&&(se("onShow",[h],!1),h.props.onShow(h)!==!1)){if(h.state.isVisible=!0,G()&&(E.style.visibility="visible"),xe(),oe(),h.state.isMounted||(E.style.transition="none"),G()){var de=we(),Te=de.box,Nt=de.content;Ea([Te,Nt],0)}v=function(){var K;if(!(!h.state.isVisible||f)){if(f=!0,E.offsetHeight,E.style.transition=h.props.moveTransition,G()&&h.props.animation){var te=we(),_e=te.box,Ft=te.content;Ea([_e,Ft],V),Du([_e,Ft],"visible")}X(),Pe(),Pu(xa,h),(K=h.popperInstance)==null||K.forceUpdate(),se("onMount",[h]),h.props.animation&&G()&&tt(V,function(){h.state.isShown=!0,se("onShown",[h])})}},Ke()}}function Pi(){var k=!h.state.isVisible,$=h.state.isDestroyed,H=!h.state.isEnabled,Q=wa(h.props.duration,1,ht.duration);if(!(k||$||H)&&(se("onHide",[h],!1),h.props.onHide(h)!==!1)){if(h.state.isVisible=!1,h.state.isShown=!1,f=!1,o=!1,G()&&(E.style.visibility="hidden"),et(),Ie(),xe(!0),G()){var V=we(),de=V.box,Te=V.content;h.props.animation&&(Ea([de,Te],Q),Du([de,Te],"hidden"))}X(),Pe(),h.props.animation?G()&&Lt(Q,h.unmount):h.unmount()}}function Ii(k){J().addEventListener("mousemove",R),Pu($n,R),R(k)}function Di(){h.state.isVisible&&h.hide(),h.state.isMounted&&(Qt(),it().forEach(function(k){k._tippy.unmount()}),E.parentNode&&E.parentNode.removeChild(E),xa=xa.filter(function(k){return k!==h}),h.state.isMounted=!1,se("onHidden",[h]))}function _r(){h.state.isDestroyed||(h.clearDelayTimeouts(),h.unmount(),Zt(),delete t._tippy,h.state.isDestroyed=!0,se("onDestroy",[h]))}}function Ci(t,e){e===void 0&&(e={});var r=ht.plugins.concat(e.plugins||[]);Bg();var i=Object.assign({},e,{plugins:r}),n=Pg(t);if(0)var s,o;var a=n.reduce(function(c,f){var g=f&&Yg(f,i);return g&&c.push(g),c},[]);return Hn(t)?a[0]:a}Ci.defaultProps=ht;Ci.setDefaultProps=jg;Ci.currentInput=gt;var XE=Object.assign({},yi,{effect:function(e){var r=e.state,i={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(r.elements.popper.style,i.popper),r.styles=i,r.elements.arrow&&Object.assign(r.elements.arrow.style,i.arrow)}});Ci.setDefaultProps({render:Yu});var Xu=Ci;var Zu=t=>{if(navigator.clipboard&&window.isSecureContext)return navigator.clipboard.writeText(t);{let e=document.createElement("textarea");return e.value=t,e.style.position="fixed",e.style.left="-999999px",e.style.top="-999999px",document.body.appendChild(e),e.focus(),e.select(),new Promise((r,i)=>{document.execCommand("copy")?r():i(),e.remove()})}};var qn=class extends me{static targets=["source"];static values={success:{type:String,default:"\u590D\u5236\u6210\u529F\uFF01"},content:String};copy(t){t.preventDefault();let e,r;if(this.hasContentValue?(e=this.contentValue,r=this.element):this.hasSourceTarget?(e=this.sourceTarget.tagName==="INPUT"?this.sourceTarget.value:this.sourceTarget.textContent,r=this.sourceTarget):(e=this.element.textContent,r=this.element),e=(e||"").trim(),!e)return;let i=Xu(r.parentElement,{theme:"material",content:this.successValue,trigger:"manual",arrow:!0}),n=()=>{i.hide(),i.destroy()};Zu(e).then(()=>{i.setContent(this.successValue),i.show(),setTimeout(n,800)}).catch(()=>{i.setContent("\u590D\u5236\u5931\u8D25\uFF01"),i.show(),setTimeout(n,800)})}};var zn=class extends me{connect(){this.scroller=new Ca}scrollToY(t){let e=t.target.dataset.scrollToY;e?this.scroller.scrollToY(parseInt(e)):console.warn("[scroll-to] data-scroll-to-y is missing")}},Ca=class{constructor(e=2e3,r="easeOutSine",i=null){this.speed=e,this.easing=r,this.scrollElement=i,this.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||fncAnimation}scrollToY(e=0){let r=e,i=this.scrollElement?this.scrollElement.scrollTop:window.scrollY||document.documentElement.scrollTop,n=Math.max(.1,Math.min(Math.abs(i-r)/this.speed,.8)),s=0,o={easeOutSine(c){return Math.sin(c*(Math.PI/2))},easeInOutSine(c){return-.5*(Math.cos(Math.PI*c)-1)},easeInOutQuint(c){return(c/=.5)<1?.5*c**5:.5*((c-2)**5+2)}},a=()=>{s+=1/60;let c=s/n,f=o[this.easing](c);if(c<1){(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||this.fncAnimation)(a),this.scrollElement?this.scrollElement.scrollTop=i+(r-i)*f:window.scrollTo(0,i+(r-i)*f);return}this.scrollElement?this.scrollElement.scrollTop=r:window.scrollTo(0,r)};a()}fncAnimation=e=>(window.setTimeout(e,1e3/60),e)};var jn=class extends me{static values={external:{type:Boolean,default:!0}};connect(){this.element.querySelectorAll("a[href]").forEach(e=>{let r=e.getAttribute("href");if(!r||r.startsWith("#"))return;let i=/^https?:\/\//i.test(r),n=!1;if(i)try{n=new URL(r,window.location.origin).hostname!==window.location.hostname}catch{}this.externalValue&&n&&(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer")),this.externalValue||(e.removeAttribute("target"),e.removeAttribute("rel"))})}};function Ra(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Or=Ra();function rh(t){Or=t}var Li={exec:()=>null};function re(t,e=""){let r=typeof t=="string"?t:t.source,i={replace:(n,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(Ve.caret,"$1"),r=r.replace(n,o),i},getRegex:()=>new RegExp(r,e)};return i}var Ve={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},Xg=/^(?:[ \t]*(?:\n|$))+/,Zg=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Gg=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ri=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Jg=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Ma=/(?:[*+-]|\d{1,9}[.)])/,ih=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,nh=re(ih).replace(/bull/g,Ma).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Qg=re(ih).replace(/bull/g,Ma).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Pa=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,ev=/^[^\n]+/,Ia=/(?!\s*\])(?:\\.|[^\[\]\\])+/,tv=re(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Ia).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),rv=re(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Ma).getRegex(),Zn="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Da=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,iv=re("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Da).replace("tag",Zn).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),sh=re(Pa).replace("hr",Ri).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zn).getRegex(),nv=re(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",sh).getRegex(),Na={blockquote:nv,code:Zg,def:tv,fences:Gg,heading:Jg,hr:Ri,html:iv,lheading:nh,list:rv,newline:Xg,paragraph:sh,table:Li,text:ev},Gu=re("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ri).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zn).getRegex(),sv={...Na,lheading:Qg,table:Gu,paragraph:re(Pa).replace("hr",Ri).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Gu).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zn).getRegex()},ov={...Na,html:re(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Da).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Li,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:re(Pa).replace("hr",Ri).replace("heading",` *#{1,6} *[^
]`).replace("lheading",nh).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},av=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,lv=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,oh=/^( {2,}|\\)\n(?!\s*$)/,cv=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Gn=/[\p{P}\p{S}]/u,Fa=/[\s\p{P}\p{S}]/u,ah=/[^\s\p{P}\p{S}]/u,uv=re(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Fa).getRegex(),lh=/(?!~)[\p{P}\p{S}]/u,hv=/(?!~)[\s\p{P}\p{S}]/u,dv=/(?:[^\s\p{P}\p{S}]|~)/u,fv=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,ch=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,pv=re(ch,"u").replace(/punct/g,Gn).getRegex(),mv=re(ch,"u").replace(/punct/g,lh).getRegex(),uh="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",gv=re(uh,"gu").replace(/notPunctSpace/g,ah).replace(/punctSpace/g,Fa).replace(/punct/g,Gn).getRegex(),vv=re(uh,"gu").replace(/notPunctSpace/g,dv).replace(/punctSpace/g,hv).replace(/punct/g,lh).getRegex(),bv=re("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,ah).replace(/punctSpace/g,Fa).replace(/punct/g,Gn).getRegex(),yv=re(/\\(punct)/,"gu").replace(/punct/g,Gn).getRegex(),wv=re(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Ev=re(Da).replace("(?:-->|$)","-->").getRegex(),Sv=re("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Ev).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Kn=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,xv=re(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Kn).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),hh=re(/^!?\[(label)\]\[(ref)\]/).replace("label",Kn).replace("ref",Ia).getRegex(),dh=re(/^!?\[(ref)\](?:\[\])?/).replace("ref",Ia).getRegex(),Tv=re("reflink|nolink(?!\\()","g").replace("reflink",hh).replace("nolink",dh).getRegex(),Ba={_backpedal:Li,anyPunctuation:yv,autolink:wv,blockSkip:fv,br:oh,code:lv,del:Li,emStrongLDelim:pv,emStrongRDelimAst:gv,emStrongRDelimUnd:bv,escape:av,link:xv,nolink:dh,punctuation:uv,reflink:hh,reflinkSearch:Tv,tag:Sv,text:cv,url:Li},Av={...Ba,link:re(/^!?\[(label)\]\((.*?)\)/).replace("label",Kn).getRegex(),reflink:re(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Kn).getRegex()},Oa={...Ba,emStrongRDelimAst:vv,emStrongLDelim:mv,url:re(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},kv={...Oa,br:re(oh).replace("{2,}","*").getRegex(),text:re(Oa.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Wn={normal:Na,gfm:sv,pedantic:ov},Oi={normal:Ba,gfm:Oa,breaks:kv,pedantic:Av},Cv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ju=t=>Cv[t];function vt(t,e){if(e){if(Ve.escapeTest.test(t))return t.replace(Ve.escapeReplace,Ju)}else if(Ve.escapeTestNoEncode.test(t))return t.replace(Ve.escapeReplaceNoEncode,Ju);return t}function Qu(t){try{t=encodeURI(t).replace(Ve.percentDecode,"%")}catch{return null}return t}function eh(t,e){let r=t.replace(Ve.findPipe,(s,o,a)=>{let c=!1,f=o;for(;--f>=0&&a[f]==="\\";)c=!c;return c?"|":" |"}),i=r.split(Ve.splitPipe),n=0;if(i[0].trim()||i.shift(),i.length>0&&!i.at(-1)?.trim()&&i.pop(),e)if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(Ve.slashPipe,"|");return i}function _i(t,e,r){let i=t.length;if(i===0)return"";let n=0;for(;n<i;){let s=t.charAt(i-n-1);if(s===e&&!r)n++;else if(s!==e&&r)n++;else break}return t.slice(0,i-n)}function Ov(t,e){if(t.indexOf(e[1])===-1)return-1;let r=0;for(let i=0;i<t.length;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&(r--,r<0))return i;return r>0?-2:-1}function th(t,e,r,i,n){let s=e.href,o=e.title||null,a=t[1].replace(n.other.outputLinkReplace,"$1");i.state.inLink=!0;let c={type:t[0].charAt(0)==="!"?"image":"link",raw:r,href:s,title:o,text:a,tokens:i.inlineTokens(a)};return i.state.inLink=!1,c}function _v(t,e,r){let i=t.match(r.other.indentCodeCompensation);if(i===null)return e;let n=i[1];return e.split(`
`).map(s=>{let o=s.match(r.other.beginningSpace);if(o===null)return s;let[a]=o;return a.length>=n.length?s.slice(n.length):s}).join(`
`)}var Yn=class{options;rules;lexer;constructor(t){this.options=t||Or}space(t){let e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){let e=this.rules.block.code.exec(t);if(e){let r=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:_i(r,`
`)}}}fences(t){let e=this.rules.block.fences.exec(t);if(e){let r=e[0],i=_v(r,e[3]||"",this.rules);return{type:"code",raw:r,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:i}}}heading(t){let e=this.rules.block.heading.exec(t);if(e){let r=e[2].trim();if(this.rules.other.endingHash.test(r)){let i=_i(r,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(r=i.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(t){let e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:_i(e[0],`
`)}}blockquote(t){let e=this.rules.block.blockquote.exec(t);if(e){let r=_i(e[0],`
`).split(`
`),i="",n="",s=[];for(;r.length>0;){let o=!1,a=[],c;for(c=0;c<r.length;c++)if(this.rules.other.blockquoteStart.test(r[c]))a.push(r[c]),o=!0;else if(!o)a.push(r[c]);else break;r=r.slice(c);let f=a.join(`
`),g=f.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${f}`:f,n=n?`${n}
${g}`:g;let C=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(g,s,!0),this.lexer.state.top=C,r.length===0)break;let v=s.at(-1);if(v?.type==="code")break;if(v?.type==="blockquote"){let O=v,R=O.raw+`
`+r.join(`
`),T=this.blockquote(R);s[s.length-1]=T,i=i.substring(0,i.length-O.raw.length)+T.raw,n=n.substring(0,n.length-O.text.length)+T.text;break}else if(v?.type==="list"){let O=v,R=O.raw+`
`+r.join(`
`),T=this.list(R);s[s.length-1]=T,i=i.substring(0,i.length-v.raw.length)+T.raw,n=n.substring(0,n.length-O.raw.length)+T.raw,r=R.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:s,text:n}}}list(t){let e=this.rules.block.list.exec(t);if(e){let r=e[1].trim(),i=r.length>1,n={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");let s=this.rules.other.listItemRegex(r),o=!1;for(;t;){let c=!1,f="",g="";if(!(e=s.exec(t))||this.rules.block.hr.test(t))break;f=e[0],t=t.substring(f.length);let C=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,L=>" ".repeat(3*L.length)),v=t.split(`
`,1)[0],O=!C.trim(),R=0;if(this.options.pedantic?(R=2,g=C.trimStart()):O?R=e[1].length+1:(R=e[2].search(this.rules.other.nonSpaceChar),R=R>4?1:R,g=C.slice(R),R+=e[1].length),O&&this.rules.other.blankLine.test(v)&&(f+=v+`
`,t=t.substring(v.length+1),c=!0),!c){let L=this.rules.other.nextBulletRegex(R),y=this.rules.other.hrRegex(R),A=this.rules.other.fencesBeginRegex(R),h=this.rules.other.headingBeginRegex(R),w=this.rules.other.htmlBeginRegex(R);for(;t;){let E=t.split(`
`,1)[0],_;if(v=E,this.options.pedantic?(v=v.replace(this.rules.other.listReplaceNesting,"  "),_=v):_=v.replace(this.rules.other.tabCharGlobal,"    "),A.test(v)||h.test(v)||w.test(v)||L.test(v)||y.test(v))break;if(_.search(this.rules.other.nonSpaceChar)>=R||!v.trim())g+=`
`+_.slice(R);else{if(O||C.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||A.test(C)||h.test(C)||y.test(C))break;g+=`
`+v}!O&&!v.trim()&&(O=!0),f+=E+`
`,t=t.substring(E.length+1),C=_.slice(R)}}n.loose||(o?n.loose=!0:this.rules.other.doubleBlankLine.test(f)&&(o=!0));let T=null,x;this.options.gfm&&(T=this.rules.other.listIsTask.exec(g),T&&(x=T[0]!=="[ ] ",g=g.replace(this.rules.other.listReplaceTask,""))),n.items.push({type:"list_item",raw:f,task:!!T,checked:x,loose:!1,text:g,tokens:[]}),n.raw+=f}let a=n.items.at(-1);if(a)a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd();else return;n.raw=n.raw.trimEnd();for(let c=0;c<n.items.length;c++)if(this.lexer.state.top=!1,n.items[c].tokens=this.lexer.blockTokens(n.items[c].text,[]),!n.loose){let f=n.items[c].tokens.filter(C=>C.type==="space"),g=f.length>0&&f.some(C=>this.rules.other.anyLine.test(C.raw));n.loose=g}if(n.loose)for(let c=0;c<n.items.length;c++)n.items[c].loose=!0;return n}}html(t){let e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){let e=this.rules.block.def.exec(t);if(e){let r=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",n=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:r,raw:e[0],href:i,title:n}}}table(t){let e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let r=eh(e[1]),i=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),n=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:e[0],header:[],align:[],rows:[]};if(r.length===i.length){for(let o of i)this.rules.other.tableAlignRight.test(o)?s.align.push("right"):this.rules.other.tableAlignCenter.test(o)?s.align.push("center"):this.rules.other.tableAlignLeft.test(o)?s.align.push("left"):s.align.push(null);for(let o=0;o<r.length;o++)s.header.push({text:r[o],tokens:this.lexer.inline(r[o]),header:!0,align:s.align[o]});for(let o of n)s.rows.push(eh(o,s.header.length).map((a,c)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:s.align[c]})));return s}}lheading(t){let e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){let e=this.rules.block.paragraph.exec(t);if(e){let r=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:r,tokens:this.lexer.inline(r)}}}text(t){let e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){let e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){let e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){let e=this.rules.inline.link.exec(t);if(e){let r=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let s=_i(r.slice(0,-1),"\\");if((r.length-s.length)%2===0)return}else{let s=Ov(e[2],"()");if(s===-2)return;if(s>-1){let a=(e[0].indexOf("!")===0?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,a).trim(),e[3]=""}}let i=e[2],n="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(i);s&&(i=s[1],n=s[3])}else n=e[3]?e[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?i=i.slice(1):i=i.slice(1,-1)),th(e,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:n&&n.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){let i=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),n=e[i.toLowerCase()];if(!n){let s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return th(r,n,r[0],this.lexer,this.rules)}}emStrong(t,e,r=""){let i=this.rules.inline.emStrongLDelim.exec(t);if(!i||i[3]&&r.match(this.rules.other.unicodeAlphaNumeric))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){let s=[...i[0]].length-1,o,a,c=s,f=0,g=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(g.lastIndex=0,e=e.slice(-1*t.length+s);(i=g.exec(e))!=null;){if(o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!o)continue;if(a=[...o].length,i[3]||i[4]){c+=a;continue}else if((i[5]||i[6])&&s%3&&!((s+a)%3)){f+=a;continue}if(c-=a,c>0)continue;a=Math.min(a,a+c+f);let C=[...i[0]][0].length,v=t.slice(0,s+i.index+C+a);if(Math.min(s,a)%2){let R=v.slice(1,-1);return{type:"em",raw:v,text:R,tokens:this.lexer.inlineTokens(R)}}let O=v.slice(2,-2);return{type:"strong",raw:v,text:O,tokens:this.lexer.inlineTokens(O)}}}}codespan(t){let e=this.rules.inline.code.exec(t);if(e){let r=e[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(r),n=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return i&&n&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:e[0],text:r}}}br(t){let e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){let e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){let e=this.rules.inline.autolink.exec(t);if(e){let r,i;return e[2]==="@"?(r=e[1],i="mailto:"+r):(r=e[1],i=r),{type:"link",raw:e[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(t){let e;if(e=this.rules.inline.url.exec(t)){let r,i;if(e[2]==="@")r=e[0],i="mailto:"+r;else{let n;do n=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(n!==e[0]);r=e[0],e[1]==="www."?i="http://"+e[0]:i=e[0]}return{type:"link",raw:e[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t){let e=this.rules.inline.text.exec(t);if(e){let r=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:r}}}},Ot=class _a{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Or,this.options.tokenizer=this.options.tokenizer||new Yn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:Ve,block:Wn.normal,inline:Oi.normal};this.options.pedantic?(r.block=Wn.pedantic,r.inline=Oi.pedantic):this.options.gfm&&(r.block=Wn.gfm,this.options.breaks?r.inline=Oi.breaks:r.inline=Oi.gfm),this.tokenizer.rules=r}static get rules(){return{block:Wn,inline:Oi}}static lex(e,r){return new _a(r).lex(e)}static lexInline(e,r){return new _a(r).inlineTokens(e)}lex(e){e=e.replace(Ve.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let i=this.inlineQueue[r];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,r=[],i=!1){for(this.options.pedantic&&(e=e.replace(Ve.tabCharGlobal,"    ").replace(Ve.spaceLine,""));e;){let n;if(this.options.extensions?.block?.some(o=>(n=o.call({lexer:this},e,r))?(e=e.substring(n.raw.length),r.push(n),!0):!1))continue;if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length);let o=r.at(-1);n.raw.length===1&&o!==void 0?o.raw+=`
`:r.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length);let o=r.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+n.raw,o.text+=`
`+n.text,this.inlineQueue.at(-1).src=o.text):r.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length);let o=r.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+n.raw,o.text+=`
`+n.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),r.push(n);continue}let s=e;if(this.options.extensions?.startBlock){let o=1/0,a=e.slice(1),c;this.options.extensions.startBlock.forEach(f=>{c=f.call({lexer:this},a),typeof c=="number"&&c>=0&&(o=Math.min(o,c))}),o<1/0&&o>=0&&(s=e.substring(0,o+1))}if(this.state.top&&(n=this.tokenizer.paragraph(s))){let o=r.at(-1);i&&o?.type==="paragraph"?(o.raw+=`
`+n.raw,o.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):r.push(n),i=s.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length);let o=r.at(-1);o?.type==="text"?(o.raw+=`
`+n.raw,o.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):r.push(n);continue}if(e){let o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){let i=e,n=null;if(this.tokens.links){let a=Object.keys(this.tokens.links);if(a.length>0)for(;(n=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)a.includes(n[0].slice(n[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(n=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,n.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(n=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let s=!1,o="";for(;e;){s||(o=""),s=!1;let a;if(this.options.extensions?.inline?.some(f=>(a=f.call({lexer:this},e,r))?(e=e.substring(a.raw.length),r.push(a),!0):!1))continue;if(a=this.tokenizer.escape(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.tag(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.link(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(a.raw.length);let f=r.at(-1);a.type==="text"&&f?.type==="text"?(f.raw+=a.raw,f.text+=a.text):r.push(a);continue}if(a=this.tokenizer.emStrong(e,i,o)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.codespan(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.br(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.del(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.autolink(e)){e=e.substring(a.raw.length),r.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(e))){e=e.substring(a.raw.length),r.push(a);continue}let c=e;if(this.options.extensions?.startInline){let f=1/0,g=e.slice(1),C;this.options.extensions.startInline.forEach(v=>{C=v.call({lexer:this},g),typeof C=="number"&&C>=0&&(f=Math.min(f,C))}),f<1/0&&f>=0&&(c=e.substring(0,f+1))}if(a=this.tokenizer.inlineText(c)){e=e.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(o=a.raw.slice(-1)),s=!0;let f=r.at(-1);f?.type==="text"?(f.raw+=a.raw,f.text+=a.text):r.push(a);continue}if(e){let f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return r}},Xn=class{options;parser;constructor(t){this.options=t||Or}space(t){return""}code({text:t,lang:e,escaped:r}){let i=(e||"").match(Ve.notSpaceStart)?.[0],n=t.replace(Ve.endingNewline,"")+`
`;return i?'<pre><code class="language-'+vt(i)+'">'+(r?n:vt(n,!0))+`</code></pre>
`:"<pre><code>"+(r?n:vt(n,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){let e=t.ordered,r=t.start,i="";for(let o=0;o<t.items.length;o++){let a=t.items[o];i+=this.listitem(a)}let n=e?"ol":"ul",s=e&&r!==1?' start="'+r+'"':"";return"<"+n+s+`>
`+i+"</"+n+`>
`}listitem(t){let e="";if(t.task){let r=this.checkbox({checked:!!t.checked});t.loose?t.tokens[0]?.type==="paragraph"?(t.tokens[0].text=r+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=r+" "+vt(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):e+=r+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",r="";for(let n=0;n<t.header.length;n++)r+=this.tablecell(t.header[n]);e+=this.tablerow({text:r});let i="";for(let n=0;n<t.rows.length;n++){let s=t.rows[n];r="";for(let o=0;o<s.length;o++)r+=this.tablecell(s[o]);i+=this.tablerow({text:r})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+i+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let e=this.parser.parseInline(t.tokens),r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${vt(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:r}){let i=this.parser.parseInline(r),n=Qu(t);if(n===null)return i;t=n;let s='<a href="'+t+'"';return e&&(s+=' title="'+vt(e)+'"'),s+=">"+i+"</a>",s}image({href:t,title:e,text:r,tokens:i}){i&&(r=this.parser.parseInline(i,this.parser.textRenderer));let n=Qu(t);if(n===null)return vt(r);t=n;let s=`<img src="${t}" alt="${r}"`;return e&&(s+=` title="${vt(e)}"`),s+=">",s}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:vt(t.text)}},$a=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},_t=class La{options;renderer;textRenderer;constructor(e){this.options=e||Or,this.options.renderer=this.options.renderer||new Xn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new $a}static parse(e,r){return new La(r).parse(e)}static parseInline(e,r){return new La(r).parseInline(e)}parse(e,r=!0){let i="";for(let n=0;n<e.length;n++){let s=e[n];if(this.options.extensions?.renderers?.[s.type]){let a=s,c=this.options.extensions.renderers[a.type].call({parser:this},a);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){i+=c||"";continue}}let o=s;switch(o.type){case"space":{i+=this.renderer.space(o);continue}case"hr":{i+=this.renderer.hr(o);continue}case"heading":{i+=this.renderer.heading(o);continue}case"code":{i+=this.renderer.code(o);continue}case"table":{i+=this.renderer.table(o);continue}case"blockquote":{i+=this.renderer.blockquote(o);continue}case"list":{i+=this.renderer.list(o);continue}case"html":{i+=this.renderer.html(o);continue}case"paragraph":{i+=this.renderer.paragraph(o);continue}case"text":{let a=o,c=this.renderer.text(a);for(;n+1<e.length&&e[n+1].type==="text";)a=e[++n],c+=`
`+this.renderer.text(a);r?i+=this.renderer.paragraph({type:"paragraph",raw:c,text:c,tokens:[{type:"text",raw:c,text:c,escaped:!0}]}):i+=c;continue}default:{let a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return i}parseInline(e,r=this.renderer){let i="";for(let n=0;n<e.length;n++){let s=e[n];if(this.options.extensions?.renderers?.[s.type]){let a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){i+=a||"";continue}}let o=s;switch(o.type){case"escape":{i+=r.text(o);break}case"html":{i+=r.html(o);break}case"link":{i+=r.link(o);break}case"image":{i+=r.image(o);break}case"strong":{i+=r.strong(o);break}case"em":{i+=r.em(o);break}case"codespan":{i+=r.codespan(o);break}case"br":{i+=r.br(o);break}case"del":{i+=r.del(o);break}case"text":{i+=r.text(o);break}default:{let a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return i}},Un=class{options;block;constructor(t){this.options=t||Or}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?Ot.lex:Ot.lexInline}provideParser(){return this.block?_t.parse:_t.parseInline}},Lv=class{defaults=Ra();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=_t;Renderer=Xn;TextRenderer=$a;Lexer=Ot;Tokenizer=Yn;Hooks=Un;constructor(...t){this.use(...t)}walkTokens(t,e){let r=[];for(let i of t)switch(r=r.concat(e.call(this,i)),i.type){case"table":{let n=i;for(let s of n.header)r=r.concat(this.walkTokens(s.tokens,e));for(let s of n.rows)for(let o of s)r=r.concat(this.walkTokens(o.tokens,e));break}case"list":{let n=i;r=r.concat(this.walkTokens(n.items,e));break}default:{let n=i;this.defaults.extensions?.childTokens?.[n.type]?this.defaults.extensions.childTokens[n.type].forEach(s=>{let o=n[s].flat(1/0);r=r.concat(this.walkTokens(o,e))}):n.tokens&&(r=r.concat(this.walkTokens(n.tokens,e)))}}return r}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(r=>{let i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(n=>{if(!n.name)throw new Error("extension name required");if("renderer"in n){let s=e.renderers[n.name];s?e.renderers[n.name]=function(...o){let a=n.renderer.apply(this,o);return a===!1&&(a=s.apply(this,o)),a}:e.renderers[n.name]=n.renderer}if("tokenizer"in n){if(!n.level||n.level!=="block"&&n.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=e[n.level];s?s.unshift(n.tokenizer):e[n.level]=[n.tokenizer],n.start&&(n.level==="block"?e.startBlock?e.startBlock.push(n.start):e.startBlock=[n.start]:n.level==="inline"&&(e.startInline?e.startInline.push(n.start):e.startInline=[n.start]))}"childTokens"in n&&n.childTokens&&(e.childTokens[n.name]=n.childTokens)}),i.extensions=e),r.renderer){let n=this.defaults.renderer||new Xn(this.defaults);for(let s in r.renderer){if(!(s in n))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let o=s,a=r.renderer[o],c=n[o];n[o]=(...f)=>{let g=a.apply(n,f);return g===!1&&(g=c.apply(n,f)),g||""}}i.renderer=n}if(r.tokenizer){let n=this.defaults.tokenizer||new Yn(this.defaults);for(let s in r.tokenizer){if(!(s in n))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let o=s,a=r.tokenizer[o],c=n[o];n[o]=(...f)=>{let g=a.apply(n,f);return g===!1&&(g=c.apply(n,f)),g}}i.tokenizer=n}if(r.hooks){let n=this.defaults.hooks||new Un;for(let s in r.hooks){if(!(s in n))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let o=s,a=r.hooks[o],c=n[o];Un.passThroughHooks.has(s)?n[o]=f=>{if(this.defaults.async)return Promise.resolve(a.call(n,f)).then(C=>c.call(n,C));let g=a.call(n,f);return c.call(n,g)}:n[o]=(...f)=>{let g=a.apply(n,f);return g===!1&&(g=c.apply(n,f)),g}}i.hooks=n}if(r.walkTokens){let n=this.defaults.walkTokens,s=r.walkTokens;i.walkTokens=function(o){let a=[];return a.push(s.call(this,o)),n&&(a=a.concat(n.call(this,o))),a}}this.defaults={...this.defaults,...i}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return Ot.lex(t,e??this.defaults)}parser(t,e){return _t.parse(t,e??this.defaults)}parseMarkdown(t){return(r,i)=>{let n={...i},s={...this.defaults,...n},o=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&n.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=t);let a=s.hooks?s.hooks.provideLexer():t?Ot.lex:Ot.lexInline,c=s.hooks?s.hooks.provideParser():t?_t.parse:_t.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(r):r).then(f=>a(f,s)).then(f=>s.hooks?s.hooks.processAllTokens(f):f).then(f=>s.walkTokens?Promise.all(this.walkTokens(f,s.walkTokens)).then(()=>f):f).then(f=>c(f,s)).then(f=>s.hooks?s.hooks.postprocess(f):f).catch(o);try{s.hooks&&(r=s.hooks.preprocess(r));let f=a(r,s);s.hooks&&(f=s.hooks.processAllTokens(f)),s.walkTokens&&this.walkTokens(f,s.walkTokens);let g=c(f,s);return s.hooks&&(g=s.hooks.postprocess(g)),g}catch(f){return o(f)}}}onError(t,e){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let i="<p>An error occurred:</p><pre>"+vt(r.message+"",!0)+"</pre>";return e?Promise.resolve(i):i}if(e)return Promise.reject(r);throw r}}},Cr=new Lv;function Y(t,e){return Cr.parse(t,e)}Y.options=Y.setOptions=function(t){return Cr.setOptions(t),Y.defaults=Cr.defaults,rh(Y.defaults),Y};Y.getDefaults=Ra;Y.defaults=Or;Y.use=function(...t){return Cr.use(...t),Y.defaults=Cr.defaults,rh(Y.defaults),Y};Y.walkTokens=function(t,e){return Cr.walkTokens(t,e)};Y.parseInline=Cr.parseInline;Y.Parser=_t;Y.parser=_t.parse;Y.Renderer=Xn;Y.TextRenderer=$a;Y.Lexer=Ot;Y.lexer=Ot.lex;Y.Tokenizer=Yn;Y.Hooks=Un;Y.parse=Y;var cS=Y.options,uS=Y.setOptions,hS=Y.use,dS=Y.walkTokens,fS=Y.parseInline;var pS=_t.parse,mS=Ot.lex;Y.setOptions({renderer:new Y.Renderer});Y.use({renderer:{link({href:t,text:e}){return`<a href="${t}" target="_blank" rel="noopener noreferrer">${e}</a>`}}});var Jn=class extends me{static targets=["messages","error","input","send","userMessageTemplate","assistantMessageTemplate","retryButton"];static classes=["hidden"];static values={url:String,timeout:Number,autoSubmit:{type:Boolean,default:!1},message:String};connect(){console.log("[AIChat] connect"),this.isStreaming=!1,this.chatHistory=[],this.currentRound=null,this.renderChatHistoryOnce()}disconnect(){console.log("[AIChat] disconnect"),this.stopStreaming()}inputTargetConnected(t){t.addEventListener("keydown",e=>{e.key==="Enter"&&(console.log("[AIChat] inputTargetConnected: Enter pressed"),this.#t())})}sendTargetConnected(t){t.addEventListener("click",e=>{console.log("[AIChat] sendTargetConnected: click"),this.#t()})}messageValueChanged(){console.log("[AIChat] messageValueChanged",this.messageValue),this.autoSubmitValue&&this.messageValue&&this.#e()}#e(){this.delayAutoSubmitTimer&&clearTimeout(this.delayAutoSubmitTimer),this.delayAutoSubmitTimer=setTimeout(()=>{this.messageValue&&this.sendMessage(this.messageValue)},500)}#t(){let t=this.inputTarget.value;console.log("[AIChat] #sendUserMessage",t),t&&(this.inputTarget.value="",this.sendMessage(t))}async chat(t){let{message:e}=t.params;this.sendMessage(e)}addUserMessage(t){console.log("[AIChat] addUserMessage",t),this.currentRound={user:t,ai:"",status:"streaming",retry:null},this.chatHistory.push(this.currentRound),this.appendUserMessage(t),this.appendAssistantMessage("","streaming",this.chatHistory.length-1)}renderChatHistoryOnce(){this.hasMessagesTarget&&(this.messagesTarget.innerHTML="",this.chatHistory.forEach((t,e)=>{this.appendUserMessage(t.user),this.appendAssistantMessage(t.ai,t.status,e,t.retry)}),this.scrollToBottom(!0))}appendUserMessage(t){if(console.log("[AIChat] appendUserMessage",t),!this.hasUserMessageTemplateTarget)return;let e=this.userMessageTemplateTarget.content.cloneNode(!0);e.querySelector(".ai-user-message").textContent=t,this.messagesTarget.appendChild(e),this.scrollToBottom(!0)}appendAssistantMessage(t,e,r,i){if(console.log("[AIChat] appendAssistantMessage",t,e,r),!this.hasAssistantMessageTemplateTarget)return;let n=!0,s=this.assistantMessageTemplateTarget.content.cloneNode(!0),o=s.querySelector(".ai-assistant-message");if(e==="error"){let a=this.retryButton;a.dataset.idx=r,o.innerHTML=`<span class='bkt-text-red-500'>${this.escapeHTML(t)}</span> ${a.outerHTML}`,i&&setTimeout(()=>{let c=this.messagesTarget.querySelectorAll(`[data-idx='${r}']`),f=c[c.length-1];f&&(f.onclick=()=>i())},0)}else t?(o.innerHTML=Y(t),n=!1):o.innerHTML='<span class="bkt-text-gray-400">AI \u6B63\u5728\u601D\u8003...</span>';this.messagesTarget.appendChild(s),e==="error"&&i&&setTimeout(()=>{let a=this.messagesTarget.querySelectorAll(`[data-idx='${r}']`),c=a[a.length-1];c&&(c.onclick=()=>i())},0),this.scrollToBottom(n)}updateCurrentAssistantMessage(t,e,r,i){console.log("[AIChat] updateCurrentAssistantMessage",t,e,r);let n=this.messagesTarget.querySelectorAll(".ai-assistant-message"),s=n[n.length-1];if(!s){console.warn("[AIChat] updateCurrentAssistantMessage: no msgSpan found");return}if(e==="error"){let o=this.retryButton;o.dataset.idx=r,s.innerHTML=`<span class='bkt-text-red-500'>${this.escapeHTML(t)}</span> ${o.outerHTML}`,i&&setTimeout(()=>{let a=this.messagesTarget.querySelector(`[data-idx='${r}']`);a&&(a.onclick=()=>i())},0)}else e==="canceled"?s.innerHTML='<span class="bkt-text-gray-400">\u5DF2\u53D6\u6D88\u56DE\u7B54</span>':t?s.innerHTML=Y(t):s.innerHTML='<span class="bkt-text-gray-400">AI \u6B63\u5728\u601D\u8003...</span>';this.scrollToBottom()}async sendMessage(t){if(console.log("[AIChat] sendMessage",t),!t||!this.url){console.warn("[AIChat] sendMessage: invalid params",t,this.url);return}this.isStreaming&&(this.updateCurrentAssistantMessage(this.currentRound.ai,"canceled",this.chatHistory.length-1),this.stopStreaming()),this.addUserMessage(t),this.isStreaming=!0,this.currentRound.ai="",this.currentRound.status="streaming";let e=this.chatHistory.length-1;this.updateCurrentAssistantMessage("","streaming",e);let r=new URLSearchParams({message:t});this.eventSource=new EventSource(`${this.url}?${r.toString()}`),this.startTimeoutTimer(),this.eventSource.onmessage=i=>{let n=JSON.parse(i.data);n.message||="",console.log("[AIChat] eventSource.onmessage",n),this.resetTimeoutTimer(),n.status==="system"?(this.currentRound.ai=n.message,this.currentRound.status="system",this.updateCurrentAssistantMessage(this.currentRound.ai,"system",e)):n.status==="streaming"?(this.currentRound.status!=="streaming"&&(this.currentRound.ai=""),this.currentRound.status="streaming",this.currentRound.ai+=n.message,this.updateCurrentAssistantMessage(this.currentRound.ai,"streaming",e)):n.status==="completed"?(this.currentRound.ai+=n.message,this.currentRound.status="completed",this.isStreaming=!1,this.eventSource.close(),this.clearTimeoutTimer(),this.updateCurrentAssistantMessage(this.currentRound.ai,"completed",e)):n.status==="error"&&(this.currentRound.ai=n.message,this.currentRound.status="error",this.isStreaming=!1,this.eventSource.close(),this.clearTimeoutTimer(),this.currentRound.retry=()=>{console.log("[AIChat] retry",e),this.currentRound.status="streaming",this.currentRound.ai="",this.appendAssistantMessage("","streaming",e),this.updateCurrentAssistantMessage("","streaming",e),this.sendMessage(this.currentRound.user)},this.updateCurrentAssistantMessage(this.currentRound.ai,"error",e,this.currentRound.retry))},this.eventSource.onerror=i=>{console.error("[AIChat] eventSource.onerror",i),this.eventSource.close(),this.isStreaming=!1,this.currentRound.status="error",this.currentRound.ai="\u7F51\u7EDC\u9519\u8BEF\uFF0C\u8BF7\u91CD\u8BD5",this.currentRound.retry=()=>{console.log("[AIChat] retry (onerror)",e),this.currentRound.status="streaming",this.currentRound.ai="",this.appendAssistantMessage("","streaming",e),this.updateCurrentAssistantMessage("","streaming",e),this.sendMessage(this.currentRound.user)},this.clearTimeoutTimer(),this.updateCurrentAssistantMessage(this.currentRound.ai,"error",e,this.currentRound.retry)}}stopStreaming(){if(this.eventSource)try{this.eventSource.close()}catch{}this.isStreaming=!1,this.clearTimeoutTimer(),this.hasErrorTarget&&this.errorTarget.classList.add(...this.hiddenClasses)}escapeHTML(t){return t?t.replace(/[&<>"']/g,function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[e]}):""}startTimeoutTimer(){this.hasTimeoutValue&&(this.timeoutTimer=setTimeout(()=>{if(this.currentRound){this.currentRound.status="error",this.currentRound.ai="\u54CD\u5E94\u8D85\u65F6\uFF0C\u8BF7\u91CD\u8BD5";let t=this.chatHistory.length-1;this.currentRound.retry=()=>{this.currentRound.status="streaming",this.currentRound.ai="",this.updateCurrentAssistantMessage("","streaming",t),this.sendMessage(this.currentRound.user)},this.updateCurrentAssistantMessage(this.currentRound.ai,"error",t,this.currentRound.retry)}this.eventSource&&this.eventSource.close(),this.isStreaming=!1},this.timeoutValue*1e3))}clearTimeoutTimer(){!this.hasTimeoutValue||!this.timeoutTimer||clearTimeout(this.timeoutTimer)}resetTimeoutTimer(){this.clearTimeoutTimer(),this.startTimeoutTimer()}scrollToBottom(t=!1){if(!this.hasMessagesTarget)return;let e=this.messagesTarget,r=e.scrollHeight-e.scrollTop-e.clientHeight<80;(t||r)&&(e.scrollTop=e.scrollHeight)}get url(){return this.hasUrlValue?this.urlValue:null}get retryButton(){if(this.hasRetryButtonTarget)return this.retryButtonTarget;{let t=document.createElement("button");return t.classList.add("bkt-size-4","bkt-text-gray-600"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="bkt-size-full" viewBox="0 0 24 24" fill="currentColor"><path d="M5.46257 4.43262C7.21556 2.91688 9.5007 2 12 2C17.5228 2 22 6.47715 22 12C22 14.1361 21.3302 16.1158 20.1892 17.7406L17 12H20C20 7.58172 16.4183 4 12 4C9.84982 4 7.89777 4.84827 6.46023 6.22842L5.46257 4.43262ZM18.5374 19.5674C16.7844 21.0831 14.4993 22 12 22C6.47715 22 2 17.5228 2 12C2 9.86386 2.66979 7.88416 3.8108 6.25944L7 12H4C4 16.4183 7.58172 20 12 20C14.1502 20 16.1022 19.1517 17.5398 17.7716L18.5374 19.5674Z"></path></svg>',t}}};window.Stimulus||(window.Stimulus=Cn.start());var Xt=window.Stimulus;Xt.register("toc",_n);Xt.register("images-viewer",Ln);Xt.register("nav-tree",Rn);Xt.register("theme",Mn);Xt.register("clipboard",qn);Xt.register("scroll-to",zn);Xt.register("link-target",jn);Xt.register("ai-search",Jn);window.Turbo=zs;window.Alpine=En;En.plugin(Zc);En.start();})();
/*! Bundled license information:

viewerjs/dist/viewer.js:
  (*!
   * Viewer.js v1.11.7
   * https://fengyuanchen.github.io/viewerjs
   *
   * Copyright 2015-present Chen Fengyuan
   * Released under the MIT license
   *
   * Date: 2024-11-24T04:32:19.116Z
   *)

@hotwired/turbo/dist/turbo.es2017-esm.js:
  (*!
  Turbo 8.0.13
  Copyright © 2025 37signals LLC
   *)
*/
