(()=>{var El=Object.create;var Zi=Object.defineProperty;var Sl=Object.getOwnPropertyDescriptor;var Al=Object.getOwnPropertyNames;var Tl=Object.getPrototypeOf,_l=Object.prototype.hasOwnProperty;var Cl=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),xl=(t,e)=>{for(var i in e)Zi(t,i,{get:e[i],enumerable:!0})},Ll=(t,e,i,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Al(e))!_l.call(t,s)&&s!==i&&Zi(t,s,{get:()=>e[s],enumerable:!(r=Sl(e,s))||r.enumerable});return t};var Ol=(t,e,i)=>(i=t!=null?El(Tl(t)):{},Ll(e||!t||!t.__esModule?Zi(i,"default",{value:t,enumerable:!0}):i,t));var Ga=Cl((Gs,Qs)=>{(function(t,e){typeof Gs=="object"&&typeof Qs<"u"?Qs.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Viewer=e())})(Gs,function(){"use strict";function t(h,o){var c=Object.keys(h);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(h);o&&(l=l.filter(function(d){return Object.getOwnPropertyDescriptor(h,d).enumerable})),c.push.apply(c,l)}return c}function e(h){for(var o=1;o<arguments.length;o++){var c=arguments[o]!=null?arguments[o]:{};o%2?t(Object(c),!0).forEach(function(l){a(h,l,c[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(c)):t(Object(c)).forEach(function(l){Object.defineProperty(h,l,Object.getOwnPropertyDescriptor(c,l))})}return h}function i(h){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},i(h)}function r(h,o){if(!(h instanceof o))throw new TypeError("Cannot call a class as a function")}function s(h,o){for(var c=0;c<o.length;c++){var l=o[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(h,f(l.key),l)}}function n(h,o,c){return o&&s(h.prototype,o),c&&s(h,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function a(h,o,c){return o=f(o),o in h?Object.defineProperty(h,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):h[o]=c,h}function u(h,o){if(typeof h!="object"||h===null)return h;var c=h[Symbol.toPrimitive];if(c!==void 0){var l=c.call(h,o||"default");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(h)}function f(h){var o=u(h,"string");return typeof o=="symbol"?o:String(o)}var w={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},A='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',F=typeof window<"u"&&typeof window.document<"u",E=F?window:{},P=F&&E.document.documentElement?"ontouchstart"in E.document.documentElement:!1,N=F?"PointerEvent"in E:!1,x="viewer",S="move",O="switch",g="zoom",y="".concat(x,"-active"),v="".concat(x,"-close"),b="".concat(x,"-fade"),R="".concat(x,"-fixed"),_="".concat(x,"-fullscreen"),M="".concat(x,"-fullscreen-exit"),D="".concat(x,"-hide"),W="".concat(x,"-hide-md-down"),K="".concat(x,"-hide-sm-down"),Re="".concat(x,"-hide-xs-down"),ue="".concat(x,"-in"),ae="".concat(x,"-invisible"),it="".concat(x,"-loading"),tl="".concat(x,"-move"),tn="".concat(x,"-open"),rt="".concat(x,"-show"),Q="".concat(x,"-transition"),st="click",Ui="dblclick",rn="dragstart",sn="focusin",nn="keydown",ge="load",He="error",il=P?"touchend touchcancel":"mouseup",rl=P?"touchmove":"mousemove",sl=P?"touchstart":"mousedown",on=N?"pointerdown":sl,an=N?"pointermove":rl,ln=N?"pointerup pointercancel":il,cn="resize",we="transitionend",un="wheel",hn="ready",dn="show",fn="shown",mn="hide",pn="hidden",gn="view",xt="viewed",vn="move",bn="moved",yn="rotate",wn="rotated",En="scale",Sn="scaled",An="zoom",Tn="zoomed",_n="play",Cn="stop",Yt="".concat(x,"Action"),Ki=/\s\s*/,Xt=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function Lt(h){return typeof h=="string"}var nl=Number.isNaN||E.isNaN;function X(h){return typeof h=="number"&&!nl(h)}function nt(h){return typeof h>"u"}function ot(h){return i(h)==="object"&&h!==null}var ol=Object.prototype.hasOwnProperty;function at(h){if(!ot(h))return!1;try{var o=h.constructor,c=o.prototype;return o&&c&&ol.call(c,"isPrototypeOf")}catch{return!1}}function $(h){return typeof h=="function"}function j(h,o){if(h&&$(o))if(Array.isArray(h)||X(h.length)){var c=h.length,l;for(l=0;l<c&&o.call(h,h[l],l,h)!==!1;l+=1);}else ot(h)&&Object.keys(h).forEach(function(d){o.call(h,h[d],d,h)});return h}var me=Object.assign||function(o){for(var c=arguments.length,l=new Array(c>1?c-1:0),d=1;d<c;d++)l[d-1]=arguments[d];return ot(o)&&l.length>0&&l.forEach(function(m){ot(m)&&Object.keys(m).forEach(function(p){o[p]=m[p]})}),o},al=/^(?:width|height|left|top|marginLeft|marginTop)$/;function Ee(h,o){var c=h.style;j(o,function(l,d){al.test(d)&&X(l)&&(l+="px"),c[d]=l})}function ll(h){return Lt(h)?h.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):h}function lt(h,o){return!h||!o?!1:h.classList?h.classList.contains(o):h.className.indexOf(o)>-1}function B(h,o){if(!(!h||!o)){if(X(h.length)){j(h,function(l){B(l,o)});return}if(h.classList){h.classList.add(o);return}var c=h.className.trim();c?c.indexOf(o)<0&&(h.className="".concat(c," ").concat(o)):h.className=o}}function H(h,o){if(!(!h||!o)){if(X(h.length)){j(h,function(c){H(c,o)});return}if(h.classList){h.classList.remove(o);return}h.className.indexOf(o)>=0&&(h.className=h.className.replace(o,""))}}function Ot(h,o,c){if(o){if(X(h.length)){j(h,function(l){Ot(l,o,c)});return}c?B(h,o):H(h,o)}}var cl=/([a-z\d])([A-Z])/g;function Yi(h){return h.replace(cl,"$1-$2").toLowerCase()}function ct(h,o){return ot(h[o])?h[o]:h.dataset?h.dataset[o]:h.getAttribute("data-".concat(Yi(o)))}function Xi(h,o,c){ot(c)?h[o]=c:h.dataset?h.dataset[o]=c:h.setAttribute("data-".concat(Yi(o)),c)}var xn=function(){var h=!1;if(F){var o=!1,c=function(){},l=Object.defineProperty({},"once",{get:function(){return h=!0,o},set:function(m){o=m}});E.addEventListener("test",c,l),E.removeEventListener("test",c,l)}return h}();function z(h,o,c){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},d=c;o.trim().split(Ki).forEach(function(m){if(!xn){var p=h.listeners;p&&p[m]&&p[m][c]&&(d=p[m][c],delete p[m][c],Object.keys(p[m]).length===0&&delete p[m],Object.keys(p).length===0&&delete h.listeners)}h.removeEventListener(m,d,l)})}function q(h,o,c){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},d=c;o.trim().split(Ki).forEach(function(m){if(l.once&&!xn){var p=h.listeners,C=p===void 0?{}:p;d=function(){delete C[m][c],h.removeEventListener(m,d,l);for(var L=arguments.length,T=new Array(L),I=0;I<L;I++)T[I]=arguments[I];c.apply(h,T)},C[m]||(C[m]={}),C[m][c]&&h.removeEventListener(m,C[m][c],l),C[m][c]=d,h.listeners=C}h.addEventListener(m,d,l)})}function ie(h,o,c,l){var d;return $(Event)&&$(CustomEvent)?d=new CustomEvent(o,e({bubbles:!0,cancelable:!0,detail:c},l)):(d=document.createEvent("CustomEvent"),d.initCustomEvent(o,!0,!0,c)),h.dispatchEvent(d)}function ul(h){var o=h.getBoundingClientRect();return{left:o.left+(window.pageXOffset-document.documentElement.clientLeft),top:o.top+(window.pageYOffset-document.documentElement.clientTop)}}function Jt(h){var o=h.rotate,c=h.scaleX,l=h.scaleY,d=h.translateX,m=h.translateY,p=[];X(d)&&d!==0&&p.push("translateX(".concat(d,"px)")),X(m)&&m!==0&&p.push("translateY(".concat(m,"px)")),X(o)&&o!==0&&p.push("rotate(".concat(o,"deg)")),X(c)&&c!==1&&p.push("scaleX(".concat(c,")")),X(l)&&l!==1&&p.push("scaleY(".concat(l,")"));var C=p.length?p.join(" "):"none";return{WebkitTransform:C,msTransform:C,transform:C}}function hl(h){return Lt(h)?decodeURIComponent(h.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var Ji=E.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(E.navigator.userAgent);function Ln(h,o,c){var l=document.createElement("img");if(h.naturalWidth&&!Ji)return c(h.naturalWidth,h.naturalHeight),l;var d=document.body||document.documentElement;return l.onload=function(){c(l.width,l.height),Ji||d.removeChild(l)},j(o.inheritedAttributes,function(m){var p=h.getAttribute(m);p!==null&&l.setAttribute(m,p)}),l.src=h.src,Ji||(l.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",d.appendChild(l)),l}function Zt(h){switch(h){case 2:return Re;case 3:return K;case 4:return W;default:return""}}function dl(h){var o=e({},h),c=[];return j(h,function(l,d){delete o[d],j(o,function(m){var p=Math.abs(l.startX-m.startX),C=Math.abs(l.startY-m.startY),k=Math.abs(l.endX-m.endX),L=Math.abs(l.endY-m.endY),T=Math.sqrt(p*p+C*C),I=Math.sqrt(k*k+L*L),V=(I-T)/T;c.push(V)})}),c.sort(function(l,d){return Math.abs(l)<Math.abs(d)}),c[0]}function Gt(h,o){var c=h.pageX,l=h.pageY,d={endX:c,endY:l};return o?d:e({timeStamp:Date.now(),startX:c,startY:l},d)}function fl(h){var o=0,c=0,l=0;return j(h,function(d){var m=d.startX,p=d.startY;o+=m,c+=p,l+=1}),o/=l,c/=l,{pageX:o,pageY:c}}var ml={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var o=this.element.ownerDocument,c=o.body||o.documentElement;this.body=c,this.scrollbarWidth=window.innerWidth-o.documentElement.clientWidth,this.initialBodyPaddingRight=c.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(c).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var o=this.options,c=this.parent,l;o.inline&&(l={width:Math.max(c.offsetWidth,o.minWidth),height:Math.max(c.offsetHeight,o.minHeight)},this.parentData=l),(this.fulled||!l)&&(l=this.containerData),this.viewerData=me({},l)},renderViewer:function(){this.options.inline&&!this.fulled&&Ee(this.viewer,this.viewerData)},initList:function(){var o=this,c=this.element,l=this.options,d=this.list,m=[];d.innerHTML="",j(this.images,function(p,C){var k=p.src,L=p.alt||hl(k),T=o.getImageURL(p);if(k||T){var I=document.createElement("li"),V=document.createElement("img");j(l.inheritedAttributes,function(re){var ee=p.getAttribute(re);ee!==null&&V.setAttribute(re,ee)}),l.navbar&&(V.src=k||T),V.alt=L,V.setAttribute("data-original-url",T||k),I.setAttribute("data-index",C),I.setAttribute("data-viewer-action","view"),I.setAttribute("role","button"),l.keyboard&&I.setAttribute("tabindex",0),I.appendChild(V),d.appendChild(I),m.push(I)}}),this.items=m,j(m,function(p){var C=p.firstElementChild,k,L;Xi(C,"filled",!0),l.loading&&B(p,it),q(C,ge,k=function(I){z(C,He,L),l.loading&&H(p,it),o.loadImage(I)},{once:!0}),q(C,He,L=function(){z(C,ge,k),l.loading&&H(p,it)},{once:!0})}),l.transition&&q(c,xt,function(){B(d,Q)},{once:!0})},renderList:function(){var o=this.index,c=this.items[o];if(c){var l=c.nextElementSibling,d=parseInt(window.getComputedStyle(l||c).marginLeft,10),m=c.offsetWidth,p=m+d;Ee(this.list,me({width:p*this.length-d},Jt({translateX:(this.viewerData.width-m)/2-p*o})))}},resetList:function(){var o=this.list;o.innerHTML="",H(o,Q),Ee(o,Jt({translateX:0}))},initImage:function(o){var c=this,l=this.options,d=this.image,m=this.viewerData,p=this.footer.offsetHeight,C=m.width,k=Math.max(m.height-p,p),L=this.imageData||{},T;this.imageInitializing={abort:function(){T.onload=null}},T=Ln(d,l,function(I,V){var re=I/V,ee=Math.max(0,Math.min(1,l.initialCoverage)),J=C,le=k;c.imageInitializing=!1,k*re>C?le=C/re:J=k*re,ee=X(ee)?ee:.9,J=Math.min(J*ee,I),le=Math.min(le*ee,V);var de=(C-J)/2,fe=(k-le)/2,Y={left:de,top:fe,x:de,y:fe,width:J,height:le,oldRatio:1,ratio:J/I,aspectRatio:re,naturalWidth:I,naturalHeight:V},Ce=me({},Y);l.rotatable&&(Y.rotate=L.rotate||0,Ce.rotate=0),l.scalable&&(Y.scaleX=L.scaleX||1,Y.scaleY=L.scaleY||1,Ce.scaleX=1,Ce.scaleY=1),c.imageData=Y,c.initialImageData=Ce,o&&o()})},renderImage:function(o){var c=this,l=this.image,d=this.imageData;if(Ee(l,me({width:d.width,height:d.height,marginLeft:d.x,marginTop:d.y},Jt(d))),o)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&lt(l,Q)){var m=function(){c.imageRendering=!1,o()};this.imageRendering={abort:function(){z(l,we,m)}},q(l,we,m,{once:!0})}else o()},resetImage:function(){var o=this.image;o&&(this.viewing&&this.viewing.abort(),o.parentNode.removeChild(o),this.image=null,this.title.innerHTML="")}},pl={bind:function(){var o=this.options,c=this.viewer,l=this.canvas,d=this.element.ownerDocument;q(c,st,this.onClick=this.click.bind(this)),q(c,rn,this.onDragStart=this.dragstart.bind(this)),q(l,on,this.onPointerDown=this.pointerdown.bind(this)),q(d,an,this.onPointerMove=this.pointermove.bind(this)),q(d,ln,this.onPointerUp=this.pointerup.bind(this)),q(d,nn,this.onKeyDown=this.keydown.bind(this)),q(window,cn,this.onResize=this.resize.bind(this)),o.zoomable&&o.zoomOnWheel&&q(c,un,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),o.toggleOnDblclick&&q(l,Ui,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var o=this.options,c=this.viewer,l=this.canvas,d=this.element.ownerDocument;z(c,st,this.onClick),z(c,rn,this.onDragStart),z(l,on,this.onPointerDown),z(d,an,this.onPointerMove),z(d,ln,this.onPointerUp),z(d,nn,this.onKeyDown),z(window,cn,this.onResize),o.zoomable&&o.zoomOnWheel&&z(c,un,this.onWheel,{passive:!1,capture:!0}),o.toggleOnDblclick&&z(l,Ui,this.onDblclick)}},gl={click:function(o){var c=this.options,l=this.imageData,d=o.target,m=ct(d,Yt);switch(!m&&d.localName==="img"&&d.parentElement.localName==="li"&&(d=d.parentElement,m=ct(d,Yt)),P&&o.isTrusted&&d===this.canvas&&clearTimeout(this.clickCanvasTimeout),m){case"mix":this.played?this.stop():c.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(ct(d,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(c.loop);break;case"play":this.play(c.fullscreen);break;case"next":this.next(c.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-l.scaleX||-1);break;case"flip-vertical":this.scaleY(-l.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(o){o.preventDefault(),this.viewed&&o.target===this.image&&(P&&o.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(o.isTrusted?o:o.detail&&o.detail.originalEvent))},load:function(){var o=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var c=this.element,l=this.options,d=this.image,m=this.index,p=this.viewerData;H(d,ae),l.loading&&H(this.canvas,it),d.style.cssText="height:0;"+"margin-left:".concat(p.width/2,"px;")+"margin-top:".concat(p.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){Ot(d,tl,l.movable),Ot(d,Q,l.transition),o.renderImage(function(){o.viewed=!0,o.viewing=!1,$(l.viewed)&&q(c,xt,l.viewed,{once:!0}),ie(c,xt,{originalImage:o.images[m],index:m,image:d},{cancelable:!1})})})},loadImage:function(o){var c=o.target,l=c.parentNode,d=l.offsetWidth||30,m=l.offsetHeight||50,p=!!ct(c,"filled");Ln(c,this.options,function(C,k){var L=C/k,T=d,I=m;m*L>d?p?T=m*L:I=d/L:p?I=d/L:T=m*L,Ee(c,me({width:T,height:I},Jt({translateX:(d-T)/2,translateY:(m-I)/2})))})},keydown:function(o){var c=this.options;if(c.keyboard){var l=o.keyCode||o.which||o.charCode;switch(l){case 13:this.viewer.contains(o.target)&&this.click(o);break}if(this.fulled)switch(l){case 27:this.played?this.stop():c.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(c.loop);break;case 38:o.preventDefault(),this.zoom(c.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(c.loop);break;case 40:o.preventDefault(),this.zoom(-c.zoomRatio,!0);break;case 48:case 49:o.ctrlKey&&(o.preventDefault(),this.toggle());break}}},dragstart:function(o){o.target.localName==="img"&&o.preventDefault()},pointerdown:function(o){var c=this.options,l=this.pointers,d=o.buttons,m=o.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(o.type==="mousedown"||o.type==="pointerdown"&&o.pointerType==="mouse")&&(X(d)&&d!==1||X(m)&&m!==0||o.ctrlKey))){o.preventDefault(),o.changedTouches?j(o.changedTouches,function(C){l[C.identifier]=Gt(C)}):l[o.pointerId||0]=Gt(o);var p=c.movable?S:!1;c.zoomOnTouch&&c.zoomable&&Object.keys(l).length>1?p=g:c.slideOnTouch&&(o.pointerType==="touch"||o.type==="touchstart")&&this.isSwitchable()&&(p=O),c.transition&&(p===S||p===g)&&H(this.image,Q),this.action=p}},pointermove:function(o){var c=this.pointers,l=this.action;!this.viewed||!l||(o.preventDefault(),o.changedTouches?j(o.changedTouches,function(d){me(c[d.identifier]||{},Gt(d,!0))}):me(c[o.pointerId||0]||{},Gt(o,!0)),this.change(o))},pointerup:function(o){var c=this,l=this.options,d=this.action,m=this.pointers,p;o.changedTouches?j(o.changedTouches,function(C){p=m[C.identifier],delete m[C.identifier]}):(p=m[o.pointerId||0],delete m[o.pointerId||0]),d&&(o.preventDefault(),l.transition&&(d===S||d===g)&&B(this.image,Q),this.action=!1,P&&d!==g&&p&&Date.now()-p.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),l.toggleOnDblclick&&this.viewed&&o.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){ie(c.image,Ui,{originalEvent:o})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){c.imageClicked=!1},500)):(this.imageClicked=!1,l.backdrop&&l.backdrop!=="static"&&o.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){ie(c.canvas,st,{originalEvent:o})},50)))))},resize:function(){var o=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){o.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}j(this.player.getElementsByTagName("img"),function(c){q(c,ge,o.loadImage.bind(o),{once:!0}),ie(c,ge)})}},wheel:function(o){var c=this;if(this.viewed&&(o.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){c.wheeling=!1},50);var l=Number(this.options.zoomRatio)||.1,d=1;o.deltaY?d=o.deltaY>0?1:-1:o.wheelDelta?d=-o.wheelDelta/120:o.detail&&(d=o.detail>0?1:-1),this.zoom(-d*l,!0,null,o)}}},vl={show:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,c=this.element,l=this.options;if(l.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(o),this;if($(l.show)&&q(c,dn,l.show,{once:!0}),ie(c,dn)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var d=this.viewer;if(H(d,D),d.setAttribute("role","dialog"),d.setAttribute("aria-labelledby",this.title.id),d.setAttribute("aria-modal",!0),d.removeAttribute("aria-hidden"),l.transition&&!o){var m=this.shown.bind(this);this.transitioning={abort:function(){z(d,we,m),H(d,ue)}},B(d,Q),d.initialOffsetWidth=d.offsetWidth,q(d,we,m,{once:!0}),B(d,ue)}else B(d,ue),this.shown();return this},hide:function(){var o=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,l=this.element,d=this.options;if(d.inline||this.hiding||!(this.isShown||this.showing))return this;if($(d.hide)&&q(l,mn,d.hide,{once:!0}),ie(l,mn)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var m=this.viewer,p=this.image,C=function(){H(m,ue),o.hidden()};if(d.transition&&!c){var k=function T(I){I&&I.target===m&&(z(m,we,T),o.hidden())},L=function(){lt(m,Q)?(q(m,we,k),H(m,ue)):C()};this.transitioning={abort:function(){o.viewed&&lt(p,Q)?z(p,we,L):lt(m,Q)&&z(m,we,k)}},this.viewed&&lt(p,Q)?(q(p,we,L,{once:!0}),this.zoomTo(0,!1,null,null,!0)):L()}else C();return this},view:function(){var o=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(c=Number(c)||0,this.hiding||this.played||c<0||c>=this.length||this.viewed&&c===this.index)return this;if(!this.isShown)return this.index=c,this.show();this.viewing&&this.viewing.abort();var l=this.element,d=this.options,m=this.title,p=this.canvas,C=this.items[c],k=C.querySelector("img"),L=ct(k,"originalUrl"),T=k.getAttribute("alt"),I=document.createElement("img");if(j(d.inheritedAttributes,function(le){var de=k.getAttribute(le);de!==null&&I.setAttribute(le,de)}),I.src=L,I.alt=T,$(d.view)&&q(l,gn,d.view,{once:!0}),ie(l,gn,{originalImage:this.images[c],index:c,image:I})===!1||!this.isShown||this.hiding||this.played)return this;var V=this.items[this.index];V&&(H(V,y),V.removeAttribute("aria-selected")),B(C,y),C.setAttribute("aria-selected",!0),d.focus&&C.focus(),this.image=I,this.viewed=!1,this.index=c,this.imageData={},B(I,ae),d.loading&&B(p,it),p.innerHTML="",p.appendChild(I),this.renderList(),m.innerHTML="";var re=function(){var de=o.imageData,fe=Array.isArray(d.title)?d.title[1]:d.title;m.innerHTML=ll($(fe)?fe.call(o,I,de):"".concat(T," (").concat(de.naturalWidth," \xD7 ").concat(de.naturalHeight,")"))},ee,J;return q(l,xt,re,{once:!0}),this.viewing={abort:function(){z(l,xt,re),I.complete?o.imageRendering?o.imageRendering.abort():o.imageInitializing&&o.imageInitializing.abort():(I.src="",z(I,ge,ee),o.timeout&&clearTimeout(o.timeout))}},I.complete?this.load():(q(I,ge,ee=function(){z(I,He,J),o.load()},{once:!0}),q(I,He,J=function(){z(I,ge,ee),o.timeout&&(clearTimeout(o.timeout),o.timeout=!1),H(I,ae),d.loading&&H(o.canvas,it)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){H(I,ae),o.timeout=!1},1e3)),this},prev:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,c=this.index-1;return c<0&&(c=o?this.length-1:0),this.view(c),this},next:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,c=this.length-1,l=this.index+1;return l>c&&(l=o?0:c),this.view(l),this},move:function(o){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,l=this.imageData;return this.moveTo(nt(o)?o:l.x+Number(o),nt(c)?c:l.y+Number(c)),this},moveTo:function(o){var c=this,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,m=this.element,p=this.options,C=this.imageData;if(o=Number(o),l=Number(l),this.viewed&&!this.played&&p.movable){var k=C.x,L=C.y,T=!1;if(X(o)?T=!0:o=k,X(l)?T=!0:l=L,T){if($(p.move)&&q(m,vn,p.move,{once:!0}),ie(m,vn,{x:o,y:l,oldX:k,oldY:L,originalEvent:d})===!1)return this;C.x=o,C.y=l,C.left=o,C.top=l,this.moving=!0,this.renderImage(function(){c.moving=!1,$(p.moved)&&q(m,bn,p.moved,{once:!0}),ie(m,bn,{x:o,y:l,oldX:k,oldY:L,originalEvent:d},{cancelable:!1})})}}return this},rotate:function(o){return this.rotateTo((this.imageData.rotate||0)+Number(o)),this},rotateTo:function(o){var c=this,l=this.element,d=this.options,m=this.imageData;if(o=Number(o),X(o)&&this.viewed&&!this.played&&d.rotatable){var p=m.rotate;if($(d.rotate)&&q(l,yn,d.rotate,{once:!0}),ie(l,yn,{degree:o,oldDegree:p})===!1)return this;m.rotate=o,this.rotating=!0,this.renderImage(function(){c.rotating=!1,$(d.rotated)&&q(l,wn,d.rotated,{once:!0}),ie(l,wn,{degree:o,oldDegree:p},{cancelable:!1})})}return this},scaleX:function(o){return this.scale(o,this.imageData.scaleY),this},scaleY:function(o){return this.scale(this.imageData.scaleX,o),this},scale:function(o){var c=this,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,d=this.element,m=this.options,p=this.imageData;if(o=Number(o),l=Number(l),this.viewed&&!this.played&&m.scalable){var C=p.scaleX,k=p.scaleY,L=!1;if(X(o)?L=!0:o=C,X(l)?L=!0:l=k,L){if($(m.scale)&&q(d,En,m.scale,{once:!0}),ie(d,En,{scaleX:o,scaleY:l,oldScaleX:C,oldScaleY:k})===!1)return this;p.scaleX=o,p.scaleY=l,this.scaling=!0,this.renderImage(function(){c.scaling=!1,$(m.scaled)&&q(d,Sn,m.scaled,{once:!0}),ie(d,Sn,{scaleX:o,scaleY:l,oldScaleX:C,oldScaleY:k},{cancelable:!1})})}}return this},zoom:function(o){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,m=this.imageData;return o=Number(o),o<0?o=1/(1-o):o=1+o,this.zoomTo(m.width*o/m.naturalWidth,c,l,d),this},zoomTo:function(o){var c=this,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,C=this.element,k=this.options,L=this.pointers,T=this.imageData,I=T.x,V=T.y,re=T.width,ee=T.height,J=T.naturalWidth,le=T.naturalHeight;if(o=Math.max(0,o),X(o)&&this.viewed&&!this.played&&(p||k.zoomable)){if(!p){var de=Math.max(.01,k.minZoomRatio),fe=Math.min(100,k.maxZoomRatio);o=Math.min(Math.max(o,de),fe)}if(m)switch(m.type){case"wheel":k.zoomRatio>=.055&&o>.95&&o<1.05&&(o=1);break;case"pointermove":case"touchmove":case"mousemove":o>.99&&o<1.01&&(o=1);break}var Y=J*o,Ce=le*o,$e=Y-re,Te=Ce-ee,ze=T.ratio;if($(k.zoom)&&q(C,An,k.zoom,{once:!0}),ie(C,An,{ratio:o,oldRatio:ze,originalEvent:m})===!1)return this;if(this.zooming=!0,m){var Mt=ul(this.viewer),ut=L&&Object.keys(L).length>0?fl(L):{pageX:m.pageX,pageY:m.pageY};T.x-=$e*((ut.pageX-Mt.left-I)/re),T.y-=Te*((ut.pageY-Mt.top-V)/ee)}else at(d)&&X(d.x)&&X(d.y)?(T.x-=$e*((d.x-I)/re),T.y-=Te*((d.y-V)/ee)):(T.x-=$e/2,T.y-=Te/2);T.left=T.x,T.top=T.y,T.width=Y,T.height=Ce,T.oldRatio=ze,T.ratio=o,this.renderImage(function(){c.zooming=!1,$(k.zoomed)&&q(C,Tn,k.zoomed,{once:!0}),ie(C,Tn,{ratio:o,oldRatio:ze,originalEvent:m},{cancelable:!1})}),l&&this.tooltip()}return this},play:function(){var o=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var l=this.element,d=this.options;if($(d.play)&&q(l,_n,d.play,{once:!0}),ie(l,_n)===!1)return this;var m=this.player,p=this.loadImage.bind(this),C=[],k=0,L=0;if(this.played=!0,this.onLoadWhenPlay=p,c&&this.requestFullscreen(c),B(m,rt),j(this.items,function(V,re){var ee=V.querySelector("img"),J=document.createElement("img");J.src=ct(ee,"originalUrl"),J.alt=ee.getAttribute("alt"),J.referrerPolicy=ee.referrerPolicy,k+=1,B(J,b),Ot(J,Q,d.transition),lt(V,y)&&(B(J,ue),L=re),C.push(J),q(J,ge,p,{once:!0}),m.appendChild(J)}),X(d.interval)&&d.interval>0){var T=function V(){clearTimeout(o.playing.timeout),H(C[L],ue),L-=1,L=L>=0?L:k-1,B(C[L],ue),o.playing.timeout=setTimeout(V,d.interval)},I=function V(){clearTimeout(o.playing.timeout),H(C[L],ue),L+=1,L=L<k?L:0,B(C[L],ue),o.playing.timeout=setTimeout(V,d.interval)};k>1&&(this.playing={prev:T,next:I,timeout:setTimeout(I,d.interval)})}return this},stop:function(){var o=this;if(!this.played)return this;var c=this.element,l=this.options;if($(l.stop)&&q(c,Cn,l.stop,{once:!0}),ie(c,Cn)===!1)return this;var d=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,j(d.getElementsByTagName("img"),function(m){z(m,ge,o.onLoadWhenPlay)}),H(d,rt),d.innerHTML="",this.exitFullscreen(),this},full:function(){var o=this,c=this.options,l=this.viewer,d=this.image,m=this.list;return!this.isShown||this.played||this.fulled||!c.inline?this:(this.fulled=!0,this.open(),B(this.button,M),c.transition&&(H(m,Q),this.viewed&&H(d,Q)),B(l,R),l.setAttribute("role","dialog"),l.setAttribute("aria-labelledby",this.title.id),l.setAttribute("aria-modal",!0),l.removeAttribute("style"),Ee(l,{zIndex:c.zIndex}),c.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=me({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){o.renderImage(function(){c.transition&&setTimeout(function(){B(d,Q),B(m,Q)},0)})}),this)},exit:function(){var o=this,c=this.options,l=this.viewer,d=this.image,m=this.list;return!this.isShown||this.played||!this.fulled||!c.inline?this:(this.fulled=!1,this.close(),H(this.button,M),c.transition&&(H(m,Q),this.viewed&&H(d,Q)),c.focus&&this.clearEnforceFocus(),l.removeAttribute("role"),l.removeAttribute("aria-labelledby"),l.removeAttribute("aria-modal"),H(l,R),Ee(l,{zIndex:c.zIndexInline}),this.viewerData=me({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){o.renderImage(function(){c.transition&&setTimeout(function(){B(d,Q),B(m,Q)},0)})}),this)},tooltip:function(){var o=this,c=this.options,l=this.tooltipBox,d=this.imageData;return!this.viewed||this.played||!c.tooltip?this:(l.textContent="".concat(Math.round(d.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):c.transition?(this.fading&&ie(l,we),B(l,rt),B(l,b),B(l,Q),l.removeAttribute("aria-hidden"),l.initialOffsetWidth=l.offsetWidth,B(l,ue)):(B(l,rt),l.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){c.transition?(q(l,we,function(){H(l,rt),H(l,b),H(l,Q),l.setAttribute("aria-hidden",!0),o.fading=!1},{once:!0}),H(l,ue),o.fading=!0):(H(l,rt),l.setAttribute("aria-hidden",!0)),o.tooltipping=!1},1e3),this)},toggle:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,o):this.zoomTo(1,!0,null,o),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=me({},this.initialImageData),this.renderImage()),this},update:function(){var o=this,c=this.element,l=this.options,d=this.isImg;if(d&&!c.parentNode)return this.destroy();var m=[];if(j(d?[c]:c.querySelectorAll("img"),function(L){$(l.filter)?l.filter.call(o,L)&&m.push(L):o.getImageURL(L)&&m.push(L)}),!m.length)return this;if(this.images=m,this.length=m.length,this.ready){var p=[];if(j(this.items,function(L,T){var I=L.querySelector("img"),V=m[T];V&&I?(V.src!==I.src||V.alt!==I.alt)&&p.push(T):p.push(T)}),Ee(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var C=p.indexOf(this.index);if(C>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-C,this.length-1),0));else{var k=this.items[this.index];B(k,y),k.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var o=this.element,c=this.options;return o[x]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),c.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):c.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),c.inline||z(o,st,this.onStart),o[x]=void 0,this):this}},bl={getImageURL:function(o){var c=this.options.url;return Lt(c)?c=o.getAttribute(c):$(c)?c=c.call(this,o):c="",c},enforceFocus:function(){var o=this;this.clearEnforceFocus(),q(document,sn,this.onFocusin=function(c){var l=o.viewer,d=c.target;if(!(d===document||d===l||l.contains(d))){for(;d;){if(d.getAttribute("tabindex")!==null||d.getAttribute("aria-modal")==="true")return;d=d.parentElement}l.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(z(document,sn,this.onFocusin),this.onFocusin=null)},open:function(){var o=this.body;B(o,tn),this.scrollbarWidth>0&&(o.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var o=this.body;H(o,tn),this.scrollbarWidth>0&&(o.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var o=this.element,c=this.options,l=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,c.focus&&(l.focus(),this.enforceFocus()),$(c.shown)&&q(o,fn,c.shown,{once:!0}),ie(o,fn)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var o=this.element,c=this.options,l=this.viewer;c.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),B(l,D),l.removeAttribute("role"),l.removeAttribute("aria-labelledby"),l.removeAttribute("aria-modal"),l.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||($(c.hidden)&&q(o,pn,c.hidden,{once:!0}),ie(o,pn,null,{cancelable:!1}))},requestFullscreen:function(o){var c=this.element.ownerDocument;if(this.fulled&&!(c.fullscreenElement||c.webkitFullscreenElement||c.mozFullScreenElement||c.msFullscreenElement)){var l=c.documentElement;l.requestFullscreen?at(o)?l.requestFullscreen(o):l.requestFullscreen():l.webkitRequestFullscreen?l.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):l.mozRequestFullScreen?l.mozRequestFullScreen():l.msRequestFullscreen&&l.msRequestFullscreen()}},exitFullscreen:function(){var o=this.element.ownerDocument;this.fulled&&(o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement)&&(o.exitFullscreen?o.exitFullscreen():o.webkitExitFullscreen?o.webkitExitFullscreen():o.mozCancelFullScreen?o.mozCancelFullScreen():o.msExitFullscreen&&o.msExitFullscreen())},change:function(o){var c=this.options,l=this.pointers,d=l[Object.keys(l)[0]];if(d){var m=d.endX-d.startX,p=d.endY-d.startY;switch(this.action){case S:(m!==0||p!==0)&&(this.pointerMoved=!0,this.move(m,p,o));break;case g:this.zoom(dl(l),!1,null,o);break;case O:{this.action="switched";var C=Math.abs(m);C>1&&C>Math.abs(p)&&(this.pointers={},m>1?this.prev(c.loop):m<-1&&this.next(c.loop));break}}j(l,function(k){k.startX=k.endX,k.startY=k.endY})}},isSwitchable:function(){var o=this.imageData,c=this.viewerData;return this.length>1&&o.x>=0&&o.y>=0&&o.width<=c.width&&o.height<=c.height}},yl=E.Viewer,wl=function(h){return function(){return h+=1,h}}(-1),On=function(){function h(o){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r(this,h),!o||o.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=o,this.options=me({},w,at(c)&&c),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=wl(),this.init()}return n(h,[{key:"init",value:function(){var c=this,l=this.element,d=this.options;if(!l[x]){l[x]=this,d.focus&&!d.keyboard&&(d.focus=!1);var m=l.localName==="img",p=[];if(j(m?[l]:l.querySelectorAll("img"),function(L){$(d.filter)?d.filter.call(c,L)&&p.push(L):c.getImageURL(L)&&p.push(L)}),this.isImg=m,this.length=p.length,this.images=p,this.initBody(),nt(document.createElement(x).style.transition)&&(d.transition=!1),d.inline){var C=0,k=function(){if(C+=1,C===c.length){var T;c.initializing=!1,c.delaying={abort:function(){clearTimeout(T)}},T=setTimeout(function(){c.delaying=!1,c.build()},0)}};this.initializing={abort:function(){j(p,function(T){T.complete||(z(T,ge,k),z(T,He,k))})}},j(p,function(L){if(L.complete)k();else{var T,I;q(L,ge,T=function(){z(L,He,I),k()},{once:!0}),q(L,He,I=function(){z(L,ge,T),k()},{once:!0})}})}else q(l,st,this.onStart=function(L){var T=L.target;T.localName==="img"&&(!$(d.filter)||d.filter.call(c,T))&&c.view(c.images.indexOf(T))})}}},{key:"build",value:function(){if(!this.ready){var c=this.element,l=this.options,d=c.parentNode,m=document.createElement("div");m.innerHTML=A;var p=m.querySelector(".".concat(x,"-container")),C=p.querySelector(".".concat(x,"-title")),k=p.querySelector(".".concat(x,"-toolbar")),L=p.querySelector(".".concat(x,"-navbar")),T=p.querySelector(".".concat(x,"-button")),I=p.querySelector(".".concat(x,"-canvas"));if(this.parent=d,this.viewer=p,this.title=C,this.toolbar=k,this.navbar=L,this.button=T,this.canvas=I,this.footer=p.querySelector(".".concat(x,"-footer")),this.tooltipBox=p.querySelector(".".concat(x,"-tooltip")),this.player=p.querySelector(".".concat(x,"-player")),this.list=p.querySelector(".".concat(x,"-list")),p.id="".concat(x).concat(this.id),C.id="".concat(x,"Title").concat(this.id),B(C,l.title?Zt(Array.isArray(l.title)?l.title[0]:l.title):D),B(L,l.navbar?Zt(l.navbar):D),Ot(T,D,!l.button),l.keyboard&&T.setAttribute("tabindex",0),l.backdrop&&(B(p,"".concat(x,"-backdrop")),!l.inline&&l.backdrop!=="static"&&Xi(I,Yt,"hide")),Lt(l.className)&&l.className&&l.className.split(Ki).forEach(function(Y){B(p,Y)}),l.toolbar){var V=document.createElement("ul"),re=at(l.toolbar),ee=Xt.slice(0,3),J=Xt.slice(7,9),le=Xt.slice(9);re||B(k,Zt(l.toolbar)),j(re?l.toolbar:Xt,function(Y,Ce){var $e=re&&at(Y),Te=re?Yi(Ce):Y,ze=$e&&!nt(Y.show)?Y.show:Y;if(!(!ze||!l.zoomable&&ee.indexOf(Te)!==-1||!l.rotatable&&J.indexOf(Te)!==-1||!l.scalable&&le.indexOf(Te)!==-1)){var Mt=$e&&!nt(Y.size)?Y.size:Y,ut=$e&&!nt(Y.click)?Y.click:Y,xe=document.createElement("li");l.keyboard&&xe.setAttribute("tabindex",0),xe.setAttribute("role","button"),B(xe,"".concat(x,"-").concat(Te)),$(ut)||Xi(xe,Yt,Te),X(ze)&&B(xe,Zt(ze)),["small","large"].indexOf(Mt)!==-1?B(xe,"".concat(x,"-").concat(Mt)):Te==="play"&&B(xe,"".concat(x,"-large")),$(ut)&&q(xe,st,ut),V.appendChild(xe)}}),k.appendChild(V)}else B(k,D);if(!l.rotatable){var de=k.querySelectorAll('li[class*="rotate"]');B(de,ae),j(de,function(Y){k.appendChild(Y)})}if(l.inline)B(T,_),Ee(p,{zIndex:l.zIndexInline}),window.getComputedStyle(d).position==="static"&&Ee(d,{position:"relative"}),d.insertBefore(p,c.nextSibling);else{B(T,v),B(p,R),B(p,b),B(p,D),Ee(p,{zIndex:l.zIndex});var fe=l.container;Lt(fe)&&(fe=c.ownerDocument.querySelector(fe)),fe||(fe=this.body),fe.appendChild(p)}if(l.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,$(l.ready)&&q(c,hn,l.ready,{once:!0}),ie(c,hn)===!1){this.ready=!1;return}this.ready&&l.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=yl,h}},{key:"setDefaults",value:function(c){me(w,at(c)&&c)}}]),h}();return me(On.prototype,ml,pl,gl,vl,bl),On})});var Br={};xl(Br,{FetchEnctype:()=>Ie,FetchMethod:()=>pe,FetchRequest:()=>Pe,FetchResponse:()=>pt,FrameElement:()=>be,FrameLoadingStyle:()=>We,FrameRenderer:()=>vt,PageRenderer:()=>bt,PageSnapshot:()=>ve,StreamActions:()=>Dr,StreamElement:()=>hi,StreamSourceElement:()=>di,cache:()=>eo,clearCache:()=>no,config:()=>ne,connectStreamSource:()=>Pr,disconnectStreamSource:()=>Nr,fetch:()=>kr,fetchEnctypeFromString:()=>Xn,fetchMethodFromString:()=>fi,isSafe:()=>mi,navigator:()=>to,registerAdapter:()=>io,renderStreamMessage:()=>so,session:()=>te,setConfirmMethod:()=>ao,setFormMode:()=>lo,setProgressBarDelay:()=>oo,start:()=>Fr,visit:()=>ro});(function(t){if(typeof t.requestSubmit=="function")return;t.requestSubmit=function(r){r?(e(r,this),r.click()):(r=document.createElement("input"),r.type="submit",r.hidden=!0,this.appendChild(r),r.click(),this.removeChild(r))};function e(r,s){r instanceof HTMLElement||i(TypeError,"parameter 1 is not of type 'HTMLElement'"),r.type=="submit"||i(TypeError,"The specified element is not a submit button"),r.form==s||i(DOMException,"The specified element is not owned by this form element","NotFoundError")}function i(r,s,n){throw new r("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+s+".",n)}})(HTMLFormElement.prototype);var Dn=new WeakMap;function Ml(t){let e=t instanceof Element?t:t instanceof Node?t.parentElement:null,i=e?e.closest("input, button"):null;return i?.type=="submit"?i:null}function Rl(t){let e=Ml(t.target);e&&e.form&&Dn.set(e.form,e)}(function(){if("submitter"in Event.prototype)return;let t=window.Event.prototype;if("SubmitEvent"in window){let e=window.SubmitEvent.prototype;if(/Apple Computer/.test(navigator.vendor)&&!("submitter"in e))t=e;else return}addEventListener("click",Rl,!0),Object.defineProperty(t,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return Dn.get(this.target)}})})();var We={eager:"eager",lazy:"lazy"},be=class t extends HTMLElement{static delegateConstructor=void 0;loaded=Promise.resolve();static get observedAttributes(){return["disabled","loading","src"]}constructor(){super(),this.delegate=new t.delegateConstructor(this)}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(e){e=="loading"?this.delegate.loadingStyleChanged():e=="src"?this.delegate.sourceURLChanged():e=="disabled"&&this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(e){e?this.setAttribute("src",e):this.removeAttribute("src")}get refresh(){return this.getAttribute("refresh")}set refresh(e){e?this.setAttribute("refresh",e):this.removeAttribute("refresh")}get shouldReloadWithMorph(){return this.src&&this.refresh==="morph"}get loading(){return kl(this.getAttribute("loading")||"")}set loading(e){e?this.setAttribute("loading",e):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(e){e?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){return this.ownerDocument?.documentElement?.hasAttribute("data-turbo-preview")}};function kl(t){switch(t.toLowerCase()){case"lazy":return We.lazy;default:return We.eager}}var Il={enabled:!0,progressBarDelay:500,unvisitableExtensions:new Set([".7z",".aac",".apk",".avi",".bmp",".bz2",".css",".csv",".deb",".dmg",".doc",".docx",".exe",".gif",".gz",".heic",".heif",".ico",".iso",".jpeg",".jpg",".js",".json",".m4a",".mkv",".mov",".mp3",".mp4",".mpeg",".mpg",".msi",".ogg",".ogv",".pdf",".pkg",".png",".ppt",".pptx",".rar",".rtf",".svg",".tar",".tif",".tiff",".txt",".wav",".webm",".webp",".wma",".wmv",".xls",".xlsx",".xml",".zip"])};function kt(t){if(t.getAttribute("data-turbo-eval")=="false")return t;{let e=document.createElement("script"),i=zn();return i&&(e.nonce=i),e.textContent=t.textContent,e.async=!1,Fl(e,t),e}}function Fl(t,e){for(let{name:i,value:r}of e.attributes)t.setAttribute(i,r)}function Pl(t){let e=document.createElement("template");return e.innerHTML=t,e.content}function Z(t,{target:e,cancelable:i,detail:r}={}){let s=new CustomEvent(t,{cancelable:i,bubbles:!0,composed:!0,detail:r});return e&&e.isConnected?e.dispatchEvent(s):document.documentElement.dispatchEvent(s),s}function Mn(t){t.preventDefault(),t.stopImmediatePropagation()}function Rt(){return document.visibilityState==="hidden"?qn():Bn()}function Bn(){return new Promise(t=>requestAnimationFrame(()=>t()))}function qn(){return new Promise(t=>setTimeout(()=>t(),0))}function Nl(){return Promise.resolve()}function Vn(t=""){return new DOMParser().parseFromString(t,"text/html")}function Hn(t,...e){let i=Dl(t,e).replace(/^\n/,"").split(`
`),r=i[0].match(/^\s+/),s=r?r[0].length:0;return i.map(n=>n.slice(s)).join(`
`)}function Dl(t,e){return t.reduce((i,r,s)=>{let n=e[s]==null?"":e[s];return i+r+n},"")}function Fe(){return Array.from({length:36}).map((t,e)=>e==8||e==13||e==18||e==23?"-":e==14?"4":e==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)).join("")}function ti(t,...e){for(let i of e.map(r=>r?.getAttribute(t)))if(typeof i=="string")return i;return null}function Bl(t,...e){return e.some(i=>i&&i.hasAttribute(t))}function ii(...t){for(let e of t)e.localName=="turbo-frame"&&e.setAttribute("busy",""),e.setAttribute("aria-busy","true")}function ri(...t){for(let e of t)e.localName=="turbo-frame"&&e.removeAttribute("busy"),e.removeAttribute("aria-busy")}function ql(t,e=2e3){return new Promise(i=>{let r=()=>{t.removeEventListener("error",r),t.removeEventListener("load",r),i()};t.addEventListener("load",r,{once:!0}),t.addEventListener("error",r,{once:!0}),setTimeout(i,e)})}function $n(t){switch(t){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function Vl(t){return t=="advance"||t=="replace"||t=="restore"}function Ue(...t){let e=ti("data-turbo-action",...t);return Vl(e)?e:null}function Or(t){return document.querySelector(`meta[name="${t}"]`)}function si(t){let e=Or(t);return e&&e.content}function zn(){let t=Or("csp-nonce");if(t){let{nonce:e,content:i}=t;return e==""?i:e}}function Hl(t,e){let i=Or(t);return i||(i=document.createElement("meta"),i.setAttribute("name",t),document.head.appendChild(i)),i.setAttribute("content",e),i}function ft(t,e){if(t instanceof Element)return t.closest(e)||ft(t.assignedSlot||t.getRootNode()?.host,e)}function Mr(t){return!!t&&t.closest("[inert], :disabled, [hidden], details:not([open]), dialog:not([open])")==null&&typeof t.focus=="function"}function jn(t){return Array.from(t.querySelectorAll("[autofocus]")).find(Mr)}async function $l(t,e){let i=e();t(),await Bn();let r=e();return[i,r]}function Wn(t){if(t==="_blank")return!1;if(t){for(let e of document.getElementsByName(t))if(e instanceof HTMLIFrameElement)return!1;return!0}else return!0}function Un(t){return ft(t,"a[href]:not([target^=_]):not([download])")}function Kn(t){return oe(t.getAttribute("href")||"")}function zl(t,e){let i=null;return(...r)=>{let s=()=>t.apply(this,r);clearTimeout(i),i=setTimeout(s,e)}}var jl={"aria-disabled":{beforeSubmit:t=>{t.setAttribute("aria-disabled","true"),t.addEventListener("click",Mn)},afterSubmit:t=>{t.removeAttribute("aria-disabled"),t.removeEventListener("click",Mn)}},disabled:{beforeSubmit:t=>t.disabled=!0,afterSubmit:t=>t.disabled=!1}},Gi=class{#e=null;constructor(e){Object.assign(this,e)}get submitter(){return this.#e}set submitter(e){this.#e=jl[e]||e}},Wl=new Gi({mode:"on",submitter:"disabled"}),ne={drive:Il,forms:Wl};function oe(t){return new URL(t.toString(),document.baseURI)}function Ke(t){let e;if(t.hash)return t.hash.slice(1);if(e=t.href.match(/#(.*)$/))return e[1]}function Rr(t,e){let i=e?.getAttribute("formaction")||t.getAttribute("action")||t.action;return oe(i)}function Ul(t){return(Jl(t).match(/\.[^.]*$/)||[])[0]||""}function Kl(t,e){let i=Zl(e);return t.href===oe(i).href||t.href.startsWith(i)}function ke(t,e){return Kl(t,e)&&!ne.drive.unvisitableExtensions.has(Ul(t))}function Qi(t){let e=Ke(t);return e!=null?t.href.slice(0,-(e.length+1)):t.href}function Qt(t){return Qi(t)}function Yl(t,e){return oe(t).href==oe(e).href}function Xl(t){return t.pathname.split("/").slice(1)}function Jl(t){return Xl(t).slice(-1)[0]}function Zl(t){return Gl(t.origin+t.pathname)}function Gl(t){return t.endsWith("/")?t:t+"/"}var pt=class{constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return oe(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(e){return this.response.headers.get(e)}},er=class extends Set{constructor(e){super(),this.maxSize=e}add(e){if(this.size>=this.maxSize){let r=this.values().next().value;this.delete(r)}super.add(e)}},Yn=new er(20),Ql=window.fetch;function kr(t,e={}){let i=new Headers(e.headers||{}),r=Fe();return Yn.add(r),i.append("X-Turbo-Request-Id",r),Ql(t,{...e,headers:i})}function fi(t){switch(t.toLowerCase()){case"get":return pe.get;case"post":return pe.post;case"put":return pe.put;case"patch":return pe.patch;case"delete":return pe.delete}}var pe={get:"get",post:"post",put:"put",patch:"patch",delete:"delete"};function Xn(t){switch(t.toLowerCase()){case Ie.multipart:return Ie.multipart;case Ie.plain:return Ie.plain;default:return Ie.urlEncoded}}var Ie={urlEncoded:"application/x-www-form-urlencoded",multipart:"multipart/form-data",plain:"text/plain"},Pe=class{abortController=new AbortController;#e=e=>{};constructor(e,i,r,s=new URLSearchParams,n=null,a=Ie.urlEncoded){let[u,f]=Rn(oe(r),i,s,a);this.delegate=e,this.url=u,this.target=n,this.fetchOptions={credentials:"same-origin",redirect:"follow",method:i.toUpperCase(),headers:{...this.defaultHeaders},body:f,signal:this.abortSignal,referrer:this.delegate.referrer?.href},this.enctype=a}get method(){return this.fetchOptions.method}set method(e){let i=this.isSafe?this.url.searchParams:this.fetchOptions.body||new FormData,r=fi(e)||pe.get;this.url.search="";let[s,n]=Rn(this.url,r,i,this.enctype);this.url=s,this.fetchOptions.body=n,this.fetchOptions.method=r.toUpperCase()}get headers(){return this.fetchOptions.headers}set headers(e){this.fetchOptions.headers=e}get body(){return this.isSafe?this.url.searchParams:this.fetchOptions.body}set body(e){this.fetchOptions.body=e}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){let{fetchOptions:e}=this;this.delegate.prepareRequest(this);let i=await this.#t(e);try{this.delegate.requestStarted(this),i.detail.fetchRequest?this.response=i.detail.fetchRequest.response:this.response=kr(this.url.href,e);let r=await this.response;return await this.receive(r)}catch(r){if(r.name!=="AbortError")throw this.#i(r)&&this.delegate.requestErrored(this,r),r}finally{this.delegate.requestFinished(this)}}async receive(e){let i=new pt(e);return Z("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:i},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,i):i.succeeded?this.delegate.requestSucceededWithResponse(this,i):this.delegate.requestFailedWithResponse(this,i),i}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return mi(this.method)}get abortSignal(){return this.abortController.signal}acceptResponseType(e){this.headers.Accept=[e,this.headers.Accept].join(", ")}async#t(e){let i=new Promise(s=>this.#e=s),r=Z("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:e,url:this.url,resume:this.#e},target:this.target});return this.url=r.detail.url,r.defaultPrevented&&await i,r}#i(e){return!Z("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:e}}).defaultPrevented}};function mi(t){return fi(t)==pe.get}function Rn(t,e,i,r){let s=Array.from(i).length>0?new URLSearchParams(Jn(i)):t.searchParams;return mi(e)?[ec(t,s),null]:r==Ie.urlEncoded?[t,s]:[t,i]}function Jn(t){let e=[];for(let[i,r]of t)r instanceof File||e.push([i,r]);return e}function ec(t,e){let i=new URLSearchParams(Jn(e));return t.search=i.toString(),t}var tr=class{started=!1;constructor(e,i){this.delegate=e,this.element=i,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}intersect=e=>{e.slice(-1)[0]?.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)}},Ne=class{static contentType="text/vnd.turbo-stream.html";static wrap(e){return typeof e=="string"?new this(Pl(e)):e}constructor(e){this.fragment=tc(e)}};function tc(t){for(let e of t.querySelectorAll("turbo-stream")){let i=document.importNode(e,!0);for(let r of i.templateElement.content.querySelectorAll("script"))r.replaceWith(kt(r));e.replaceWith(i)}return t}var ic=100,ir=class{#e=null;#t=null;get(e){if(this.#t&&this.#t.url===e&&this.#t.expire>Date.now())return this.#t.request}setLater(e,i,r){this.clear(),this.#e=setTimeout(()=>{i.perform(),this.set(e,i,r),this.#e=null},ic)}set(e,i,r){this.#t={url:e,request:i,expire:new Date(new Date().getTime()+r)}}clear(){this.#e&&clearTimeout(this.#e),this.#t=null}},rc=10*1e3,dt=new ir,ht={initialized:"initialized",requesting:"requesting",waiting:"waiting",receiving:"receiving",stopping:"stopping",stopped:"stopped"},ni=class t{state=ht.initialized;static confirmMethod(e){return Promise.resolve(confirm(e))}constructor(e,i,r,s=!1){let n=cc(i,r),a=lc(ac(i,r),n),u=sc(i,r),f=uc(i,r);this.delegate=e,this.formElement=i,this.submitter=r,this.fetchRequest=new Pe(this,n,a,u,i,f),this.mustRedirect=s}get method(){return this.fetchRequest.method}set method(e){this.fetchRequest.method=e}get action(){return this.fetchRequest.url.toString()}set action(e){this.fetchRequest.url=oe(e)}get body(){return this.fetchRequest.body}get enctype(){return this.fetchRequest.enctype}get isSafe(){return this.fetchRequest.isSafe}get location(){return this.fetchRequest.url}async start(){let{initialized:e,requesting:i}=ht,r=ti("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof r=="string"&&!await(typeof ne.forms.confirm=="function"?ne.forms.confirm:t.confirmMethod)(r,this.formElement,this.submitter))&&this.state==e)return this.state=i,this.fetchRequest.perform()}stop(){let{stopping:e,stopped:i}=ht;if(this.state!=e&&this.state!=i)return this.state=e,this.fetchRequest.cancel(),!0}prepareRequest(e){if(!e.isSafe){let i=nc(si("csrf-param"))||si("csrf-token");i&&(e.headers["X-CSRF-Token"]=i)}this.requestAcceptsTurboStreamResponse(e)&&e.acceptResponseType(Ne.contentType)}requestStarted(e){this.state=ht.waiting,this.submitter&&ne.forms.submitter.beforeSubmit(this.submitter),this.setSubmitsWith(),ii(this.formElement),Z("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,i){dt.clear(),this.result={success:i.succeeded,fetchResponse:i}}requestSucceededWithResponse(e,i){if(i.clientError||i.serverError){this.delegate.formSubmissionFailedWithResponse(this,i);return}if(dt.clear(),this.requestMustRedirect(e)&&oc(i)){let r=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,r)}else this.state=ht.receiving,this.result={success:!0,fetchResponse:i},this.delegate.formSubmissionSucceededWithResponse(this,i)}requestFailedWithResponse(e,i){this.result={success:!1,fetchResponse:i},this.delegate.formSubmissionFailedWithResponse(this,i)}requestErrored(e,i){this.result={success:!1,error:i},this.delegate.formSubmissionErrored(this,i)}requestFinished(e){this.state=ht.stopped,this.submitter&&ne.forms.submitter.afterSubmit(this.submitter),this.resetSubmitterText(),ri(this.formElement),Z("turbo:submit-end",{target:this.formElement,detail:{formSubmission:this,...this.result}}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){let e=this.submitter;this.originalSubmitText=e.value,e.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){let e=this.submitter;e.value=this.originalSubmitText}}}requestMustRedirect(e){return!e.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(e){return!e.isSafe||Bl("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){return this.submitter?.getAttribute("data-turbo-submits-with")}};function sc(t,e){let i=new FormData(t),r=e?.getAttribute("name"),s=e?.getAttribute("value");return r&&i.append(r,s||""),i}function nc(t){if(t!=null){let i=(document.cookie?document.cookie.split("; "):[]).find(r=>r.startsWith(t));if(i){let r=i.split("=").slice(1).join("=");return r?decodeURIComponent(r):void 0}}}function oc(t){return t.statusCode==200&&!t.redirected}function ac(t,e){let i=typeof t.action=="string"?t.action:null;return e?.hasAttribute("formaction")?e.getAttribute("formaction")||"":t.getAttribute("action")||i||""}function lc(t,e){let i=oe(t);return mi(e)&&(i.search=""),i}function cc(t,e){let i=e?.getAttribute("formmethod")||t.getAttribute("method")||"";return fi(i.toLowerCase())||pe.get}function uc(t,e){return Xn(e?.getAttribute("formenctype")||t.enctype)}var gt=class{constructor(e){this.element=e}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(e){return this.getElementForAnchor(e)!=null}getElementForAnchor(e){return e?this.element.querySelector(`[id='${e}'], a[name='${e}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){return jn(this.element)}get permanentElements(){return Gn(this.element)}getPermanentElementById(e){return Zn(this.element,e)}getPermanentElementMapForSnapshot(e){let i={};for(let r of this.permanentElements){let{id:s}=r,n=e.getPermanentElementById(s);n&&(i[s]=[r,n])}return i}};function Zn(t,e){return t.querySelector(`#${e}[data-turbo-permanent]`)}function Gn(t){return t.querySelectorAll("[id][data-turbo-permanent]")}var It=class{started=!1;constructor(e,i){this.delegate=e,this.eventTarget=i}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}submitCaptured=()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)};submitBubbled=e=>{if(!e.defaultPrevented){let i=e.target instanceof HTMLFormElement?e.target:void 0,r=e.submitter||void 0;i&&hc(i,r)&&dc(i,r)&&this.delegate.willSubmitForm(i,r)&&(e.preventDefault(),e.stopImmediatePropagation(),this.delegate.formSubmitted(i,r))}}};function hc(t,e){return(e?.getAttribute("formmethod")||t.getAttribute("method"))!="dialog"}function dc(t,e){let i=e?.getAttribute("formtarget")||t.getAttribute("target");return Wn(i)}var oi=class{#e=e=>{};#t=e=>{};constructor(e,i){this.delegate=e,this.element=i}scrollToAnchor(e){let i=this.snapshot.getElementForAnchor(e);i?(this.scrollToElement(i),this.focusElement(i)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(e){this.scrollToAnchor(Ke(e))}scrollToElement(e){e.scrollIntoView()}focusElement(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))}scrollToPosition({x:e,y:i}){this.scrollRoot.scrollTo(e,i)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(e){let{isPreview:i,shouldRender:r,willRender:s,newSnapshot:n}=e,a=s;if(r)try{this.renderPromise=new Promise(A=>this.#e=A),this.renderer=e,await this.prepareToRenderSnapshot(e);let u=new Promise(A=>this.#t=A),f={resume:this.#t,render:this.renderer.renderElement,renderMethod:this.renderer.renderMethod};this.delegate.allowsImmediateRender(n,f)||await u,await this.renderSnapshot(e),this.delegate.viewRenderedSnapshot(n,i,this.renderer.renderMethod),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(e)}finally{delete this.renderer,this.#e(void 0),delete this.renderPromise}else a&&this.invalidate(e.reloadReason)}invalidate(e){this.delegate.viewInvalidated(e)}async prepareToRenderSnapshot(e){this.markAsPreview(e.isPreview),await e.prepareToRender()}markAsPreview(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}markVisitDirection(e){this.element.setAttribute("data-turbo-visit-direction",e)}unmarkVisitDirection(){this.element.removeAttribute("data-turbo-visit-direction")}async renderSnapshot(e){await e.render()}finishRenderingSnapshot(e){e.finishRendering()}},rr=class extends oi{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new gt(this.element)}},ai=class{constructor(e,i){this.delegate=e,this.element=i}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}clickBubbled=e=>{this.clickEventIsSignificant(e)?this.clickEvent=e:delete this.clickEvent};linkClicked=e=>{this.clickEvent&&this.clickEventIsSignificant(e)&&this.delegate.shouldInterceptLinkClick(e.target,e.detail.url,e.detail.originalEvent)&&(this.clickEvent.preventDefault(),e.preventDefault(),this.delegate.linkClickIntercepted(e.target,e.detail.url,e.detail.originalEvent)),delete this.clickEvent};willVisit=e=>{delete this.clickEvent};clickEventIsSignificant(e){let i=e.composed?e.target?.parentElement:e.target,r=Un(i)||i;return r instanceof Element&&r.closest("turbo-frame, html")==this.element}},li=class{started=!1;constructor(e,i){this.delegate=e,this.eventTarget=i}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickCaptured=()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)};clickBubbled=e=>{if(e instanceof MouseEvent&&this.clickEventIsSignificant(e)){let i=e.composedPath&&e.composedPath()[0]||e.target,r=Un(i);if(r&&Wn(r.target)){let s=Kn(r);this.delegate.willFollowLinkToLocation(r,s,e)&&(e.preventDefault(),this.delegate.followedLinkToLocation(r,s))}}};clickEventIsSignificant(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}},ci=class{constructor(e,i){this.delegate=e,this.linkInterceptor=new li(this,i)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}canPrefetchRequestToLocation(e,i){return!1}prefetchAndCacheRequestToLocation(e,i){}willFollowLinkToLocation(e,i,r){return this.delegate.willSubmitFormLinkToLocation(e,i,r)&&(e.hasAttribute("data-turbo-method")||e.hasAttribute("data-turbo-stream"))}followedLinkToLocation(e,i){let r=document.createElement("form"),s="hidden";for(let[F,E]of i.searchParams)r.append(Object.assign(document.createElement("input"),{type:s,name:F,value:E}));let n=Object.assign(i,{search:""});r.setAttribute("data-turbo","true"),r.setAttribute("action",n.href),r.setAttribute("hidden","");let a=e.getAttribute("data-turbo-method");a&&r.setAttribute("method",a);let u=e.getAttribute("data-turbo-frame");u&&r.setAttribute("data-turbo-frame",u);let f=Ue(e);f&&r.setAttribute("data-turbo-action",f);let w=e.getAttribute("data-turbo-confirm");w&&r.setAttribute("data-turbo-confirm",w),e.hasAttribute("data-turbo-stream")&&r.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(e,i,r),document.body.appendChild(r),r.addEventListener("turbo:submit-end",()=>r.remove(),{once:!0}),requestAnimationFrame(()=>r.requestSubmit())}},ui=class{static async preservingPermanentElements(e,i,r){let s=new this(e,i);s.enter(),await r(),s.leave()}constructor(e,i){this.delegate=e,this.permanentElementMap=i}enter(){for(let e in this.permanentElementMap){let[i,r]=this.permanentElementMap[e];this.delegate.enteringBardo(i,r),this.replaceNewPermanentElementWithPlaceholder(r)}}leave(){for(let e in this.permanentElementMap){let[i]=this.permanentElementMap[e];this.replaceCurrentPermanentElementWithClone(i),this.replacePlaceholderWithPermanentElement(i),this.delegate.leavingBardo(i)}}replaceNewPermanentElementWithPlaceholder(e){let i=fc(e);e.replaceWith(i)}replaceCurrentPermanentElementWithClone(e){let i=e.cloneNode(!0);e.replaceWith(i)}replacePlaceholderWithPermanentElement(e){this.getPlaceholderById(e.id)?.replaceWith(e)}getPlaceholderById(e){return this.placeholders.find(i=>i.content==e)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}};function fc(t){let e=document.createElement("meta");return e.setAttribute("name","turbo-permanent-placeholder"),e.setAttribute("content",t.id),e}var Ft=class{#e=null;static renderElement(e,i){}constructor(e,i,r,s=!0){this.currentSnapshot=e,this.newSnapshot=i,this.isPreview=r,this.willRender=s,this.renderElement=this.constructor.renderElement,this.promise=new Promise((n,a)=>this.resolvingFunctions={resolve:n,reject:a})}get shouldRender(){return!0}get shouldAutofocus(){return!0}get reloadReason(){}prepareToRender(){}render(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(e){await ui.preservingPermanentElements(this,this.permanentElementMap,e)}focusFirstAutofocusableElement(){if(this.shouldAutofocus){let e=this.connectedSnapshot.firstAutofocusableElement;e&&e.focus()}}enteringBardo(e){this.#e||e.contains(this.currentSnapshot.activeElement)&&(this.#e=this.currentSnapshot.activeElement)}leavingBardo(e){e.contains(this.#e)&&this.#e instanceof HTMLElement&&(this.#e.focus(),this.#e=null)}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}get renderMethod(){return"replace"}},vt=class extends Ft{static renderElement(e,i){let r=document.createRange();r.selectNodeContents(e),r.deleteContents();let s=i,n=s.ownerDocument?.createRange();n&&(n.selectNodeContents(s),e.appendChild(n.extractContents()))}constructor(e,i,r,s,n,a=!0){super(i,r,s,n,a),this.delegate=e}get shouldRender(){return!0}async render(){await Rt(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await Rt(),this.focusFirstAutofocusableElement(),await Rt(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){let e=this.currentElement.firstElementChild,i=mc(this.currentElement.getAttribute("data-autoscroll-block"),"end"),r=pc(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(e)return e.scrollIntoView({block:i,behavior:r}),!0}return!1}activateScriptElements(){for(let e of this.newScriptElements){let i=kt(e);e.replaceWith(i)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}};function mc(t,e){return t=="end"||t=="start"||t=="center"||t=="nearest"?t:e}function pc(t,e){return t=="auto"||t=="smooth"?t:e}var gc=function(){let t=()=>{},e={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:t,afterNodeAdded:t,beforeNodeMorphed:t,afterNodeMorphed:t,beforeNodeRemoved:t,afterNodeRemoved:t,beforeAttributeUpdated:t},head:{style:"merge",shouldPreserve:E=>E.getAttribute("im-preserve")==="true",shouldReAppend:E=>E.getAttribute("im-re-append")==="true",shouldRemove:t,afterHeadMorphed:t},restoreFocus:!0};function i(E,P,N={}){E=A(E);let x=F(P),S=w(E,x,N),O=s(S,()=>u(S,E,x,g=>g.morphStyle==="innerHTML"?(n(g,E,x),Array.from(E.childNodes)):r(g,E,x)));return S.pantry.remove(),O}function r(E,P,N){let x=F(P),S=Array.from(x.childNodes),O=S.indexOf(P),g=S.length-(O+1);return n(E,x,N,P,P.nextSibling),S=Array.from(x.childNodes),S.slice(O,S.length-g)}function s(E,P){if(!E.config.restoreFocus)return P();let N=document.activeElement;if(!(N instanceof HTMLInputElement||N instanceof HTMLTextAreaElement))return P();let{id:x,selectionStart:S,selectionEnd:O}=N,g=P();return x&&x!==document.activeElement?.id&&(N=E.target.querySelector(`#${x}`),N?.focus()),N&&!N.selectionEnd&&O&&N.setSelectionRange(S,O),g}let n=function(){function E(v,b,R,_=null,M=null){b instanceof HTMLTemplateElement&&R instanceof HTMLTemplateElement&&(b=b.content,R=R.content),_||=b.firstChild;for(let D of R.childNodes){if(_&&_!=M){let K=N(v,D,_,M);if(K){K!==_&&S(v,_,K),a(K,D,v),_=K.nextSibling;continue}}if(D instanceof Element&&v.persistentIds.has(D.id)){let K=O(b,D.id,_,v);a(K,D,v),_=K.nextSibling;continue}let W=P(b,D,_,v);W&&(_=W.nextSibling)}for(;_&&_!=M;){let D=_;_=_.nextSibling,x(v,D)}}function P(v,b,R,_){if(_.callbacks.beforeNodeAdded(b)===!1)return null;if(_.idMap.has(b)){let M=document.createElement(b.tagName);return v.insertBefore(M,R),a(M,b,_),_.callbacks.afterNodeAdded(M),M}else{let M=document.importNode(b,!0);return v.insertBefore(M,R),_.callbacks.afterNodeAdded(M),M}}let N=function(){function v(_,M,D,W){let K=null,Re=M.nextSibling,ue=0,ae=D;for(;ae&&ae!=W;){if(R(ae,M)){if(b(_,ae,M))return ae;K===null&&(_.idMap.has(ae)||(K=ae))}if(K===null&&Re&&R(ae,Re)&&(ue++,Re=Re.nextSibling,ue>=2&&(K=void 0)),ae.contains(document.activeElement))break;ae=ae.nextSibling}return K||null}function b(_,M,D){let W=_.idMap.get(M),K=_.idMap.get(D);if(!K||!W)return!1;for(let Re of W)if(K.has(Re))return!0;return!1}function R(_,M){let D=_,W=M;return D.nodeType===W.nodeType&&D.tagName===W.tagName&&(!D.id||D.id===W.id)}return v}();function x(v,b){if(v.idMap.has(b))y(v.pantry,b,null);else{if(v.callbacks.beforeNodeRemoved(b)===!1)return;b.parentNode?.removeChild(b),v.callbacks.afterNodeRemoved(b)}}function S(v,b,R){let _=b;for(;_&&_!==R;){let M=_;_=_.nextSibling,x(v,M)}return _}function O(v,b,R,_){let M=_.target.querySelector(`#${b}`)||_.pantry.querySelector(`#${b}`);return g(M,_),y(v,M,R),M}function g(v,b){let R=v.id;for(;v=v.parentNode;){let _=b.idMap.get(v);_&&(_.delete(R),_.size||b.idMap.delete(v))}}function y(v,b,R){if(v.moveBefore)try{v.moveBefore(b,R)}catch{v.insertBefore(b,R)}else v.insertBefore(b,R)}return E}(),a=function(){function E(g,y,v){return v.ignoreActive&&g===document.activeElement?null:(v.callbacks.beforeNodeMorphed(g,y)===!1||(g instanceof HTMLHeadElement&&v.head.ignore||(g instanceof HTMLHeadElement&&v.head.style!=="morph"?f(g,y,v):(P(g,y,v),O(g,v)||n(v,g,y))),v.callbacks.afterNodeMorphed(g,y)),g)}function P(g,y,v){let b=y.nodeType;if(b===1){let R=g,_=y,M=R.attributes,D=_.attributes;for(let W of D)S(W.name,R,"update",v)||R.getAttribute(W.name)!==W.value&&R.setAttribute(W.name,W.value);for(let W=M.length-1;0<=W;W--){let K=M[W];if(K&&!_.hasAttribute(K.name)){if(S(K.name,R,"remove",v))continue;R.removeAttribute(K.name)}}O(R,v)||N(R,_,v)}(b===8||b===3)&&g.nodeValue!==y.nodeValue&&(g.nodeValue=y.nodeValue)}function N(g,y,v){if(g instanceof HTMLInputElement&&y instanceof HTMLInputElement&&y.type!=="file"){let b=y.value,R=g.value;x(g,y,"checked",v),x(g,y,"disabled",v),y.hasAttribute("value")?R!==b&&(S("value",g,"update",v)||(g.setAttribute("value",b),g.value=b)):S("value",g,"remove",v)||(g.value="",g.removeAttribute("value"))}else if(g instanceof HTMLOptionElement&&y instanceof HTMLOptionElement)x(g,y,"selected",v);else if(g instanceof HTMLTextAreaElement&&y instanceof HTMLTextAreaElement){let b=y.value,R=g.value;if(S("value",g,"update",v))return;b!==R&&(g.value=b),g.firstChild&&g.firstChild.nodeValue!==b&&(g.firstChild.nodeValue=b)}}function x(g,y,v,b){let R=y[v],_=g[v];if(R!==_){let M=S(v,g,"update",b);M||(g[v]=y[v]),R?M||g.setAttribute(v,""):S(v,g,"remove",b)||g.removeAttribute(v)}}function S(g,y,v,b){return g==="value"&&b.ignoreActiveValue&&y===document.activeElement?!0:b.callbacks.beforeAttributeUpdated(g,y,v)===!1}function O(g,y){return!!y.ignoreActiveValue&&g===document.activeElement&&g!==document.body}return E}();function u(E,P,N,x){if(E.head.block){let S=P.querySelector("head"),O=N.querySelector("head");if(S&&O){let g=f(S,O,E);return Promise.all(g).then(()=>{let y=Object.assign(E,{head:{block:!1,ignore:!0}});return x(y)})}}return x(E)}function f(E,P,N){let x=[],S=[],O=[],g=[],y=new Map;for(let b of P.children)y.set(b.outerHTML,b);for(let b of E.children){let R=y.has(b.outerHTML),_=N.head.shouldReAppend(b),M=N.head.shouldPreserve(b);R||M?_?S.push(b):(y.delete(b.outerHTML),O.push(b)):N.head.style==="append"?_&&(S.push(b),g.push(b)):N.head.shouldRemove(b)!==!1&&S.push(b)}g.push(...y.values());let v=[];for(let b of g){let R=document.createRange().createContextualFragment(b.outerHTML).firstChild;if(N.callbacks.beforeNodeAdded(R)!==!1){if("href"in R&&R.href||"src"in R&&R.src){let _,M=new Promise(function(D){_=D});R.addEventListener("load",function(){_()}),v.push(M)}E.appendChild(R),N.callbacks.afterNodeAdded(R),x.push(R)}}for(let b of S)N.callbacks.beforeNodeRemoved(b)!==!1&&(E.removeChild(b),N.callbacks.afterNodeRemoved(b));return N.head.afterHeadMorphed(E,{added:x,kept:O,removed:S}),v}let w=function(){function E(y,v,b){let{persistentIds:R,idMap:_}=O(y,v),M=P(b),D=M.morphStyle||"outerHTML";if(!["innerHTML","outerHTML"].includes(D))throw`Do not understand how to morph style ${D}`;return{target:y,newContent:v,config:M,morphStyle:D,ignoreActive:M.ignoreActive,ignoreActiveValue:M.ignoreActiveValue,restoreFocus:M.restoreFocus,idMap:_,persistentIds:R,pantry:N(),callbacks:M.callbacks,head:M.head}}function P(y){let v=Object.assign({},e);return Object.assign(v,y),v.callbacks=Object.assign({},e.callbacks,y.callbacks),v.head=Object.assign({},e.head,y.head),v}function N(){let y=document.createElement("div");return y.hidden=!0,document.body.insertAdjacentElement("afterend",y),y}function x(y){let v=Array.from(y.querySelectorAll("[id]"));return y.id&&v.push(y),v}function S(y,v,b,R){for(let _ of R)if(v.has(_.id)){let M=_;for(;M;){let D=y.get(M);if(D==null&&(D=new Set,y.set(M,D)),D.add(_.id),M===b)break;M=M.parentElement}}}function O(y,v){let b=x(y),R=x(v),_=g(b,R),M=new Map;S(M,_,y,b);let D=v.__idiomorphRoot||v;return S(M,_,D,R),{persistentIds:_,idMap:M}}function g(y,v){let b=new Set,R=new Map;for(let{id:M,tagName:D}of y)R.has(M)?b.add(M):R.set(M,D);let _=new Set;for(let{id:M,tagName:D}of v)_.has(M)?b.add(M):R.get(M)===D&&_.add(M);for(let M of b)_.delete(M);return _}return E}(),{normalizeElement:A,normalizeParent:F}=function(){let E=new WeakSet;function P(O){return O instanceof Document?O.documentElement:O}function N(O){if(O==null)return document.createElement("div");if(typeof O=="string")return N(S(O));if(E.has(O))return O;if(O instanceof Node){if(O.parentNode)return x(O);{let g=document.createElement("div");return g.append(O),g}}else{let g=document.createElement("div");for(let y of[...O])g.append(y);return g}}function x(O){return{childNodes:[O],querySelectorAll:g=>{let y=O.querySelectorAll(g);return O.matches(g)?[O,...y]:y},insertBefore:(g,y)=>O.parentNode.insertBefore(g,y),moveBefore:(g,y)=>O.parentNode.moveBefore(g,y),get __idiomorphRoot(){return O}}}function S(O){let g=new DOMParser,y=O.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(y.match(/<\/html>/)||y.match(/<\/head>/)||y.match(/<\/body>/)){let v=g.parseFromString(O,"text/html");if(y.match(/<\/html>/))return E.add(v),v;{let b=v.firstChild;return b&&E.add(b),b}}else{let b=g.parseFromString("<body><template>"+O+"</template></body>","text/html").body.querySelector("template").content;return E.add(b),b}}return{normalizeElement:P,normalizeParent:N}}();return{morph:i,defaults:e}}();function Ir(t,e,{callbacks:i,...r}={}){gc.morph(t,e,{...r,callbacks:new sr(i)})}function Qn(t,e){Ir(t,e.childNodes,{morphStyle:"innerHTML"})}var sr=class{#e;constructor({beforeNodeMorphed:e}={}){this.#e=e||(()=>!0)}beforeNodeAdded=e=>!(e.id&&e.hasAttribute("data-turbo-permanent")&&document.getElementById(e.id));beforeNodeMorphed=(e,i)=>{if(e instanceof Element)return!e.hasAttribute("data-turbo-permanent")&&this.#e(e,i)?!Z("turbo:before-morph-element",{cancelable:!0,target:e,detail:{currentElement:e,newElement:i}}).defaultPrevented:!1};beforeAttributeUpdated=(e,i,r)=>!Z("turbo:before-morph-attribute",{cancelable:!0,target:i,detail:{attributeName:e,mutationType:r}}).defaultPrevented;beforeNodeRemoved=e=>this.beforeNodeMorphed(e);afterNodeMorphed=(e,i)=>{e instanceof Element&&Z("turbo:morph-element",{target:e,detail:{currentElement:e,newElement:i}})}},nr=class extends vt{static renderElement(e,i){Z("turbo:before-frame-morph",{target:e,detail:{currentElement:e,newElement:i}}),Qn(e,i)}async preservingPermanentElements(e){return await e()}},or=class t{static animationDuration=300;static get defaultCSS(){return Hn`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${t.animationDuration}ms ease-out,
          opacity ${t.animationDuration/2}ms ${t.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}hiding=!1;value=0;visible=!1;constructor(){this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity="0",setTimeout(e,t.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,t.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}trickle=()=>{this.setValue(this.value+Math.random()/100)};refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){let e=document.createElement("style");e.type="text/css",e.textContent=t.defaultCSS;let i=zn();return i&&(e.nonce=i),e}createProgressElement(){let e=document.createElement("div");return e.className="turbo-progress-bar",e}},ar=class extends gt{detailsByOuterHTML=this.children.filter(e=>!wc(e)).map(e=>Ac(e)).reduce((e,i)=>{let{outerHTML:r}=i,s=r in e?e[r]:{type:vc(i),tracked:bc(i),elements:[]};return{...e,[r]:{...s,elements:[...s.elements,i]}}},{});get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(e=>this.detailsByOuterHTML[e].tracked).join("")}getScriptElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("script",e)}getStylesheetElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",e)}getElementsMatchingTypeNotInSnapshot(e,i){return Object.keys(this.detailsByOuterHTML).filter(r=>!(r in i.detailsByOuterHTML)).map(r=>this.detailsByOuterHTML[r]).filter(({type:r})=>r==e).map(({elements:[r]})=>r)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((e,i)=>{let{type:r,tracked:s,elements:n}=this.detailsByOuterHTML[i];return r==null&&!s?[...e,...n]:n.length>1?[...e,...n.slice(1)]:e},[])}getMetaValue(e){let i=this.findMetaElementByName(e);return i?i.getAttribute("content"):null}findMetaElementByName(e){return Object.keys(this.detailsByOuterHTML).reduce((i,r)=>{let{elements:[s]}=this.detailsByOuterHTML[r];return Sc(s,e)?s:i},void 0|void 0)}};function vc(t){if(yc(t))return"script";if(Ec(t))return"stylesheet"}function bc(t){return t.getAttribute("data-turbo-track")=="reload"}function yc(t){return t.localName=="script"}function wc(t){return t.localName=="noscript"}function Ec(t){let e=t.localName;return e=="style"||e=="link"&&t.getAttribute("rel")=="stylesheet"}function Sc(t,e){return t.localName=="meta"&&t.getAttribute("name")==e}function Ac(t){return t.hasAttribute("nonce")&&t.setAttribute("nonce",""),t}var ve=class t extends gt{static fromHTMLString(e=""){return this.fromDocument(Vn(e))}static fromElement(e){return this.fromDocument(e.ownerDocument)}static fromDocument({documentElement:e,body:i,head:r}){return new this(e,i,new ar(r))}constructor(e,i,r){super(i),this.documentElement=e,this.headSnapshot=r}clone(){let e=this.element.cloneNode(!0),i=this.element.querySelectorAll("select"),r=e.querySelectorAll("select");for(let[s,n]of i.entries()){let a=r[s];for(let u of a.selectedOptions)u.selected=!1;for(let u of n.selectedOptions)a.options[u.index].selected=!0}for(let s of e.querySelectorAll('input[type="password"]'))s.value="";return new t(this.documentElement,e,this.headSnapshot)}get lang(){return this.documentElement.getAttribute("lang")}get headElement(){return this.headSnapshot.element}get rootLocation(){let e=this.getSetting("root")??"/";return oe(e)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}get prefersViewTransitions(){return this.headSnapshot.getMetaValue("view-transition")==="same-origin"}get shouldMorphPage(){return this.getSetting("refresh-method")==="morph"}get shouldPreserveScrollPosition(){return this.getSetting("refresh-scroll")==="preserve"}getSetting(e){return this.headSnapshot.getMetaValue(`turbo-${e}`)}},lr=class{#e=!1;#t=Promise.resolve();renderChange(e,i){return e&&this.viewTransitionsAvailable&&!this.#e?(this.#e=!0,this.#t=this.#t.then(async()=>{await document.startViewTransition(i).finished})):this.#t=this.#t.then(i),this.#t}get viewTransitionsAvailable(){return document.startViewTransition}},Tc={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1},ei={visitStart:"visitStart",requestStart:"requestStart",requestEnd:"requestEnd",visitEnd:"visitEnd"},Le={initialized:"initialized",started:"started",canceled:"canceled",failed:"failed",completed:"completed"},mt={networkFailure:0,timeoutFailure:-1,contentTypeMismatch:-2},_c={advance:"forward",restore:"back",replace:"none"},cr=class{identifier=Fe();timingMetrics={};followedRedirect=!1;historyChanged=!1;scrolled=!1;shouldCacheSnapshot=!0;acceptsStreamResponse=!1;snapshotCached=!1;state=Le.initialized;viewTransitioner=new lr;constructor(e,i,r,s={}){this.delegate=e,this.location=i,this.restorationIdentifier=r||Fe();let{action:n,historyChanged:a,referrer:u,snapshot:f,snapshotHTML:w,response:A,visitCachedSnapshot:F,willRender:E,updateHistory:P,shouldCacheSnapshot:N,acceptsStreamResponse:x,direction:S}={...Tc,...s};this.action=n,this.historyChanged=a,this.referrer=u,this.snapshot=f,this.snapshotHTML=w,this.response=A,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.isPageRefresh=this.view.isPageRefresh(this),this.visitCachedSnapshot=F,this.willRender=E,this.updateHistory=P,this.scrolled=!E,this.shouldCacheSnapshot=N,this.acceptsStreamResponse=x,this.direction=S||_c[n]}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==Le.initialized&&(this.recordTimingMetric(ei.visitStart),this.state=Le.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==Le.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=Le.canceled)}complete(){this.state==Le.started&&(this.recordTimingMetric(ei.visitEnd),this.adapter.visitCompleted(this),this.state=Le.completed,this.followRedirect(),this.followedRedirect||this.delegate.visitCompleted(this))}fail(){this.state==Le.started&&(this.state=Le.failed,this.adapter.visitFailed(this),this.delegate.visitCompleted(this))}changeHistory(){if(!this.historyChanged&&this.updateHistory){let e=this.location.href===this.referrer?.href?"replace":this.action,i=$n(e);this.history.update(i,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new Pe(this,pe.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(ei.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){let{statusCode:i}=e;kn(i)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,i)}}finishRequest(){this.recordTimingMetric(ei.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){let{statusCode:e,responseHTML:i}=this.response;this.render(async()=>{if(this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,kn(e)&&i!=null){let r=ve.fromHTMLString(i);await this.renderPageSnapshot(r,!1),this.adapter.visitRendered(this),this.complete()}else await this.view.renderError(ve.fromHTMLString(i),this),this.adapter.visitRendered(this),this.fail()})}}getCachedSnapshot(){let e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!Ke(this.location)||e.hasAnchor(Ke(this.location)))&&(this.action=="restore"||e.isPreviewable))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return ve.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){let e=this.getCachedSnapshot();if(e){let i=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage||this.isPageRefresh?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.renderPageSnapshot(e,i),this.adapter.visitRendered(this),i||this.complete())})}}followRedirect(){this.redirectedToLocation&&!this.followedRedirect&&this.response?.redirected&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)})}prepareRequest(e){this.acceptsStreamResponse&&e.acceptResponseType(Ne.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,i){}async requestSucceededWithResponse(e,i){let r=await i.responseHTML,{redirected:s,statusCode:n}=i;r==null?this.recordResponse({statusCode:mt.contentTypeMismatch,redirected:s}):(this.redirectedToLocation=i.redirected?i.location:void 0,this.recordResponse({statusCode:n,responseHTML:r,redirected:s}))}async requestFailedWithResponse(e,i){let r=await i.responseHTML,{redirected:s,statusCode:n}=i;r==null?this.recordResponse({statusCode:mt.contentTypeMismatch,redirected:s}):this.recordResponse({statusCode:n,responseHTML:r,redirected:s})}requestErrored(e,i){this.recordResponse({statusCode:mt.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&!this.view.shouldPreserveScrollPosition(this)&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){let{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){let e=Ke(this.location);if(e!=null)return this.view.scrollToAnchor(e),!0}recordTimingMetric(e){this.timingMetrics[e]=new Date().getTime()}getTimingMetrics(){return{...this.timingMetrics}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.isSamePage?!1:this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(e=>e&&this.visitCachedSnapshot(e)),this.snapshotCached=!0)}async render(e){this.cancelRender(),await new Promise(i=>{this.frame=document.visibilityState==="hidden"?setTimeout(()=>i(),0):requestAnimationFrame(()=>i())}),await e(),delete this.frame}async renderPageSnapshot(e,i){await this.viewTransitioner.renderChange(this.view.shouldTransitionTo(e),async()=>{await this.view.renderPage(e,i,this.willRender,this),this.performScroll()})}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}};function kn(t){return t>=200&&t<300}var ur=class{progressBar=new or;constructor(e){this.session=e}visitProposedToLocation(e,i){ke(e,this.navigator.rootLocation)?this.navigator.startVisit(e,i?.restorationIdentifier||Fe(),i):window.location.href=e.toString()}visitStarted(e){this.location=e.location,e.loadCachedSnapshot(),e.issueRequest(),e.goToSamePageAnchor()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||e.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse()}visitRequestFailedWithStatusCode(e,i){switch(i){case mt.networkFailure:case mt.timeoutFailure:case mt.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:i}});default:return e.loadResponse()}}visitRequestFinished(e){}visitCompleted(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}pageInvalidated(e){this.reload(e)}visitFailed(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitRendered(e){}linkPrefetchingIsEnabledForLocation(e){return!0}formSubmissionStarted(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(e){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}showProgressBar=()=>{this.progressBar.show()};reload(e){Z("turbo:reload",{detail:e}),window.location.href=this.location?.toString()||window.location.href}get navigator(){return this.session.navigator}},hr=class{selector="[data-turbo-temporary]";deprecatedSelector="[data-turbo-cache=false]";started=!1;start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}removeTemporaryElements=e=>{for(let i of this.temporaryElements)i.remove()};get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){let e=document.querySelectorAll(this.deprecatedSelector);return e.length&&console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`),[...e]}},dr=class{constructor(e,i){this.session=e,this.element=i,this.linkInterceptor=new ai(this,i),this.formSubmitObserver=new It(this,i)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(e,i,r){return this.#t(e)}linkClickIntercepted(e,i,r){let s=this.#i(e);s&&s.delegate.linkClickIntercepted(e,i,r)}willSubmitForm(e,i){return e.closest("turbo-frame")==null&&this.#e(e,i)&&this.#t(e,i)}formSubmitted(e,i){let r=this.#i(e,i);r&&r.delegate.formSubmitted(e,i)}#e(e,i){let r=Rr(e,i),s=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),n=oe(s?.content??"/");return this.#t(e,i)&&ke(r,n)}#t(e,i){if(e instanceof HTMLFormElement?this.session.submissionIsNavigatable(e,i):this.session.elementIsNavigatable(e)){let s=this.#i(e,i);return s?s!=e.closest("turbo-frame"):!1}else return!1}#i(e,i){let r=i?.getAttribute("data-turbo-frame")||e.getAttribute("data-turbo-frame");if(r&&r!="_top"){let s=this.element.querySelector(`#${r}:not([disabled])`);if(s instanceof be)return s}}},fr=class{location;restorationIdentifier=Fe();restorationData={};started=!1;pageLoaded=!1;currentIndex=0;constructor(e){this.delegate=e}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.currentIndex=history.state?.turbo?.restorationIndex||0,this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(e,i){this.update(history.pushState,e,i)}replace(e,i){this.update(history.replaceState,e,i)}update(e,i,r=Fe()){e===history.pushState&&++this.currentIndex;let s={turbo:{restorationIdentifier:r,restorationIndex:this.currentIndex}};e.call(history,s,"",i.href),this.location=i,this.restorationIdentifier=r}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){let{restorationIdentifier:i}=this,r=this.restorationData[i];this.restorationData[i]={...r,...e}}assumeControlOfScrollRestoration(){this.previousScrollRestoration||(this.previousScrollRestoration=history.scrollRestoration??"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}onPopState=e=>{if(this.shouldHandlePopState()){let{turbo:i}=e.state||{};if(i){this.location=new URL(window.location.href);let{restorationIdentifier:r,restorationIndex:s}=i;this.restorationIdentifier=r;let n=s>this.currentIndex?"forward":"back";this.delegate.historyPoppedToLocationWithRestorationIdentifierAndDirection(this.location,r,n),this.currentIndex=s}}};onPageLoad=async e=>{await Nl(),this.pageLoaded=!0};shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}},mr=class{started=!1;#e=null;constructor(e,i){this.delegate=e,this.eventTarget=i}start(){this.started||(this.eventTarget.readyState==="loading"?this.eventTarget.addEventListener("DOMContentLoaded",this.#t,{once:!0}):this.#t())}stop(){this.started&&(this.eventTarget.removeEventListener("mouseenter",this.#i,{capture:!0,passive:!0}),this.eventTarget.removeEventListener("mouseleave",this.#s,{capture:!0,passive:!0}),this.eventTarget.removeEventListener("turbo:before-fetch-request",this.#o,!0),this.started=!1)}#t=()=>{this.eventTarget.addEventListener("mouseenter",this.#i,{capture:!0,passive:!0}),this.eventTarget.addEventListener("mouseleave",this.#s,{capture:!0,passive:!0}),this.eventTarget.addEventListener("turbo:before-fetch-request",this.#o,!0),this.started=!0};#i=e=>{if(si("turbo-prefetch")==="false")return;let i=e.target;if(i.matches&&i.matches("a[href]:not([target^=_]):not([download])")&&this.#l(i)){let s=i,n=Kn(s);if(this.delegate.canPrefetchRequestToLocation(s,n)){this.#e=s;let a=new Pe(this,pe.get,n,new URLSearchParams,i);dt.setLater(n.toString(),a,this.#n)}}};#s=e=>{e.target===this.#e&&this.#r()};#r=()=>{dt.clear(),this.#e=null};#o=e=>{if(e.target.tagName!=="FORM"&&e.detail.fetchOptions.method==="GET"){let i=dt.get(e.detail.url.toString());i&&(e.detail.fetchRequest=i),dt.clear()}};prepareRequest(e){let i=e.target;e.headers["X-Sec-Purpose"]="prefetch";let r=i.closest("turbo-frame"),s=i.getAttribute("data-turbo-frame")||r?.getAttribute("target")||r?.id;s&&s!=="_top"&&(e.headers["Turbo-Frame"]=s)}requestSucceededWithResponse(){}requestStarted(e){}requestErrored(e){}requestFinished(e){}requestPreventedHandlingResponse(e,i){}requestFailedWithResponse(e,i){}get#n(){return Number(si("turbo-prefetch-cache-time"))||rc}#l(e){return!(!e.getAttribute("href")||Cc(e)||xc(e)||Lc(e)||Oc(e)||Rc(e))}},Cc=t=>t.origin!==document.location.origin||!["http:","https:"].includes(t.protocol)||t.hasAttribute("target"),xc=t=>t.pathname+t.search===document.location.pathname+document.location.search||t.href.startsWith("#"),Lc=t=>{if(t.getAttribute("data-turbo-prefetch")==="false"||t.getAttribute("data-turbo")==="false")return!0;let e=ft(t,"[data-turbo-prefetch]");return!!(e&&e.getAttribute("data-turbo-prefetch")==="false")},Oc=t=>{let e=t.getAttribute("data-turbo-method");return!!(e&&e.toLowerCase()!=="get"||Mc(t)||t.hasAttribute("data-turbo-confirm")||t.hasAttribute("data-turbo-stream"))},Mc=t=>t.hasAttribute("data-remote")||t.hasAttribute("data-behavior")||t.hasAttribute("data-confirm")||t.hasAttribute("data-method"),Rc=t=>Z("turbo:before-prefetch",{target:t,cancelable:!0}).defaultPrevented,pr=class{constructor(e){this.delegate=e}proposeVisit(e,i={}){this.delegate.allowsVisitingLocationWithAction(e,i.action)&&this.delegate.visitProposedToLocation(e,i)}startVisit(e,i,r={}){this.stop(),this.currentVisit=new cr(this,oe(e),i,{referrer:this.location,...r}),this.currentVisit.start()}submitForm(e,i){this.stop(),this.formSubmission=new ni(this,e,i,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get rootLocation(){return this.view.snapshot.rootLocation}get history(){return this.delegate.history}formSubmissionStarted(e){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(e)}async formSubmissionSucceededWithResponse(e,i){if(e==this.formSubmission){let r=await i.responseHTML;if(r){let s=e.isSafe;s||this.view.clearSnapshotCache();let{statusCode:n,redirected:a}=i,f={action:this.#e(e,i),shouldCacheSnapshot:s,response:{statusCode:n,responseHTML:r,redirected:a}};this.proposeVisit(i.location,f)}}}async formSubmissionFailedWithResponse(e,i){let r=await i.responseHTML;if(r){let s=ve.fromHTMLString(r);i.serverError?await this.view.renderError(s,this.currentVisit):await this.view.renderPage(s,!1,!0,this.currentVisit),s.shouldPreserveScrollPosition||this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(e,i){console.error(i)}formSubmissionFinished(e){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(e)}linkPrefetchingIsEnabledForLocation(e){return typeof this.adapter.linkPrefetchingIsEnabledForLocation=="function"?this.adapter.linkPrefetchingIsEnabledForLocation(e):!0}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e),delete this.currentVisit}locationWithActionIsSamePage(e,i){let r=Ke(e),s=Ke(this.view.lastRenderedLocation),n=i==="restore"&&typeof r>"u";return i!=="replace"&&Qi(e)===Qi(this.view.lastRenderedLocation)&&(n||r!=null&&r!==s)}visitScrolledToSamePageLocation(e,i){this.delegate.visitScrolledToSamePageLocation(e,i)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}#e(e,i){let{submitter:r,formElement:s}=e;return Ue(r,s)||this.#t(i)}#t(e){return e.redirected&&e.location.href===this.location?.href?"replace":"advance"}},je={initial:0,loading:1,interactive:2,complete:3},gr=class{stage=je.initial;started=!1;constructor(e){this.delegate=e}start(){this.started||(this.stage==je.initial&&(this.stage=je.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}interpretReadyState=()=>{let{readyState:e}=this;e=="interactive"?this.pageIsInteractive():e=="complete"&&this.pageIsComplete()};pageIsInteractive(){this.stage==je.loading&&(this.stage=je.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==je.interactive&&(this.stage=je.complete,this.delegate.pageLoaded())}pageWillUnload=()=>{this.delegate.pageWillUnload()};get readyState(){return document.readyState}},vr=class{started=!1;constructor(e){this.delegate=e}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})};updatePosition(e){this.delegate.scrollPositionChanged(e)}},br=class{render({fragment:e}){ui.preservingPermanentElements(this,kc(e),()=>{Ic(e,()=>{Fc(()=>{document.documentElement.appendChild(e)})})})}enteringBardo(e,i){i.replaceWith(e.cloneNode(!0))}leavingBardo(){}};function kc(t){let e=Gn(document.documentElement),i={};for(let r of e){let{id:s}=r;for(let n of t.querySelectorAll("turbo-stream")){let a=Zn(n.templateElement.content,s);a&&(i[s]=[r,a])}}return i}async function Ic(t,e){let i=`turbo-stream-autofocus-${Fe()}`,r=t.querySelectorAll("turbo-stream"),s=Pc(r),n=null;if(s&&(s.id?n=s.id:n=i,s.id=n),e(),await Rt(),(document.activeElement==null||document.activeElement==document.body)&&n){let u=document.getElementById(n);Mr(u)&&u.focus(),u&&u.id==i&&u.removeAttribute("id")}}async function Fc(t){let[e,i]=await $l(t,()=>document.activeElement),r=e&&e.id;if(r){let s=document.getElementById(r);Mr(s)&&s!=i&&s.focus()}}function Pc(t){for(let e of t){let i=jn(e.templateElement.content);if(i)return i}return null}var yr=class{sources=new Set;#e=!1;constructor(e){this.delegate=e}start(){this.#e||(this.#e=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.#e&&(this.#e=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}inspectFetchResponse=e=>{let i=Nc(e);i&&Dc(i)&&(e.preventDefault(),this.receiveMessageResponse(i))};receiveMessageEvent=e=>{this.#e&&typeof e.data=="string"&&this.receiveMessageHTML(e.data)};async receiveMessageResponse(e){let i=await e.responseHTML;i&&this.receiveMessageHTML(i)}receiveMessageHTML(e){this.delegate.receivedMessageFromStream(Ne.wrap(e))}};function Nc(t){let e=t.detail?.fetchResponse;if(e instanceof pt)return e}function Dc(t){return(t.contentType??"").startsWith(Ne.contentType)}var wr=class extends Ft{static renderElement(e,i){let{documentElement:r,body:s}=document;r.replaceChild(i,s)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){let{documentElement:e,head:i}=document;e.replaceChild(this.newHead,i),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(let e of this.scriptElements){let i=e.parentNode;if(i){let r=kt(e);i.replaceChild(r,e)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}},bt=class extends Ft{static renderElement(e,i){document.body&&i instanceof HTMLBodyElement?document.body.replaceWith(i):document.documentElement.appendChild(i)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){this.#e(),await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}#e(){let{documentElement:e}=this.currentSnapshot,{lang:i}=this.newSnapshot;i?e.setAttribute("lang",i):e.removeAttribute("lang")}async mergeHead(){let e=this.mergeProvisionalElements(),i=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await e,await i,this.willRender&&this.removeUnusedDynamicStylesheetElements()}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){let e=[];for(let i of this.newHeadStylesheetElements)e.push(ql(i)),document.head.appendChild(i);await Promise.all(e)}copyNewHeadScriptElements(){for(let e of this.newHeadScriptElements)document.head.appendChild(kt(e))}removeUnusedDynamicStylesheetElements(){for(let e of this.unusedDynamicStylesheetElements)document.head.removeChild(e)}async mergeProvisionalElements(){let e=[...this.newHeadProvisionalElements];for(let i of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(i,e)||document.head.removeChild(i);for(let i of e)document.head.appendChild(i)}isCurrentElementInElementList(e,i){for(let[r,s]of i.entries()){if(e.tagName=="TITLE"){if(s.tagName!="TITLE")continue;if(e.innerHTML==s.innerHTML)return i.splice(r,1),!0}if(s.isEqualNode(e))return i.splice(r,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(let e of this.currentHeadProvisionalElements)document.head.removeChild(e)}copyNewHeadProvisionalElements(){for(let e of this.newHeadProvisionalElements)document.head.appendChild(e)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(let e of this.newBodyScriptElements){let i=kt(e);e.replaceWith(i)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get unusedDynamicStylesheetElements(){return this.oldHeadStylesheetElements.filter(e=>e.getAttribute("data-turbo-track")==="dynamic")}get oldHeadStylesheetElements(){return this.currentHeadSnapshot.getStylesheetElementsNotInSnapshot(this.newHeadSnapshot)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}},Er=class extends bt{static renderElement(e,i){Ir(e,i,{callbacks:{beforeNodeMorphed:r=>!In(r)}});for(let r of e.querySelectorAll("turbo-frame"))In(r)&&r.reload();Z("turbo:morph",{detail:{currentElement:e,newElement:i}})}async preservingPermanentElements(e){return await e()}get renderMethod(){return"morph"}get shouldAutofocus(){return!1}};function In(t){return t instanceof be&&t.src&&t.refresh==="morph"&&!t.closest("[data-turbo-permanent]")}var Sr=class{keys=[];snapshots={};constructor(e){this.size=e}has(e){return Qt(e)in this.snapshots}get(e){if(this.has(e)){let i=this.read(e);return this.touch(e),i}}put(e,i){return this.write(e,i),this.touch(e),i}clear(){this.snapshots={}}read(e){return this.snapshots[Qt(e)]}write(e,i){this.snapshots[Qt(e)]=i}touch(e){let i=Qt(e),r=this.keys.indexOf(i);r>-1&&this.keys.splice(r,1),this.keys.unshift(i),this.trim()}trim(){for(let e of this.keys.splice(this.size))delete this.snapshots[e]}},Ar=class extends oi{snapshotCache=new Sr(10);lastRenderedLocation=new URL(location.href);forceReloaded=!1;shouldTransitionTo(e){return this.snapshot.prefersViewTransitions&&e.prefersViewTransitions}renderPage(e,i=!1,r=!0,s){let a=this.isPageRefresh(s)&&this.snapshot.shouldMorphPage?Er:bt,u=new a(this.snapshot,e,i,r);return u.shouldRender?s?.changeHistory():this.forceReloaded=!0,this.render(u)}renderError(e,i){i?.changeHistory();let r=new wr(this.snapshot,e,!1);return this.render(r)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(e=this.snapshot){if(e.isCacheable){this.delegate.viewWillCacheSnapshot();let{lastRenderedLocation:i}=this;await qn();let r=e.clone();return this.snapshotCache.put(i,r),r}}getCachedSnapshotForLocation(e){return this.snapshotCache.get(e)}isPageRefresh(e){return!e||this.lastRenderedLocation.pathname===e.location.pathname&&e.action==="replace"}shouldPreserveScrollPosition(e){return this.isPageRefresh(e)&&this.snapshot.shouldPreserveScrollPosition}get snapshot(){return ve.fromElement(this.element)}},Tr=class{selector="a[data-turbo-preload]";constructor(e,i){this.delegate=e,this.snapshotCache=i}start(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",this.#e):this.preloadOnLoadLinksForView(document.body)}stop(){document.removeEventListener("DOMContentLoaded",this.#e)}preloadOnLoadLinksForView(e){for(let i of e.querySelectorAll(this.selector))this.delegate.shouldPreloadLink(i)&&this.preloadURL(i)}async preloadURL(e){let i=new URL(e.href);if(this.snapshotCache.has(i))return;await new Pe(this,pe.get,i,new URLSearchParams,e).perform()}prepareRequest(e){e.headers["X-Sec-Purpose"]="prefetch"}async requestSucceededWithResponse(e,i){try{let r=await i.responseHTML,s=ve.fromHTMLString(r);this.snapshotCache.put(e.url,s)}catch{}}requestStarted(e){}requestErrored(e){}requestFinished(e){}requestPreventedHandlingResponse(e,i){}requestFailedWithResponse(e,i){}#e=()=>{this.preloadOnLoadLinksForView(document.body)}},_r=class{constructor(e){this.session=e}clear(){this.session.clearCache()}resetCacheControl(){this.#e("")}exemptPageFromCache(){this.#e("no-cache")}exemptPageFromPreview(){this.#e("no-preview")}#e(e){Hl("turbo-cache-control",e)}},Cr=class{navigator=new pr(this);history=new fr(this);view=new Ar(this,document.documentElement);adapter=new ur(this);pageObserver=new gr(this);cacheObserver=new hr;linkPrefetchObserver=new mr(this,document);linkClickObserver=new li(this,window);formSubmitObserver=new It(this,document);scrollObserver=new vr(this);streamObserver=new yr(this);formLinkClickObserver=new ci(this,document.documentElement);frameRedirector=new dr(this,document.documentElement);streamMessageRenderer=new br;cache=new _r(this);enabled=!0;started=!1;#e=150;constructor(e){this.recentRequests=e,this.preloader=new Tr(this,this.view.snapshotCache),this.debouncedRefresh=this.refresh,this.pageRefreshDebouncePeriod=this.pageRefreshDebouncePeriod}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.linkPrefetchObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.linkPrefetchObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.preloader.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,i={}){let r=i.frame?document.getElementById(i.frame):null;if(r instanceof be){let s=i.action||Ue(r);r.delegate.proposeVisitIfNavigatedWithAction(r,s),r.src=e.toString()}else this.navigator.proposeVisit(oe(e),i)}refresh(e,i){let r=i&&this.recentRequests.has(i),s=e===document.baseURI;!r&&!this.navigator.currentVisit&&s&&this.visit(e,{action:"replace",shouldCacheSnapshot:!1})}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){this.streamMessageRenderer.render(Ne.wrap(e))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){console.warn("Please replace `session.setProgressBarDelay(delay)` with `session.progressBarDelay = delay`. The function is deprecated and will be removed in a future version of Turbo.`"),this.progressBarDelay=e}set progressBarDelay(e){ne.drive.progressBarDelay=e}get progressBarDelay(){return ne.drive.progressBarDelay}set drive(e){ne.drive.enabled=e}get drive(){return ne.drive.enabled}set formMode(e){ne.forms.mode=e}get formMode(){return ne.forms.mode}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}get pageRefreshDebouncePeriod(){return this.#e}set pageRefreshDebouncePeriod(e){this.refresh=zl(this.debouncedRefresh.bind(this),e),this.#e=e}shouldPreloadLink(e){let i=e.hasAttribute("data-turbo-method"),r=e.hasAttribute("data-turbo-stream"),s=e.getAttribute("data-turbo-frame"),n=s=="_top"?null:document.getElementById(s)||ft(e,"turbo-frame:not([disabled])");if(i||r||n instanceof be)return!1;{let a=new URL(e.href);return this.elementIsNavigatable(e)&&ke(a,this.snapshot.rootLocation)}}historyPoppedToLocationWithRestorationIdentifierAndDirection(e,i,r){this.enabled?this.navigator.startVisit(e,i,{action:"restore",historyChanged:!0,direction:r}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willSubmitFormLinkToLocation(e,i){return this.elementIsNavigatable(e)&&ke(i,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}canPrefetchRequestToLocation(e,i){return this.elementIsNavigatable(e)&&ke(i,this.snapshot.rootLocation)&&this.navigator.linkPrefetchingIsEnabledForLocation(i)}willFollowLinkToLocation(e,i,r){return this.elementIsNavigatable(e)&&ke(i,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(e,i,r)}followedLinkToLocation(e,i){let r=this.getActionForLink(e),s=e.hasAttribute("data-turbo-stream");this.visit(i.href,{action:r,acceptsStreamResponse:s})}allowsVisitingLocationWithAction(e,i){return this.locationWithActionIsSamePage(e,i)||this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,i){Fn(e),this.adapter.visitProposedToLocation(e,i)}visitStarted(e){e.acceptsStreamResponse||(ii(document.documentElement),this.view.markVisitDirection(e.direction)),Fn(e.location),e.silent||this.notifyApplicationAfterVisitingLocation(e.location,e.action)}visitCompleted(e){this.view.unmarkVisitDirection(),ri(document.documentElement),this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}locationWithActionIsSamePage(e,i){return this.navigator.locationWithActionIsSamePage(e,i)}visitScrolledToSamePageLocation(e,i){this.notifyApplicationAfterVisitingSamePageLocation(e,i)}willSubmitForm(e,i){let r=Rr(e,i);return this.submissionIsNavigatable(e,i)&&ke(oe(r),this.snapshot.rootLocation)}formSubmitted(e,i){this.navigator.submitForm(e,i)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillCacheSnapshot(){this.navigator.currentVisit?.silent||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:e},i){let r=this.notifyApplicationBeforeRender(e,i),{defaultPrevented:s,detail:{render:n}}=r;return this.view.renderer&&n&&(this.view.renderer.renderElement=n),!s}viewRenderedSnapshot(e,i,r){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender(r)}preloadOnLoadLinksForView(e){this.preloader.preloadOnLoadLinksForView(e)}viewInvalidated(e){this.adapter.pageInvalidated(e)}frameLoaded(e){this.notifyApplicationAfterFrameLoad(e)}frameRendered(e,i){this.notifyApplicationAfterFrameRender(e,i)}applicationAllowsFollowingLinkToLocation(e,i,r){return!this.notifyApplicationAfterClickingLinkToLocation(e,i,r).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,i,r){return Z("turbo:click",{target:e,detail:{url:i.href,originalEvent:r},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return Z("turbo:before-visit",{detail:{url:e.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(e,i){return Z("turbo:visit",{detail:{url:e.href,action:i}})}notifyApplicationBeforeCachingSnapshot(){return Z("turbo:before-cache")}notifyApplicationBeforeRender(e,i){return Z("turbo:before-render",{detail:{newBody:e,...i},cancelable:!0})}notifyApplicationAfterRender(e){return Z("turbo:render",{detail:{renderMethod:e}})}notifyApplicationAfterPageLoad(e={}){return Z("turbo:load",{detail:{url:this.location.href,timing:e}})}notifyApplicationAfterVisitingSamePageLocation(e,i){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:e.toString(),newURL:i.toString()}))}notifyApplicationAfterFrameLoad(e){return Z("turbo:frame-load",{target:e})}notifyApplicationAfterFrameRender(e,i){return Z("turbo:frame-render",{detail:{fetchResponse:e},target:i,cancelable:!0})}submissionIsNavigatable(e,i){if(ne.forms.mode=="off")return!1;{let r=i?this.elementIsNavigatable(i):!0;return ne.forms.mode=="optin"?r&&e.closest('[data-turbo="true"]')!=null:r&&this.elementIsNavigatable(e)}}elementIsNavigatable(e){let i=ft(e,"[data-turbo]"),r=ft(e,"turbo-frame");return ne.drive.enabled||r?i?i.getAttribute("data-turbo")!="false":!0:i?i.getAttribute("data-turbo")=="true":!1}getActionForLink(e){return Ue(e)||"advance"}get snapshot(){return this.view.snapshot}};function Fn(t){Object.defineProperties(t,Bc)}var Bc={absoluteURL:{get(){return this.toString()}}},te=new Cr(Yn),{cache:eo,navigator:to}=te;function Fr(){te.start()}function io(t){te.registerAdapter(t)}function ro(t,e){te.visit(t,e)}function Pr(t){te.connectStreamSource(t)}function Nr(t){te.disconnectStreamSource(t)}function so(t){te.renderStreamMessage(t)}function no(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),te.clearCache()}function oo(t){console.warn("Please replace `Turbo.setProgressBarDelay(delay)` with `Turbo.config.drive.progressBarDelay = delay`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),ne.drive.progressBarDelay=t}function ao(t){console.warn("Please replace `Turbo.setConfirmMethod(confirmMethod)` with `Turbo.config.forms.confirm = confirmMethod`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),ne.forms.confirm=t}function lo(t){console.warn("Please replace `Turbo.setFormMode(mode)` with `Turbo.config.forms.mode = mode`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),ne.forms.mode=t}var qc=Object.freeze({__proto__:null,navigator:to,session:te,cache:eo,PageRenderer:bt,PageSnapshot:ve,FrameRenderer:vt,fetch:kr,config:ne,start:Fr,registerAdapter:io,visit:ro,connectStreamSource:Pr,disconnectStreamSource:Nr,renderStreamMessage:so,clearCache:no,setProgressBarDelay:oo,setConfirmMethod:ao,setFormMode:lo}),xr=class extends Error{},Lr=class{fetchResponseLoaded=e=>Promise.resolve();#e=null;#t=()=>{};#i=!1;#s=!1;#r=new Set;#o=!1;action=null;constructor(e){this.element=e,this.view=new rr(this,this.element),this.appearanceObserver=new tr(this,this.element),this.formLinkClickObserver=new ci(this,this.element),this.linkInterceptor=new ai(this,this.element),this.restorationIdentifier=Fe(),this.formSubmitObserver=new It(this,this.element)}connect(){this.#i||(this.#i=!0,this.loadingStyle==We.lazy?this.appearanceObserver.start():this.#n(),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){this.#i&&(this.#i=!1,this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==We.eager&&this.#n()}sourceURLChanged(){this.#b("src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==We.eager||this.#s)&&this.#n())}sourceURLReloaded(){let{refresh:e,src:i}=this.element;return this.#o=i&&e==="morph",this.element.removeAttribute("complete"),this.element.src=null,this.element.src=i,this.element.loaded}loadingStyleChanged(){this.loadingStyle==We.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.#n())}async#n(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=this.#h(oe(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,this.#s=!0)}async loadResponse(e){(e.redirected||e.succeeded&&e.isHTML)&&(this.sourceURL=e.response.url);try{let i=await e.responseHTML;if(i){let r=Vn(i);ve.fromDocument(r).isVisitable?await this.#l(e,r):await this.#f(e)}}finally{this.#o=!1,this.fetchResponseLoaded=()=>Promise.resolve()}}elementAppearedInViewport(e){this.proposeVisitIfNavigatedWithAction(e,Ue(e)),this.#n()}willSubmitFormLinkToLocation(e){return this.#c(e)}submittedFormLinkToLocation(e,i,r){let s=this.#a(e);s&&r.setAttribute("data-turbo-frame",s.id)}shouldInterceptLinkClick(e,i,r){return this.#c(e)}linkClickIntercepted(e,i){this.#d(e,i)}willSubmitForm(e,i){return e.closest("turbo-frame")==this.element&&this.#c(e,i)}formSubmitted(e,i){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new ni(this,e,i);let{fetchRequest:r}=this.formSubmission;this.prepareRequest(r),this.formSubmission.start()}prepareRequest(e){e.headers["Turbo-Frame"]=this.id,this.currentNavigationElement?.hasAttribute("data-turbo-stream")&&e.acceptResponseType(Ne.contentType)}requestStarted(e){ii(this.element)}requestPreventedHandlingResponse(e,i){this.#t()}async requestSucceededWithResponse(e,i){await this.loadResponse(i),this.#t()}async requestFailedWithResponse(e,i){await this.loadResponse(i),this.#t()}requestErrored(e,i){console.error(i),this.#t()}requestFinished(e){ri(this.element)}formSubmissionStarted({formElement:e}){ii(e,this.#a(e))}formSubmissionSucceededWithResponse(e,i){let r=this.#a(e.formElement,e.submitter);r.delegate.proposeVisitIfNavigatedWithAction(r,Ue(e.submitter,e.formElement,r)),r.delegate.loadResponse(i),e.isSafe||te.clearCache()}formSubmissionFailedWithResponse(e,i){this.element.delegate.loadResponse(i),te.clearCache()}formSubmissionErrored(e,i){console.error(i)}formSubmissionFinished({formElement:e}){ri(e,this.#a(e))}allowsImmediateRender({element:e},i){let r=Z("turbo:before-frame-render",{target:this.element,detail:{newFrame:e,...i},cancelable:!0}),{defaultPrevented:s,detail:{render:n}}=r;return this.view.renderer&&n&&(this.view.renderer.renderElement=n),!s}viewRenderedSnapshot(e,i,r){}preloadOnLoadLinksForView(e){te.preloadOnLoadLinksForView(e)}viewInvalidated(){}willRenderFrame(e,i){this.previousFrameElement=e.cloneNode(!0)}visitCachedSnapshot=({element:e})=>{let i=e.querySelector("#"+this.element.id);i&&this.previousFrameElement&&i.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement};async#l(e,i){let r=await this.extractForeignFrameElement(i.body),s=this.#o?nr:vt;if(r){let n=new gt(r),a=new s(this,this.view.snapshot,n,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(a),this.complete=!0,te.frameRendered(e,this.element),te.frameLoaded(this.element),await this.fetchResponseLoaded(e)}else this.#m(e)&&this.#p(e)}async#h(e){let i=new Pe(this,pe.get,e,new URLSearchParams,this.element);return this.#e?.cancel(),this.#e=i,new Promise(r=>{this.#t=()=>{this.#t=()=>{},this.#e=null,r()},i.perform()})}#d(e,i,r){let s=this.#a(e,r);s.delegate.proposeVisitIfNavigatedWithAction(s,Ue(r,e,s)),this.#w(e,()=>{s.src=i})}proposeVisitIfNavigatedWithAction(e,i=null){if(this.action=i,this.action){let r=ve.fromElement(e).clone(),{visitCachedSnapshot:s}=e.delegate;e.delegate.fetchResponseLoaded=async n=>{if(e.src){let{statusCode:a,redirected:u}=n,f=await n.responseHTML,A={response:{statusCode:a,redirected:u,responseHTML:f},visitCachedSnapshot:s,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:r};this.action&&(A.action=this.action),te.visit(e.src,A)}}}}changeHistory(){if(this.action){let e=$n(this.action);te.history.update(e,oe(this.element.src||""),this.restorationIdentifier)}}async#f(e){console.warn(`The response (${e.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await this.#u(e.response)}#m(e){this.element.setAttribute("complete","");let i=e.response,r=async(n,a)=>{n instanceof Response?this.#u(n):te.visit(n,a)};return!Z("turbo:frame-missing",{target:this.element,detail:{response:i,visit:r},cancelable:!0}).defaultPrevented}#p(e){this.view.missing(),this.#g(e)}#g(e){let i=`The response (${e.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new xr(i)}async#u(e){let i=new pt(e),r=await i.responseHTML,{location:s,redirected:n,statusCode:a}=i;return te.visit(s,{response:{redirected:n,statusCode:a,responseHTML:r}})}#a(e,i){let r=ti("data-turbo-frame",i,e)||this.element.getAttribute("target");return Pn(r)??this.element}async extractForeignFrameElement(e){let i,r=CSS.escape(this.id);try{if(i=Nn(e.querySelector(`turbo-frame#${r}`),this.sourceURL),i)return i;if(i=Nn(e.querySelector(`turbo-frame[src][recurse~=${r}]`),this.sourceURL),i)return await i.loaded,await this.extractForeignFrameElement(i)}catch(s){return console.error(s),new be}return null}#v(e,i){let r=Rr(e,i);return ke(oe(r),this.rootLocation)}#c(e,i){let r=ti("data-turbo-frame",i,e)||this.element.getAttribute("target");if(e instanceof HTMLFormElement&&!this.#v(e,i)||!this.enabled||r=="_top")return!1;if(r){let s=Pn(r);if(s)return!s.disabled}return!(!te.elementIsNavigatable(e)||i&&!te.elementIsNavigatable(i))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(e){this.#y("src",()=>{this.element.src=e??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||this.#t()!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(e){e?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")}get isActive(){return this.element.isActive&&this.#i}get rootLocation(){let i=this.element.ownerDocument.querySelector('meta[name="turbo-root"]')?.content??"/";return oe(i)}#b(e){return this.#r.has(e)}#y(e,i){this.#r.add(e),i(),this.#r.delete(e)}#w(e,i){this.currentNavigationElement=e,i(),delete this.currentNavigationElement}};function Pn(t){if(t!=null){let e=document.getElementById(t);if(e instanceof be)return e}}function Nn(t,e){if(t){let i=t.getAttribute("src");if(i!=null&&e!=null&&Yl(i,e))throw new Error(`Matching <turbo-frame id="${t.id}"> element has a source URL which references itself`);if(t.ownerDocument!==document&&(t=document.importNode(t,!0)),t instanceof be)return t.connectedCallback(),t.disconnectedCallback(),t}}var Dr={after(){this.targetElements.forEach(t=>t.parentElement?.insertBefore(this.templateContent,t.nextSibling))},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(t=>t.append(this.templateContent))},before(){this.targetElements.forEach(t=>t.parentElement?.insertBefore(this.templateContent,t))},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(t=>t.prepend(this.templateContent))},remove(){this.targetElements.forEach(t=>t.remove())},replace(){let t=this.getAttribute("method");this.targetElements.forEach(e=>{t==="morph"?Ir(e,this.templateContent):e.replaceWith(this.templateContent)})},update(){let t=this.getAttribute("method");this.targetElements.forEach(e=>{t==="morph"?Qn(e,this.templateContent):(e.innerHTML="",e.append(this.templateContent))})},refresh(){te.refresh(this.baseURI,this.requestId)}},hi=class t extends HTMLElement{static async renderElement(e){await e.performAction()}async connectedCallback(){try{await this.render()}catch(e){console.error(e)}finally{this.disconnect()}}async render(){return this.renderPromise??=(async()=>{let e=this.beforeRenderEvent;this.dispatchEvent(e)&&(await Rt(),await e.detail.render(this))})()}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(e=>e.remove())}get duplicateChildren(){let e=this.targetElements.flatMap(r=>[...r.children]).filter(r=>!!r.getAttribute("id")),i=[...this.templateContent?.children||[]].filter(r=>!!r.getAttribute("id")).map(r=>r.getAttribute("id"));return e.filter(r=>i.includes(r.getAttribute("id")))}get performAction(){if(this.action){let e=Dr[this.action];if(e)return e;this.#e("unknown action")}this.#e("action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;this.#e("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){let e=this.ownerDocument.createElement("template");return this.appendChild(e),e}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.#e("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}get requestId(){return this.getAttribute("request-id")}#e(e){throw new Error(`${this.description}: ${e}`)}get description(){return(this.outerHTML.match(/<[^>]+>/)??[])[0]??"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:t.renderElement}})}get targetElementsById(){let e=this.ownerDocument?.getElementById(this.target);return e!==null?[e]:[]}get targetElementsByQuery(){let e=this.ownerDocument?.querySelectorAll(this.targets);return e.length!==0?Array.prototype.slice.call(e):[]}},di=class extends HTMLElement{streamSource=null;connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),Pr(this.streamSource)}disconnectedCallback(){this.streamSource&&(this.streamSource.close(),Nr(this.streamSource))}get src(){return this.getAttribute("src")||""}};be.delegateConstructor=Lr;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",be);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",hi);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",di);(()=>{let t=document.currentScript;if(t&&!t.hasAttribute("data-turbo-suppress-warning"))for(t=t.parentElement;t;){if(t==document.body)return console.warn(Hn`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your applications JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,t.outerHTML);t=t.parentElement}})();window.Turbo={...qc,StreamActions:Dr};Fr();var jr=!1,Wr=!1,Je=[],Ur=-1;function Vc(t){Hc(t)}function Hc(t){Je.includes(t)||Je.push(t),zc()}function $c(t){let e=Je.indexOf(t);e!==-1&&e>Ur&&Je.splice(e,1)}function zc(){!Wr&&!jr&&(jr=!0,queueMicrotask(jc))}function jc(){jr=!1,Wr=!0;for(let t=0;t<Je.length;t++)Je[t](),Ur=t;Je.length=0,Ur=-1,Wr=!1}var Et,tt,St,To,Kr=!0;function Wc(t){Kr=!1,t(),Kr=!0}function Uc(t){Et=t.reactive,St=t.release,tt=e=>t.effect(e,{scheduler:i=>{Kr?Vc(i):i()}}),To=t.raw}function co(t){tt=t}function Kc(t){let e=()=>{};return[r=>{let s=tt(r);return t._x_effects||(t._x_effects=new Set,t._x_runEffects=()=>{t._x_effects.forEach(n=>n())}),t._x_effects.add(s),e=()=>{s!==void 0&&(t._x_effects.delete(s),St(s))},s},()=>{e()}]}function _o(t,e){let i=!0,r,s=tt(()=>{let n=t();JSON.stringify(n),i?r=n:queueMicrotask(()=>{e(n,r),r=n}),i=!1});return()=>St(s)}var Co=[],xo=[],Lo=[];function Yc(t){Lo.push(t)}function as(t,e){typeof e=="function"?(t._x_cleanups||(t._x_cleanups=[]),t._x_cleanups.push(e)):(e=t,xo.push(e))}function Oo(t){Co.push(t)}function Mo(t,e,i){t._x_attributeCleanups||(t._x_attributeCleanups={}),t._x_attributeCleanups[e]||(t._x_attributeCleanups[e]=[]),t._x_attributeCleanups[e].push(i)}function Ro(t,e){t._x_attributeCleanups&&Object.entries(t._x_attributeCleanups).forEach(([i,r])=>{(e===void 0||e.includes(i))&&(r.forEach(s=>s()),delete t._x_attributeCleanups[i])})}function Xc(t){for(t._x_effects?.forEach($c);t._x_cleanups?.length;)t._x_cleanups.pop()()}var ls=new MutationObserver(ds),cs=!1;function us(){ls.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),cs=!0}function ko(){Jc(),ls.disconnect(),cs=!1}var Pt=[];function Jc(){let t=ls.takeRecords();Pt.push(()=>t.length>0&&ds(t));let e=Pt.length;queueMicrotask(()=>{if(Pt.length===e)for(;Pt.length>0;)Pt.shift()()})}function G(t){if(!cs)return t();ko();let e=t();return us(),e}var hs=!1,Si=[];function Zc(){hs=!0}function Gc(){hs=!1,ds(Si),Si=[]}function ds(t){if(hs){Si=Si.concat(t);return}let e=[],i=new Set,r=new Map,s=new Map;for(let n=0;n<t.length;n++)if(!t[n].target._x_ignoreMutationObserver&&(t[n].type==="childList"&&(t[n].removedNodes.forEach(a=>{a.nodeType===1&&a._x_marker&&i.add(a)}),t[n].addedNodes.forEach(a=>{if(a.nodeType===1){if(i.has(a)){i.delete(a);return}a._x_marker||e.push(a)}})),t[n].type==="attributes")){let a=t[n].target,u=t[n].attributeName,f=t[n].oldValue,w=()=>{r.has(a)||r.set(a,[]),r.get(a).push({name:u,value:a.getAttribute(u)})},A=()=>{s.has(a)||s.set(a,[]),s.get(a).push(u)};a.hasAttribute(u)&&f===null?w():a.hasAttribute(u)?(A(),w()):A()}s.forEach((n,a)=>{Ro(a,n)}),r.forEach((n,a)=>{Co.forEach(u=>u(a,n))});for(let n of i)e.some(a=>a.contains(n))||xo.forEach(a=>a(n));for(let n of e)n.isConnected&&Lo.forEach(a=>a(n));e=null,i=null,r=null,s=null}function Io(t){return zt(yt(t))}function $t(t,e,i){return t._x_dataStack=[e,...yt(i||t)],()=>{t._x_dataStack=t._x_dataStack.filter(r=>r!==e)}}function yt(t){return t._x_dataStack?t._x_dataStack:typeof ShadowRoot=="function"&&t instanceof ShadowRoot?yt(t.host):t.parentNode?yt(t.parentNode):[]}function zt(t){return new Proxy({objects:t},Qc)}var Qc={ownKeys({objects:t}){return Array.from(new Set(t.flatMap(e=>Object.keys(e))))},has({objects:t},e){return e==Symbol.unscopables?!1:t.some(i=>Object.prototype.hasOwnProperty.call(i,e)||Reflect.has(i,e))},get({objects:t},e,i){return e=="toJSON"?eu:Reflect.get(t.find(r=>Reflect.has(r,e))||{},e,i)},set({objects:t},e,i,r){let s=t.find(a=>Object.prototype.hasOwnProperty.call(a,e))||t[t.length-1],n=Object.getOwnPropertyDescriptor(s,e);return n?.set&&n?.get?n.set.call(r,i)||!0:Reflect.set(s,e,i)}};function eu(){return Reflect.ownKeys(this).reduce((e,i)=>(e[i]=Reflect.get(this,i),e),{})}function Fo(t){let e=r=>typeof r=="object"&&!Array.isArray(r)&&r!==null,i=(r,s="")=>{Object.entries(Object.getOwnPropertyDescriptors(r)).forEach(([n,{value:a,enumerable:u}])=>{if(u===!1||a===void 0||typeof a=="object"&&a!==null&&a.__v_skip)return;let f=s===""?n:`${s}.${n}`;typeof a=="object"&&a!==null&&a._x_interceptor?r[n]=a.initialize(t,f,n):e(a)&&a!==r&&!(a instanceof Element)&&i(a,f)})};return i(t)}function Po(t,e=()=>{}){let i={initialValue:void 0,_x_interceptor:!0,initialize(r,s,n){return t(this.initialValue,()=>tu(r,s),a=>Yr(r,s,a),s,n)}};return e(i),r=>{if(typeof r=="object"&&r!==null&&r._x_interceptor){let s=i.initialize.bind(i);i.initialize=(n,a,u)=>{let f=r.initialize(n,a,u);return i.initialValue=f,s(n,a,u)}}else i.initialValue=r;return i}}function tu(t,e){return e.split(".").reduce((i,r)=>i[r],t)}function Yr(t,e,i){if(typeof e=="string"&&(e=e.split(".")),e.length===1)t[e[0]]=i;else{if(e.length===0)throw error;return t[e[0]]||(t[e[0]]={}),Yr(t[e[0]],e.slice(1),i)}}var No={};function Ae(t,e){No[t]=e}function Xr(t,e){let i=iu(e);return Object.entries(No).forEach(([r,s])=>{Object.defineProperty(t,`$${r}`,{get(){return s(e,i)},enumerable:!1})}),t}function iu(t){let[e,i]=$o(t),r={interceptor:Po,...e};return as(t,i),r}function ru(t,e,i,...r){try{return i(...r)}catch(s){Ht(s,t,e)}}function Ht(t,e,i=void 0){t=Object.assign(t??{message:"No error message given."},{el:e,expression:i}),console.warn(`Alpine Expression Error: ${t.message}

${i?'Expression: "'+i+`"

`:""}`,e),setTimeout(()=>{throw t},0)}var wi=!0;function Do(t){let e=wi;wi=!1;let i=t();return wi=e,i}function Ze(t,e,i={}){let r;return he(t,e)(s=>r=s,i),r}function he(...t){return Bo(...t)}var Bo=qo;function su(t){Bo=t}function qo(t,e){let i={};Xr(i,t);let r=[i,...yt(t)],s=typeof e=="function"?nu(r,e):au(r,e,t);return ru.bind(null,t,e,s)}function nu(t,e){return(i=()=>{},{scope:r={},params:s=[]}={})=>{let n=e.apply(zt([r,...t]),s);Ai(i,n)}}var qr={};function ou(t,e){if(qr[t])return qr[t];let i=Object.getPrototypeOf(async function(){}).constructor,r=/^[\n\s]*if.*\(.*\)/.test(t.trim())||/^(let|const)\s/.test(t.trim())?`(async()=>{ ${t} })()`:t,n=(()=>{try{let a=new i(["__self","scope"],`with (scope) { __self.result = ${r} }; __self.finished = true; return __self.result;`);return Object.defineProperty(a,"name",{value:`[Alpine] ${t}`}),a}catch(a){return Ht(a,e,t),Promise.resolve()}})();return qr[t]=n,n}function au(t,e,i){let r=ou(e,i);return(s=()=>{},{scope:n={},params:a=[]}={})=>{r.result=void 0,r.finished=!1;let u=zt([n,...t]);if(typeof r=="function"){let f=r(r,u).catch(w=>Ht(w,i,e));r.finished?(Ai(s,r.result,u,a,i),r.result=void 0):f.then(w=>{Ai(s,w,u,a,i)}).catch(w=>Ht(w,i,e)).finally(()=>r.result=void 0)}}}function Ai(t,e,i,r,s){if(wi&&typeof e=="function"){let n=e.apply(i,r);n instanceof Promise?n.then(a=>Ai(t,a,i,r)).catch(a=>Ht(a,s,e)):t(n)}else typeof e=="object"&&e instanceof Promise?e.then(n=>t(n)):t(e)}var fs="x-";function At(t=""){return fs+t}function lu(t){fs=t}var Ti={};function se(t,e){return Ti[t]=e,{before(i){if(!Ti[i]){console.warn(String.raw`Cannot find directive \`${i}\`. \`${t}\` will use the default order of execution`);return}let r=Xe.indexOf(i);Xe.splice(r>=0?r:Xe.indexOf("DEFAULT"),0,t)}}}function cu(t){return Object.keys(Ti).includes(t)}function ms(t,e,i){if(e=Array.from(e),t._x_virtualDirectives){let n=Object.entries(t._x_virtualDirectives).map(([u,f])=>({name:u,value:f})),a=Vo(n);n=n.map(u=>a.find(f=>f.name===u.name)?{name:`x-bind:${u.name}`,value:`"${u.value}"`}:u),e=e.concat(n)}let r={};return e.map(Wo((n,a)=>r[n]=a)).filter(Ko).map(du(r,i)).sort(fu).map(n=>hu(t,n))}function Vo(t){return Array.from(t).map(Wo()).filter(e=>!Ko(e))}var Jr=!1,Bt=new Map,Ho=Symbol();function uu(t){Jr=!0;let e=Symbol();Ho=e,Bt.set(e,[]);let i=()=>{for(;Bt.get(e).length;)Bt.get(e).shift()();Bt.delete(e)},r=()=>{Jr=!1,i()};t(i),r()}function $o(t){let e=[],i=u=>e.push(u),[r,s]=Kc(t);return e.push(s),[{Alpine:jt,effect:r,cleanup:i,evaluateLater:he.bind(he,t),evaluate:Ze.bind(Ze,t)},()=>e.forEach(u=>u())]}function hu(t,e){let i=()=>{},r=Ti[e.type]||i,[s,n]=$o(t);Mo(t,e.original,n);let a=()=>{t._x_ignore||t._x_ignoreSelf||(r.inline&&r.inline(t,e,s),r=r.bind(r,t,e,s),Jr?Bt.get(Ho).push(r):r())};return a.runCleanups=n,a}var zo=(t,e)=>({name:i,value:r})=>(i.startsWith(t)&&(i=i.replace(t,e)),{name:i,value:r}),jo=t=>t;function Wo(t=()=>{}){return({name:e,value:i})=>{let{name:r,value:s}=Uo.reduce((n,a)=>a(n),{name:e,value:i});return r!==e&&t(r,e),{name:r,value:s}}}var Uo=[];function ps(t){Uo.push(t)}function Ko({name:t}){return Yo().test(t)}var Yo=()=>new RegExp(`^${fs}([^:^.]+)\\b`);function du(t,e){return({name:i,value:r})=>{let s=i.match(Yo()),n=i.match(/:([a-zA-Z0-9\-_:]+)/),a=i.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],u=e||t[i]||i;return{type:s?s[1]:null,value:n?n[1]:null,modifiers:a.map(f=>f.replace(".","")),expression:r,original:u}}}var Zr="DEFAULT",Xe=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",Zr,"teleport"];function fu(t,e){let i=Xe.indexOf(t.type)===-1?Zr:t.type,r=Xe.indexOf(e.type)===-1?Zr:e.type;return Xe.indexOf(i)-Xe.indexOf(r)}function qt(t,e,i={}){t.dispatchEvent(new CustomEvent(e,{detail:i,bubbles:!0,composed:!0,cancelable:!0}))}function et(t,e){if(typeof ShadowRoot=="function"&&t instanceof ShadowRoot){Array.from(t.children).forEach(s=>et(s,e));return}let i=!1;if(e(t,()=>i=!0),i)return;let r=t.firstElementChild;for(;r;)et(r,e,!1),r=r.nextElementSibling}function ye(t,...e){console.warn(`Alpine Warning: ${t}`,...e)}var uo=!1;function mu(){uo&&ye("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),uo=!0,document.body||ye("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),qt(document,"alpine:init"),qt(document,"alpine:initializing"),us(),Yc(e=>Oe(e,et)),as(e=>_t(e)),Oo((e,i)=>{ms(e,i).forEach(r=>r())});let t=e=>!Ci(e.parentElement,!0);Array.from(document.querySelectorAll(Zo().join(","))).filter(t).forEach(e=>{Oe(e)}),qt(document,"alpine:initialized"),setTimeout(()=>{bu()})}var gs=[],Xo=[];function Jo(){return gs.map(t=>t())}function Zo(){return gs.concat(Xo).map(t=>t())}function Go(t){gs.push(t)}function Qo(t){Xo.push(t)}function Ci(t,e=!1){return Tt(t,i=>{if((e?Zo():Jo()).some(s=>i.matches(s)))return!0})}function Tt(t,e){if(t){if(e(t))return t;if(t._x_teleportBack&&(t=t._x_teleportBack),!!t.parentElement)return Tt(t.parentElement,e)}}function pu(t){return Jo().some(e=>t.matches(e))}var ea=[];function gu(t){ea.push(t)}var vu=1;function Oe(t,e=et,i=()=>{}){Tt(t,r=>r._x_ignore)||uu(()=>{e(t,(r,s)=>{r._x_marker||(i(r,s),ea.forEach(n=>n(r,s)),ms(r,r.attributes).forEach(n=>n()),r._x_ignore||(r._x_marker=vu++),r._x_ignore&&s())})})}function _t(t,e=et){e(t,i=>{Xc(i),Ro(i),delete i._x_marker})}function bu(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([e,i,r])=>{cu(i)||r.some(s=>{if(document.querySelector(s))return ye(`found "${s}", but missing ${e} plugin`),!0})})}var Gr=[],vs=!1;function bs(t=()=>{}){return queueMicrotask(()=>{vs||setTimeout(()=>{Qr()})}),new Promise(e=>{Gr.push(()=>{t(),e()})})}function Qr(){for(vs=!1;Gr.length;)Gr.shift()()}function yu(){vs=!0}function ys(t,e){return Array.isArray(e)?ho(t,e.join(" ")):typeof e=="object"&&e!==null?wu(t,e):typeof e=="function"?ys(t,e()):ho(t,e)}function ho(t,e){let i=n=>n.split(" ").filter(Boolean),r=n=>n.split(" ").filter(a=>!t.classList.contains(a)).filter(Boolean),s=n=>(t.classList.add(...n),()=>{t.classList.remove(...n)});return e=e===!0?e="":e||"",s(r(e))}function wu(t,e){let i=u=>u.split(" ").filter(Boolean),r=Object.entries(e).flatMap(([u,f])=>f?i(u):!1).filter(Boolean),s=Object.entries(e).flatMap(([u,f])=>f?!1:i(u)).filter(Boolean),n=[],a=[];return s.forEach(u=>{t.classList.contains(u)&&(t.classList.remove(u),a.push(u))}),r.forEach(u=>{t.classList.contains(u)||(t.classList.add(u),n.push(u))}),()=>{a.forEach(u=>t.classList.add(u)),n.forEach(u=>t.classList.remove(u))}}function xi(t,e){return typeof e=="object"&&e!==null?Eu(t,e):Su(t,e)}function Eu(t,e){let i={};return Object.entries(e).forEach(([r,s])=>{i[r]=t.style[r],r.startsWith("--")||(r=Au(r)),t.style.setProperty(r,s)}),setTimeout(()=>{t.style.length===0&&t.removeAttribute("style")}),()=>{xi(t,i)}}function Su(t,e){let i=t.getAttribute("style",e);return t.setAttribute("style",e),()=>{t.setAttribute("style",i||"")}}function Au(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function es(t,e=()=>{}){let i=!1;return function(){i?e.apply(this,arguments):(i=!0,t.apply(this,arguments))}}se("transition",(t,{value:e,modifiers:i,expression:r},{evaluate:s})=>{typeof r=="function"&&(r=s(r)),r!==!1&&(!r||typeof r=="boolean"?_u(t,i,e):Tu(t,r,e))});function Tu(t,e,i){ta(t,ys,""),{enter:s=>{t._x_transition.enter.during=s},"enter-start":s=>{t._x_transition.enter.start=s},"enter-end":s=>{t._x_transition.enter.end=s},leave:s=>{t._x_transition.leave.during=s},"leave-start":s=>{t._x_transition.leave.start=s},"leave-end":s=>{t._x_transition.leave.end=s}}[i](e)}function _u(t,e,i){ta(t,xi);let r=!e.includes("in")&&!e.includes("out")&&!i,s=r||e.includes("in")||["enter"].includes(i),n=r||e.includes("out")||["leave"].includes(i);e.includes("in")&&!r&&(e=e.filter((O,g)=>g<e.indexOf("out"))),e.includes("out")&&!r&&(e=e.filter((O,g)=>g>e.indexOf("out")));let a=!e.includes("opacity")&&!e.includes("scale"),u=a||e.includes("opacity"),f=a||e.includes("scale"),w=u?0:1,A=f?Nt(e,"scale",95)/100:1,F=Nt(e,"delay",0)/1e3,E=Nt(e,"origin","center"),P="opacity, transform",N=Nt(e,"duration",150)/1e3,x=Nt(e,"duration",75)/1e3,S="cubic-bezier(0.4, 0.0, 0.2, 1)";s&&(t._x_transition.enter.during={transformOrigin:E,transitionDelay:`${F}s`,transitionProperty:P,transitionDuration:`${N}s`,transitionTimingFunction:S},t._x_transition.enter.start={opacity:w,transform:`scale(${A})`},t._x_transition.enter.end={opacity:1,transform:"scale(1)"}),n&&(t._x_transition.leave.during={transformOrigin:E,transitionDelay:`${F}s`,transitionProperty:P,transitionDuration:`${x}s`,transitionTimingFunction:S},t._x_transition.leave.start={opacity:1,transform:"scale(1)"},t._x_transition.leave.end={opacity:w,transform:`scale(${A})`})}function ta(t,e,i={}){t._x_transition||(t._x_transition={enter:{during:i,start:i,end:i},leave:{during:i,start:i,end:i},in(r=()=>{},s=()=>{}){ts(t,e,{during:this.enter.during,start:this.enter.start,end:this.enter.end},r,s)},out(r=()=>{},s=()=>{}){ts(t,e,{during:this.leave.during,start:this.leave.start,end:this.leave.end},r,s)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(t,e,i,r){let s=document.visibilityState==="visible"?requestAnimationFrame:setTimeout,n=()=>s(i);if(e){t._x_transition&&(t._x_transition.enter||t._x_transition.leave)?t._x_transition.enter&&(Object.entries(t._x_transition.enter.during).length||Object.entries(t._x_transition.enter.start).length||Object.entries(t._x_transition.enter.end).length)?t._x_transition.in(i):n():t._x_transition?t._x_transition.in(i):n();return}t._x_hidePromise=t._x_transition?new Promise((a,u)=>{t._x_transition.out(()=>{},()=>a(r)),t._x_transitioning&&t._x_transitioning.beforeCancel(()=>u({isFromCancelledTransition:!0}))}):Promise.resolve(r),queueMicrotask(()=>{let a=ia(t);a?(a._x_hideChildren||(a._x_hideChildren=[]),a._x_hideChildren.push(t)):s(()=>{let u=f=>{let w=Promise.all([f._x_hidePromise,...(f._x_hideChildren||[]).map(u)]).then(([A])=>A?.());return delete f._x_hidePromise,delete f._x_hideChildren,w};u(t).catch(f=>{if(!f.isFromCancelledTransition)throw f})})})};function ia(t){let e=t.parentNode;if(e)return e._x_hidePromise?e:ia(e)}function ts(t,e,{during:i,start:r,end:s}={},n=()=>{},a=()=>{}){if(t._x_transitioning&&t._x_transitioning.cancel(),Object.keys(i).length===0&&Object.keys(r).length===0&&Object.keys(s).length===0){n(),a();return}let u,f,w;Cu(t,{start(){u=e(t,r)},during(){f=e(t,i)},before:n,end(){u(),w=e(t,s)},after:a,cleanup(){f(),w()}})}function Cu(t,e){let i,r,s,n=es(()=>{G(()=>{i=!0,r||e.before(),s||(e.end(),Qr()),e.after(),t.isConnected&&e.cleanup(),delete t._x_transitioning})});t._x_transitioning={beforeCancels:[],beforeCancel(a){this.beforeCancels.push(a)},cancel:es(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();n()}),finish:n},G(()=>{e.start(),e.during()}),yu(),requestAnimationFrame(()=>{if(i)return;let a=Number(getComputedStyle(t).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,u=Number(getComputedStyle(t).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;a===0&&(a=Number(getComputedStyle(t).animationDuration.replace("s",""))*1e3),G(()=>{e.before()}),r=!0,requestAnimationFrame(()=>{i||(G(()=>{e.end()}),Qr(),setTimeout(t._x_transitioning.finish,a+u),s=!0)})})}function Nt(t,e,i){if(t.indexOf(e)===-1)return i;let r=t[t.indexOf(e)+1];if(!r||e==="scale"&&isNaN(r))return i;if(e==="duration"||e==="delay"){let s=r.match(/([0-9]+)ms/);if(s)return s[1]}return e==="origin"&&["top","right","left","center","bottom"].includes(t[t.indexOf(e)+2])?[r,t[t.indexOf(e)+2]].join(" "):r}var Be=!1;function Ve(t,e=()=>{}){return(...i)=>Be?e(...i):t(...i)}function xu(t){return(...e)=>Be&&t(...e)}var ra=[];function Li(t){ra.push(t)}function Lu(t,e){ra.forEach(i=>i(t,e)),Be=!0,sa(()=>{Oe(e,(i,r)=>{r(i,()=>{})})}),Be=!1}var is=!1;function Ou(t,e){e._x_dataStack||(e._x_dataStack=t._x_dataStack),Be=!0,is=!0,sa(()=>{Mu(e)}),Be=!1,is=!1}function Mu(t){let e=!1;Oe(t,(r,s)=>{et(r,(n,a)=>{if(e&&pu(n))return a();e=!0,s(n,a)})})}function sa(t){let e=tt;co((i,r)=>{let s=e(i);return St(s),()=>{}}),t(),co(e)}function na(t,e,i,r=[]){switch(t._x_bindings||(t._x_bindings=Et({})),t._x_bindings[e]=i,e=r.includes("camel")?Bu(e):e,e){case"value":Ru(t,i);break;case"style":Iu(t,i);break;case"class":ku(t,i);break;case"selected":case"checked":Fu(t,e,i);break;default:oa(t,e,i);break}}function Ru(t,e){if(ca(t))t.attributes.value===void 0&&(t.value=e),window.fromModel&&(typeof e=="boolean"?t.checked=Ei(t.value)===e:t.checked=fo(t.value,e));else if(ws(t))Number.isInteger(e)?t.value=e:!Array.isArray(e)&&typeof e!="boolean"&&![null,void 0].includes(e)?t.value=String(e):Array.isArray(e)?t.checked=e.some(i=>fo(i,t.value)):t.checked=!!e;else if(t.tagName==="SELECT")Du(t,e);else{if(t.value===e)return;t.value=e===void 0?"":e}}function ku(t,e){t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedClasses=ys(t,e)}function Iu(t,e){t._x_undoAddedStyles&&t._x_undoAddedStyles(),t._x_undoAddedStyles=xi(t,e)}function Fu(t,e,i){oa(t,e,i),Nu(t,e,i)}function oa(t,e,i){[null,void 0,!1].includes(i)&&Vu(e)?t.removeAttribute(e):(aa(e)&&(i=e),Pu(t,e,i))}function Pu(t,e,i){t.getAttribute(e)!=i&&t.setAttribute(e,i)}function Nu(t,e,i){t[e]!==i&&(t[e]=i)}function Du(t,e){let i=[].concat(e).map(r=>r+"");Array.from(t.options).forEach(r=>{r.selected=i.includes(r.value)})}function Bu(t){return t.toLowerCase().replace(/-(\w)/g,(e,i)=>i.toUpperCase())}function fo(t,e){return t==e}function Ei(t){return[1,"1","true","on","yes",!0].includes(t)?!0:[0,"0","false","off","no",!1].includes(t)?!1:t?!!t:null}var qu=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function aa(t){return qu.has(t)}function Vu(t){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(t)}function Hu(t,e,i){return t._x_bindings&&t._x_bindings[e]!==void 0?t._x_bindings[e]:la(t,e,i)}function $u(t,e,i,r=!0){if(t._x_bindings&&t._x_bindings[e]!==void 0)return t._x_bindings[e];if(t._x_inlineBindings&&t._x_inlineBindings[e]!==void 0){let s=t._x_inlineBindings[e];return s.extract=r,Do(()=>Ze(t,s.expression))}return la(t,e,i)}function la(t,e,i){let r=t.getAttribute(e);return r===null?typeof i=="function"?i():i:r===""?!0:aa(e)?!![e,"true"].includes(r):r}function ws(t){return t.type==="checkbox"||t.localName==="ui-checkbox"||t.localName==="ui-switch"}function ca(t){return t.type==="radio"||t.localName==="ui-radio"}function ua(t,e){var i;return function(){var r=this,s=arguments,n=function(){i=null,t.apply(r,s)};clearTimeout(i),i=setTimeout(n,e)}}function ha(t,e){let i;return function(){let r=this,s=arguments;i||(t.apply(r,s),i=!0,setTimeout(()=>i=!1,e))}}function da({get:t,set:e},{get:i,set:r}){let s=!0,n,a,u=tt(()=>{let f=t(),w=i();if(s)r(Vr(f)),s=!1;else{let A=JSON.stringify(f),F=JSON.stringify(w);A!==n?r(Vr(f)):A!==F&&e(Vr(w))}n=JSON.stringify(t()),a=JSON.stringify(i())});return()=>{St(u)}}function Vr(t){return typeof t=="object"?JSON.parse(JSON.stringify(t)):t}function zu(t){(Array.isArray(t)?t:[t]).forEach(i=>i(jt))}var Ye={},mo=!1;function ju(t,e){if(mo||(Ye=Et(Ye),mo=!0),e===void 0)return Ye[t];Ye[t]=e,Fo(Ye[t]),typeof e=="object"&&e!==null&&e.hasOwnProperty("init")&&typeof e.init=="function"&&Ye[t].init()}function Wu(){return Ye}var fa={};function Uu(t,e){let i=typeof e!="function"?()=>e:e;return t instanceof Element?ma(t,i()):(fa[t]=i,()=>{})}function Ku(t){return Object.entries(fa).forEach(([e,i])=>{Object.defineProperty(t,e,{get(){return(...r)=>i(...r)}})}),t}function ma(t,e,i){let r=[];for(;r.length;)r.pop()();let s=Object.entries(e).map(([a,u])=>({name:a,value:u})),n=Vo(s);return s=s.map(a=>n.find(u=>u.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),ms(t,s,i).map(a=>{r.push(a.runCleanups),a()}),()=>{for(;r.length;)r.pop()()}}var pa={};function Yu(t,e){pa[t]=e}function Xu(t,e){return Object.entries(pa).forEach(([i,r])=>{Object.defineProperty(t,i,{get(){return(...s)=>r.bind(e)(...s)},enumerable:!1})}),t}var Ju={get reactive(){return Et},get release(){return St},get effect(){return tt},get raw(){return To},version:"3.14.9",flushAndStopDeferringMutations:Gc,dontAutoEvaluateFunctions:Do,disableEffectScheduling:Wc,startObservingMutations:us,stopObservingMutations:ko,setReactivityEngine:Uc,onAttributeRemoved:Mo,onAttributesAdded:Oo,closestDataStack:yt,skipDuringClone:Ve,onlyDuringClone:xu,addRootSelector:Go,addInitSelector:Qo,interceptClone:Li,addScopeToNode:$t,deferMutations:Zc,mapAttributes:ps,evaluateLater:he,interceptInit:gu,setEvaluator:su,mergeProxies:zt,extractProp:$u,findClosest:Tt,onElRemoved:as,closestRoot:Ci,destroyTree:_t,interceptor:Po,transition:ts,setStyles:xi,mutateDom:G,directive:se,entangle:da,throttle:ha,debounce:ua,evaluate:Ze,initTree:Oe,nextTick:bs,prefixed:At,prefix:lu,plugin:zu,magic:Ae,store:ju,start:mu,clone:Ou,cloneNode:Lu,bound:Hu,$data:Io,watch:_o,walk:et,data:Yu,bind:Uu},jt=Ju;function ga(t,e){let i=Object.create(null),r=t.split(",");for(let s=0;s<r.length;s++)i[r[s]]=!0;return e?s=>!!i[s.toLowerCase()]:s=>!!i[s]}var Zu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$d=ga(Zu+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),Gu=Object.freeze({}),zd=Object.freeze([]),Qu=Object.prototype.hasOwnProperty,Oi=(t,e)=>Qu.call(t,e),Ge=Array.isArray,Vt=t=>va(t)==="[object Map]",eh=t=>typeof t=="string",Es=t=>typeof t=="symbol",Mi=t=>t!==null&&typeof t=="object",th=Object.prototype.toString,va=t=>th.call(t),ba=t=>va(t).slice(8,-1),Ss=t=>eh(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ri=t=>{let e=Object.create(null);return i=>e[i]||(e[i]=t(i))},ih=/-(\w)/g,jd=Ri(t=>t.replace(ih,(e,i)=>i?i.toUpperCase():"")),rh=/\B([A-Z])/g,Wd=Ri(t=>t.replace(rh,"-$1").toLowerCase()),ya=Ri(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ud=Ri(t=>t?`on${ya(t)}`:""),wa=(t,e)=>t!==e&&(t===t||e===e),rs=new WeakMap,Dt=[],_e,Qe=Symbol("iterate"),ss=Symbol("Map key iterate");function sh(t){return t&&t._isEffect===!0}function nh(t,e=Gu){sh(t)&&(t=t.raw);let i=lh(t,e);return e.lazy||i(),i}function oh(t){t.active&&(Ea(t),t.options.onStop&&t.options.onStop(),t.active=!1)}var ah=0;function lh(t,e){let i=function(){if(!i.active)return t();if(!Dt.includes(i)){Ea(i);try{return uh(),Dt.push(i),_e=i,t()}finally{Dt.pop(),Sa(),_e=Dt[Dt.length-1]}}};return i.id=ah++,i.allowRecurse=!!e.allowRecurse,i._isEffect=!0,i.active=!0,i.raw=t,i.deps=[],i.options=e,i}function Ea(t){let{deps:e}=t;if(e.length){for(let i=0;i<e.length;i++)e[i].delete(t);e.length=0}}var wt=!0,As=[];function ch(){As.push(wt),wt=!1}function uh(){As.push(wt),wt=!0}function Sa(){let t=As.pop();wt=t===void 0?!0:t}function Se(t,e,i){if(!wt||_e===void 0)return;let r=rs.get(t);r||rs.set(t,r=new Map);let s=r.get(i);s||r.set(i,s=new Set),s.has(_e)||(s.add(_e),_e.deps.push(s),_e.options.onTrack&&_e.options.onTrack({effect:_e,target:t,type:e,key:i}))}function qe(t,e,i,r,s,n){let a=rs.get(t);if(!a)return;let u=new Set,f=A=>{A&&A.forEach(F=>{(F!==_e||F.allowRecurse)&&u.add(F)})};if(e==="clear")a.forEach(f);else if(i==="length"&&Ge(t))a.forEach((A,F)=>{(F==="length"||F>=r)&&f(A)});else switch(i!==void 0&&f(a.get(i)),e){case"add":Ge(t)?Ss(i)&&f(a.get("length")):(f(a.get(Qe)),Vt(t)&&f(a.get(ss)));break;case"delete":Ge(t)||(f(a.get(Qe)),Vt(t)&&f(a.get(ss)));break;case"set":Vt(t)&&f(a.get(Qe));break}let w=A=>{A.options.onTrigger&&A.options.onTrigger({effect:A,target:t,key:i,type:e,newValue:r,oldValue:s,oldTarget:n}),A.options.scheduler?A.options.scheduler(A):A()};u.forEach(w)}var hh=ga("__proto__,__v_isRef,__isVue"),Aa=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(Es)),dh=Ta(),fh=Ta(!0),po=mh();function mh(){let t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...i){let r=U(this);for(let n=0,a=this.length;n<a;n++)Se(r,"get",n+"");let s=r[e](...i);return s===-1||s===!1?r[e](...i.map(U)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...i){ch();let r=U(this)[e].apply(this,i);return Sa(),r}}),t}function Ta(t=!1,e=!1){return function(r,s,n){if(s==="__v_isReactive")return!t;if(s==="__v_isReadonly")return t;if(s==="__v_raw"&&n===(t?e?Mh:La:e?Oh:xa).get(r))return r;let a=Ge(r);if(!t&&a&&Oi(po,s))return Reflect.get(po,s,n);let u=Reflect.get(r,s,n);return(Es(s)?Aa.has(s):hh(s))||(t||Se(r,"get",s),e)?u:ns(u)?!a||!Ss(s)?u.value:u:Mi(u)?t?Oa(u):xs(u):u}}var ph=gh();function gh(t=!1){return function(i,r,s,n){let a=i[r];if(!t&&(s=U(s),a=U(a),!Ge(i)&&ns(a)&&!ns(s)))return a.value=s,!0;let u=Ge(i)&&Ss(r)?Number(r)<i.length:Oi(i,r),f=Reflect.set(i,r,s,n);return i===U(n)&&(u?wa(s,a)&&qe(i,"set",r,s,a):qe(i,"add",r,s)),f}}function vh(t,e){let i=Oi(t,e),r=t[e],s=Reflect.deleteProperty(t,e);return s&&i&&qe(t,"delete",e,void 0,r),s}function bh(t,e){let i=Reflect.has(t,e);return(!Es(e)||!Aa.has(e))&&Se(t,"has",e),i}function yh(t){return Se(t,"iterate",Ge(t)?"length":Qe),Reflect.ownKeys(t)}var wh={get:dh,set:ph,deleteProperty:vh,has:bh,ownKeys:yh},Eh={get:fh,set(t,e){return console.warn(`Set operation on key "${String(e)}" failed: target is readonly.`,t),!0},deleteProperty(t,e){return console.warn(`Delete operation on key "${String(e)}" failed: target is readonly.`,t),!0}},Ts=t=>Mi(t)?xs(t):t,_s=t=>Mi(t)?Oa(t):t,Cs=t=>t,ki=t=>Reflect.getPrototypeOf(t);function pi(t,e,i=!1,r=!1){t=t.__v_raw;let s=U(t),n=U(e);e!==n&&!i&&Se(s,"get",e),!i&&Se(s,"get",n);let{has:a}=ki(s),u=r?Cs:i?_s:Ts;if(a.call(s,e))return u(t.get(e));if(a.call(s,n))return u(t.get(n));t!==s&&t.get(e)}function gi(t,e=!1){let i=this.__v_raw,r=U(i),s=U(t);return t!==s&&!e&&Se(r,"has",t),!e&&Se(r,"has",s),t===s?i.has(t):i.has(t)||i.has(s)}function vi(t,e=!1){return t=t.__v_raw,!e&&Se(U(t),"iterate",Qe),Reflect.get(t,"size",t)}function go(t){t=U(t);let e=U(this);return ki(e).has.call(e,t)||(e.add(t),qe(e,"add",t,t)),this}function vo(t,e){e=U(e);let i=U(this),{has:r,get:s}=ki(i),n=r.call(i,t);n?Ca(i,r,t):(t=U(t),n=r.call(i,t));let a=s.call(i,t);return i.set(t,e),n?wa(e,a)&&qe(i,"set",t,e,a):qe(i,"add",t,e),this}function bo(t){let e=U(this),{has:i,get:r}=ki(e),s=i.call(e,t);s?Ca(e,i,t):(t=U(t),s=i.call(e,t));let n=r?r.call(e,t):void 0,a=e.delete(t);return s&&qe(e,"delete",t,void 0,n),a}function yo(){let t=U(this),e=t.size!==0,i=Vt(t)?new Map(t):new Set(t),r=t.clear();return e&&qe(t,"clear",void 0,void 0,i),r}function bi(t,e){return function(r,s){let n=this,a=n.__v_raw,u=U(a),f=e?Cs:t?_s:Ts;return!t&&Se(u,"iterate",Qe),a.forEach((w,A)=>r.call(s,f(w),f(A),n))}}function yi(t,e,i){return function(...r){let s=this.__v_raw,n=U(s),a=Vt(n),u=t==="entries"||t===Symbol.iterator&&a,f=t==="keys"&&a,w=s[t](...r),A=i?Cs:e?_s:Ts;return!e&&Se(n,"iterate",f?ss:Qe),{next(){let{value:F,done:E}=w.next();return E?{value:F,done:E}:{value:u?[A(F[0]),A(F[1])]:A(F),done:E}},[Symbol.iterator](){return this}}}}function De(t){return function(...e){{let i=e[0]?`on key "${e[0]}" `:"";console.warn(`${ya(t)} operation ${i}failed: target is readonly.`,U(this))}return t==="delete"?!1:this}}function Sh(){let t={get(n){return pi(this,n)},get size(){return vi(this)},has:gi,add:go,set:vo,delete:bo,clear:yo,forEach:bi(!1,!1)},e={get(n){return pi(this,n,!1,!0)},get size(){return vi(this)},has:gi,add:go,set:vo,delete:bo,clear:yo,forEach:bi(!1,!0)},i={get(n){return pi(this,n,!0)},get size(){return vi(this,!0)},has(n){return gi.call(this,n,!0)},add:De("add"),set:De("set"),delete:De("delete"),clear:De("clear"),forEach:bi(!0,!1)},r={get(n){return pi(this,n,!0,!0)},get size(){return vi(this,!0)},has(n){return gi.call(this,n,!0)},add:De("add"),set:De("set"),delete:De("delete"),clear:De("clear"),forEach:bi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(n=>{t[n]=yi(n,!1,!1),i[n]=yi(n,!0,!1),e[n]=yi(n,!1,!0),r[n]=yi(n,!0,!0)}),[t,i,e,r]}var[Ah,Th,_h,Ch]=Sh();function _a(t,e){let i=e?t?Ch:_h:t?Th:Ah;return(r,s,n)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Oi(i,s)&&s in r?i:r,s,n)}var xh={get:_a(!1,!1)},Lh={get:_a(!0,!1)};function Ca(t,e,i){let r=U(i);if(r!==i&&e.call(t,r)){let s=ba(t);console.warn(`Reactive ${s} contains both the raw and reactive versions of the same object${s==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var xa=new WeakMap,Oh=new WeakMap,La=new WeakMap,Mh=new WeakMap;function Rh(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function kh(t){return t.__v_skip||!Object.isExtensible(t)?0:Rh(ba(t))}function xs(t){return t&&t.__v_isReadonly?t:Ma(t,!1,wh,xh,xa)}function Oa(t){return Ma(t,!0,Eh,Lh,La)}function Ma(t,e,i,r,s){if(!Mi(t))return console.warn(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;let n=s.get(t);if(n)return n;let a=kh(t);if(a===0)return t;let u=new Proxy(t,a===2?r:i);return s.set(t,u),u}function U(t){return t&&U(t.__v_raw)||t}function ns(t){return!!(t&&t.__v_isRef===!0)}Ae("nextTick",()=>bs);Ae("dispatch",t=>qt.bind(qt,t));Ae("watch",(t,{evaluateLater:e,cleanup:i})=>(r,s)=>{let n=e(r),u=_o(()=>{let f;return n(w=>f=w),f},s);i(u)});Ae("store",Wu);Ae("data",t=>Io(t));Ae("root",t=>Ci(t));Ae("refs",t=>(t._x_refs_proxy||(t._x_refs_proxy=zt(Ih(t))),t._x_refs_proxy));function Ih(t){let e=[];return Tt(t,i=>{i._x_refs&&e.push(i._x_refs)}),e}var Hr={};function Ra(t){return Hr[t]||(Hr[t]=0),++Hr[t]}function Fh(t,e){return Tt(t,i=>{if(i._x_ids&&i._x_ids[e])return!0})}function Ph(t,e){t._x_ids||(t._x_ids={}),t._x_ids[e]||(t._x_ids[e]=Ra(e))}Ae("id",(t,{cleanup:e})=>(i,r=null)=>{let s=`${i}${r?`-${r}`:""}`;return Nh(t,s,e,()=>{let n=Fh(t,i),a=n?n._x_ids[i]:Ra(i);return r?`${i}-${a}-${r}`:`${i}-${a}`})});Li((t,e)=>{t._x_id&&(e._x_id=t._x_id)});function Nh(t,e,i,r){if(t._x_id||(t._x_id={}),t._x_id[e])return t._x_id[e];let s=r();return t._x_id[e]=s,i(()=>{delete t._x_id[e]}),s}Ae("el",t=>t);ka("Focus","focus","focus");ka("Persist","persist","persist");function ka(t,e,i){Ae(e,r=>ye(`You can't use [$${e}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${i}`,r))}se("modelable",(t,{expression:e},{effect:i,evaluateLater:r,cleanup:s})=>{let n=r(e),a=()=>{let A;return n(F=>A=F),A},u=r(`${e} = __placeholder`),f=A=>u(()=>{},{scope:{__placeholder:A}}),w=a();f(w),queueMicrotask(()=>{if(!t._x_model)return;t._x_removeModelListeners.default();let A=t._x_model.get,F=t._x_model.set,E=da({get(){return A()},set(P){F(P)}},{get(){return a()},set(P){f(P)}});s(E)})});se("teleport",(t,{modifiers:e,expression:i},{cleanup:r})=>{t.tagName.toLowerCase()!=="template"&&ye("x-teleport can only be used on a <template> tag",t);let s=wo(i),n=t.content.cloneNode(!0).firstElementChild;t._x_teleport=n,n._x_teleportBack=t,t.setAttribute("data-teleport-template",!0),n.setAttribute("data-teleport-target",!0),t._x_forwardEvents&&t._x_forwardEvents.forEach(u=>{n.addEventListener(u,f=>{f.stopPropagation(),t.dispatchEvent(new f.constructor(f.type,f))})}),$t(n,{},t);let a=(u,f,w)=>{w.includes("prepend")?f.parentNode.insertBefore(u,f):w.includes("append")?f.parentNode.insertBefore(u,f.nextSibling):f.appendChild(u)};G(()=>{a(n,s,e),Ve(()=>{Oe(n)})()}),t._x_teleportPutBack=()=>{let u=wo(i);G(()=>{a(t._x_teleport,u,e)})},r(()=>G(()=>{n.remove(),_t(n)}))});var Dh=document.createElement("div");function wo(t){let e=Ve(()=>document.querySelector(t),()=>Dh)();return e||ye(`Cannot find x-teleport element for selector: "${t}"`),e}var Ia=()=>{};Ia.inline=(t,{modifiers:e},{cleanup:i})=>{e.includes("self")?t._x_ignoreSelf=!0:t._x_ignore=!0,i(()=>{e.includes("self")?delete t._x_ignoreSelf:delete t._x_ignore})};se("ignore",Ia);se("effect",Ve((t,{expression:e},{effect:i})=>{i(he(t,e))}));function os(t,e,i,r){let s=t,n=f=>r(f),a={},u=(f,w)=>A=>w(f,A);if(i.includes("dot")&&(e=Bh(e)),i.includes("camel")&&(e=qh(e)),i.includes("passive")&&(a.passive=!0),i.includes("capture")&&(a.capture=!0),i.includes("window")&&(s=window),i.includes("document")&&(s=document),i.includes("debounce")){let f=i[i.indexOf("debounce")+1]||"invalid-wait",w=_i(f.split("ms")[0])?Number(f.split("ms")[0]):250;n=ua(n,w)}if(i.includes("throttle")){let f=i[i.indexOf("throttle")+1]||"invalid-wait",w=_i(f.split("ms")[0])?Number(f.split("ms")[0]):250;n=ha(n,w)}return i.includes("prevent")&&(n=u(n,(f,w)=>{w.preventDefault(),f(w)})),i.includes("stop")&&(n=u(n,(f,w)=>{w.stopPropagation(),f(w)})),i.includes("once")&&(n=u(n,(f,w)=>{f(w),s.removeEventListener(e,n,a)})),(i.includes("away")||i.includes("outside"))&&(s=document,n=u(n,(f,w)=>{t.contains(w.target)||w.target.isConnected!==!1&&(t.offsetWidth<1&&t.offsetHeight<1||t._x_isShown!==!1&&f(w))})),i.includes("self")&&(n=u(n,(f,w)=>{w.target===t&&f(w)})),(Hh(e)||Fa(e))&&(n=u(n,(f,w)=>{$h(w,i)||f(w)})),s.addEventListener(e,n,a),()=>{s.removeEventListener(e,n,a)}}function Bh(t){return t.replace(/-/g,".")}function qh(t){return t.toLowerCase().replace(/-(\w)/g,(e,i)=>i.toUpperCase())}function _i(t){return!Array.isArray(t)&&!isNaN(t)}function Vh(t){return[" ","_"].includes(t)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Hh(t){return["keydown","keyup"].includes(t)}function Fa(t){return["contextmenu","click","mouse"].some(e=>t.includes(e))}function $h(t,e){let i=e.filter(n=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(n));if(i.includes("debounce")){let n=i.indexOf("debounce");i.splice(n,_i((i[n+1]||"invalid-wait").split("ms")[0])?2:1)}if(i.includes("throttle")){let n=i.indexOf("throttle");i.splice(n,_i((i[n+1]||"invalid-wait").split("ms")[0])?2:1)}if(i.length===0||i.length===1&&Eo(t.key).includes(i[0]))return!1;let s=["ctrl","shift","alt","meta","cmd","super"].filter(n=>i.includes(n));return i=i.filter(n=>!s.includes(n)),!(s.length>0&&s.filter(a=>((a==="cmd"||a==="super")&&(a="meta"),t[`${a}Key`])).length===s.length&&(Fa(t.type)||Eo(t.key).includes(i[0])))}function Eo(t){if(!t)return[];t=Vh(t);let e={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return e[t]=t,Object.keys(e).map(i=>{if(e[i]===t)return i}).filter(i=>i)}se("model",(t,{modifiers:e,expression:i},{effect:r,cleanup:s})=>{let n=t;e.includes("parent")&&(n=t.parentNode);let a=he(n,i),u;typeof i=="string"?u=he(n,`${i} = __placeholder`):typeof i=="function"&&typeof i()=="string"?u=he(n,`${i()} = __placeholder`):u=()=>{};let f=()=>{let E;return a(P=>E=P),So(E)?E.get():E},w=E=>{let P;a(N=>P=N),So(P)?P.set(E):u(()=>{},{scope:{__placeholder:E}})};typeof i=="string"&&t.type==="radio"&&G(()=>{t.hasAttribute("name")||t.setAttribute("name",i)});var A=t.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(t.type)||e.includes("lazy")?"change":"input";let F=Be?()=>{}:os(t,A,e,E=>{w($r(t,e,E,f()))});if(e.includes("fill")&&([void 0,null,""].includes(f())||ws(t)&&Array.isArray(f())||t.tagName.toLowerCase()==="select"&&t.multiple)&&w($r(t,e,{target:t},f())),t._x_removeModelListeners||(t._x_removeModelListeners={}),t._x_removeModelListeners.default=F,s(()=>t._x_removeModelListeners.default()),t.form){let E=os(t.form,"reset",[],P=>{bs(()=>t._x_model&&t._x_model.set($r(t,e,{target:t},f())))});s(()=>E())}t._x_model={get(){return f()},set(E){w(E)}},t._x_forceModelUpdate=E=>{E===void 0&&typeof i=="string"&&i.match(/\./)&&(E=""),window.fromModel=!0,G(()=>na(t,"value",E)),delete window.fromModel},r(()=>{let E=f();e.includes("unintrusive")&&document.activeElement.isSameNode(t)||t._x_forceModelUpdate(E)})});function $r(t,e,i,r){return G(()=>{if(i instanceof CustomEvent&&i.detail!==void 0)return i.detail!==null&&i.detail!==void 0?i.detail:i.target.value;if(ws(t))if(Array.isArray(r)){let s=null;return e.includes("number")?s=zr(i.target.value):e.includes("boolean")?s=Ei(i.target.value):s=i.target.value,i.target.checked?r.includes(s)?r:r.concat([s]):r.filter(n=>!zh(n,s))}else return i.target.checked;else{if(t.tagName.toLowerCase()==="select"&&t.multiple)return e.includes("number")?Array.from(i.target.selectedOptions).map(s=>{let n=s.value||s.text;return zr(n)}):e.includes("boolean")?Array.from(i.target.selectedOptions).map(s=>{let n=s.value||s.text;return Ei(n)}):Array.from(i.target.selectedOptions).map(s=>s.value||s.text);{let s;return ca(t)?i.target.checked?s=i.target.value:s=r:s=i.target.value,e.includes("number")?zr(s):e.includes("boolean")?Ei(s):e.includes("trim")?s.trim():s}}})}function zr(t){let e=t?parseFloat(t):null;return jh(e)?e:t}function zh(t,e){return t==e}function jh(t){return!Array.isArray(t)&&!isNaN(t)}function So(t){return t!==null&&typeof t=="object"&&typeof t.get=="function"&&typeof t.set=="function"}se("cloak",t=>queueMicrotask(()=>G(()=>t.removeAttribute(At("cloak")))));Qo(()=>`[${At("init")}]`);se("init",Ve((t,{expression:e},{evaluate:i})=>typeof e=="string"?!!e.trim()&&i(e,{},!1):i(e,{},!1)));se("text",(t,{expression:e},{effect:i,evaluateLater:r})=>{let s=r(e);i(()=>{s(n=>{G(()=>{t.textContent=n})})})});se("html",(t,{expression:e},{effect:i,evaluateLater:r})=>{let s=r(e);i(()=>{s(n=>{G(()=>{t.innerHTML=n,t._x_ignoreSelf=!0,Oe(t),delete t._x_ignoreSelf})})})});ps(zo(":",jo(At("bind:"))));var Pa=(t,{value:e,modifiers:i,expression:r,original:s},{effect:n,cleanup:a})=>{if(!e){let f={};Ku(f),he(t,r)(A=>{ma(t,A,s)},{scope:f});return}if(e==="key")return Wh(t,r);if(t._x_inlineBindings&&t._x_inlineBindings[e]&&t._x_inlineBindings[e].extract)return;let u=he(t,r);n(()=>u(f=>{f===void 0&&typeof r=="string"&&r.match(/\./)&&(f=""),G(()=>na(t,e,f,i))})),a(()=>{t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedStyles&&t._x_undoAddedStyles()})};Pa.inline=(t,{value:e,modifiers:i,expression:r})=>{e&&(t._x_inlineBindings||(t._x_inlineBindings={}),t._x_inlineBindings[e]={expression:r,extract:!1})};se("bind",Pa);function Wh(t,e){t._x_keyExpression=e}Go(()=>`[${At("data")}]`);se("data",(t,{expression:e},{cleanup:i})=>{if(Uh(t))return;e=e===""?"{}":e;let r={};Xr(r,t);let s={};Xu(s,r);let n=Ze(t,e,{scope:s});(n===void 0||n===!0)&&(n={}),Xr(n,t);let a=Et(n);Fo(a);let u=$t(t,a);a.init&&Ze(t,a.init),i(()=>{a.destroy&&Ze(t,a.destroy),u()})});Li((t,e)=>{t._x_dataStack&&(e._x_dataStack=t._x_dataStack,e.setAttribute("data-has-alpine-state",!0))});function Uh(t){return Be?is?!0:t.hasAttribute("data-has-alpine-state"):!1}se("show",(t,{modifiers:e,expression:i},{effect:r})=>{let s=he(t,i);t._x_doHide||(t._x_doHide=()=>{G(()=>{t.style.setProperty("display","none",e.includes("important")?"important":void 0)})}),t._x_doShow||(t._x_doShow=()=>{G(()=>{t.style.length===1&&t.style.display==="none"?t.removeAttribute("style"):t.style.removeProperty("display")})});let n=()=>{t._x_doHide(),t._x_isShown=!1},a=()=>{t._x_doShow(),t._x_isShown=!0},u=()=>setTimeout(a),f=es(F=>F?a():n(),F=>{typeof t._x_toggleAndCascadeWithTransitions=="function"?t._x_toggleAndCascadeWithTransitions(t,F,a,n):F?u():n()}),w,A=!0;r(()=>s(F=>{!A&&F===w||(e.includes("immediate")&&(F?u():n()),f(F),w=F,A=!1)}))});se("for",(t,{expression:e},{effect:i,cleanup:r})=>{let s=Yh(e),n=he(t,s.items),a=he(t,t._x_keyExpression||"index");t._x_prevKeys=[],t._x_lookup={},i(()=>Kh(t,s,n,a)),r(()=>{Object.values(t._x_lookup).forEach(u=>G(()=>{_t(u),u.remove()})),delete t._x_prevKeys,delete t._x_lookup})});function Kh(t,e,i,r){let s=a=>typeof a=="object"&&!Array.isArray(a),n=t;i(a=>{Xh(a)&&a>=0&&(a=Array.from(Array(a).keys(),S=>S+1)),a===void 0&&(a=[]);let u=t._x_lookup,f=t._x_prevKeys,w=[],A=[];if(s(a))a=Object.entries(a).map(([S,O])=>{let g=Ao(e,O,S,a);r(y=>{A.includes(y)&&ye("Duplicate key on x-for",t),A.push(y)},{scope:{index:S,...g}}),w.push(g)});else for(let S=0;S<a.length;S++){let O=Ao(e,a[S],S,a);r(g=>{A.includes(g)&&ye("Duplicate key on x-for",t),A.push(g)},{scope:{index:S,...O}}),w.push(O)}let F=[],E=[],P=[],N=[];for(let S=0;S<f.length;S++){let O=f[S];A.indexOf(O)===-1&&P.push(O)}f=f.filter(S=>!P.includes(S));let x="template";for(let S=0;S<A.length;S++){let O=A[S],g=f.indexOf(O);if(g===-1)f.splice(S,0,O),F.push([x,S]);else if(g!==S){let y=f.splice(S,1)[0],v=f.splice(g-1,1)[0];f.splice(S,0,v),f.splice(g,0,y),E.push([y,v])}else N.push(O);x=O}for(let S=0;S<P.length;S++){let O=P[S];O in u&&(G(()=>{_t(u[O]),u[O].remove()}),delete u[O])}for(let S=0;S<E.length;S++){let[O,g]=E[S],y=u[O],v=u[g],b=document.createElement("div");G(()=>{v||ye('x-for ":key" is undefined or invalid',n,g,u),v.after(b),y.after(v),v._x_currentIfEl&&v.after(v._x_currentIfEl),b.before(y),y._x_currentIfEl&&y.after(y._x_currentIfEl),b.remove()}),v._x_refreshXForScope(w[A.indexOf(g)])}for(let S=0;S<F.length;S++){let[O,g]=F[S],y=O==="template"?n:u[O];y._x_currentIfEl&&(y=y._x_currentIfEl);let v=w[g],b=A[g],R=document.importNode(n.content,!0).firstElementChild,_=Et(v);$t(R,_,n),R._x_refreshXForScope=M=>{Object.entries(M).forEach(([D,W])=>{_[D]=W})},G(()=>{y.after(R),Ve(()=>Oe(R))()}),typeof b=="object"&&ye("x-for key cannot be an object, it must be a string or an integer",n),u[b]=R}for(let S=0;S<N.length;S++)u[N[S]]._x_refreshXForScope(w[A.indexOf(N[S])]);n._x_prevKeys=A})}function Yh(t){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,i=/^\s*\(|\)\s*$/g,r=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,s=t.match(r);if(!s)return;let n={};n.items=s[2].trim();let a=s[1].replace(i,"").trim(),u=a.match(e);return u?(n.item=a.replace(e,"").trim(),n.index=u[1].trim(),u[2]&&(n.collection=u[2].trim())):n.item=a,n}function Ao(t,e,i,r){let s={};return/^\[.*\]$/.test(t.item)&&Array.isArray(e)?t.item.replace("[","").replace("]","").split(",").map(a=>a.trim()).forEach((a,u)=>{s[a]=e[u]}):/^\{.*\}$/.test(t.item)&&!Array.isArray(e)&&typeof e=="object"?t.item.replace("{","").replace("}","").split(",").map(a=>a.trim()).forEach(a=>{s[a]=e[a]}):s[t.item]=e,t.index&&(s[t.index]=i),t.collection&&(s[t.collection]=r),s}function Xh(t){return!Array.isArray(t)&&!isNaN(t)}function Na(){}Na.inline=(t,{expression:e},{cleanup:i})=>{let r=Ci(t);r._x_refs||(r._x_refs={}),r._x_refs[e]=t,i(()=>delete r._x_refs[e])};se("ref",Na);se("if",(t,{expression:e},{effect:i,cleanup:r})=>{t.tagName.toLowerCase()!=="template"&&ye("x-if can only be used on a <template> tag",t);let s=he(t,e),n=()=>{if(t._x_currentIfEl)return t._x_currentIfEl;let u=t.content.cloneNode(!0).firstElementChild;return $t(u,{},t),G(()=>{t.after(u),Ve(()=>Oe(u))()}),t._x_currentIfEl=u,t._x_undoIf=()=>{G(()=>{_t(u),u.remove()}),delete t._x_currentIfEl},u},a=()=>{t._x_undoIf&&(t._x_undoIf(),delete t._x_undoIf)};i(()=>s(u=>{u?n():a()})),r(()=>t._x_undoIf&&t._x_undoIf())});se("id",(t,{expression:e},{evaluate:i})=>{i(e).forEach(s=>Ph(t,s))});Li((t,e)=>{t._x_ids&&(e._x_ids=t._x_ids)});ps(zo("@",jo(At("on:"))));se("on",Ve((t,{value:e,modifiers:i,expression:r},{cleanup:s})=>{let n=r?he(t,r):()=>{};t.tagName.toLowerCase()==="template"&&(t._x_forwardEvents||(t._x_forwardEvents=[]),t._x_forwardEvents.includes(e)||t._x_forwardEvents.push(e));let a=os(t,e,i,u=>{n(()=>{},{scope:{$event:u},params:[u]})});s(()=>a())}));Ii("Collapse","collapse","collapse");Ii("Intersect","intersect","intersect");Ii("Focus","trap","focus");Ii("Mask","mask","mask");function Ii(t,e,i){se(e,r=>ye(`You can't use [x-${e}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${i}`,r))}jt.setEvaluator(qo);jt.setReactivityEngine({reactive:xs,effect:nh,release:oh,raw:U});var Jh=jt,Fi=Jh;function Zh(t){t.directive("collapse",e),e.inline=(i,{modifiers:r})=>{r.includes("min")&&(i._x_doShow=()=>{},i._x_doHide=()=>{})};function e(i,{modifiers:r}){let s=Da(r,"duration",250)/1e3,n=Da(r,"min",0),a=!r.includes("min");i._x_isShown||(i.style.height=`${n}px`),!i._x_isShown&&a&&(i.hidden=!0),i._x_isShown||(i.style.overflow="hidden");let u=(w,A)=>{let F=t.setStyles(w,A);return A.height?()=>{}:F},f={transitionProperty:"height",transitionDuration:`${s}s`,transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)"};i._x_transition={in(w=()=>{},A=()=>{}){a&&(i.hidden=!1),a&&(i.style.display=null);let F=i.getBoundingClientRect().height;i.style.height="auto";let E=i.getBoundingClientRect().height;F===E&&(F=n),t.transition(i,t.setStyles,{during:f,start:{height:F+"px"},end:{height:E+"px"}},()=>i._x_isShown=!0,()=>{Math.abs(i.getBoundingClientRect().height-E)<1&&(i.style.overflow=null)})},out(w=()=>{},A=()=>{}){let F=i.getBoundingClientRect().height;t.transition(i,u,{during:f,start:{height:F+"px"},end:{height:n+"px"}},()=>i.style.overflow="hidden",()=>{i._x_isShown=!1,i.style.height==`${n}px`&&a&&(i.style.display="none",i.hidden=!0)})}}}}function Da(t,e,i){if(t.indexOf(e)===-1)return i;let r=t[t.indexOf(e)+1];if(!r)return i;if(e==="duration"){let s=r.match(/([0-9]+)ms/);if(s)return s[1]}if(e==="min"){let s=r.match(/([0-9]+)px/);if(s)return s[1]}return r}var Ba=Zh;var Ls=class{constructor(e,i,r){this.eventTarget=e,this.eventName=i,this.eventOptions=r,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){let i=Gh(e);for(let r of this.bindings){if(i.immediatePropagationStopped)break;r.handleEvent(i)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((e,i)=>{let r=e.index,s=i.index;return r<s?-1:r>s?1:0})}};function Gh(t){if("immediatePropagationStopped"in t)return t;{let{stopImmediatePropagation:e}=t;return Object.assign(t,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,e.call(this)}})}}var Os=class{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(e=>e.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(e=>e.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((e,i)=>e.concat(Array.from(i.values())),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e,i=!1){this.fetchEventListenerForBinding(e).bindingDisconnected(e),i&&this.clearEventListenersForBinding(e)}handleError(e,i,r={}){this.application.handleError(e,`Error ${i}`,r)}clearEventListenersForBinding(e){let i=this.fetchEventListenerForBinding(e);i.hasBindings()||(i.disconnect(),this.removeMappedEventListenerFor(e))}removeMappedEventListenerFor(e){let{eventTarget:i,eventName:r,eventOptions:s}=e,n=this.fetchEventListenerMapForEventTarget(i),a=this.cacheKey(r,s);n.delete(a),n.size==0&&this.eventListenerMaps.delete(i)}fetchEventListenerForBinding(e){let{eventTarget:i,eventName:r,eventOptions:s}=e;return this.fetchEventListener(i,r,s)}fetchEventListener(e,i,r){let s=this.fetchEventListenerMapForEventTarget(e),n=this.cacheKey(i,r),a=s.get(n);return a||(a=this.createEventListener(e,i,r),s.set(n,a)),a}createEventListener(e,i,r){let s=new Ls(e,i,r);return this.started&&s.connect(),s}fetchEventListenerMapForEventTarget(e){let i=this.eventListenerMaps.get(e);return i||(i=new Map,this.eventListenerMaps.set(e,i)),i}cacheKey(e,i){let r=[e];return Object.keys(i).sort().forEach(s=>{r.push(`${i[s]?"":"!"}${s}`)}),r.join(":")}},Qh={stop({event:t,value:e}){return e&&t.stopPropagation(),!0},prevent({event:t,value:e}){return e&&t.preventDefault(),!0},self({event:t,value:e,element:i}){return e?i===t.target:!0}},ed=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function td(t){let i=t.trim().match(ed)||[],r=i[2],s=i[3];return s&&!["keydown","keyup","keypress"].includes(r)&&(r+=`.${s}`,s=""),{eventTarget:id(i[4]),eventName:r,eventOptions:i[7]?rd(i[7]):{},identifier:i[5],methodName:i[6],keyFilter:i[1]||s}}function id(t){if(t=="window")return window;if(t=="document")return document}function rd(t){return t.split(":").reduce((e,i)=>Object.assign(e,{[i.replace(/^!/,"")]:!/^!/.test(i)}),{})}function sd(t){if(t==window)return"window";if(t==document)return"document"}function Zs(t){return t.replace(/(?:[_-])([a-z0-9])/g,(e,i)=>i.toUpperCase())}function Ms(t){return Zs(t.replace(/--/g,"-").replace(/__/g,"_"))}function Ut(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Ya(t){return t.replace(/([A-Z])/g,(e,i)=>`-${i.toLowerCase()}`)}function nd(t){return t.match(/[^\s]+/g)||[]}function qa(t){return t!=null}function Rs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Va=["meta","ctrl","alt","shift"],ks=class{constructor(e,i,r,s){this.element=e,this.index=i,this.eventTarget=r.eventTarget||e,this.eventName=r.eventName||od(e)||Pi("missing event name"),this.eventOptions=r.eventOptions||{},this.identifier=r.identifier||Pi("missing identifier"),this.methodName=r.methodName||Pi("missing method name"),this.keyFilter=r.keyFilter||"",this.schema=s}static forToken(e,i){return new this(e.element,e.index,td(e.content),i)}toString(){let e=this.keyFilter?`.${this.keyFilter}`:"",i=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}${i}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(e){if(!this.keyFilter)return!1;let i=this.keyFilter.split("+");if(this.keyFilterDissatisfied(e,i))return!0;let r=i.filter(s=>!Va.includes(s))[0];return r?(Rs(this.keyMappings,r)||Pi(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[r].toLowerCase()!==e.key.toLowerCase()):!1}shouldIgnoreMouseEvent(e){if(!this.keyFilter)return!1;let i=[this.keyFilter];return!!this.keyFilterDissatisfied(e,i)}get params(){let e={},i=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(let{name:r,value:s}of Array.from(this.element.attributes)){let n=r.match(i),a=n&&n[1];a&&(e[Zs(a)]=ad(s))}return e}get eventTargetName(){return sd(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(e,i){let[r,s,n,a]=Va.map(u=>i.includes(u));return e.metaKey!==r||e.ctrlKey!==s||e.altKey!==n||e.shiftKey!==a}},Ha={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:t=>t.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function od(t){let e=t.tagName.toLowerCase();if(e in Ha)return Ha[e](t)}function Pi(t){throw new Error(t)}function ad(t){try{return JSON.parse(t)}catch{return t}}var Is=class{constructor(e,i){this.context=e,this.action=i}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){let i=this.prepareActionEvent(e);this.willBeInvokedByEvent(e)&&this.applyEventModifiers(i)&&this.invokeWithEvent(i)}get eventName(){return this.action.eventName}get method(){let e=this.controller[this.methodName];if(typeof e=="function")return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(e){let{element:i}=this.action,{actionDescriptorFilters:r}=this.context.application,{controller:s}=this.context,n=!0;for(let[a,u]of Object.entries(this.eventOptions))if(a in r){let f=r[a];n=n&&f({name:a,value:u,event:e,element:i,controller:s})}else continue;return n}prepareActionEvent(e){return Object.assign(e,{params:this.action.params})}invokeWithEvent(e){let{target:i,currentTarget:r}=e;try{this.method.call(this.controller,e),this.context.logDebugActivity(this.methodName,{event:e,target:i,currentTarget:r,action:this.methodName})}catch(s){let{identifier:n,controller:a,element:u,index:f}=this,w={identifier:n,controller:a,element:u,index:f,event:e};this.context.handleError(s,`invoking action "${this.action}"`,w)}}willBeInvokedByEvent(e){let i=e.target;return e instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(e)||e instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(e)?!1:this.element===i?!0:i instanceof Element&&this.element.contains(i)?this.scope.containsElement(i):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}},Ni=class{constructor(e,i){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=i,this.elements=new Set,this.mutationObserver=new MutationObserver(r=>this.processMutations(r))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){let e=new Set(this.matchElementsInTree());for(let i of Array.from(this.elements))e.has(i)||this.removeElement(i);for(let i of Array.from(e))this.addElement(i)}}processMutations(e){if(this.started)for(let i of e)this.processMutation(i)}processMutation(e){e.type=="attributes"?this.processAttributeChange(e.target,e.attributeName):e.type=="childList"&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,i){this.elements.has(e)?this.delegate.elementAttributeChanged&&this.matchElement(e)?this.delegate.elementAttributeChanged(e,i):this.removeElement(e):this.matchElement(e)&&this.addElement(e)}processRemovedNodes(e){for(let i of Array.from(e)){let r=this.elementFromNode(i);r&&this.processTree(r,this.removeElement)}}processAddedNodes(e){for(let i of Array.from(e)){let r=this.elementFromNode(i);r&&this.elementIsActive(r)&&this.processTree(r,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,i){for(let r of this.matchElementsInTree(e))i.call(this,r)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}},Di=class{constructor(e,i,r){this.attributeName=i,this.delegate=r,this.elementObserver=new Ni(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){let i=this.matchElement(e)?[e]:[],r=Array.from(e.querySelectorAll(this.selector));return i.concat(r)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,i){this.delegate.elementAttributeValueChanged&&this.attributeName==i&&this.delegate.elementAttributeValueChanged(e,i)}};function ld(t,e,i){Xa(t,e).add(i)}function cd(t,e,i){Xa(t,e).delete(i),ud(t,e)}function Xa(t,e){let i=t.get(e);return i||(i=new Set,t.set(e,i)),i}function ud(t,e){let i=t.get(e);i!=null&&i.size==0&&t.delete(e)}var Me=class{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((i,r)=>i.concat(Array.from(r)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((i,r)=>i+r.size,0)}add(e,i){ld(this.valuesByKey,e,i)}delete(e,i){cd(this.valuesByKey,e,i)}has(e,i){let r=this.valuesByKey.get(e);return r!=null&&r.has(i)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some(r=>r.has(e))}getValuesForKey(e){let i=this.valuesByKey.get(e);return i?Array.from(i):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter(([i,r])=>r.has(e)).map(([i,r])=>i)}};var Fs=class{constructor(e,i,r,s){this._selector=i,this.details=s,this.elementObserver=new Ni(e,this),this.delegate=r,this.matchesByElement=new Me}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(e){this._selector=e,this.refresh()}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(e){let{selector:i}=this;if(i){let r=e.matches(i);return this.delegate.selectorMatchElement?r&&this.delegate.selectorMatchElement(e,this.details):r}else return!1}matchElementsInTree(e){let{selector:i}=this;if(i){let r=this.matchElement(e)?[e]:[],s=Array.from(e.querySelectorAll(i)).filter(n=>this.matchElement(n));return r.concat(s)}else return[]}elementMatched(e){let{selector:i}=this;i&&this.selectorMatched(e,i)}elementUnmatched(e){let i=this.matchesByElement.getKeysForValue(e);for(let r of i)this.selectorUnmatched(e,r)}elementAttributeChanged(e,i){let{selector:r}=this;if(r){let s=this.matchElement(e),n=this.matchesByElement.has(r,e);s&&!n?this.selectorMatched(e,r):!s&&n&&this.selectorUnmatched(e,r)}}selectorMatched(e,i){this.delegate.selectorMatched(e,i,this.details),this.matchesByElement.add(i,e)}selectorUnmatched(e,i){this.delegate.selectorUnmatched(e,i,this.details),this.matchesByElement.delete(i,e)}},Ps=class{constructor(e,i){this.element=e,this.delegate=i,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(r=>this.processMutations(r))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(let e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(let i of e)this.processMutation(i)}processMutation(e){let i=e.attributeName;i&&this.refreshAttribute(i,e.oldValue)}refreshAttribute(e,i){let r=this.delegate.getStringMapKeyForAttribute(e);if(r!=null){this.stringMap.has(e)||this.stringMapKeyAdded(r,e);let s=this.element.getAttribute(e);if(this.stringMap.get(e)!=s&&this.stringMapValueChanged(s,r,i),s==null){let n=this.stringMap.get(e);this.stringMap.delete(e),n&&this.stringMapKeyRemoved(r,e,n)}else this.stringMap.set(e,s)}}stringMapKeyAdded(e,i){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,i)}stringMapValueChanged(e,i,r){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,i,r)}stringMapKeyRemoved(e,i,r){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,i,r)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(e=>e.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}},Bi=class{constructor(e,i,r){this.attributeObserver=new Di(e,i,this),this.delegate=r,this.tokensByElement=new Me}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){let[i,r]=this.refreshTokensForElement(e);this.tokensUnmatched(i),this.tokensMatched(r)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach(i=>this.tokenMatched(i))}tokensUnmatched(e){e.forEach(i=>this.tokenUnmatched(i))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){let i=this.tokensByElement.getValuesForKey(e),r=this.readTokensForElement(e),s=dd(i,r).findIndex(([n,a])=>!fd(n,a));return s==-1?[[],[]]:[i.slice(s),r.slice(s)]}readTokensForElement(e){let i=this.attributeName,r=e.getAttribute(i)||"";return hd(r,e,i)}};function hd(t,e,i){return t.trim().split(/\s+/).filter(r=>r.length).map((r,s)=>({element:e,attributeName:i,content:r,index:s}))}function dd(t,e){let i=Math.max(t.length,e.length);return Array.from({length:i},(r,s)=>[t[s],e[s]])}function fd(t,e){return t&&e&&t.index==e.index&&t.content==e.content}var qi=class{constructor(e,i,r){this.tokenListObserver=new Bi(e,i,this),this.delegate=r,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){let{element:i}=e,{value:r}=this.fetchParseResultForToken(e);r&&(this.fetchValuesByTokenForElement(i).set(e,r),this.delegate.elementMatchedValue(i,r))}tokenUnmatched(e){let{element:i}=e,{value:r}=this.fetchParseResultForToken(e);r&&(this.fetchValuesByTokenForElement(i).delete(e),this.delegate.elementUnmatchedValue(i,r))}fetchParseResultForToken(e){let i=this.parseResultsByToken.get(e);return i||(i=this.parseToken(e),this.parseResultsByToken.set(e,i)),i}fetchValuesByTokenForElement(e){let i=this.valuesByTokenByElement.get(e);return i||(i=new Map,this.valuesByTokenByElement.set(e,i)),i}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(i){return{error:i}}}},Ns=class{constructor(e,i){this.context=e,this.delegate=i,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new qi(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){let i=new Is(this.context,e);this.bindingsByAction.set(e,i),this.delegate.bindingConnected(i)}disconnectAction(e){let i=this.bindingsByAction.get(e);i&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(i))}disconnectAllActions(){this.bindings.forEach(e=>this.delegate.bindingDisconnected(e,!0)),this.bindingsByAction.clear()}parseValueForToken(e){let i=ks.forToken(e,this.schema);if(i.identifier==this.identifier)return i}elementMatchedValue(e,i){this.connectAction(i)}elementUnmatchedValue(e,i){this.disconnectAction(i)}},Ds=class{constructor(e,i){this.context=e,this.receiver=i,this.stringMapObserver=new Ps(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,i){let r=this.valueDescriptorMap[i];this.hasValue(e)||this.invokeChangedCallback(e,r.writer(this.receiver[e]),r.writer(r.defaultValue))}stringMapValueChanged(e,i,r){let s=this.valueDescriptorNameMap[i];e!==null&&(r===null&&(r=s.writer(s.defaultValue)),this.invokeChangedCallback(i,e,r))}stringMapKeyRemoved(e,i,r){let s=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,s.writer(this.receiver[e]),r):this.invokeChangedCallback(e,s.writer(s.defaultValue),r)}invokeChangedCallbacksForDefaultValues(){for(let{key:e,name:i,defaultValue:r,writer:s}of this.valueDescriptors)r!=null&&!this.controller.data.has(e)&&this.invokeChangedCallback(i,s(r),void 0)}invokeChangedCallback(e,i,r){let s=`${e}Changed`,n=this.receiver[s];if(typeof n=="function"){let a=this.valueDescriptorNameMap[e];try{let u=a.reader(i),f=r;r&&(f=a.reader(r)),n.call(this.receiver,u,f)}catch(u){throw u instanceof TypeError&&(u.message=`Stimulus Value "${this.context.identifier}.${a.name}" - ${u.message}`),u}}}get valueDescriptors(){let{valueDescriptorMap:e}=this;return Object.keys(e).map(i=>e[i])}get valueDescriptorNameMap(){let e={};return Object.keys(this.valueDescriptorMap).forEach(i=>{let r=this.valueDescriptorMap[i];e[r.name]=r}),e}hasValue(e){let i=this.valueDescriptorNameMap[e],r=`has${Ut(i.name)}`;return this.receiver[r]}},Bs=class{constructor(e,i){this.context=e,this.delegate=i,this.targetsByName=new Me}start(){this.tokenListObserver||(this.tokenListObserver=new Bi(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:i}){this.scope.containsElement(e)&&this.connectTarget(e,i)}tokenUnmatched({element:e,content:i}){this.disconnectTarget(e,i)}connectTarget(e,i){var r;this.targetsByName.has(i,e)||(this.targetsByName.add(i,e),(r=this.tokenListObserver)===null||r===void 0||r.pause(()=>this.delegate.targetConnected(e,i)))}disconnectTarget(e,i){var r;this.targetsByName.has(i,e)&&(this.targetsByName.delete(i,e),(r=this.tokenListObserver)===null||r===void 0||r.pause(()=>this.delegate.targetDisconnected(e,i)))}disconnectAllTargets(){for(let e of this.targetsByName.keys)for(let i of this.targetsByName.getValuesForKey(e))this.disconnectTarget(i,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}};function Kt(t,e){let i=Ja(t);return Array.from(i.reduce((r,s)=>(pd(s,e).forEach(n=>r.add(n)),r),new Set))}function md(t,e){return Ja(t).reduce((r,s)=>(r.push(...gd(s,e)),r),[])}function Ja(t){let e=[];for(;t;)e.push(t),t=Object.getPrototypeOf(t);return e.reverse()}function pd(t,e){let i=t[e];return Array.isArray(i)?i:[]}function gd(t,e){let i=t[e];return i?Object.keys(i).map(r=>[r,i[r]]):[]}var qs=class{constructor(e,i){this.started=!1,this.context=e,this.delegate=i,this.outletsByName=new Me,this.outletElementsByName=new Me,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach(e=>{this.setupSelectorObserverForOutlet(e),this.setupAttributeObserverForOutlet(e)}),this.started=!0,this.dependentContexts.forEach(e=>e.refresh()))}refresh(){this.selectorObserverMap.forEach(e=>e.refresh()),this.attributeObserverMap.forEach(e=>e.refresh())}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(e=>e.stop()),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(e=>e.stop()),this.attributeObserverMap.clear())}selectorMatched(e,i,{outletName:r}){let s=this.getOutlet(e,r);s&&this.connectOutlet(s,e,r)}selectorUnmatched(e,i,{outletName:r}){let s=this.getOutletFromMap(e,r);s&&this.disconnectOutlet(s,e,r)}selectorMatchElement(e,{outletName:i}){let r=this.selector(i),s=this.hasOutlet(e,i),n=e.matches(`[${this.schema.controllerAttribute}~=${i}]`);return r?s&&n&&e.matches(r):!1}elementMatchedAttribute(e,i){let r=this.getOutletNameFromOutletAttributeName(i);r&&this.updateSelectorObserverForOutlet(r)}elementAttributeValueChanged(e,i){let r=this.getOutletNameFromOutletAttributeName(i);r&&this.updateSelectorObserverForOutlet(r)}elementUnmatchedAttribute(e,i){let r=this.getOutletNameFromOutletAttributeName(i);r&&this.updateSelectorObserverForOutlet(r)}connectOutlet(e,i,r){var s;this.outletElementsByName.has(r,i)||(this.outletsByName.add(r,e),this.outletElementsByName.add(r,i),(s=this.selectorObserverMap.get(r))===null||s===void 0||s.pause(()=>this.delegate.outletConnected(e,i,r)))}disconnectOutlet(e,i,r){var s;this.outletElementsByName.has(r,i)&&(this.outletsByName.delete(r,e),this.outletElementsByName.delete(r,i),(s=this.selectorObserverMap.get(r))===null||s===void 0||s.pause(()=>this.delegate.outletDisconnected(e,i,r)))}disconnectAllOutlets(){for(let e of this.outletElementsByName.keys)for(let i of this.outletElementsByName.getValuesForKey(e))for(let r of this.outletsByName.getValuesForKey(e))this.disconnectOutlet(r,i,e)}updateSelectorObserverForOutlet(e){let i=this.selectorObserverMap.get(e);i&&(i.selector=this.selector(e))}setupSelectorObserverForOutlet(e){let i=this.selector(e),r=new Fs(document.body,i,this,{outletName:e});this.selectorObserverMap.set(e,r),r.start()}setupAttributeObserverForOutlet(e){let i=this.attributeNameForOutletName(e),r=new Di(this.scope.element,i,this);this.attributeObserverMap.set(e,r),r.start()}selector(e){return this.scope.outlets.getSelectorForOutletName(e)}attributeNameForOutletName(e){return this.scope.schema.outletAttributeForScope(this.identifier,e)}getOutletNameFromOutletAttributeName(e){return this.outletDefinitions.find(i=>this.attributeNameForOutletName(i)===e)}get outletDependencies(){let e=new Me;return this.router.modules.forEach(i=>{let r=i.definition.controllerConstructor;Kt(r,"outlets").forEach(n=>e.add(n,i.identifier))}),e}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){let e=this.dependentControllerIdentifiers;return this.router.contexts.filter(i=>e.includes(i.identifier))}hasOutlet(e,i){return!!this.getOutlet(e,i)||!!this.getOutletFromMap(e,i)}getOutlet(e,i){return this.application.getControllerForElementAndIdentifier(e,i)}getOutletFromMap(e,i){return this.outletsByName.getValuesForKey(i).find(r=>r.element===e)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}},Vs=class{constructor(e,i){this.logDebugActivity=(r,s={})=>{let{identifier:n,controller:a,element:u}=this;s=Object.assign({identifier:n,controller:a,element:u},s),this.application.logDebugActivity(this.identifier,r,s)},this.module=e,this.scope=i,this.controller=new e.controllerConstructor(this),this.bindingObserver=new Ns(this,this.dispatcher),this.valueObserver=new Ds(this,this.controller),this.targetObserver=new Bs(this,this),this.outletObserver=new qs(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(r){this.handleError(r,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,i,r={}){let{identifier:s,controller:n,element:a}=this;r=Object.assign({identifier:s,controller:n,element:a},r),this.application.handleError(e,`Error ${i}`,r)}targetConnected(e,i){this.invokeControllerMethod(`${i}TargetConnected`,e)}targetDisconnected(e,i){this.invokeControllerMethod(`${i}TargetDisconnected`,e)}outletConnected(e,i,r){this.invokeControllerMethod(`${Ms(r)}OutletConnected`,e,i)}outletDisconnected(e,i,r){this.invokeControllerMethod(`${Ms(r)}OutletDisconnected`,e,i)}invokeControllerMethod(e,...i){let r=this.controller;typeof r[e]=="function"&&r[e](...i)}};function vd(t){return bd(t,yd(t))}function bd(t,e){let i=Ad(t),r=wd(t.prototype,e);return Object.defineProperties(i.prototype,r),i}function yd(t){return Kt(t,"blessings").reduce((i,r)=>{let s=r(t);for(let n in s){let a=i[n]||{};i[n]=Object.assign(a,s[n])}return i},{})}function wd(t,e){return Sd(e).reduce((i,r)=>{let s=Ed(t,e,r);return s&&Object.assign(i,{[r]:s}),i},{})}function Ed(t,e,i){let r=Object.getOwnPropertyDescriptor(t,i);if(!(r&&"value"in r)){let n=Object.getOwnPropertyDescriptor(e,i).value;return r&&(n.get=r.get||n.get,n.set=r.set||n.set),n}}var Sd=typeof Object.getOwnPropertySymbols=="function"?t=>[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)]:Object.getOwnPropertyNames,Ad=(()=>{function t(i){function r(){return Reflect.construct(i,arguments,new.target)}return r.prototype=Object.create(i.prototype,{constructor:{value:r}}),Reflect.setPrototypeOf(r,i),r}function e(){let r=t(function(){this.a.call(this)});return r.prototype.a=function(){},new r}try{return e(),t}catch{return r=>class extends r{}}})();function Td(t){return{identifier:t.identifier,controllerConstructor:vd(t.controllerConstructor)}}var Hs=class{constructor(e,i){this.application=e,this.definition=Td(i),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){let i=this.fetchContextForScope(e);this.connectedContexts.add(i),i.connect()}disconnectContextForScope(e){let i=this.contextsByScope.get(e);i&&(this.connectedContexts.delete(i),i.disconnect())}fetchContextForScope(e){let i=this.contextsByScope.get(e);return i||(i=new Vs(this,e),this.contextsByScope.set(e,i)),i}},$s=class{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){let i=this.data.get(this.getDataKey(e))||"";return nd(i)}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}},zs=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){let i=this.getAttributeNameForKey(e);return this.element.getAttribute(i)}set(e,i){let r=this.getAttributeNameForKey(e);return this.element.setAttribute(r,i),this.get(e)}has(e){let i=this.getAttributeNameForKey(e);return this.element.hasAttribute(i)}delete(e){if(this.has(e)){let i=this.getAttributeNameForKey(e);return this.element.removeAttribute(i),!0}else return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${Ya(e)}`}},js=class{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,i,r){let s=this.warnedKeysByObject.get(e);s||(s=new Set,this.warnedKeysByObject.set(e,s)),s.has(i)||(s.add(i),this.logger.warn(r,e))}};function Ws(t,e){return`[${t}~="${e}"]`}var Us=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((i,r)=>i||this.findTarget(r)||this.findLegacyTarget(r),void 0)}findAll(...e){return e.reduce((i,r)=>[...i,...this.findAllTargets(r),...this.findAllLegacyTargets(r)],[])}findTarget(e){let i=this.getSelectorForTargetName(e);return this.scope.findElement(i)}findAllTargets(e){let i=this.getSelectorForTargetName(e);return this.scope.findAllElements(i)}getSelectorForTargetName(e){let i=this.schema.targetAttributeForScope(this.identifier);return Ws(i,e)}findLegacyTarget(e){let i=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(i),e)}findAllLegacyTargets(e){let i=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(i).map(r=>this.deprecate(r,e))}getLegacySelectorForTargetName(e){let i=`${this.identifier}.${e}`;return Ws(this.schema.targetAttribute,i)}deprecate(e,i){if(e){let{identifier:r}=this,s=this.schema.targetAttribute,n=this.schema.targetAttributeForScope(r);this.guide.warn(e,`target:${i}`,`Please replace ${s}="${r}.${i}" with ${n}="${i}". The ${s} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}},Ks=class{constructor(e,i){this.scope=e,this.controllerElement=i}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((i,r)=>i||this.findOutlet(r),void 0)}findAll(...e){return e.reduce((i,r)=>[...i,...this.findAllOutlets(r)],[])}getSelectorForOutletName(e){let i=this.schema.outletAttributeForScope(this.identifier,e);return this.controllerElement.getAttribute(i)}findOutlet(e){let i=this.getSelectorForOutletName(e);if(i)return this.findElement(i,e)}findAllOutlets(e){let i=this.getSelectorForOutletName(e);return i?this.findAllElements(i,e):[]}findElement(e,i){return this.scope.queryElements(e).filter(s=>this.matchesElement(s,e,i))[0]}findAllElements(e,i){return this.scope.queryElements(e).filter(s=>this.matchesElement(s,e,i))}matchesElement(e,i,r){let s=e.getAttribute(this.scope.schema.controllerAttribute)||"";return e.matches(i)&&s.split(" ").includes(r)}},Ys=class t{constructor(e,i,r,s){this.targets=new Us(this),this.classes=new $s(this),this.data=new zs(this),this.containsElement=n=>n.closest(this.controllerSelector)===this.element,this.schema=e,this.element=i,this.identifier=r,this.guide=new js(s),this.outlets=new Ks(this.documentScope,i)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return Ws(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new t(this.schema,document.documentElement,this.identifier,this.guide.logger)}},Xs=class{constructor(e,i,r){this.element=e,this.schema=i,this.delegate=r,this.valueListObserver=new qi(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){let{element:i,content:r}=e;return this.parseValueForElementAndIdentifier(i,r)}parseValueForElementAndIdentifier(e,i){let r=this.fetchScopesByIdentifierForElement(e),s=r.get(i);return s||(s=this.delegate.createScopeForElementAndIdentifier(e,i),r.set(i,s)),s}elementMatchedValue(e,i){let r=(this.scopeReferenceCounts.get(i)||0)+1;this.scopeReferenceCounts.set(i,r),r==1&&this.delegate.scopeConnected(i)}elementUnmatchedValue(e,i){let r=this.scopeReferenceCounts.get(i);r&&(this.scopeReferenceCounts.set(i,r-1),r==1&&this.delegate.scopeDisconnected(i))}fetchScopesByIdentifierForElement(e){let i=this.scopesByIdentifierByElement.get(e);return i||(i=new Map,this.scopesByIdentifierByElement.set(e,i)),i}},Js=class{constructor(e){this.application=e,this.scopeObserver=new Xs(this.element,this.schema,this),this.scopesByIdentifier=new Me,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((e,i)=>e.concat(i.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);let i=new Hs(this.application,e);this.connectModule(i);let r=e.controllerConstructor.afterLoad;r&&r.call(e.controllerConstructor,e.identifier,this.application)}unloadIdentifier(e){let i=this.modulesByIdentifier.get(e);i&&this.disconnectModule(i)}getContextForElementAndIdentifier(e,i){let r=this.modulesByIdentifier.get(i);if(r)return r.contexts.find(s=>s.element==e)}proposeToConnectScopeForElementAndIdentifier(e,i){let r=this.scopeObserver.parseValueForElementAndIdentifier(e,i);r?this.scopeObserver.elementMatchedValue(r.element,r):console.error(`Couldn't find or create scope for identifier: "${i}" and element:`,e)}handleError(e,i,r){this.application.handleError(e,i,r)}createScopeForElementAndIdentifier(e,i){return new Ys(this.schema,e,i,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);let i=this.modulesByIdentifier.get(e.identifier);i&&i.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);let i=this.modulesByIdentifier.get(e.identifier);i&&i.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(r=>e.connectContextForScope(r))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(r=>e.disconnectContextForScope(r))}},_d={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:t=>`data-${t}-target`,outletAttributeForScope:(t,e)=>`data-${t}-${e}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},$a("abcdefghijklmnopqrstuvwxyz".split("").map(t=>[t,t]))),$a("0123456789".split("").map(t=>[t,t])))};function $a(t){return t.reduce((e,[i,r])=>Object.assign(Object.assign({},e),{[i]:r}),{})}var Vi=class{constructor(e=document.documentElement,i=_d){this.logger=console,this.debug=!1,this.logDebugActivity=(r,s,n={})=>{this.debug&&this.logFormattedMessage(r,s,n)},this.element=e,this.schema=i,this.dispatcher=new Os(this),this.router=new Js(this),this.actionDescriptorFilters=Object.assign({},Qh)}static start(e,i){let r=new this(e,i);return r.start(),r}async start(){await Cd(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,i){this.load({identifier:e,controllerConstructor:i})}registerActionOption(e,i){this.actionDescriptorFilters[e]=i}load(e,...i){(Array.isArray(e)?e:[e,...i]).forEach(s=>{s.controllerConstructor.shouldLoad&&this.router.loadDefinition(s)})}unload(e,...i){(Array.isArray(e)?e:[e,...i]).forEach(s=>this.router.unloadIdentifier(s))}get controllers(){return this.router.contexts.map(e=>e.controller)}getControllerForElementAndIdentifier(e,i){let r=this.router.getContextForElementAndIdentifier(e,i);return r?r.controller:null}handleError(e,i,r){var s;this.logger.error(`%s

%o

%o`,i,e,r),(s=window.onerror)===null||s===void 0||s.call(window,i,"",0,0,e)}logFormattedMessage(e,i,r={}){r=Object.assign({application:this},r),this.logger.groupCollapsed(`${e} #${i}`),this.logger.log("details:",Object.assign({},r)),this.logger.groupEnd()}};function Cd(){return new Promise(t=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>t()):t()})}function xd(t){return Kt(t,"classes").reduce((i,r)=>Object.assign(i,Ld(r)),{})}function Ld(t){return{[`${t}Class`]:{get(){let{classes:e}=this;if(e.has(t))return e.get(t);{let i=e.getAttributeName(t);throw new Error(`Missing attribute "${i}"`)}}},[`${t}Classes`]:{get(){return this.classes.getAll(t)}},[`has${Ut(t)}Class`]:{get(){return this.classes.has(t)}}}}function Od(t){return Kt(t,"outlets").reduce((i,r)=>Object.assign(i,Md(r)),{})}function za(t,e,i){return t.application.getControllerForElementAndIdentifier(e,i)}function ja(t,e,i){let r=za(t,e,i);if(r||(t.application.router.proposeToConnectScopeForElementAndIdentifier(e,i),r=za(t,e,i),r))return r}function Md(t){let e=Ms(t);return{[`${e}Outlet`]:{get(){let i=this.outlets.find(t),r=this.outlets.getSelectorForOutletName(t);if(i){let s=ja(this,i,t);if(s)return s;throw new Error(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${r}".`)}},[`${e}Outlets`]:{get(){let i=this.outlets.findAll(t);return i.length>0?i.map(r=>{let s=ja(this,r,t);if(s)return s;console.warn(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`,r)}).filter(r=>r):[]}},[`${e}OutletElement`]:{get(){let i=this.outlets.find(t),r=this.outlets.getSelectorForOutletName(t);if(i)return i;throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${r}".`)}},[`${e}OutletElements`]:{get(){return this.outlets.findAll(t)}},[`has${Ut(e)}Outlet`]:{get(){return this.outlets.has(t)}}}}function Rd(t){return Kt(t,"targets").reduce((i,r)=>Object.assign(i,kd(r)),{})}function kd(t){return{[`${t}Target`]:{get(){let e=this.targets.find(t);if(e)return e;throw new Error(`Missing target element "${t}" for "${this.identifier}" controller`)}},[`${t}Targets`]:{get(){return this.targets.findAll(t)}},[`has${Ut(t)}Target`]:{get(){return this.targets.has(t)}}}}function Id(t){let e=md(t,"values"),i={valueDescriptorMap:{get(){return e.reduce((r,s)=>{let n=Za(s,this.identifier),a=this.data.getAttributeNameForKey(n.key);return Object.assign(r,{[a]:n})},{})}}};return e.reduce((r,s)=>Object.assign(r,Fd(s)),i)}function Fd(t,e){let i=Za(t,e),{key:r,name:s,reader:n,writer:a}=i;return{[s]:{get(){let u=this.data.get(r);return u!==null?n(u):i.defaultValue},set(u){u===void 0?this.data.delete(r):this.data.set(r,a(u))}},[`has${Ut(s)}`]:{get(){return this.data.has(r)||i.hasCustomDefaultValue}}}}function Za([t,e],i){return Bd({controller:i,token:t,typeDefinition:e})}function Hi(t){switch(t){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function Wt(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(t))return"array";if(Object.prototype.toString.call(t)==="[object Object]")return"object"}function Pd(t){let{controller:e,token:i,typeObject:r}=t,s=qa(r.type),n=qa(r.default),a=s&&n,u=s&&!n,f=!s&&n,w=Hi(r.type),A=Wt(t.typeObject.default);if(u)return w;if(f)return A;if(w!==A){let F=e?`${e}.${i}`:i;throw new Error(`The specified default value for the Stimulus Value "${F}" must match the defined type "${w}". The provided default value of "${r.default}" is of type "${A}".`)}if(a)return w}function Nd(t){let{controller:e,token:i,typeDefinition:r}=t,n=Pd({controller:e,token:i,typeObject:r}),a=Wt(r),u=Hi(r),f=n||a||u;if(f)return f;let w=e?`${e}.${r}`:i;throw new Error(`Unknown value type "${w}" for "${i}" value`)}function Dd(t){let e=Hi(t);if(e)return Wa[e];let i=Rs(t,"default"),r=Rs(t,"type"),s=t;if(i)return s.default;if(r){let{type:n}=s,a=Hi(n);if(a)return Wa[a]}return t}function Bd(t){let{token:e,typeDefinition:i}=t,r=`${Ya(e)}-value`,s=Nd(t);return{type:s,key:r,name:Zs(r),get defaultValue(){return Dd(i)},get hasCustomDefaultValue(){return Wt(i)!==void 0},reader:qd[s],writer:Ua[s]||Ua.default}}var Wa={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},qd={array(t){let e=JSON.parse(t);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${t}" of type "${Wt(e)}"`);return e},boolean(t){return!(t=="0"||String(t).toLowerCase()=="false")},number(t){return Number(t.replace(/_/g,""))},object(t){let e=JSON.parse(t);if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${t}" of type "${Wt(e)}"`);return e},string(t){return t}},Ua={default:Vd,array:Ka,object:Ka};function Ka(t){return JSON.stringify(t)}function Vd(t){return`${t}`}var ce=class{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,i){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:i=this.element,detail:r={},prefix:s=this.identifier,bubbles:n=!0,cancelable:a=!0}={}){let u=s?`${s}:${e}`:e,f=new CustomEvent(u,{detail:r,bubbles:n,cancelable:a});return i.dispatchEvent(f),f}};ce.blessings=[xd,Rd,Id,Od];ce.targets=[];ce.outlets=[];ce.values={};var $i=class extends ce{static targets=["links","content","menu"];static values={headerSelector:String};connect(){this.#e()}disconnect(){window.removeEventListener("scroll",this.#r.bind(this))}#e(){let t=this.#t(this.headings);t.children.length>0?(this.#i(t,this.linksTarget),window.addEventListener("scroll",this.#r.bind(this)),this.#r(),this.element.classList.add("has-toc")):(this.element.classList.remove("has-toc"),this.menuTarget.remove())}#t(t){let e={level:0,children:[]},i=e;return t.forEach((r,s)=>{if(r.textContent.trim()==="")return;let n=parseInt(r.tagName.substr(1),10),a=this.#s(r,n,s);r.id=a;let u={level:n,id:a,text:r.textContent,children:[]};if(n>i.level)i.children.push(u);else{for(;n<=i.level&&i!==e;)i=i.parent;i.children.push(u)}u.parent=i,i=u}),e}#i(t,e,i=0){if(t.children.length==0)return;let r=document.createElement("ul");return t.children.forEach(s=>{let n=document.createElement("li"),a=document.createElement("button");if(a.type="button",a.textContent=s.text,a.dataset.action="toc#navigateToAnchor",a.dataset.tocAnchorParam=s.id,n.appendChild(a),r.appendChild(n),s.children.length>0){let u=this.#i(s,n,i+1);n.appendChild(u)}}),e.appendChild(r),r}#s(t,e,i){return t.id||`heading-menu-h${e}-${i}`}#r(t){this.hightLightTimer&&clearTimeout(this.hightLightTimer),this.hightLightTimer=setTimeout(()=>{let e=Array.from(this.linksTarget.querySelectorAll("[data-toc-anchor-param]")),i=null;for(let r=0;r<this.headings.length;r++){let s=this.headings[r],n=e.find(a=>a.dataset.tocAnchorParam===s.id);if(n&&this.isHeadingInView(s)){i=n;break}}e.forEach(r=>r.classList.remove("text-primary","font-bold")),i&&(i.classList.add("text-primary","font-bold"),i.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}))},50)}isHeadingInView(t){let e=t.getBoundingClientRect();return e.top>=this.headerHeight&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}navigateToAnchor(t){let{anchor:e}=t.params,i=document.getElementById(e);if(i){let r=this.headerHeight,s=i.getBoundingClientRect().top,n=s-r;console.log(r,s,n);let a={top:n,behavior:"smooth"};i.scrollIntoView({behavior:"smooth",block:"start"}),window.scrollBy(0,-r),window.scrollBy(0,n)}}get headings(){return Array.from(this.contentTarget.querySelectorAll("h1, h2, h3, h4, h5, h6"))}get headerHeight(){if(!this.hasHeaderSelectorValue||!this.headerSelectorValue)return 0;let t=document.querySelector(this.headerSelectorValue);return t&&window.getComputedStyle(t).getPropertyValue("position")==="fixed"?t.offsetHeight:0}};var Qa=Ol(Ga());var zi=class extends ce{connect(){let t=this.element.getElementsByTagName("img");Array.from(t).forEach(i=>{i.addEventListener("click",this.openViewer)})}openViewer=t=>{let e=t.currentTarget;new Qa.default(this.element,{toolbar:{zoomIn:1,zoomOut:1,oneToOne:1,reset:1,prev:1,play:{show:1,size:"large"},next:1,rotateLeft:1,rotateRight:1,flipHorizontal:1,flipVertical:1}}).view(e)}};var ji=class extends ce{static targets=["item"];static classes=["active"];connect(){this.itemTargets.forEach(t=>{t.href===window.location.pathname&&t.classList.add(this.activeClass)}),this.itemTargets.forEach(t=>{t.addEventListener("click",()=>{this.itemTargets.forEach(e=>{e.classList.remove(this.activeClass)}),t.classList.add(this.activeClass)})}),document.addEventListener("turbo:load",()=>this.#e())}#e(){console.log("change",window.location.pathname),this.itemTargets.forEach(t=>{let e;if(t.tagName=="SUMMARY"?e=t.querySelector("a"):e=t,e.getAttribute("href")===window.location.pathname){t.classList.add(this.activeClass);let i=t.closest("details");i&&i.setAttribute("open","")}else t.classList.remove(this.activeClass)})}};var Wi=class extends ce{static targets=["autoIcon","lightIcon","darkIcon","currentIcon"];connect(){this.systemThemeMediaQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.systemThemeMediaQuery.addEventListener("change",this.handleSystemThemeChange.bind(this)),this.#e(this.theme)}disconnect(){this.systemThemeMediaQuery.removeEventListener("change",this.handleSystemThemeChange.bind(this))}handleSystemThemeChange(){this.theme=="auto"&&this.#e(this.systemDark?"dark":"light")}toggle(t){let{mode:e}=t.params;this.theme=e,this.#e(e)}get theme(){let t=localStorage.getItem("theme");return t=="light"||t=="dark"?t:"auto"}set theme(t){t=="light"||t=="dark"?localStorage.setItem("theme",t):localStorage.removeItem("theme")}get systemDark(){return this.systemThemeMediaQuery.matches}#e(t){switch(t){case"dark":this.element.dataset.theme="dark",this.element.classList.add("dark");break;case"light":this.element.dataset.theme="light",this.element.classList.remove("dark");break;default:let e=this.systemDark;this.element.dataset.theme=e?"dark":"light",this.element.classList.toggle("dark",e);break}this.#t(t)}#t(t){let e=null;switch(t){case"light":e=this.lightIconTarget;break;case"dark":e=this.darkIconTarget;break;case"auto":default:e=this.autoIconTarget;break}e=e.cloneNode(!0),e.setAttribute("data-theme-target",this.currentIconTarget.dataset.themeTarget),e.setAttribute("class",this.currentIconTarget.classList),this.currentIconTarget.outerHTML=e.outerHTML}};var en=class extends ce{connect(){this.hasButtonTarget&&(this.originalContent=this.buttonTarget.innerHTML)}copy(e){e.preventDefault();let i=this.sourceTarget.innerHTML||this.sourceTarget.value;navigator.clipboard.writeText(i).then(()=>this.copied())}copied(){this.hasButtonTarget&&(this.timeout&&clearTimeout(this.timeout),this.buttonTarget.innerHTML=this.successContentValue,this.timeout=setTimeout(()=>{this.buttonTarget.innerHTML=this.originalContent},this.successDurationValue))}};en.targets=["button","source"],en.values={successContent:String,successDuration:{type:Number,default:2e3}};var el=en;var Ct=Vi.start();window.Stimulus=Ct;Ct.register("toc",$i);Ct.register("images-viewer",zi);Ct.register("nav-tree",ji);Ct.register("theme",Wi);Ct.register("clipboard",el);window.Turbo=Br;window.Alpine=Fi;Fi.plugin(Ba);Fi.start();})();
/*! Bundled license information:

viewerjs/dist/viewer.js:
  (*!
   * Viewer.js v1.11.6
   * https://fengyuanchen.github.io/viewerjs
   *
   * Copyright 2015-present Chen Fengyuan
   * Released under the MIT license
   *
   * Date: 2023-09-17T03:16:38.052Z
   *)

@hotwired/turbo/dist/turbo.es2017-esm.js:
  (*!
  Turbo 8.0.13
  Copyright  2025 37signals LLC
   *)
*/
