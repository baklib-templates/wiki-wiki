(()=>{var Fh=Object.create;var cs=Object.defineProperty;var Bh=Object.getOwnPropertyDescriptor;var $h=Object.getOwnPropertyNames;var Vh=Object.getPrototypeOf,Hh=Object.prototype.hasOwnProperty;var qh=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),jh=(t,e)=>{for(var r in e)cs(t,r,{get:e[r],enumerable:!0})},zh=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of $h(e))!Hh.call(t,n)&&n!==r&&cs(t,n,{get:()=>e[n],enumerable:!(i=Bh(e,n))||i.enumerable});return t};var Wh=(t,e,r)=>(r=t!=null?Fh(Vh(t)):{},zh(e||!t||!t.__esModule?cs(r,"default",{value:t,enumerable:!0}):r,t));var yu=qh((ha,da)=>{(function(t,e){typeof ha=="object"&&typeof da<"u"?da.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Viewer=e())})(ha,(function(){"use strict";function t(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")}function e(m,c){for(var d=0;d<c.length;d++){var u=c[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(m,a(u.key),u)}}function r(m,c,d){return c&&e(m.prototype,c),d&&e(m,d),Object.defineProperty(m,"prototype",{writable:!1}),m}function i(m,c,d){return(c=a(c))in m?Object.defineProperty(m,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):m[c]=d,m}function n(m,c){var d=Object.keys(m);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(m);c&&(u=u.filter(function(g){return Object.getOwnPropertyDescriptor(m,g).enumerable})),d.push.apply(d,u)}return d}function s(m){for(var c=1;c<arguments.length;c++){var d=arguments[c]!=null?arguments[c]:{};c%2?n(Object(d),!0).forEach(function(u){i(m,u,d[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(d)):n(Object(d)).forEach(function(u){Object.defineProperty(m,u,Object.getOwnPropertyDescriptor(d,u))})}return m}function o(m,c){if(typeof m!="object"||!m)return m;var d=m[Symbol.toPrimitive];if(d!==void 0){var u=d.call(m,c||"default");if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(m)}function a(m){var c=o(m,"string");return typeof c=="symbol"?c:c+""}function l(m){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},l(m)}var f={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},p='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',T=typeof window<"u"&&typeof window.document<"u",v=T?window:{},_=T&&v.document.documentElement?"ontouchstart"in v.document.documentElement:!1,R=T?"PointerEvent"in v:!1,y="viewer",S="move",C="switch",b="zoom",A="".concat(y,"-active"),h="".concat(y,"-close"),w="".concat(y,"-fade"),x="".concat(y,"-fixed"),L="".concat(y,"-fullscreen"),M="".concat(y,"-fullscreen-exit"),F="".concat(y,"-hide"),q="".concat(y,"-hide-md-down"),z="".concat(y,"-hide-sm-down"),G="".concat(y,"-hide-xs-down"),U="".concat(y,"-in"),J="".concat(y,"-invisible"),we="".concat(y,"-loading"),Oe="".concat(y,"-move"),xe="".concat(y,"-open"),se="".concat(y,"-show"),X="".concat(y,"-transition"),Pe="click",rt="dblclick",ze="dragstart",pt="focusin",Ke="keydown",oe="load",Ie="error",Pt=_?"touchend touchcancel":"mouseup",it=_?"touchmove":"mousemove",It=_?"touchstart":"mousedown",nt=R?"pointerdown":It,wt=R?"pointermove":it,Jt=R?"pointerup pointercancel":Pt,Dt="resize",Ne="transitionend",Qt="wheel",Nt="ready",Ft="show",er="shown",tr="hide",Ye="hidden",st="view",ot="viewed",mt="move",Bt="moved",rr="rotate",ir="rotated",nr="scale",sr="scaled",Bi="zoom",$i="zoomed",Vi="play",Hi="stop",Rr="".concat(y,"Action"),O=/\s\s*/,$=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function H(m){return typeof m=="string"}var Q=Number.isNaN||v.isNaN;function V(m){return typeof m=="number"&&!Q(m)}function fe(m){return typeof m>"u"}function Te(m){return l(m)==="object"&&m!==null}var $t=Object.prototype.hasOwnProperty;function Et(m){if(!Te(m))return!1;try{var c=m.constructor,d=c.prototype;return c&&d&&$t.call(d,"isPrototypeOf")}catch{return!1}}function K(m){return typeof m=="function"}function te(m,c){if(m&&K(c))if(Array.isArray(m)||V(m.length)){var d=m.length,u;for(u=0;u<d&&c.call(m,m[u],u,m)!==!1;u+=1);}else Te(m)&&Object.keys(m).forEach(function(g){c.call(m,m[g],g,m)});return m}var _e=Object.assign||function(c){for(var d=arguments.length,u=new Array(d>1?d-1:0),g=1;g<d;g++)u[g-1]=arguments[g];return Te(c)&&u.length>0&&u.forEach(function(E){Te(E)&&Object.keys(E).forEach(function(k){c[k]=E[k]})}),c},Vt=/^(?:width|height|left|top|marginLeft|marginTop)$/;function We(m,c){var d=m.style;te(c,function(u,g){Vt.test(g)&&V(u)&&(u+="px"),d[g]=u})}function ii(m){return H(m)?m.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):m}function at(m,c){return!m||!c?!1:m.classList?m.classList.contains(c):m.className.indexOf(c)>-1}function j(m,c){if(!(!m||!c)){if(V(m.length)){te(m,function(u){j(u,c)});return}if(m.classList){m.classList.add(c);return}var d=m.className.trim();d?d.indexOf(c)<0&&(m.className="".concat(d," ").concat(c)):m.className=c}}function ee(m,c){if(!(!m||!c)){if(V(m.length)){te(m,function(d){ee(d,c)});return}if(m.classList){m.classList.remove(c);return}m.className.indexOf(c)>=0&&(m.className=m.className.replace(c,""))}}function ni(m,c,d){if(c){if(V(m.length)){te(m,function(u){ni(u,c,d)});return}d?j(m,c):ee(m,c)}}var Ah=/([a-z\d])([A-Z])/g;function os(m){return m.replace(Ah,"$1-$2").toLowerCase()}function Mr(m,c){return Te(m[c])?m[c]:m.dataset?m.dataset[c]:m.getAttribute("data-".concat(os(c)))}function as(m,c,d){Te(d)?m[c]=d:m.dataset?m.dataset[c]=d:m.setAttribute("data-".concat(os(c)),d)}var Xa=(function(){var m=!1;if(T){var c=!1,d=function(){},u=Object.defineProperty({},"once",{get:function(){return m=!0,c},set:function(E){c=E}});v.addEventListener("test",d,u),v.removeEventListener("test",d,u)}return m})();function ie(m,c,d){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},g=d;c.trim().split(O).forEach(function(E){if(!Xa){var k=m.listeners;k&&k[E]&&k[E][d]&&(g=k[E][d],delete k[E][d],Object.keys(k[E]).length===0&&delete k[E],Object.keys(k).length===0&&delete m.listeners)}m.removeEventListener(E,g,u)})}function W(m,c,d){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},g=d;c.trim().split(O).forEach(function(E){if(u.once&&!Xa){var k=m.listeners,I=k===void 0?{}:k;g=function(){delete I[E][d],m.removeEventListener(E,g,u);for(var D=arguments.length,P=new Array(D),B=0;B<D;B++)P[B]=arguments[B];d.apply(m,P)},I[E]||(I[E]={}),I[E][d]&&m.removeEventListener(E,I[E][d],u),I[E][d]=g,m.listeners=I}m.addEventListener(E,g,u)})}function ve(m,c,d,u){var g;return K(Event)&&K(CustomEvent)?g=new CustomEvent(c,s({bubbles:!0,cancelable:!0,detail:d},u)):(g=document.createEvent("CustomEvent"),g.initCustomEvent(c,!0,!0,d)),m.dispatchEvent(g)}function kh(m){var c=m.getBoundingClientRect();return{left:c.left+(window.pageXOffset-document.documentElement.clientLeft),top:c.top+(window.pageYOffset-document.documentElement.clientTop)}}function qi(m){var c=m.rotate,d=m.scaleX,u=m.scaleY,g=m.translateX,E=m.translateY,k=[];V(g)&&g!==0&&k.push("translateX(".concat(g,"px)")),V(E)&&E!==0&&k.push("translateY(".concat(E,"px)")),V(c)&&c!==0&&k.push("rotate(".concat(c,"deg)")),V(d)&&d!==1&&k.push("scaleX(".concat(d,")")),V(u)&&u!==1&&k.push("scaleY(".concat(u,")"));var I=k.length?k.join(" "):"none";return{WebkitTransform:I,msTransform:I,transform:I}}function Ch(m){return H(m)?decodeURIComponent(m.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var ls=v.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(v.navigator.userAgent);function Za(m,c,d){var u=document.createElement("img");if(m.naturalWidth&&!ls)return d(m.naturalWidth,m.naturalHeight),u;var g=document.body||document.documentElement;return u.onload=function(){d(u.width,u.height),ls||g.removeChild(u)},te(c.inheritedAttributes,function(E){var k=m.getAttribute(E);k!==null&&u.setAttribute(E,k)}),u.src=m.src,ls||(u.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",g.appendChild(u)),u}function ji(m){switch(m){case 2:return G;case 3:return z;case 4:return q;default:return""}}function Oh(m){var c=s({},m),d=[];return te(m,function(u,g){delete c[g],te(c,function(E){var k=Math.abs(u.startX-E.startX),I=Math.abs(u.startY-E.startY),N=Math.abs(u.endX-E.endX),D=Math.abs(u.endY-E.endY),P=Math.sqrt(k*k+I*I),B=Math.sqrt(N*N+D*D),Z=(B-P)/P;d.push(Z)})}),d.sort(function(u,g){return Math.abs(u)<Math.abs(g)}),d[0]}function zi(m,c){var d=m.pageX,u=m.pageY,g={endX:d,endY:u};return c?g:s({timeStamp:Date.now(),startX:d,startY:u},g)}function _h(m){var c=0,d=0,u=0;return te(m,function(g){var E=g.startX,k=g.startY;c+=E,d+=k,u+=1}),c/=u,d/=u,{pageX:c,pageY:d}}var Lh={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var c=this.element.ownerDocument,d=c.body||c.documentElement;this.body=d,this.scrollbarWidth=window.innerWidth-c.documentElement.clientWidth,this.initialBodyPaddingRight=d.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(d).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var c=this.options,d=this.parent,u;c.inline&&(u={width:Math.max(d.offsetWidth,c.minWidth),height:Math.max(d.offsetHeight,c.minHeight)},this.parentData=u),(this.fulled||!u)&&(u=this.containerData),this.viewerData=_e({},u)},renderViewer:function(){this.options.inline&&!this.fulled&&We(this.viewer,this.viewerData)},initList:function(){var c=this,d=this.element,u=this.options,g=this.list,E=[];g.innerHTML="",te(this.images,function(k,I){var N=k.src,D=k.alt||Ch(N),P=c.getImageURL(k);if(N||P){var B=document.createElement("li"),Z=document.createElement("img");te(u.inheritedAttributes,function(be){var pe=k.getAttribute(be);pe!==null&&Z.setAttribute(be,pe)}),u.navbar&&(Z.src=N||P),Z.alt=D,Z.setAttribute("data-original-url",P||N),B.setAttribute("data-index",I),B.setAttribute("data-viewer-action","view"),B.setAttribute("role","button"),u.keyboard&&B.setAttribute("tabindex",0),B.appendChild(Z),g.appendChild(B),E.push(B)}}),this.items=E,te(E,function(k){var I=k.firstElementChild,N,D;as(I,"filled",!0),u.loading&&j(k,we),W(I,oe,N=function(B){ie(I,Ie,D),u.loading&&ee(k,we),c.loadImage(B)},{once:!0}),W(I,Ie,D=function(){ie(I,oe,N),u.loading&&ee(k,we)},{once:!0})}),u.transition&&W(d,ot,function(){j(g,X)},{once:!0})},renderList:function(){var c=this.index,d=this.items[c];if(d){var u=d.nextElementSibling,g=parseInt(window.getComputedStyle(u||d).marginLeft,10),E=d.offsetWidth,k=E+g;We(this.list,_e({width:k*this.length-g},qi({translateX:(this.viewerData.width-E)/2-k*c})))}},resetList:function(){var c=this.list;c.innerHTML="",ee(c,X),We(c,qi({translateX:0}))},initImage:function(c){var d=this,u=this.options,g=this.image,E=this.viewerData,k=this.footer.offsetHeight,I=E.width,N=Math.max(E.height-k,k),D=this.imageData||{},P;this.imageInitializing={abort:function(){P.onload=null}},P=Za(g,u,function(B,Z){var be=B/Z,pe=Math.max(0,Math.min(1,u.initialCoverage)),ue=I,Fe=N;d.imageInitializing=!1,N*be>I?Fe=I/be:ue=N*be,pe=V(pe)?pe:.9,ue=Math.min(ue*pe,B),Fe=Math.min(Fe*pe,Z);var qe=(I-ue)/2,je=(N-Fe)/2,ae={left:qe,top:je,x:qe,y:je,width:ue,height:Fe,oldRatio:1,ratio:ue/B,aspectRatio:be,naturalWidth:B,naturalHeight:Z},St=_e({},ae);u.rotatable&&(ae.rotate=D.rotate||0,St.rotate=0),u.scalable&&(ae.scaleX=D.scaleX||1,ae.scaleY=D.scaleY||1,St.scaleX=1,St.scaleY=1),d.imageData=ae,d.initialImageData=St,c&&c()})},renderImage:function(c){var d=this,u=this.image,g=this.imageData;if(We(u,_e({width:g.width,height:g.height,marginLeft:g.x,marginTop:g.y},qi(g))),c)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&at(u,X)){var E=function(){d.imageRendering=!1,c()};this.imageRendering={abort:function(){ie(u,Ne,E)}},W(u,Ne,E,{once:!0})}else c()},resetImage:function(){var c=this.image;c&&(this.viewing&&this.viewing.abort(),c.parentNode.removeChild(c),this.image=null,this.title.innerHTML="")}},Rh={bind:function(){var c=this.options,d=this.viewer,u=this.canvas,g=this.element.ownerDocument;W(d,Pe,this.onClick=this.click.bind(this)),W(d,ze,this.onDragStart=this.dragstart.bind(this)),W(u,nt,this.onPointerDown=this.pointerdown.bind(this)),W(g,wt,this.onPointerMove=this.pointermove.bind(this)),W(g,Jt,this.onPointerUp=this.pointerup.bind(this)),W(g,Ke,this.onKeyDown=this.keydown.bind(this)),W(window,Dt,this.onResize=this.resize.bind(this)),c.zoomable&&c.zoomOnWheel&&W(d,Qt,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),c.toggleOnDblclick&&W(u,rt,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var c=this.options,d=this.viewer,u=this.canvas,g=this.element.ownerDocument;ie(d,Pe,this.onClick),ie(d,ze,this.onDragStart),ie(u,nt,this.onPointerDown),ie(g,wt,this.onPointerMove),ie(g,Jt,this.onPointerUp),ie(g,Ke,this.onKeyDown),ie(window,Dt,this.onResize),c.zoomable&&c.zoomOnWheel&&ie(d,Qt,this.onWheel,{passive:!1,capture:!0}),c.toggleOnDblclick&&ie(u,rt,this.onDblclick)}},Mh={click:function(c){var d=this.options,u=this.imageData,g=c.target,E=Mr(g,Rr);switch(!E&&g.localName==="img"&&g.parentElement.localName==="li"&&(g=g.parentElement,E=Mr(g,Rr)),_&&c.isTrusted&&g===this.canvas&&clearTimeout(this.clickCanvasTimeout),E){case"mix":this.played?this.stop():d.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(Mr(g,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(d.loop);break;case"play":this.play(d.fullscreen);break;case"next":this.next(d.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-u.scaleX||-1);break;case"flip-vertical":this.scaleY(-u.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(c){c.preventDefault(),this.viewed&&c.target===this.image&&(_&&c.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(c.isTrusted?c:c.detail&&c.detail.originalEvent))},load:function(){var c=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var d=this.element,u=this.options,g=this.image,E=this.index,k=this.viewerData;ee(g,J),u.loading&&ee(this.canvas,we),g.style.cssText="height:0;"+"margin-left:".concat(k.width/2,"px;")+"margin-top:".concat(k.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){ni(g,Oe,u.movable),ni(g,X,u.transition),c.renderImage(function(){c.viewed=!0,c.viewing=!1,K(u.viewed)&&W(d,ot,u.viewed,{once:!0}),ve(d,ot,{originalImage:c.images[E],index:E,image:g},{cancelable:!1})})})},loadImage:function(c){var d=c.target,u=d.parentNode,g=u.offsetWidth||30,E=u.offsetHeight||50,k=!!Mr(d,"filled");Za(d,this.options,function(I,N){var D=I/N,P=g,B=E;E*D>g?k?P=E*D:B=g/D:k?B=g/D:P=E*D,We(d,_e({width:P,height:B},qi({translateX:(g-P)/2,translateY:(E-B)/2})))})},keydown:function(c){var d=this.options;if(d.keyboard){var u=c.keyCode||c.which||c.charCode;switch(u){case 13:this.viewer.contains(c.target)&&this.click(c);break}if(this.fulled)switch(u){case 27:this.played?this.stop():d.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(d.loop);break;case 38:c.preventDefault(),this.zoom(d.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(d.loop);break;case 40:c.preventDefault(),this.zoom(-d.zoomRatio,!0);break;case 48:case 49:c.ctrlKey&&(c.preventDefault(),this.toggle());break}}},dragstart:function(c){c.target.localName==="img"&&c.preventDefault()},pointerdown:function(c){var d=this.options,u=this.pointers,g=c.buttons,E=c.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(c.type==="mousedown"||c.type==="pointerdown"&&c.pointerType==="mouse")&&(V(g)&&g!==1||V(E)&&E!==0||c.ctrlKey))){c.preventDefault(),c.changedTouches?te(c.changedTouches,function(I){u[I.identifier]=zi(I)}):u[c.pointerId||0]=zi(c);var k=d.movable?S:!1;d.zoomOnTouch&&d.zoomable&&Object.keys(u).length>1?k=b:d.slideOnTouch&&(c.pointerType==="touch"||c.type==="touchstart")&&this.isSwitchable()&&(k=C),d.transition&&(k===S||k===b)&&ee(this.image,X),this.action=k}},pointermove:function(c){var d=this.pointers,u=this.action;!this.viewed||!u||(c.preventDefault(),c.changedTouches?te(c.changedTouches,function(g){_e(d[g.identifier]||{},zi(g,!0))}):_e(d[c.pointerId||0]||{},zi(c,!0)),this.change(c))},pointerup:function(c){var d=this,u=this.options,g=this.action,E=this.pointers,k;c.changedTouches?te(c.changedTouches,function(I){k=E[I.identifier],delete E[I.identifier]}):(k=E[c.pointerId||0],delete E[c.pointerId||0]),g&&(c.preventDefault(),u.transition&&(g===S||g===b)&&j(this.image,X),this.action=!1,_&&g!==b&&k&&Date.now()-k.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),u.toggleOnDblclick&&this.viewed&&c.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){ve(d.image,rt,{originalEvent:c})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){d.imageClicked=!1},500)):(this.imageClicked=!1,u.backdrop&&u.backdrop!=="static"&&c.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){ve(d.canvas,Pe,{originalEvent:c})},50)))))},resize:function(){var c=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){c.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}te(this.player.getElementsByTagName("img"),function(d){W(d,oe,c.loadImage.bind(c),{once:!0}),ve(d,oe)})}},wheel:function(c){var d=this;if(this.viewed&&(c.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){d.wheeling=!1},50);var u=Number(this.options.zoomRatio)||.1,g=1;c.deltaY?g=c.deltaY>0?1:-1:c.wheelDelta?g=-c.wheelDelta/120:c.detail&&(g=c.detail>0?1:-1),this.zoom(-g*u,!0,null,c)}}},Ph={show:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,d=this.element,u=this.options;if(u.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(c),this;if(K(u.show)&&W(d,Ft,u.show,{once:!0}),ve(d,Ft)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var g=this.viewer;if(ee(g,F),g.setAttribute("role","dialog"),g.setAttribute("aria-labelledby",this.title.id),g.setAttribute("aria-modal",!0),g.removeAttribute("aria-hidden"),u.transition&&!c){var E=this.shown.bind(this);this.transitioning={abort:function(){ie(g,Ne,E),ee(g,U)}},j(g,X),g.initialOffsetWidth=g.offsetWidth,W(g,Ne,E,{once:!0}),j(g,U)}else j(g,U),this.shown();return this},hide:function(){var c=this,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,u=this.element,g=this.options;if(g.inline||this.hiding||!(this.isShown||this.showing))return this;if(K(g.hide)&&W(u,tr,g.hide,{once:!0}),ve(u,tr)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var E=this.viewer,k=this.image,I=function(){ee(E,U),c.hidden()};if(g.transition&&!d){var N=function(B){B&&B.target===E&&(ie(E,Ne,N),c.hidden())},D=function(){at(E,X)?(W(E,Ne,N),ee(E,U)):I()};this.transitioning={abort:function(){c.viewed&&at(k,X)?ie(k,Ne,D):at(E,X)&&ie(E,Ne,N)}},this.viewed&&at(k,X)?(W(k,Ne,D,{once:!0}),this.zoomTo(0,!1,null,null,!0)):D()}else I();return this},view:function(){var c=this,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(d=Number(d)||0,this.hiding||this.played||d<0||d>=this.length||this.viewed&&d===this.index)return this;if(!this.isShown)return this.index=d,this.show();this.viewing&&this.viewing.abort();var u=this.element,g=this.options,E=this.title,k=this.canvas,I=this.items[d],N=I.querySelector("img"),D=Mr(N,"originalUrl"),P=N.getAttribute("alt"),B=document.createElement("img");if(te(g.inheritedAttributes,function(Fe){var qe=N.getAttribute(Fe);qe!==null&&B.setAttribute(Fe,qe)}),B.src=D,B.alt=P,K(g.view)&&W(u,st,g.view,{once:!0}),ve(u,st,{originalImage:this.images[d],index:d,image:B})===!1||!this.isShown||this.hiding||this.played)return this;var Z=this.items[this.index];Z&&(ee(Z,A),Z.removeAttribute("aria-selected")),j(I,A),I.setAttribute("aria-selected",!0),g.focus&&I.focus(),this.image=B,this.viewed=!1,this.index=d,this.imageData={},j(B,J),g.loading&&j(k,we),k.innerHTML="",k.appendChild(B),this.renderList(),E.innerHTML="";var be=function(){var qe=c.imageData,je=Array.isArray(g.title)?g.title[1]:g.title;E.innerHTML=ii(K(je)?je.call(c,B,qe):"".concat(P," (").concat(qe.naturalWidth," \xD7 ").concat(qe.naturalHeight,")"))},pe,ue;return W(u,ot,be,{once:!0}),this.viewing={abort:function(){ie(u,ot,be),B.complete?c.imageRendering?c.imageRendering.abort():c.imageInitializing&&c.imageInitializing.abort():(B.src="",ie(B,oe,pe),c.timeout&&clearTimeout(c.timeout))}},B.complete?this.load():(W(B,oe,pe=function(){ie(B,Ie,ue),c.load()},{once:!0}),W(B,Ie,ue=function(){ie(B,oe,pe),c.timeout&&(clearTimeout(c.timeout),c.timeout=!1),ee(B,J),g.loading&&ee(c.canvas,we)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){ee(B,J),c.timeout=!1},1e3)),this},prev:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,d=this.index-1;return d<0&&(d=c?this.length-1:0),this.view(d),this},next:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,d=this.length-1,u=this.index+1;return u>d&&(u=c?0:d),this.view(u),this},move:function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c,u=this.imageData;return this.moveTo(fe(c)?c:u.x+Number(c),fe(d)?d:u.y+Number(d)),this},moveTo:function(c){var d=this,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,E=this.element,k=this.options,I=this.imageData;if(c=Number(c),u=Number(u),this.viewed&&!this.played&&k.movable){var N=I.x,D=I.y,P=!1;if(V(c)?P=!0:c=N,V(u)?P=!0:u=D,P){if(K(k.move)&&W(E,mt,k.move,{once:!0}),ve(E,mt,{x:c,y:u,oldX:N,oldY:D,originalEvent:g})===!1)return this;I.x=c,I.y=u,I.left=c,I.top=u,this.moving=!0,this.renderImage(function(){d.moving=!1,K(k.moved)&&W(E,Bt,k.moved,{once:!0}),ve(E,Bt,{x:c,y:u,oldX:N,oldY:D,originalEvent:g},{cancelable:!1})})}}return this},rotate:function(c){return this.rotateTo((this.imageData.rotate||0)+Number(c)),this},rotateTo:function(c){var d=this,u=this.element,g=this.options,E=this.imageData;if(c=Number(c),V(c)&&this.viewed&&!this.played&&g.rotatable){var k=E.rotate;if(K(g.rotate)&&W(u,rr,g.rotate,{once:!0}),ve(u,rr,{degree:c,oldDegree:k})===!1)return this;E.rotate=c,this.rotating=!0,this.renderImage(function(){d.rotating=!1,K(g.rotated)&&W(u,ir,g.rotated,{once:!0}),ve(u,ir,{degree:c,oldDegree:k},{cancelable:!1})})}return this},scaleX:function(c){return this.scale(c,this.imageData.scaleY),this},scaleY:function(c){return this.scale(this.imageData.scaleX,c),this},scale:function(c){var d=this,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c,g=this.element,E=this.options,k=this.imageData;if(c=Number(c),u=Number(u),this.viewed&&!this.played&&E.scalable){var I=k.scaleX,N=k.scaleY,D=!1;if(V(c)?D=!0:c=I,V(u)?D=!0:u=N,D){if(K(E.scale)&&W(g,nr,E.scale,{once:!0}),ve(g,nr,{scaleX:c,scaleY:u,oldScaleX:I,oldScaleY:N})===!1)return this;k.scaleX=c,k.scaleY=u,this.scaling=!0,this.renderImage(function(){d.scaling=!1,K(E.scaled)&&W(g,sr,E.scaled,{once:!0}),ve(g,sr,{scaleX:c,scaleY:u,oldScaleX:I,oldScaleY:N},{cancelable:!1})})}}return this},zoom:function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,E=this.imageData;return c=Number(c),c<0?c=1/(1-c):c=1+c,this.zoomTo(E.width*c/E.naturalWidth,d,u,g),this},zoomTo:function(c){var d=this,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,I=this.element,N=this.options,D=this.pointers,P=this.imageData,B=P.x,Z=P.y,be=P.width,pe=P.height,ue=P.naturalWidth,Fe=P.naturalHeight;if(c=Math.max(0,c),V(c)&&this.viewed&&!this.played&&(k||N.zoomable)){if(!k){var qe=Math.max(.01,N.minZoomRatio),je=Math.min(100,N.maxZoomRatio);c=Math.min(Math.max(c,qe),je)}if(E)switch(E.type){case"wheel":N.zoomRatio>=.055&&c>.95&&c<1.05&&(c=1);break;case"pointermove":case"touchmove":case"mousemove":c>.99&&c<1.01&&(c=1);break}var ae=ue*c,St=Fe*c,or=ae-be,gt=St-pe,ar=P.ratio;if(K(N.zoom)&&W(I,Bi,N.zoom,{once:!0}),ve(I,Bi,{ratio:c,oldRatio:ar,originalEvent:E})===!1)return this;if(this.zooming=!0,E){var si=kh(this.viewer),Pr=D&&Object.keys(D).length>0?_h(D):{pageX:E.pageX,pageY:E.pageY};P.x-=or*((Pr.pageX-si.left-B)/be),P.y-=gt*((Pr.pageY-si.top-Z)/pe)}else Et(g)&&V(g.x)&&V(g.y)?(P.x-=or*((g.x-B)/be),P.y-=gt*((g.y-Z)/pe)):(P.x-=or/2,P.y-=gt/2);P.left=P.x,P.top=P.y,P.width=ae,P.height=St,P.oldRatio=ar,P.ratio=c,this.renderImage(function(){d.zooming=!1,K(N.zoomed)&&W(I,$i,N.zoomed,{once:!0}),ve(I,$i,{ratio:c,oldRatio:ar,originalEvent:E},{cancelable:!1})}),u&&this.tooltip()}return this},play:function(){var c=this,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var u=this.element,g=this.options;if(K(g.play)&&W(u,Vi,g.play,{once:!0}),ve(u,Vi)===!1)return this;var E=this.player,k=this.loadImage.bind(this),I=[],N=0,D=0;if(this.played=!0,this.onLoadWhenPlay=k,d&&this.requestFullscreen(d),j(E,se),te(this.items,function(Z,be){var pe=Z.querySelector("img"),ue=document.createElement("img");ue.src=Mr(pe,"originalUrl"),ue.alt=pe.getAttribute("alt"),ue.referrerPolicy=pe.referrerPolicy,N+=1,j(ue,w),ni(ue,X,g.transition),at(Z,A)&&(j(ue,U),D=be),I.push(ue),W(ue,oe,k,{once:!0}),E.appendChild(ue)}),V(g.interval)&&g.interval>0){var P=function(){clearTimeout(c.playing.timeout),ee(I[D],U),D-=1,D=D>=0?D:N-1,j(I[D],U),c.playing.timeout=setTimeout(P,g.interval)},B=function(){clearTimeout(c.playing.timeout),ee(I[D],U),D+=1,D=D<N?D:0,j(I[D],U),c.playing.timeout=setTimeout(B,g.interval)};N>1&&(this.playing={prev:P,next:B,timeout:setTimeout(B,g.interval)})}return this},stop:function(){var c=this;if(!this.played)return this;var d=this.element,u=this.options;if(K(u.stop)&&W(d,Hi,u.stop,{once:!0}),ve(d,Hi)===!1)return this;var g=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,te(g.getElementsByTagName("img"),function(E){ie(E,oe,c.onLoadWhenPlay)}),ee(g,se),g.innerHTML="",this.exitFullscreen(),this},full:function(){var c=this,d=this.options,u=this.viewer,g=this.image,E=this.list;return!this.isShown||this.played||this.fulled||!d.inline?this:(this.fulled=!0,this.open(),j(this.button,M),d.transition&&(ee(E,X),this.viewed&&ee(g,X)),j(u,x),u.setAttribute("role","dialog"),u.setAttribute("aria-labelledby",this.title.id),u.setAttribute("aria-modal",!0),u.removeAttribute("style"),We(u,{zIndex:d.zIndex}),d.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=_e({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){c.renderImage(function(){d.transition&&setTimeout(function(){j(g,X),j(E,X)},0)})}),this)},exit:function(){var c=this,d=this.options,u=this.viewer,g=this.image,E=this.list;return!this.isShown||this.played||!this.fulled||!d.inline?this:(this.fulled=!1,this.close(),ee(this.button,M),d.transition&&(ee(E,X),this.viewed&&ee(g,X)),d.focus&&this.clearEnforceFocus(),u.removeAttribute("role"),u.removeAttribute("aria-labelledby"),u.removeAttribute("aria-modal"),ee(u,x),We(u,{zIndex:d.zIndexInline}),this.viewerData=_e({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){c.renderImage(function(){d.transition&&setTimeout(function(){j(g,X),j(E,X)},0)})}),this)},tooltip:function(){var c=this,d=this.options,u=this.tooltipBox,g=this.imageData;return!this.viewed||this.played||!d.tooltip?this:(u.textContent="".concat(Math.round(g.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):d.transition?(this.fading&&ve(u,Ne),j(u,se),j(u,w),j(u,X),u.removeAttribute("aria-hidden"),u.initialOffsetWidth=u.offsetWidth,j(u,U)):(j(u,se),u.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){d.transition?(W(u,Ne,function(){ee(u,se),ee(u,w),ee(u,X),u.setAttribute("aria-hidden",!0),c.fading=!1},{once:!0}),ee(u,U),c.fading=!0):(ee(u,se),u.setAttribute("aria-hidden",!0)),c.tooltipping=!1},1e3),this)},toggle:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,c):this.zoomTo(1,!0,null,c),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=_e({},this.initialImageData),this.renderImage()),this},update:function(){var c=this,d=this.element,u=this.options,g=this.isImg;if(g&&!d.parentNode)return this.destroy();var E=[];if(te(g?[d]:d.querySelectorAll("img"),function(D){K(u.filter)?u.filter.call(c,D)&&E.push(D):c.getImageURL(D)&&E.push(D)}),!E.length)return this;if(this.images=E,this.length=E.length,this.ready){var k=[];if(te(this.items,function(D,P){var B=D.querySelector("img"),Z=E[P];Z&&B?(Z.src!==B.src||Z.alt!==B.alt)&&k.push(P):k.push(P)}),We(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var I=k.indexOf(this.index);if(I>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-I,this.length-1),0));else{var N=this.items[this.index];j(N,A),N.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var c=this.element,d=this.options;return c[y]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),d.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):d.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),d.inline||ie(c,Pe,this.onStart),c[y]=void 0,this):this}},Ih={getImageURL:function(c){var d=this.options.url;return H(d)?d=c.getAttribute(d):K(d)?d=d.call(this,c):d="",d},enforceFocus:function(){var c=this;this.clearEnforceFocus(),W(document,pt,this.onFocusin=function(d){var u=c.viewer,g=d.target;if(!(g===document||g===u||u.contains(g))){for(;g;){if(g.getAttribute("tabindex")!==null||g.getAttribute("aria-modal")==="true")return;g=g.parentElement}u.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(ie(document,pt,this.onFocusin),this.onFocusin=null)},open:function(){var c=this.body;j(c,xe),this.scrollbarWidth>0&&(c.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var c=this.body;ee(c,xe),this.scrollbarWidth>0&&(c.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var c=this.element,d=this.options,u=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,d.focus&&(u.focus(),this.enforceFocus()),K(d.shown)&&W(c,er,d.shown,{once:!0}),ve(c,er)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var c=this.element,d=this.options,u=this.viewer;d.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),j(u,F),u.removeAttribute("role"),u.removeAttribute("aria-labelledby"),u.removeAttribute("aria-modal"),u.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(K(d.hidden)&&W(c,Ye,d.hidden,{once:!0}),ve(c,Ye,null,{cancelable:!1}))},requestFullscreen:function(c){var d=this.element.ownerDocument;if(this.fulled&&!(d.fullscreenElement||d.webkitFullscreenElement||d.mozFullScreenElement||d.msFullscreenElement)){var u=d.documentElement;u.requestFullscreen?Et(c)?u.requestFullscreen(c):u.requestFullscreen():u.webkitRequestFullscreen?u.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):u.mozRequestFullScreen?u.mozRequestFullScreen():u.msRequestFullscreen&&u.msRequestFullscreen()}},exitFullscreen:function(){var c=this.element.ownerDocument;this.fulled&&(c.fullscreenElement||c.webkitFullscreenElement||c.mozFullScreenElement||c.msFullscreenElement)&&(c.exitFullscreen?c.exitFullscreen():c.webkitExitFullscreen?c.webkitExitFullscreen():c.mozCancelFullScreen?c.mozCancelFullScreen():c.msExitFullscreen&&c.msExitFullscreen())},change:function(c){var d=this.options,u=this.pointers,g=u[Object.keys(u)[0]];if(g){var E=g.endX-g.startX,k=g.endY-g.startY;switch(this.action){case S:(E!==0||k!==0)&&(this.pointerMoved=!0,this.move(E,k,c));break;case b:this.zoom(Oh(u),!1,null,c);break;case C:{this.action="switched";var I=Math.abs(E);I>1&&I>Math.abs(k)&&(this.pointers={},E>1?this.prev(d.loop):E<-1&&this.next(d.loop));break}}te(u,function(N){N.startX=N.endX,N.startY=N.endY})}},isSwitchable:function(){var c=this.imageData,d=this.viewerData;return this.length>1&&c.x>=0&&c.y>=0&&c.width<=d.width&&c.height<=d.height}},Dh=v.Viewer,Nh=(function(m){return function(){return m+=1,m}})(-1),Ga=(function(){function m(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t(this,m),!c||c.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=c,this.options=_e({},f,Et(d)&&d),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=Nh(),this.init()}return r(m,[{key:"init",value:function(){var d=this,u=this.element,g=this.options;if(!u[y]){u[y]=this,g.focus&&!g.keyboard&&(g.focus=!1);var E=u.localName==="img",k=[];if(te(E?[u]:u.querySelectorAll("img"),function(D){K(g.filter)?g.filter.call(d,D)&&k.push(D):d.getImageURL(D)&&k.push(D)}),this.isImg=E,this.length=k.length,this.images=k,this.initBody(),fe(document.createElement(y).style.transition)&&(g.transition=!1),g.inline){var I=0,N=function(){if(I+=1,I===d.length){var P;d.initializing=!1,d.delaying={abort:function(){clearTimeout(P)}},P=setTimeout(function(){d.delaying=!1,d.build()},0)}};this.initializing={abort:function(){te(k,function(P){P.complete||(ie(P,oe,N),ie(P,Ie,N))})}},te(k,function(D){if(D.complete)N();else{var P,B;W(D,oe,P=function(){ie(D,Ie,B),N()},{once:!0}),W(D,Ie,B=function(){ie(D,oe,P),N()},{once:!0})}})}else W(u,Pe,this.onStart=function(D){var P=D.target;P.localName==="img"&&(!K(g.filter)||g.filter.call(d,P))&&d.view(d.images.indexOf(P))})}}},{key:"build",value:function(){if(!this.ready){var d=this.element,u=this.options,g=d.parentNode,E=document.createElement("div");E.innerHTML=p;var k=E.querySelector(".".concat(y,"-container")),I=k.querySelector(".".concat(y,"-title")),N=k.querySelector(".".concat(y,"-toolbar")),D=k.querySelector(".".concat(y,"-navbar")),P=k.querySelector(".".concat(y,"-button")),B=k.querySelector(".".concat(y,"-canvas"));if(this.parent=g,this.viewer=k,this.title=I,this.toolbar=N,this.navbar=D,this.button=P,this.canvas=B,this.footer=k.querySelector(".".concat(y,"-footer")),this.tooltipBox=k.querySelector(".".concat(y,"-tooltip")),this.player=k.querySelector(".".concat(y,"-player")),this.list=k.querySelector(".".concat(y,"-list")),k.id="".concat(y).concat(this.id),I.id="".concat(y,"Title").concat(this.id),j(I,u.title?ji(Array.isArray(u.title)?u.title[0]:u.title):F),j(D,u.navbar?ji(u.navbar):F),ni(P,F,!u.button),u.keyboard&&P.setAttribute("tabindex",0),u.backdrop&&(j(k,"".concat(y,"-backdrop")),!u.inline&&u.backdrop!=="static"&&as(B,Rr,"hide")),H(u.className)&&u.className&&u.className.split(O).forEach(function(ae){j(k,ae)}),u.toolbar){var Z=document.createElement("ul"),be=Et(u.toolbar),pe=$.slice(0,3),ue=$.slice(7,9),Fe=$.slice(9);be||j(N,ji(u.toolbar)),te(be?u.toolbar:$,function(ae,St){var or=be&&Et(ae),gt=be?os(St):ae,ar=or&&!fe(ae.show)?ae.show:ae;if(!(!ar||!u.zoomable&&pe.indexOf(gt)!==-1||!u.rotatable&&ue.indexOf(gt)!==-1||!u.scalable&&Fe.indexOf(gt)!==-1)){var si=or&&!fe(ae.size)?ae.size:ae,Pr=or&&!fe(ae.click)?ae.click:ae,xt=document.createElement("li");u.keyboard&&xt.setAttribute("tabindex",0),xt.setAttribute("role","button"),j(xt,"".concat(y,"-").concat(gt)),K(Pr)||as(xt,Rr,gt),V(ar)&&j(xt,ji(ar)),["small","large"].indexOf(si)!==-1?j(xt,"".concat(y,"-").concat(si)):gt==="play"&&j(xt,"".concat(y,"-large")),K(Pr)&&W(xt,Pe,Pr),Z.appendChild(xt)}}),N.appendChild(Z)}else j(N,F);if(!u.rotatable){var qe=N.querySelectorAll('li[class*="rotate"]');j(qe,J),te(qe,function(ae){N.appendChild(ae)})}if(u.inline)j(P,L),We(k,{zIndex:u.zIndexInline}),window.getComputedStyle(g).position==="static"&&We(g,{position:"relative"}),g.insertBefore(k,d.nextSibling);else{j(P,h),j(k,x),j(k,w),j(k,F),We(k,{zIndex:u.zIndex});var je=u.container;H(je)&&(je=d.ownerDocument.querySelector(je)),je||(je=this.body),je.appendChild(k)}if(u.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,K(u.ready)&&W(d,Nt,u.ready,{once:!0}),ve(d,Nt)===!1){this.ready=!1;return}this.ready&&u.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=Dh,m}},{key:"setDefaults",value:function(d){_e(f,Et(d)&&d)}}])})();return _e(Ga.prototype,Lh,Rh,Mh,Ph,Ih),Ga}))});var Zs={};jh(Zs,{FetchEnctype:()=>qt,FetchMethod:()=>Ue,FetchRequest:()=>zt,FetchResponse:()=>Br,FrameElement:()=>Ze,FrameLoadingStyle:()=>cr,FrameRenderer:()=>Vr,PageRenderer:()=>Hr,PageSnapshot:()=>Xe,StreamActions:()=>Xs,StreamElement:()=>nn,StreamSourceElement:()=>sn,cache:()=>Sl,clearCache:()=>Cl,config:()=>Ae,connectStreamSource:()=>Ks,disconnectStreamSource:()=>Ys,fetch:()=>zs,fetchEnctypeFromString:()=>vl,fetchMethodFromString:()=>on,isSafe:()=>an,navigator:()=>xl,registerAdapter:()=>Tl,renderStreamMessage:()=>kl,session:()=>me,setConfirmMethod:()=>_l,setFormMode:()=>Ll,setProgressBarDelay:()=>Ol,start:()=>Us,visit:()=>Al});(function(t){if(typeof t.requestSubmit=="function")return;t.requestSubmit=function(i){i?(e(i,this),i.click()):(i=document.createElement("input"),i.type="submit",i.hidden=!0,this.appendChild(i),i.click(),this.removeChild(i))};function e(i,n){i instanceof HTMLElement||r(TypeError,"parameter 1 is not of type 'HTMLElement'"),i.type=="submit"||r(TypeError,"The specified element is not a submit button"),i.form==n||r(DOMException,"The specified element is not owned by this form element","NotFoundError")}function r(i,n,s){throw new i("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+n+".",s)}})(HTMLFormElement.prototype);var sl=new WeakMap;function Uh(t){let e=t instanceof Element?t:t instanceof Node?t.parentElement:null,r=e?e.closest("input, button"):null;return r?.type=="submit"?r:null}function Kh(t){let e=Uh(t.target);e&&e.form&&sl.set(e.form,e)}(function(){if("submitter"in Event.prototype)return;let t=window.Event.prototype;if("SubmitEvent"in window){let e=window.SubmitEvent.prototype;if(/Apple Computer/.test(navigator.vendor)&&!("submitter"in e))t=e;else return}addEventListener("click",Kh,!0),Object.defineProperty(t,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return sl.get(this.target)}})})();var cr={eager:"eager",lazy:"lazy"},Ze=class t extends HTMLElement{static delegateConstructor=void 0;loaded=Promise.resolve();static get observedAttributes(){return["disabled","loading","src"]}constructor(){super(),this.delegate=new t.delegateConstructor(this)}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(e){e=="loading"?this.delegate.loadingStyleChanged():e=="src"?this.delegate.sourceURLChanged():e=="disabled"&&this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(e){e?this.setAttribute("src",e):this.removeAttribute("src")}get refresh(){return this.getAttribute("refresh")}set refresh(e){e?this.setAttribute("refresh",e):this.removeAttribute("refresh")}get shouldReloadWithMorph(){return this.src&&this.refresh==="morph"}get loading(){return Yh(this.getAttribute("loading")||"")}set loading(e){e?this.setAttribute("loading",e):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(e){e?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){return this.ownerDocument?.documentElement?.hasAttribute("data-turbo-preview")}};function Yh(t){switch(t.toLowerCase()){case"lazy":return cr.lazy;default:return cr.eager}}var Xh={enabled:!0,progressBarDelay:500,unvisitableExtensions:new Set([".7z",".aac",".apk",".avi",".bmp",".bz2",".css",".csv",".deb",".dmg",".doc",".docx",".exe",".gif",".gz",".heic",".heif",".ico",".iso",".jpeg",".jpg",".js",".json",".m4a",".mkv",".mov",".mp3",".mp4",".mpeg",".mpg",".msi",".ogg",".ogv",".pdf",".pkg",".png",".ppt",".pptx",".rar",".rtf",".svg",".tar",".tif",".tiff",".txt",".wav",".webm",".webp",".wma",".wmv",".xls",".xlsx",".xml",".zip"])};function ai(t){if(t.getAttribute("data-turbo-eval")=="false")return t;{let e=document.createElement("script"),r=hl();return r&&(e.nonce=r),e.textContent=t.textContent,e.async=!1,Zh(e,t),e}}function Zh(t,e){for(let{name:r,value:i}of e.attributes)t.setAttribute(r,i)}function Gh(t){let e=document.createElement("template");return e.innerHTML=t,e.content}function he(t,{target:e,cancelable:r,detail:i}={}){let n=new CustomEvent(t,{cancelable:r,bubbles:!0,composed:!0,detail:i});return e&&e.isConnected?e.dispatchEvent(n):document.documentElement.dispatchEvent(n),n}function Ja(t){t.preventDefault(),t.stopImmediatePropagation()}function oi(){return document.visibilityState==="hidden"?al():ol()}function ol(){return new Promise(t=>requestAnimationFrame(()=>t()))}function al(){return new Promise(t=>setTimeout(()=>t(),0))}function Jh(){return Promise.resolve()}function ll(t=""){return new DOMParser().parseFromString(t,"text/html")}function cl(t,...e){let r=Qh(t,e).replace(/^\n/,"").split(`
`),i=r[0].match(/^\s+/),n=i?i[0].length:0;return r.map(s=>s.slice(n)).join(`
`)}function Qh(t,e){return t.reduce((r,i,n)=>{let s=e[n]==null?"":e[n];return r+i+s},"")}function jt(){return Array.from({length:36}).map((t,e)=>e==8||e==13||e==18||e==23?"-":e==14?"4":e==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)).join("")}function Ki(t,...e){for(let r of e.map(i=>i?.getAttribute(t)))if(typeof r=="string")return r;return null}function ed(t,...e){return e.some(r=>r&&r.hasAttribute(t))}function Yi(...t){for(let e of t)e.localName=="turbo-frame"&&e.setAttribute("busy",""),e.setAttribute("aria-busy","true")}function Xi(...t){for(let e of t)e.localName=="turbo-frame"&&e.removeAttribute("busy"),e.removeAttribute("aria-busy")}function td(t,e=2e3){return new Promise(r=>{let i=()=>{t.removeEventListener("error",i),t.removeEventListener("load",i),r()};t.addEventListener("load",i,{once:!0}),t.addEventListener("error",i,{once:!0}),setTimeout(r,e)})}function ul(t){switch(t){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function rd(t){return t=="advance"||t=="replace"||t=="restore"}function ur(...t){let e=Ki("data-turbo-action",...t);return rd(e)?e:null}function Hs(t){return document.querySelector(`meta[name="${t}"]`)}function Zi(t){let e=Hs(t);return e&&e.content}function hl(){let t=Hs("csp-nonce");if(t){let{nonce:e,content:r}=t;return e==""?r:e}}function id(t,e){let r=Hs(t);return r||(r=document.createElement("meta"),r.setAttribute("name",t),document.head.appendChild(r)),r.setAttribute("content",e),r}function Nr(t,e){if(t instanceof Element)return t.closest(e)||Nr(t.assignedSlot||t.getRootNode()?.host,e)}function qs(t){return!!t&&t.closest("[inert], :disabled, [hidden], details:not([open]), dialog:not([open])")==null&&typeof t.focus=="function"}function dl(t){return Array.from(t.querySelectorAll("[autofocus]")).find(qs)}async function nd(t,e){let r=e();t(),await ol();let i=e();return[r,i]}function fl(t){if(t==="_blank")return!1;if(t){for(let e of document.getElementsByName(t))if(e instanceof HTMLIFrameElement)return!1;return!0}else return!0}function pl(t){return Nr(t,"a[href]:not([target^=_]):not([download])")}function ml(t){return Le(t.getAttribute("href")||"")}function sd(t,e){let r=null;return(...i)=>{let n=()=>t.apply(this,i);clearTimeout(r),r=setTimeout(n,e)}}var od={"aria-disabled":{beforeSubmit:t=>{t.setAttribute("aria-disabled","true"),t.addEventListener("click",Ja)},afterSubmit:t=>{t.removeAttribute("aria-disabled"),t.removeEventListener("click",Ja)}},disabled:{beforeSubmit:t=>t.disabled=!0,afterSubmit:t=>t.disabled=!1}},us=class{#e=null;constructor(e){Object.assign(this,e)}get submitter(){return this.#e}set submitter(e){this.#e=od[e]||e}},ad=new us({mode:"on",submitter:"disabled"}),Ae={drive:Xh,forms:ad};function Le(t){return new URL(t.toString(),document.baseURI)}function hr(t){let e;if(t.hash)return t.hash.slice(1);if(e=t.href.match(/#(.*)$/))return e[1]}function js(t,e){let r=e?.getAttribute("formaction")||t.getAttribute("action")||t.action;return Le(r)}function ld(t){return(dd(t).match(/\.[^.]*$/)||[])[0]||""}function cd(t,e){let r=fd(e);return t.href===Le(r).href||t.href.startsWith(r)}function Ht(t,e){return cd(t,e)&&!Ae.drive.unvisitableExtensions.has(ld(t))}function hs(t){let e=hr(t);return e!=null?t.href.slice(0,-(e.length+1)):t.href}function Wi(t){return hs(t)}function ud(t,e){return Le(t).href==Le(e).href}function hd(t){return t.pathname.split("/").slice(1)}function dd(t){return hd(t).slice(-1)[0]}function fd(t){return pd(t.origin+t.pathname)}function pd(t){return t.endsWith("/")?t:t+"/"}var Br=class{constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return Le(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(e){return this.response.headers.get(e)}},ds=class extends Set{constructor(e){super(),this.maxSize=e}add(e){if(this.size>=this.maxSize){let i=this.values().next().value;this.delete(i)}super.add(e)}},gl=new ds(20),md=window.fetch;function zs(t,e={}){let r=new Headers(e.headers||{}),i=jt();return gl.add(i),r.append("X-Turbo-Request-Id",i),md(t,{...e,headers:r})}function on(t){switch(t.toLowerCase()){case"get":return Ue.get;case"post":return Ue.post;case"put":return Ue.put;case"patch":return Ue.patch;case"delete":return Ue.delete}}var Ue={get:"get",post:"post",put:"put",patch:"patch",delete:"delete"};function vl(t){switch(t.toLowerCase()){case qt.multipart:return qt.multipart;case qt.plain:return qt.plain;default:return qt.urlEncoded}}var qt={urlEncoded:"application/x-www-form-urlencoded",multipart:"multipart/form-data",plain:"text/plain"},zt=class{abortController=new AbortController;#e=e=>{};constructor(e,r,i,n=new URLSearchParams,s=null,o=qt.urlEncoded){let[a,l]=Qa(Le(i),r,n,o);this.delegate=e,this.url=a,this.target=s,this.fetchOptions={credentials:"same-origin",redirect:"follow",method:r.toUpperCase(),headers:{...this.defaultHeaders},body:l,signal:this.abortSignal,referrer:this.delegate.referrer?.href},this.enctype=o}get method(){return this.fetchOptions.method}set method(e){let r=this.isSafe?this.url.searchParams:this.fetchOptions.body||new FormData,i=on(e)||Ue.get;this.url.search="";let[n,s]=Qa(this.url,i,r,this.enctype);this.url=n,this.fetchOptions.body=s,this.fetchOptions.method=i.toUpperCase()}get headers(){return this.fetchOptions.headers}set headers(e){this.fetchOptions.headers=e}get body(){return this.isSafe?this.url.searchParams:this.fetchOptions.body}set body(e){this.fetchOptions.body=e}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){let{fetchOptions:e}=this;this.delegate.prepareRequest(this);let r=await this.#t(e);try{this.delegate.requestStarted(this),r.detail.fetchRequest?this.response=r.detail.fetchRequest.response:this.response=zs(this.url.href,e);let i=await this.response;return await this.receive(i)}catch(i){if(i.name!=="AbortError")throw this.#r(i)&&this.delegate.requestErrored(this,i),i}finally{this.delegate.requestFinished(this)}}async receive(e){let r=new Br(e);return he("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:r},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,r):r.succeeded?this.delegate.requestSucceededWithResponse(this,r):this.delegate.requestFailedWithResponse(this,r),r}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return an(this.method)}get abortSignal(){return this.abortController.signal}acceptResponseType(e){this.headers.Accept=[e,this.headers.Accept].join(", ")}async#t(e){let r=new Promise(n=>this.#e=n),i=he("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:e,url:this.url,resume:this.#e},target:this.target});return this.url=i.detail.url,i.defaultPrevented&&await r,i}#r(e){return!he("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:e}}).defaultPrevented}};function an(t){return on(t)==Ue.get}function Qa(t,e,r,i){let n=Array.from(r).length>0?new URLSearchParams(bl(r)):t.searchParams;return an(e)?[gd(t,n),null]:i==qt.urlEncoded?[t,n]:[t,r]}function bl(t){let e=[];for(let[r,i]of t)i instanceof File||e.push([r,i]);return e}function gd(t,e){let r=new URLSearchParams(bl(e));return t.search=r.toString(),t}var fs=class{started=!1;constructor(e,r){this.delegate=e,this.element=r,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}intersect=e=>{e.slice(-1)[0]?.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)}},Wt=class{static contentType="text/vnd.turbo-stream.html";static wrap(e){return typeof e=="string"?new this(Gh(e)):e}constructor(e){this.fragment=vd(e)}};function vd(t){for(let e of t.querySelectorAll("turbo-stream")){let r=document.importNode(e,!0);for(let i of r.templateElement.content.querySelectorAll("script"))i.replaceWith(ai(i));e.replaceWith(r)}return t}var bd=100,ps=class{#e=null;#t=null;get(e){if(this.#t&&this.#t.url===e&&this.#t.expire>Date.now())return this.#t.request}setLater(e,r,i){this.clear(),this.#e=setTimeout(()=>{r.perform(),this.set(e,r,i),this.#e=null},bd)}set(e,r,i){this.#t={url:e,request:r,expire:new Date(new Date().getTime()+i)}}clear(){this.#e&&clearTimeout(this.#e),this.#t=null}},yd=10*1e3,Dr=new ps,Ir={initialized:"initialized",requesting:"requesting",waiting:"waiting",receiving:"receiving",stopping:"stopping",stopped:"stopped"},Gi=class t{state=Ir.initialized;static confirmMethod(e){return Promise.resolve(confirm(e))}constructor(e,r,i,n=!1){let s=Ad(r,i),o=Td(xd(r,i),s),a=wd(r,i),l=kd(r,i);this.delegate=e,this.formElement=r,this.submitter=i,this.fetchRequest=new zt(this,s,o,a,r,l),this.mustRedirect=n}get method(){return this.fetchRequest.method}set method(e){this.fetchRequest.method=e}get action(){return this.fetchRequest.url.toString()}set action(e){this.fetchRequest.url=Le(e)}get body(){return this.fetchRequest.body}get enctype(){return this.fetchRequest.enctype}get isSafe(){return this.fetchRequest.isSafe}get location(){return this.fetchRequest.url}async start(){let{initialized:e,requesting:r}=Ir,i=Ki("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof i=="string"&&!await(typeof Ae.forms.confirm=="function"?Ae.forms.confirm:t.confirmMethod)(i,this.formElement,this.submitter))&&this.state==e)return this.state=r,this.fetchRequest.perform()}stop(){let{stopping:e,stopped:r}=Ir;if(this.state!=e&&this.state!=r)return this.state=e,this.fetchRequest.cancel(),!0}prepareRequest(e){if(!e.isSafe){let r=Ed(Zi("csrf-param"))||Zi("csrf-token");r&&(e.headers["X-CSRF-Token"]=r)}this.requestAcceptsTurboStreamResponse(e)&&e.acceptResponseType(Wt.contentType)}requestStarted(e){this.state=Ir.waiting,this.submitter&&Ae.forms.submitter.beforeSubmit(this.submitter),this.setSubmitsWith(),Yi(this.formElement),he("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,r){Dr.clear(),this.result={success:r.succeeded,fetchResponse:r}}requestSucceededWithResponse(e,r){if(r.clientError||r.serverError){this.delegate.formSubmissionFailedWithResponse(this,r);return}if(Dr.clear(),this.requestMustRedirect(e)&&Sd(r)){let i=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,i)}else this.state=Ir.receiving,this.result={success:!0,fetchResponse:r},this.delegate.formSubmissionSucceededWithResponse(this,r)}requestFailedWithResponse(e,r){this.result={success:!1,fetchResponse:r},this.delegate.formSubmissionFailedWithResponse(this,r)}requestErrored(e,r){this.result={success:!1,error:r},this.delegate.formSubmissionErrored(this,r)}requestFinished(e){this.state=Ir.stopped,this.submitter&&Ae.forms.submitter.afterSubmit(this.submitter),this.resetSubmitterText(),Xi(this.formElement),he("turbo:submit-end",{target:this.formElement,detail:{formSubmission:this,...this.result}}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){let e=this.submitter;this.originalSubmitText=e.value,e.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){let e=this.submitter;e.value=this.originalSubmitText}}}requestMustRedirect(e){return!e.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(e){return!e.isSafe||ed("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){return this.submitter?.getAttribute("data-turbo-submits-with")}};function wd(t,e){let r=new FormData(t),i=e?.getAttribute("name"),n=e?.getAttribute("value");return i&&r.append(i,n||""),r}function Ed(t){if(t!=null){let r=(document.cookie?document.cookie.split("; "):[]).find(i=>i.startsWith(t));if(r){let i=r.split("=").slice(1).join("=");return i?decodeURIComponent(i):void 0}}}function Sd(t){return t.statusCode==200&&!t.redirected}function xd(t,e){let r=typeof t.action=="string"?t.action:null;return e?.hasAttribute("formaction")?e.getAttribute("formaction")||"":t.getAttribute("action")||r||""}function Td(t,e){let r=Le(t);return an(e)&&(r.search=""),r}function Ad(t,e){let r=e?.getAttribute("formmethod")||t.getAttribute("method")||"";return on(r.toLowerCase())||Ue.get}function kd(t,e){return vl(e?.getAttribute("formenctype")||t.enctype)}var $r=class{constructor(e){this.element=e}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(e){return this.getElementForAnchor(e)!=null}getElementForAnchor(e){return e?this.element.querySelector(`[id='${e}'], a[name='${e}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){return dl(this.element)}get permanentElements(){return wl(this.element)}getPermanentElementById(e){return yl(this.element,e)}getPermanentElementMapForSnapshot(e){let r={};for(let i of this.permanentElements){let{id:n}=i,s=e.getPermanentElementById(n);s&&(r[n]=[i,s])}return r}};function yl(t,e){return t.querySelector(`#${e}[data-turbo-permanent]`)}function wl(t){return t.querySelectorAll("[id][data-turbo-permanent]")}var li=class{started=!1;constructor(e,r){this.delegate=e,this.eventTarget=r}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}submitCaptured=()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)};submitBubbled=e=>{if(!e.defaultPrevented){let r=e.target instanceof HTMLFormElement?e.target:void 0,i=e.submitter||void 0;r&&Cd(r,i)&&Od(r,i)&&this.delegate.willSubmitForm(r,i)&&(e.preventDefault(),e.stopImmediatePropagation(),this.delegate.formSubmitted(r,i))}}};function Cd(t,e){return(e?.getAttribute("formmethod")||t.getAttribute("method"))!="dialog"}function Od(t,e){let r=e?.getAttribute("formtarget")||t.getAttribute("target");return fl(r)}var Ji=class{#e=e=>{};#t=e=>{};constructor(e,r){this.delegate=e,this.element=r}scrollToAnchor(e){let r=this.snapshot.getElementForAnchor(e);r?(this.scrollToElement(r),this.focusElement(r)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(e){this.scrollToAnchor(hr(e))}scrollToElement(e){e.scrollIntoView()}focusElement(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))}scrollToPosition({x:e,y:r}){this.scrollRoot.scrollTo(e,r)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(e){let{isPreview:r,shouldRender:i,willRender:n,newSnapshot:s}=e,o=n;if(i)try{this.renderPromise=new Promise(p=>this.#e=p),this.renderer=e,await this.prepareToRenderSnapshot(e);let a=new Promise(p=>this.#t=p),l={resume:this.#t,render:this.renderer.renderElement,renderMethod:this.renderer.renderMethod};this.delegate.allowsImmediateRender(s,l)||await a,await this.renderSnapshot(e),this.delegate.viewRenderedSnapshot(s,r,this.renderer.renderMethod),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(e)}finally{delete this.renderer,this.#e(void 0),delete this.renderPromise}else o&&this.invalidate(e.reloadReason)}invalidate(e){this.delegate.viewInvalidated(e)}async prepareToRenderSnapshot(e){this.markAsPreview(e.isPreview),await e.prepareToRender()}markAsPreview(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}markVisitDirection(e){this.element.setAttribute("data-turbo-visit-direction",e)}unmarkVisitDirection(){this.element.removeAttribute("data-turbo-visit-direction")}async renderSnapshot(e){await e.render()}finishRenderingSnapshot(e){e.finishRendering()}},ms=class extends Ji{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new $r(this.element)}},Qi=class{constructor(e,r){this.delegate=e,this.element=r}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}clickBubbled=e=>{this.clickEventIsSignificant(e)?this.clickEvent=e:delete this.clickEvent};linkClicked=e=>{this.clickEvent&&this.clickEventIsSignificant(e)&&this.delegate.shouldInterceptLinkClick(e.target,e.detail.url,e.detail.originalEvent)&&(this.clickEvent.preventDefault(),e.preventDefault(),this.delegate.linkClickIntercepted(e.target,e.detail.url,e.detail.originalEvent)),delete this.clickEvent};willVisit=e=>{delete this.clickEvent};clickEventIsSignificant(e){let r=e.composed?e.target?.parentElement:e.target,i=pl(r)||r;return i instanceof Element&&i.closest("turbo-frame, html")==this.element}},en=class{started=!1;constructor(e,r){this.delegate=e,this.eventTarget=r}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickCaptured=()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)};clickBubbled=e=>{if(e instanceof MouseEvent&&this.clickEventIsSignificant(e)){let r=e.composedPath&&e.composedPath()[0]||e.target,i=pl(r);if(i&&fl(i.target)){let n=ml(i);this.delegate.willFollowLinkToLocation(i,n,e)&&(e.preventDefault(),this.delegate.followedLinkToLocation(i,n))}}};clickEventIsSignificant(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}},tn=class{constructor(e,r){this.delegate=e,this.linkInterceptor=new en(this,r)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}canPrefetchRequestToLocation(e,r){return!1}prefetchAndCacheRequestToLocation(e,r){}willFollowLinkToLocation(e,r,i){return this.delegate.willSubmitFormLinkToLocation(e,r,i)&&(e.hasAttribute("data-turbo-method")||e.hasAttribute("data-turbo-stream"))}followedLinkToLocation(e,r){let i=document.createElement("form"),n="hidden";for(let[T,v]of r.searchParams)i.append(Object.assign(document.createElement("input"),{type:n,name:T,value:v}));let s=Object.assign(r,{search:""});i.setAttribute("data-turbo","true"),i.setAttribute("action",s.href),i.setAttribute("hidden","");let o=e.getAttribute("data-turbo-method");o&&i.setAttribute("method",o);let a=e.getAttribute("data-turbo-frame");a&&i.setAttribute("data-turbo-frame",a);let l=ur(e);l&&i.setAttribute("data-turbo-action",l);let f=e.getAttribute("data-turbo-confirm");f&&i.setAttribute("data-turbo-confirm",f),e.hasAttribute("data-turbo-stream")&&i.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(e,r,i),document.body.appendChild(i),i.addEventListener("turbo:submit-end",()=>i.remove(),{once:!0}),requestAnimationFrame(()=>i.requestSubmit())}},rn=class{static async preservingPermanentElements(e,r,i){let n=new this(e,r);n.enter(),await i(),n.leave()}constructor(e,r){this.delegate=e,this.permanentElementMap=r}enter(){for(let e in this.permanentElementMap){let[r,i]=this.permanentElementMap[e];this.delegate.enteringBardo(r,i),this.replaceNewPermanentElementWithPlaceholder(i)}}leave(){for(let e in this.permanentElementMap){let[r]=this.permanentElementMap[e];this.replaceCurrentPermanentElementWithClone(r),this.replacePlaceholderWithPermanentElement(r),this.delegate.leavingBardo(r)}}replaceNewPermanentElementWithPlaceholder(e){let r=_d(e);e.replaceWith(r)}replaceCurrentPermanentElementWithClone(e){let r=e.cloneNode(!0);e.replaceWith(r)}replacePlaceholderWithPermanentElement(e){this.getPlaceholderById(e.id)?.replaceWith(e)}getPlaceholderById(e){return this.placeholders.find(r=>r.content==e)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}};function _d(t){let e=document.createElement("meta");return e.setAttribute("name","turbo-permanent-placeholder"),e.setAttribute("content",t.id),e}var ci=class{#e=null;static renderElement(e,r){}constructor(e,r,i,n=!0){this.currentSnapshot=e,this.newSnapshot=r,this.isPreview=i,this.willRender=n,this.renderElement=this.constructor.renderElement,this.promise=new Promise((s,o)=>this.resolvingFunctions={resolve:s,reject:o})}get shouldRender(){return!0}get shouldAutofocus(){return!0}get reloadReason(){}prepareToRender(){}render(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(e){await rn.preservingPermanentElements(this,this.permanentElementMap,e)}focusFirstAutofocusableElement(){if(this.shouldAutofocus){let e=this.connectedSnapshot.firstAutofocusableElement;e&&e.focus()}}enteringBardo(e){this.#e||e.contains(this.currentSnapshot.activeElement)&&(this.#e=this.currentSnapshot.activeElement)}leavingBardo(e){e.contains(this.#e)&&this.#e instanceof HTMLElement&&(this.#e.focus(),this.#e=null)}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}get renderMethod(){return"replace"}},Vr=class extends ci{static renderElement(e,r){let i=document.createRange();i.selectNodeContents(e),i.deleteContents();let n=r,s=n.ownerDocument?.createRange();s&&(s.selectNodeContents(n),e.appendChild(s.extractContents()))}constructor(e,r,i,n,s,o=!0){super(r,i,n,s,o),this.delegate=e}get shouldRender(){return!0}async render(){await oi(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await oi(),this.focusFirstAutofocusableElement(),await oi(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){let e=this.currentElement.firstElementChild,r=Ld(this.currentElement.getAttribute("data-autoscroll-block"),"end"),i=Rd(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(e)return e.scrollIntoView({block:r,behavior:i}),!0}return!1}activateScriptElements(){for(let e of this.newScriptElements){let r=ai(e);e.replaceWith(r)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}};function Ld(t,e){return t=="end"||t=="start"||t=="center"||t=="nearest"?t:e}function Rd(t,e){return t=="auto"||t=="smooth"?t:e}var Md=(function(){let t=()=>{},e={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:t,afterNodeAdded:t,beforeNodeMorphed:t,afterNodeMorphed:t,beforeNodeRemoved:t,afterNodeRemoved:t,beforeAttributeUpdated:t},head:{style:"merge",shouldPreserve:v=>v.getAttribute("im-preserve")==="true",shouldReAppend:v=>v.getAttribute("im-re-append")==="true",shouldRemove:t,afterHeadMorphed:t},restoreFocus:!0};function r(v,_,R={}){v=p(v);let y=T(_),S=f(v,y,R),C=n(S,()=>a(S,v,y,b=>b.morphStyle==="innerHTML"?(s(b,v,y),Array.from(v.childNodes)):i(b,v,y)));return S.pantry.remove(),C}function i(v,_,R){let y=T(_),S=Array.from(y.childNodes),C=S.indexOf(_),b=S.length-(C+1);return s(v,y,R,_,_.nextSibling),S=Array.from(y.childNodes),S.slice(C,S.length-b)}function n(v,_){if(!v.config.restoreFocus)return _();let R=document.activeElement;if(!(R instanceof HTMLInputElement||R instanceof HTMLTextAreaElement))return _();let{id:y,selectionStart:S,selectionEnd:C}=R,b=_();return y&&y!==document.activeElement?.id&&(R=v.target.querySelector(`#${y}`),R?.focus()),R&&!R.selectionEnd&&C&&R.setSelectionRange(S,C),b}let s=(function(){function v(h,w,x,L=null,M=null){w instanceof HTMLTemplateElement&&x instanceof HTMLTemplateElement&&(w=w.content,x=x.content),L||=w.firstChild;for(let F of x.childNodes){if(L&&L!=M){let z=R(h,F,L,M);if(z){z!==L&&S(h,L,z),o(z,F,h),L=z.nextSibling;continue}}if(F instanceof Element&&h.persistentIds.has(F.id)){let z=C(w,F.id,L,h);o(z,F,h),L=z.nextSibling;continue}let q=_(w,F,L,h);q&&(L=q.nextSibling)}for(;L&&L!=M;){let F=L;L=L.nextSibling,y(h,F)}}function _(h,w,x,L){if(L.callbacks.beforeNodeAdded(w)===!1)return null;if(L.idMap.has(w)){let M=document.createElement(w.tagName);return h.insertBefore(M,x),o(M,w,L),L.callbacks.afterNodeAdded(M),M}else{let M=document.importNode(w,!0);return h.insertBefore(M,x),L.callbacks.afterNodeAdded(M),M}}let R=(function(){function h(L,M,F,q){let z=null,G=M.nextSibling,U=0,J=F;for(;J&&J!=q;){if(x(J,M)){if(w(L,J,M))return J;z===null&&(L.idMap.has(J)||(z=J))}if(z===null&&G&&x(J,G)&&(U++,G=G.nextSibling,U>=2&&(z=void 0)),J.contains(document.activeElement))break;J=J.nextSibling}return z||null}function w(L,M,F){let q=L.idMap.get(M),z=L.idMap.get(F);if(!z||!q)return!1;for(let G of q)if(z.has(G))return!0;return!1}function x(L,M){let F=L,q=M;return F.nodeType===q.nodeType&&F.tagName===q.tagName&&(!F.id||F.id===q.id)}return h})();function y(h,w){if(h.idMap.has(w))A(h.pantry,w,null);else{if(h.callbacks.beforeNodeRemoved(w)===!1)return;w.parentNode?.removeChild(w),h.callbacks.afterNodeRemoved(w)}}function S(h,w,x){let L=w;for(;L&&L!==x;){let M=L;L=L.nextSibling,y(h,M)}return L}function C(h,w,x,L){let M=L.target.querySelector(`#${w}`)||L.pantry.querySelector(`#${w}`);return b(M,L),A(h,M,x),M}function b(h,w){let x=h.id;for(;h=h.parentNode;){let L=w.idMap.get(h);L&&(L.delete(x),L.size||w.idMap.delete(h))}}function A(h,w,x){if(h.moveBefore)try{h.moveBefore(w,x)}catch{h.insertBefore(w,x)}else h.insertBefore(w,x)}return v})(),o=(function(){function v(b,A,h){return h.ignoreActive&&b===document.activeElement?null:(h.callbacks.beforeNodeMorphed(b,A)===!1||(b instanceof HTMLHeadElement&&h.head.ignore||(b instanceof HTMLHeadElement&&h.head.style!=="morph"?l(b,A,h):(_(b,A,h),C(b,h)||s(h,b,A))),h.callbacks.afterNodeMorphed(b,A)),b)}function _(b,A,h){let w=A.nodeType;if(w===1){let x=b,L=A,M=x.attributes,F=L.attributes;for(let q of F)S(q.name,x,"update",h)||x.getAttribute(q.name)!==q.value&&x.setAttribute(q.name,q.value);for(let q=M.length-1;0<=q;q--){let z=M[q];if(z&&!L.hasAttribute(z.name)){if(S(z.name,x,"remove",h))continue;x.removeAttribute(z.name)}}C(x,h)||R(x,L,h)}(w===8||w===3)&&b.nodeValue!==A.nodeValue&&(b.nodeValue=A.nodeValue)}function R(b,A,h){if(b instanceof HTMLInputElement&&A instanceof HTMLInputElement&&A.type!=="file"){let w=A.value,x=b.value;y(b,A,"checked",h),y(b,A,"disabled",h),A.hasAttribute("value")?x!==w&&(S("value",b,"update",h)||(b.setAttribute("value",w),b.value=w)):S("value",b,"remove",h)||(b.value="",b.removeAttribute("value"))}else if(b instanceof HTMLOptionElement&&A instanceof HTMLOptionElement)y(b,A,"selected",h);else if(b instanceof HTMLTextAreaElement&&A instanceof HTMLTextAreaElement){let w=A.value,x=b.value;if(S("value",b,"update",h))return;w!==x&&(b.value=w),b.firstChild&&b.firstChild.nodeValue!==w&&(b.firstChild.nodeValue=w)}}function y(b,A,h,w){let x=A[h],L=b[h];if(x!==L){let M=S(h,b,"update",w);M||(b[h]=A[h]),x?M||b.setAttribute(h,""):S(h,b,"remove",w)||b.removeAttribute(h)}}function S(b,A,h,w){return b==="value"&&w.ignoreActiveValue&&A===document.activeElement?!0:w.callbacks.beforeAttributeUpdated(b,A,h)===!1}function C(b,A){return!!A.ignoreActiveValue&&b===document.activeElement&&b!==document.body}return v})();function a(v,_,R,y){if(v.head.block){let S=_.querySelector("head"),C=R.querySelector("head");if(S&&C){let b=l(S,C,v);return Promise.all(b).then(()=>{let A=Object.assign(v,{head:{block:!1,ignore:!0}});return y(A)})}}return y(v)}function l(v,_,R){let y=[],S=[],C=[],b=[],A=new Map;for(let w of _.children)A.set(w.outerHTML,w);for(let w of v.children){let x=A.has(w.outerHTML),L=R.head.shouldReAppend(w),M=R.head.shouldPreserve(w);x||M?L?S.push(w):(A.delete(w.outerHTML),C.push(w)):R.head.style==="append"?L&&(S.push(w),b.push(w)):R.head.shouldRemove(w)!==!1&&S.push(w)}b.push(...A.values());let h=[];for(let w of b){let x=document.createRange().createContextualFragment(w.outerHTML).firstChild;if(R.callbacks.beforeNodeAdded(x)!==!1){if("href"in x&&x.href||"src"in x&&x.src){let L,M=new Promise(function(F){L=F});x.addEventListener("load",function(){L()}),h.push(M)}v.appendChild(x),R.callbacks.afterNodeAdded(x),y.push(x)}}for(let w of S)R.callbacks.beforeNodeRemoved(w)!==!1&&(v.removeChild(w),R.callbacks.afterNodeRemoved(w));return R.head.afterHeadMorphed(v,{added:y,kept:C,removed:S}),h}let f=(function(){function v(A,h,w){let{persistentIds:x,idMap:L}=C(A,h),M=_(w),F=M.morphStyle||"outerHTML";if(!["innerHTML","outerHTML"].includes(F))throw`Do not understand how to morph style ${F}`;return{target:A,newContent:h,config:M,morphStyle:F,ignoreActive:M.ignoreActive,ignoreActiveValue:M.ignoreActiveValue,restoreFocus:M.restoreFocus,idMap:L,persistentIds:x,pantry:R(),callbacks:M.callbacks,head:M.head}}function _(A){let h=Object.assign({},e);return Object.assign(h,A),h.callbacks=Object.assign({},e.callbacks,A.callbacks),h.head=Object.assign({},e.head,A.head),h}function R(){let A=document.createElement("div");return A.hidden=!0,document.body.insertAdjacentElement("afterend",A),A}function y(A){let h=Array.from(A.querySelectorAll("[id]"));return A.id&&h.push(A),h}function S(A,h,w,x){for(let L of x)if(h.has(L.id)){let M=L;for(;M;){let F=A.get(M);if(F==null&&(F=new Set,A.set(M,F)),F.add(L.id),M===w)break;M=M.parentElement}}}function C(A,h){let w=y(A),x=y(h),L=b(w,x),M=new Map;S(M,L,A,w);let F=h.__idiomorphRoot||h;return S(M,L,F,x),{persistentIds:L,idMap:M}}function b(A,h){let w=new Set,x=new Map;for(let{id:M,tagName:F}of A)x.has(M)?w.add(M):x.set(M,F);let L=new Set;for(let{id:M,tagName:F}of h)L.has(M)?w.add(M):x.get(M)===F&&L.add(M);for(let M of w)L.delete(M);return L}return v})(),{normalizeElement:p,normalizeParent:T}=(function(){let v=new WeakSet;function _(C){return C instanceof Document?C.documentElement:C}function R(C){if(C==null)return document.createElement("div");if(typeof C=="string")return R(S(C));if(v.has(C))return C;if(C instanceof Node){if(C.parentNode)return y(C);{let b=document.createElement("div");return b.append(C),b}}else{let b=document.createElement("div");for(let A of[...C])b.append(A);return b}}function y(C){return{childNodes:[C],querySelectorAll:b=>{let A=C.querySelectorAll(b);return C.matches(b)?[C,...A]:A},insertBefore:(b,A)=>C.parentNode.insertBefore(b,A),moveBefore:(b,A)=>C.parentNode.moveBefore(b,A),get __idiomorphRoot(){return C}}}function S(C){let b=new DOMParser,A=C.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(A.match(/<\/html>/)||A.match(/<\/head>/)||A.match(/<\/body>/)){let h=b.parseFromString(C,"text/html");if(A.match(/<\/html>/))return v.add(h),h;{let w=h.firstChild;return w&&v.add(w),w}}else{let w=b.parseFromString("<body><template>"+C+"</template></body>","text/html").body.querySelector("template").content;return v.add(w),w}}return{normalizeElement:_,normalizeParent:R}})();return{morph:r,defaults:e}})();function Ws(t,e,{callbacks:r,...i}={}){Md.morph(t,e,{...i,callbacks:new gs(r)})}function El(t,e){Ws(t,e.childNodes,{morphStyle:"innerHTML"})}var gs=class{#e;constructor({beforeNodeMorphed:e}={}){this.#e=e||(()=>!0)}beforeNodeAdded=e=>!(e.id&&e.hasAttribute("data-turbo-permanent")&&document.getElementById(e.id));beforeNodeMorphed=(e,r)=>{if(e instanceof Element)return!e.hasAttribute("data-turbo-permanent")&&this.#e(e,r)?!he("turbo:before-morph-element",{cancelable:!0,target:e,detail:{currentElement:e,newElement:r}}).defaultPrevented:!1};beforeAttributeUpdated=(e,r,i)=>!he("turbo:before-morph-attribute",{cancelable:!0,target:r,detail:{attributeName:e,mutationType:i}}).defaultPrevented;beforeNodeRemoved=e=>this.beforeNodeMorphed(e);afterNodeMorphed=(e,r)=>{e instanceof Element&&he("turbo:morph-element",{target:e,detail:{currentElement:e,newElement:r}})}},vs=class extends Vr{static renderElement(e,r){he("turbo:before-frame-morph",{target:e,detail:{currentElement:e,newElement:r}}),El(e,r)}async preservingPermanentElements(e){return await e()}},bs=class t{static animationDuration=300;static get defaultCSS(){return cl`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${t.animationDuration}ms ease-out,
          opacity ${t.animationDuration/2}ms ${t.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}hiding=!1;value=0;visible=!1;constructor(){this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity="0",setTimeout(e,t.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,t.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}trickle=()=>{this.setValue(this.value+Math.random()/100)};refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){let e=document.createElement("style");e.type="text/css",e.textContent=t.defaultCSS;let r=hl();return r&&(e.nonce=r),e}createProgressElement(){let e=document.createElement("div");return e.className="turbo-progress-bar",e}},ys=class extends $r{detailsByOuterHTML=this.children.filter(e=>!Nd(e)).map(e=>$d(e)).reduce((e,r)=>{let{outerHTML:i}=r,n=i in e?e[i]:{type:Pd(r),tracked:Id(r),elements:[]};return{...e,[i]:{...n,elements:[...n.elements,r]}}},{});get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(e=>this.detailsByOuterHTML[e].tracked).join("")}getScriptElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("script",e)}getStylesheetElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",e)}getElementsMatchingTypeNotInSnapshot(e,r){return Object.keys(this.detailsByOuterHTML).filter(i=>!(i in r.detailsByOuterHTML)).map(i=>this.detailsByOuterHTML[i]).filter(({type:i})=>i==e).map(({elements:[i]})=>i)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((e,r)=>{let{type:i,tracked:n,elements:s}=this.detailsByOuterHTML[r];return i==null&&!n?[...e,...s]:s.length>1?[...e,...s.slice(1)]:e},[])}getMetaValue(e){let r=this.findMetaElementByName(e);return r?r.getAttribute("content"):null}findMetaElementByName(e){return Object.keys(this.detailsByOuterHTML).reduce((r,i)=>{let{elements:[n]}=this.detailsByOuterHTML[i];return Bd(n,e)?n:r},void 0|void 0)}};function Pd(t){if(Dd(t))return"script";if(Fd(t))return"stylesheet"}function Id(t){return t.getAttribute("data-turbo-track")=="reload"}function Dd(t){return t.localName=="script"}function Nd(t){return t.localName=="noscript"}function Fd(t){let e=t.localName;return e=="style"||e=="link"&&t.getAttribute("rel")=="stylesheet"}function Bd(t,e){return t.localName=="meta"&&t.getAttribute("name")==e}function $d(t){return t.hasAttribute("nonce")&&t.setAttribute("nonce",""),t}var Xe=class t extends $r{static fromHTMLString(e=""){return this.fromDocument(ll(e))}static fromElement(e){return this.fromDocument(e.ownerDocument)}static fromDocument({documentElement:e,body:r,head:i}){return new this(e,r,new ys(i))}constructor(e,r,i){super(r),this.documentElement=e,this.headSnapshot=i}clone(){let e=this.element.cloneNode(!0),r=this.element.querySelectorAll("select"),i=e.querySelectorAll("select");for(let[n,s]of r.entries()){let o=i[n];for(let a of o.selectedOptions)a.selected=!1;for(let a of s.selectedOptions)o.options[a.index].selected=!0}for(let n of e.querySelectorAll('input[type="password"]'))n.value="";return new t(this.documentElement,e,this.headSnapshot)}get lang(){return this.documentElement.getAttribute("lang")}get headElement(){return this.headSnapshot.element}get rootLocation(){let e=this.getSetting("root")??"/";return Le(e)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}get prefersViewTransitions(){return this.headSnapshot.getMetaValue("view-transition")==="same-origin"}get shouldMorphPage(){return this.getSetting("refresh-method")==="morph"}get shouldPreserveScrollPosition(){return this.getSetting("refresh-scroll")==="preserve"}getSetting(e){return this.headSnapshot.getMetaValue(`turbo-${e}`)}},ws=class{#e=!1;#t=Promise.resolve();renderChange(e,r){return e&&this.viewTransitionsAvailable&&!this.#e?(this.#e=!0,this.#t=this.#t.then(async()=>{await document.startViewTransition(r).finished})):this.#t=this.#t.then(r),this.#t}get viewTransitionsAvailable(){return document.startViewTransition}},Vd={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1},Ui={visitStart:"visitStart",requestStart:"requestStart",requestEnd:"requestEnd",visitEnd:"visitEnd"},Tt={initialized:"initialized",started:"started",canceled:"canceled",failed:"failed",completed:"completed"},Fr={networkFailure:0,timeoutFailure:-1,contentTypeMismatch:-2},Hd={advance:"forward",restore:"back",replace:"none"},Es=class{identifier=jt();timingMetrics={};followedRedirect=!1;historyChanged=!1;scrolled=!1;shouldCacheSnapshot=!0;acceptsStreamResponse=!1;snapshotCached=!1;state=Tt.initialized;viewTransitioner=new ws;constructor(e,r,i,n={}){this.delegate=e,this.location=r,this.restorationIdentifier=i||jt();let{action:s,historyChanged:o,referrer:a,snapshot:l,snapshotHTML:f,response:p,visitCachedSnapshot:T,willRender:v,updateHistory:_,shouldCacheSnapshot:R,acceptsStreamResponse:y,direction:S}={...Vd,...n};this.action=s,this.historyChanged=o,this.referrer=a,this.snapshot=l,this.snapshotHTML=f,this.response=p,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.isPageRefresh=this.view.isPageRefresh(this),this.visitCachedSnapshot=T,this.willRender=v,this.updateHistory=_,this.scrolled=!v,this.shouldCacheSnapshot=R,this.acceptsStreamResponse=y,this.direction=S||Hd[s]}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==Tt.initialized&&(this.recordTimingMetric(Ui.visitStart),this.state=Tt.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==Tt.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=Tt.canceled)}complete(){this.state==Tt.started&&(this.recordTimingMetric(Ui.visitEnd),this.adapter.visitCompleted(this),this.state=Tt.completed,this.followRedirect(),this.followedRedirect||this.delegate.visitCompleted(this))}fail(){this.state==Tt.started&&(this.state=Tt.failed,this.adapter.visitFailed(this),this.delegate.visitCompleted(this))}changeHistory(){if(!this.historyChanged&&this.updateHistory){let e=this.location.href===this.referrer?.href?"replace":this.action,r=ul(e);this.history.update(r,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new zt(this,Ue.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(Ui.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){let{statusCode:r}=e;el(r)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,r)}}finishRequest(){this.recordTimingMetric(Ui.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){let{statusCode:e,responseHTML:r}=this.response;this.render(async()=>{if(this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,el(e)&&r!=null){let i=Xe.fromHTMLString(r);await this.renderPageSnapshot(i,!1),this.adapter.visitRendered(this),this.complete()}else await this.view.renderError(Xe.fromHTMLString(r),this),this.adapter.visitRendered(this),this.fail()})}}getCachedSnapshot(){let e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!hr(this.location)||e.hasAnchor(hr(this.location)))&&(this.action=="restore"||e.isPreviewable))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return Xe.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){let e=this.getCachedSnapshot();if(e){let r=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage||this.isPageRefresh?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.renderPageSnapshot(e,r),this.adapter.visitRendered(this),r||this.complete())})}}followRedirect(){this.redirectedToLocation&&!this.followedRedirect&&this.response?.redirected&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)})}prepareRequest(e){this.acceptsStreamResponse&&e.acceptResponseType(Wt.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,r){}async requestSucceededWithResponse(e,r){let i=await r.responseHTML,{redirected:n,statusCode:s}=r;i==null?this.recordResponse({statusCode:Fr.contentTypeMismatch,redirected:n}):(this.redirectedToLocation=r.redirected?r.location:void 0,this.recordResponse({statusCode:s,responseHTML:i,redirected:n}))}async requestFailedWithResponse(e,r){let i=await r.responseHTML,{redirected:n,statusCode:s}=r;i==null?this.recordResponse({statusCode:Fr.contentTypeMismatch,redirected:n}):this.recordResponse({statusCode:s,responseHTML:i,redirected:n})}requestErrored(e,r){this.recordResponse({statusCode:Fr.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&!this.view.shouldPreserveScrollPosition(this)&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){let{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){let e=hr(this.location);if(e!=null)return this.view.scrollToAnchor(e),!0}recordTimingMetric(e){this.timingMetrics[e]=new Date().getTime()}getTimingMetrics(){return{...this.timingMetrics}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.isSamePage?!1:this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(e=>e&&this.visitCachedSnapshot(e)),this.snapshotCached=!0)}async render(e){this.cancelRender(),await new Promise(r=>{this.frame=document.visibilityState==="hidden"?setTimeout(()=>r(),0):requestAnimationFrame(()=>r())}),await e(),delete this.frame}async renderPageSnapshot(e,r){await this.viewTransitioner.renderChange(this.view.shouldTransitionTo(e),async()=>{await this.view.renderPage(e,r,this.willRender,this),this.performScroll()})}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}};function el(t){return t>=200&&t<300}var Ss=class{progressBar=new bs;constructor(e){this.session=e}visitProposedToLocation(e,r){Ht(e,this.navigator.rootLocation)?this.navigator.startVisit(e,r?.restorationIdentifier||jt(),r):window.location.href=e.toString()}visitStarted(e){this.location=e.location,e.loadCachedSnapshot(),e.issueRequest(),e.goToSamePageAnchor()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||e.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse()}visitRequestFailedWithStatusCode(e,r){switch(r){case Fr.networkFailure:case Fr.timeoutFailure:case Fr.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:r}});default:return e.loadResponse()}}visitRequestFinished(e){}visitCompleted(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}pageInvalidated(e){this.reload(e)}visitFailed(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitRendered(e){}linkPrefetchingIsEnabledForLocation(e){return!0}formSubmissionStarted(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(e){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}showProgressBar=()=>{this.progressBar.show()};reload(e){he("turbo:reload",{detail:e}),window.location.href=this.location?.toString()||window.location.href}get navigator(){return this.session.navigator}},xs=class{selector="[data-turbo-temporary]";deprecatedSelector="[data-turbo-cache=false]";started=!1;start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}removeTemporaryElements=e=>{for(let r of this.temporaryElements)r.remove()};get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){let e=document.querySelectorAll(this.deprecatedSelector);return e.length&&console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`),[...e]}},Ts=class{constructor(e,r){this.session=e,this.element=r,this.linkInterceptor=new Qi(this,r),this.formSubmitObserver=new li(this,r)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(e,r,i){return this.#t(e)}linkClickIntercepted(e,r,i){let n=this.#r(e);n&&n.delegate.linkClickIntercepted(e,r,i)}willSubmitForm(e,r){return e.closest("turbo-frame")==null&&this.#e(e,r)&&this.#t(e,r)}formSubmitted(e,r){let i=this.#r(e,r);i&&i.delegate.formSubmitted(e,r)}#e(e,r){let i=js(e,r),n=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),s=Le(n?.content??"/");return this.#t(e,r)&&Ht(i,s)}#t(e,r){if(e instanceof HTMLFormElement?this.session.submissionIsNavigatable(e,r):this.session.elementIsNavigatable(e)){let n=this.#r(e,r);return n?n!=e.closest("turbo-frame"):!1}else return!1}#r(e,r){let i=r?.getAttribute("data-turbo-frame")||e.getAttribute("data-turbo-frame");if(i&&i!="_top"){let n=this.element.querySelector(`#${i}:not([disabled])`);if(n instanceof Ze)return n}}},As=class{location;restorationIdentifier=jt();restorationData={};started=!1;pageLoaded=!1;currentIndex=0;constructor(e){this.delegate=e}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.currentIndex=history.state?.turbo?.restorationIndex||0,this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(e,r){this.update(history.pushState,e,r)}replace(e,r){this.update(history.replaceState,e,r)}update(e,r,i=jt()){e===history.pushState&&++this.currentIndex;let n={turbo:{restorationIdentifier:i,restorationIndex:this.currentIndex}};e.call(history,n,"",r.href),this.location=r,this.restorationIdentifier=i}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){let{restorationIdentifier:r}=this,i=this.restorationData[r];this.restorationData[r]={...i,...e}}assumeControlOfScrollRestoration(){this.previousScrollRestoration||(this.previousScrollRestoration=history.scrollRestoration??"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}onPopState=e=>{if(this.shouldHandlePopState()){let{turbo:r}=e.state||{};if(r){this.location=new URL(window.location.href);let{restorationIdentifier:i,restorationIndex:n}=r;this.restorationIdentifier=i;let s=n>this.currentIndex?"forward":"back";this.delegate.historyPoppedToLocationWithRestorationIdentifierAndDirection(this.location,i,s),this.currentIndex=n}}};onPageLoad=async e=>{await Jh(),this.pageLoaded=!0};shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}},ks=class{started=!1;#e=null;constructor(e,r){this.delegate=e,this.eventTarget=r}start(){this.started||(this.eventTarget.readyState==="loading"?this.eventTarget.addEventListener("DOMContentLoaded",this.#t,{once:!0}):this.#t())}stop(){this.started&&(this.eventTarget.removeEventListener("mouseenter",this.#r,{capture:!0,passive:!0}),this.eventTarget.removeEventListener("mouseleave",this.#n,{capture:!0,passive:!0}),this.eventTarget.removeEventListener("turbo:before-fetch-request",this.#o,!0),this.started=!1)}#t=()=>{this.eventTarget.addEventListener("mouseenter",this.#r,{capture:!0,passive:!0}),this.eventTarget.addEventListener("mouseleave",this.#n,{capture:!0,passive:!0}),this.eventTarget.addEventListener("turbo:before-fetch-request",this.#o,!0),this.started=!0};#r=e=>{if(Zi("turbo-prefetch")==="false")return;let r=e.target;if(r.matches&&r.matches("a[href]:not([target^=_]):not([download])")&&this.#l(r)){let n=r,s=ml(n);if(this.delegate.canPrefetchRequestToLocation(n,s)){this.#e=n;let o=new zt(this,Ue.get,s,new URLSearchParams,r);Dr.setLater(s.toString(),o,this.#s)}}};#n=e=>{e.target===this.#e&&this.#i()};#i=()=>{Dr.clear(),this.#e=null};#o=e=>{if(e.target.tagName!=="FORM"&&e.detail.fetchOptions.method==="GET"){let r=Dr.get(e.detail.url.toString());r&&(e.detail.fetchRequest=r),Dr.clear()}};prepareRequest(e){let r=e.target;e.headers["X-Sec-Purpose"]="prefetch";let i=r.closest("turbo-frame"),n=r.getAttribute("data-turbo-frame")||i?.getAttribute("target")||i?.id;n&&n!=="_top"&&(e.headers["Turbo-Frame"]=n)}requestSucceededWithResponse(){}requestStarted(e){}requestErrored(e){}requestFinished(e){}requestPreventedHandlingResponse(e,r){}requestFailedWithResponse(e,r){}get#s(){return Number(Zi("turbo-prefetch-cache-time"))||yd}#l(e){return!(!e.getAttribute("href")||qd(e)||jd(e)||zd(e)||Wd(e)||Kd(e))}},qd=t=>t.origin!==document.location.origin||!["http:","https:"].includes(t.protocol)||t.hasAttribute("target"),jd=t=>t.pathname+t.search===document.location.pathname+document.location.search||t.href.startsWith("#"),zd=t=>{if(t.getAttribute("data-turbo-prefetch")==="false"||t.getAttribute("data-turbo")==="false")return!0;let e=Nr(t,"[data-turbo-prefetch]");return!!(e&&e.getAttribute("data-turbo-prefetch")==="false")},Wd=t=>{let e=t.getAttribute("data-turbo-method");return!!(e&&e.toLowerCase()!=="get"||Ud(t)||t.hasAttribute("data-turbo-confirm")||t.hasAttribute("data-turbo-stream"))},Ud=t=>t.hasAttribute("data-remote")||t.hasAttribute("data-behavior")||t.hasAttribute("data-confirm")||t.hasAttribute("data-method"),Kd=t=>he("turbo:before-prefetch",{target:t,cancelable:!0}).defaultPrevented,Cs=class{constructor(e){this.delegate=e}proposeVisit(e,r={}){this.delegate.allowsVisitingLocationWithAction(e,r.action)&&this.delegate.visitProposedToLocation(e,r)}startVisit(e,r,i={}){this.stop(),this.currentVisit=new Es(this,Le(e),r,{referrer:this.location,...i}),this.currentVisit.start()}submitForm(e,r){this.stop(),this.formSubmission=new Gi(this,e,r,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get rootLocation(){return this.view.snapshot.rootLocation}get history(){return this.delegate.history}formSubmissionStarted(e){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(e)}async formSubmissionSucceededWithResponse(e,r){if(e==this.formSubmission){let i=await r.responseHTML;if(i){let n=e.isSafe;n||this.view.clearSnapshotCache();let{statusCode:s,redirected:o}=r,l={action:this.#e(e,r),shouldCacheSnapshot:n,response:{statusCode:s,responseHTML:i,redirected:o}};this.proposeVisit(r.location,l)}}}async formSubmissionFailedWithResponse(e,r){let i=await r.responseHTML;if(i){let n=Xe.fromHTMLString(i);r.serverError?await this.view.renderError(n,this.currentVisit):await this.view.renderPage(n,!1,!0,this.currentVisit),n.shouldPreserveScrollPosition||this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(e,r){console.error(r)}formSubmissionFinished(e){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(e)}linkPrefetchingIsEnabledForLocation(e){return typeof this.adapter.linkPrefetchingIsEnabledForLocation=="function"?this.adapter.linkPrefetchingIsEnabledForLocation(e):!0}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e),delete this.currentVisit}locationWithActionIsSamePage(e,r){let i=hr(e),n=hr(this.view.lastRenderedLocation),s=r==="restore"&&typeof i>"u";return r!=="replace"&&hs(e)===hs(this.view.lastRenderedLocation)&&(s||i!=null&&i!==n)}visitScrolledToSamePageLocation(e,r){this.delegate.visitScrolledToSamePageLocation(e,r)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}#e(e,r){let{submitter:i,formElement:n}=e;return ur(i,n)||this.#t(r)}#t(e){return e.redirected&&e.location.href===this.location?.href?"replace":"advance"}},lr={initial:0,loading:1,interactive:2,complete:3},Os=class{stage=lr.initial;started=!1;constructor(e){this.delegate=e}start(){this.started||(this.stage==lr.initial&&(this.stage=lr.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}interpretReadyState=()=>{let{readyState:e}=this;e=="interactive"?this.pageIsInteractive():e=="complete"&&this.pageIsComplete()};pageIsInteractive(){this.stage==lr.loading&&(this.stage=lr.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==lr.interactive&&(this.stage=lr.complete,this.delegate.pageLoaded())}pageWillUnload=()=>{this.delegate.pageWillUnload()};get readyState(){return document.readyState}},_s=class{started=!1;constructor(e){this.delegate=e}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})};updatePosition(e){this.delegate.scrollPositionChanged(e)}},Ls=class{render({fragment:e}){rn.preservingPermanentElements(this,Yd(e),()=>{Xd(e,()=>{Zd(()=>{document.documentElement.appendChild(e)})})})}enteringBardo(e,r){r.replaceWith(e.cloneNode(!0))}leavingBardo(){}};function Yd(t){let e=wl(document.documentElement),r={};for(let i of e){let{id:n}=i;for(let s of t.querySelectorAll("turbo-stream")){let o=yl(s.templateElement.content,n);o&&(r[n]=[i,o])}}return r}async function Xd(t,e){let r=`turbo-stream-autofocus-${jt()}`,i=t.querySelectorAll("turbo-stream"),n=Gd(i),s=null;if(n&&(n.id?s=n.id:s=r,n.id=s),e(),await oi(),(document.activeElement==null||document.activeElement==document.body)&&s){let a=document.getElementById(s);qs(a)&&a.focus(),a&&a.id==r&&a.removeAttribute("id")}}async function Zd(t){let[e,r]=await nd(t,()=>document.activeElement),i=e&&e.id;if(i){let n=document.getElementById(i);qs(n)&&n!=r&&n.focus()}}function Gd(t){for(let e of t){let r=dl(e.templateElement.content);if(r)return r}return null}var Rs=class{sources=new Set;#e=!1;constructor(e){this.delegate=e}start(){this.#e||(this.#e=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.#e&&(this.#e=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}inspectFetchResponse=e=>{let r=Jd(e);r&&Qd(r)&&(e.preventDefault(),this.receiveMessageResponse(r))};receiveMessageEvent=e=>{this.#e&&typeof e.data=="string"&&this.receiveMessageHTML(e.data)};async receiveMessageResponse(e){let r=await e.responseHTML;r&&this.receiveMessageHTML(r)}receiveMessageHTML(e){this.delegate.receivedMessageFromStream(Wt.wrap(e))}};function Jd(t){let e=t.detail?.fetchResponse;if(e instanceof Br)return e}function Qd(t){return(t.contentType??"").startsWith(Wt.contentType)}var Ms=class extends ci{static renderElement(e,r){let{documentElement:i,body:n}=document;i.replaceChild(r,n)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){let{documentElement:e,head:r}=document;e.replaceChild(this.newHead,r),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(let e of this.scriptElements){let r=e.parentNode;if(r){let i=ai(e);r.replaceChild(i,e)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}},Hr=class extends ci{static renderElement(e,r){document.body&&r instanceof HTMLBodyElement?document.body.replaceWith(r):document.documentElement.appendChild(r)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){this.#e(),await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}#e(){let{documentElement:e}=this.currentSnapshot,{lang:r}=this.newSnapshot;r?e.setAttribute("lang",r):e.removeAttribute("lang")}async mergeHead(){let e=this.mergeProvisionalElements(),r=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await e,await r,this.willRender&&this.removeUnusedDynamicStylesheetElements()}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){let e=[];for(let r of this.newHeadStylesheetElements)e.push(td(r)),document.head.appendChild(r);await Promise.all(e)}copyNewHeadScriptElements(){for(let e of this.newHeadScriptElements)document.head.appendChild(ai(e))}removeUnusedDynamicStylesheetElements(){for(let e of this.unusedDynamicStylesheetElements)document.head.removeChild(e)}async mergeProvisionalElements(){let e=[...this.newHeadProvisionalElements];for(let r of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(r,e)||document.head.removeChild(r);for(let r of e)document.head.appendChild(r)}isCurrentElementInElementList(e,r){for(let[i,n]of r.entries()){if(e.tagName=="TITLE"){if(n.tagName!="TITLE")continue;if(e.innerHTML==n.innerHTML)return r.splice(i,1),!0}if(n.isEqualNode(e))return r.splice(i,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(let e of this.currentHeadProvisionalElements)document.head.removeChild(e)}copyNewHeadProvisionalElements(){for(let e of this.newHeadProvisionalElements)document.head.appendChild(e)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(let e of this.newBodyScriptElements){let r=ai(e);e.replaceWith(r)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get unusedDynamicStylesheetElements(){return this.oldHeadStylesheetElements.filter(e=>e.getAttribute("data-turbo-track")==="dynamic")}get oldHeadStylesheetElements(){return this.currentHeadSnapshot.getStylesheetElementsNotInSnapshot(this.newHeadSnapshot)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}},Ps=class extends Hr{static renderElement(e,r){Ws(e,r,{callbacks:{beforeNodeMorphed:i=>!tl(i)}});for(let i of e.querySelectorAll("turbo-frame"))tl(i)&&i.reload();he("turbo:morph",{detail:{currentElement:e,newElement:r}})}async preservingPermanentElements(e){return await e()}get renderMethod(){return"morph"}get shouldAutofocus(){return!1}};function tl(t){return t instanceof Ze&&t.src&&t.refresh==="morph"&&!t.closest("[data-turbo-permanent]")}var Is=class{keys=[];snapshots={};constructor(e){this.size=e}has(e){return Wi(e)in this.snapshots}get(e){if(this.has(e)){let r=this.read(e);return this.touch(e),r}}put(e,r){return this.write(e,r),this.touch(e),r}clear(){this.snapshots={}}read(e){return this.snapshots[Wi(e)]}write(e,r){this.snapshots[Wi(e)]=r}touch(e){let r=Wi(e),i=this.keys.indexOf(r);i>-1&&this.keys.splice(i,1),this.keys.unshift(r),this.trim()}trim(){for(let e of this.keys.splice(this.size))delete this.snapshots[e]}},Ds=class extends Ji{snapshotCache=new Is(10);lastRenderedLocation=new URL(location.href);forceReloaded=!1;shouldTransitionTo(e){return this.snapshot.prefersViewTransitions&&e.prefersViewTransitions}renderPage(e,r=!1,i=!0,n){let o=this.isPageRefresh(n)&&this.snapshot.shouldMorphPage?Ps:Hr,a=new o(this.snapshot,e,r,i);return a.shouldRender?n?.changeHistory():this.forceReloaded=!0,this.render(a)}renderError(e,r){r?.changeHistory();let i=new Ms(this.snapshot,e,!1);return this.render(i)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(e=this.snapshot){if(e.isCacheable){this.delegate.viewWillCacheSnapshot();let{lastRenderedLocation:r}=this;await al();let i=e.clone();return this.snapshotCache.put(r,i),i}}getCachedSnapshotForLocation(e){return this.snapshotCache.get(e)}isPageRefresh(e){return!e||this.lastRenderedLocation.pathname===e.location.pathname&&e.action==="replace"}shouldPreserveScrollPosition(e){return this.isPageRefresh(e)&&this.snapshot.shouldPreserveScrollPosition}get snapshot(){return Xe.fromElement(this.element)}},Ns=class{selector="a[data-turbo-preload]";constructor(e,r){this.delegate=e,this.snapshotCache=r}start(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",this.#e):this.preloadOnLoadLinksForView(document.body)}stop(){document.removeEventListener("DOMContentLoaded",this.#e)}preloadOnLoadLinksForView(e){for(let r of e.querySelectorAll(this.selector))this.delegate.shouldPreloadLink(r)&&this.preloadURL(r)}async preloadURL(e){let r=new URL(e.href);if(this.snapshotCache.has(r))return;await new zt(this,Ue.get,r,new URLSearchParams,e).perform()}prepareRequest(e){e.headers["X-Sec-Purpose"]="prefetch"}async requestSucceededWithResponse(e,r){try{let i=await r.responseHTML,n=Xe.fromHTMLString(i);this.snapshotCache.put(e.url,n)}catch{}}requestStarted(e){}requestErrored(e){}requestFinished(e){}requestPreventedHandlingResponse(e,r){}requestFailedWithResponse(e,r){}#e=()=>{this.preloadOnLoadLinksForView(document.body)}},Fs=class{constructor(e){this.session=e}clear(){this.session.clearCache()}resetCacheControl(){this.#e("")}exemptPageFromCache(){this.#e("no-cache")}exemptPageFromPreview(){this.#e("no-preview")}#e(e){id("turbo-cache-control",e)}},Bs=class{navigator=new Cs(this);history=new As(this);view=new Ds(this,document.documentElement);adapter=new Ss(this);pageObserver=new Os(this);cacheObserver=new xs;linkPrefetchObserver=new ks(this,document);linkClickObserver=new en(this,window);formSubmitObserver=new li(this,document);scrollObserver=new _s(this);streamObserver=new Rs(this);formLinkClickObserver=new tn(this,document.documentElement);frameRedirector=new Ts(this,document.documentElement);streamMessageRenderer=new Ls;cache=new Fs(this);enabled=!0;started=!1;#e=150;constructor(e){this.recentRequests=e,this.preloader=new Ns(this,this.view.snapshotCache),this.debouncedRefresh=this.refresh,this.pageRefreshDebouncePeriod=this.pageRefreshDebouncePeriod}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.linkPrefetchObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.linkPrefetchObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.preloader.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,r={}){let i=r.frame?document.getElementById(r.frame):null;if(i instanceof Ze){let n=r.action||ur(i);i.delegate.proposeVisitIfNavigatedWithAction(i,n),i.src=e.toString()}else this.navigator.proposeVisit(Le(e),r)}refresh(e,r){let i=r&&this.recentRequests.has(r),n=e===document.baseURI;!i&&!this.navigator.currentVisit&&n&&this.visit(e,{action:"replace",shouldCacheSnapshot:!1})}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){this.streamMessageRenderer.render(Wt.wrap(e))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){console.warn("Please replace `session.setProgressBarDelay(delay)` with `session.progressBarDelay = delay`. The function is deprecated and will be removed in a future version of Turbo.`"),this.progressBarDelay=e}set progressBarDelay(e){Ae.drive.progressBarDelay=e}get progressBarDelay(){return Ae.drive.progressBarDelay}set drive(e){Ae.drive.enabled=e}get drive(){return Ae.drive.enabled}set formMode(e){Ae.forms.mode=e}get formMode(){return Ae.forms.mode}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}get pageRefreshDebouncePeriod(){return this.#e}set pageRefreshDebouncePeriod(e){this.refresh=sd(this.debouncedRefresh.bind(this),e),this.#e=e}shouldPreloadLink(e){let r=e.hasAttribute("data-turbo-method"),i=e.hasAttribute("data-turbo-stream"),n=e.getAttribute("data-turbo-frame"),s=n=="_top"?null:document.getElementById(n)||Nr(e,"turbo-frame:not([disabled])");if(r||i||s instanceof Ze)return!1;{let o=new URL(e.href);return this.elementIsNavigatable(e)&&Ht(o,this.snapshot.rootLocation)}}historyPoppedToLocationWithRestorationIdentifierAndDirection(e,r,i){this.enabled?this.navigator.startVisit(e,r,{action:"restore",historyChanged:!0,direction:i}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willSubmitFormLinkToLocation(e,r){return this.elementIsNavigatable(e)&&Ht(r,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}canPrefetchRequestToLocation(e,r){return this.elementIsNavigatable(e)&&Ht(r,this.snapshot.rootLocation)&&this.navigator.linkPrefetchingIsEnabledForLocation(r)}willFollowLinkToLocation(e,r,i){return this.elementIsNavigatable(e)&&Ht(r,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(e,r,i)}followedLinkToLocation(e,r){let i=this.getActionForLink(e),n=e.hasAttribute("data-turbo-stream");this.visit(r.href,{action:i,acceptsStreamResponse:n})}allowsVisitingLocationWithAction(e,r){return this.locationWithActionIsSamePage(e,r)||this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,r){rl(e),this.adapter.visitProposedToLocation(e,r)}visitStarted(e){e.acceptsStreamResponse||(Yi(document.documentElement),this.view.markVisitDirection(e.direction)),rl(e.location),e.silent||this.notifyApplicationAfterVisitingLocation(e.location,e.action)}visitCompleted(e){this.view.unmarkVisitDirection(),Xi(document.documentElement),this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}locationWithActionIsSamePage(e,r){return this.navigator.locationWithActionIsSamePage(e,r)}visitScrolledToSamePageLocation(e,r){this.notifyApplicationAfterVisitingSamePageLocation(e,r)}willSubmitForm(e,r){let i=js(e,r);return this.submissionIsNavigatable(e,r)&&Ht(Le(i),this.snapshot.rootLocation)}formSubmitted(e,r){this.navigator.submitForm(e,r)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillCacheSnapshot(){this.navigator.currentVisit?.silent||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:e},r){let i=this.notifyApplicationBeforeRender(e,r),{defaultPrevented:n,detail:{render:s}}=i;return this.view.renderer&&s&&(this.view.renderer.renderElement=s),!n}viewRenderedSnapshot(e,r,i){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender(i)}preloadOnLoadLinksForView(e){this.preloader.preloadOnLoadLinksForView(e)}viewInvalidated(e){this.adapter.pageInvalidated(e)}frameLoaded(e){this.notifyApplicationAfterFrameLoad(e)}frameRendered(e,r){this.notifyApplicationAfterFrameRender(e,r)}applicationAllowsFollowingLinkToLocation(e,r,i){return!this.notifyApplicationAfterClickingLinkToLocation(e,r,i).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,r,i){return he("turbo:click",{target:e,detail:{url:r.href,originalEvent:i},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return he("turbo:before-visit",{detail:{url:e.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(e,r){return he("turbo:visit",{detail:{url:e.href,action:r}})}notifyApplicationBeforeCachingSnapshot(){return he("turbo:before-cache")}notifyApplicationBeforeRender(e,r){return he("turbo:before-render",{detail:{newBody:e,...r},cancelable:!0})}notifyApplicationAfterRender(e){return he("turbo:render",{detail:{renderMethod:e}})}notifyApplicationAfterPageLoad(e={}){return he("turbo:load",{detail:{url:this.location.href,timing:e}})}notifyApplicationAfterVisitingSamePageLocation(e,r){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:e.toString(),newURL:r.toString()}))}notifyApplicationAfterFrameLoad(e){return he("turbo:frame-load",{target:e})}notifyApplicationAfterFrameRender(e,r){return he("turbo:frame-render",{detail:{fetchResponse:e},target:r,cancelable:!0})}submissionIsNavigatable(e,r){if(Ae.forms.mode=="off")return!1;{let i=r?this.elementIsNavigatable(r):!0;return Ae.forms.mode=="optin"?i&&e.closest('[data-turbo="true"]')!=null:i&&this.elementIsNavigatable(e)}}elementIsNavigatable(e){let r=Nr(e,"[data-turbo]"),i=Nr(e,"turbo-frame");return Ae.drive.enabled||i?r?r.getAttribute("data-turbo")!="false":!0:r?r.getAttribute("data-turbo")=="true":!1}getActionForLink(e){return ur(e)||"advance"}get snapshot(){return this.view.snapshot}};function rl(t){Object.defineProperties(t,ef)}var ef={absoluteURL:{get(){return this.toString()}}},me=new Bs(gl),{cache:Sl,navigator:xl}=me;function Us(){me.start()}function Tl(t){me.registerAdapter(t)}function Al(t,e){me.visit(t,e)}function Ks(t){me.connectStreamSource(t)}function Ys(t){me.disconnectStreamSource(t)}function kl(t){me.renderStreamMessage(t)}function Cl(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),me.clearCache()}function Ol(t){console.warn("Please replace `Turbo.setProgressBarDelay(delay)` with `Turbo.config.drive.progressBarDelay = delay`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),Ae.drive.progressBarDelay=t}function _l(t){console.warn("Please replace `Turbo.setConfirmMethod(confirmMethod)` with `Turbo.config.forms.confirm = confirmMethod`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),Ae.forms.confirm=t}function Ll(t){console.warn("Please replace `Turbo.setFormMode(mode)` with `Turbo.config.forms.mode = mode`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),Ae.forms.mode=t}var tf=Object.freeze({__proto__:null,navigator:xl,session:me,cache:Sl,PageRenderer:Hr,PageSnapshot:Xe,FrameRenderer:Vr,fetch:zs,config:Ae,start:Us,registerAdapter:Tl,visit:Al,connectStreamSource:Ks,disconnectStreamSource:Ys,renderStreamMessage:kl,clearCache:Cl,setProgressBarDelay:Ol,setConfirmMethod:_l,setFormMode:Ll}),$s=class extends Error{},Vs=class{fetchResponseLoaded=e=>Promise.resolve();#e=null;#t=()=>{};#r=!1;#n=!1;#i=new Set;#o=!1;action=null;constructor(e){this.element=e,this.view=new ms(this,this.element),this.appearanceObserver=new fs(this,this.element),this.formLinkClickObserver=new tn(this,this.element),this.linkInterceptor=new Qi(this,this.element),this.restorationIdentifier=jt(),this.formSubmitObserver=new li(this,this.element)}connect(){this.#r||(this.#r=!0,this.loadingStyle==cr.lazy?this.appearanceObserver.start():this.#s(),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){this.#r&&(this.#r=!1,this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==cr.eager&&this.#s()}sourceURLChanged(){this.#b("src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==cr.eager||this.#n)&&this.#s())}sourceURLReloaded(){let{refresh:e,src:r}=this.element;return this.#o=r&&e==="morph",this.element.removeAttribute("complete"),this.element.src=null,this.element.src=r,this.element.loaded}loadingStyleChanged(){this.loadingStyle==cr.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.#s())}async#s(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=this.#h(Le(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,this.#n=!0)}async loadResponse(e){(e.redirected||e.succeeded&&e.isHTML)&&(this.sourceURL=e.response.url);try{let r=await e.responseHTML;if(r){let i=ll(r);Xe.fromDocument(i).isVisitable?await this.#l(e,i):await this.#f(e)}}finally{this.#o=!1,this.fetchResponseLoaded=()=>Promise.resolve()}}elementAppearedInViewport(e){this.proposeVisitIfNavigatedWithAction(e,ur(e)),this.#s()}willSubmitFormLinkToLocation(e){return this.#c(e)}submittedFormLinkToLocation(e,r,i){let n=this.#a(e);n&&i.setAttribute("data-turbo-frame",n.id)}shouldInterceptLinkClick(e,r,i){return this.#c(e)}linkClickIntercepted(e,r){this.#d(e,r)}willSubmitForm(e,r){return e.closest("turbo-frame")==this.element&&this.#c(e,r)}formSubmitted(e,r){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new Gi(this,e,r);let{fetchRequest:i}=this.formSubmission;this.prepareRequest(i),this.formSubmission.start()}prepareRequest(e){e.headers["Turbo-Frame"]=this.id,this.currentNavigationElement?.hasAttribute("data-turbo-stream")&&e.acceptResponseType(Wt.contentType)}requestStarted(e){Yi(this.element)}requestPreventedHandlingResponse(e,r){this.#t()}async requestSucceededWithResponse(e,r){await this.loadResponse(r),this.#t()}async requestFailedWithResponse(e,r){await this.loadResponse(r),this.#t()}requestErrored(e,r){console.error(r),this.#t()}requestFinished(e){Xi(this.element)}formSubmissionStarted({formElement:e}){Yi(e,this.#a(e))}formSubmissionSucceededWithResponse(e,r){let i=this.#a(e.formElement,e.submitter);i.delegate.proposeVisitIfNavigatedWithAction(i,ur(e.submitter,e.formElement,i)),i.delegate.loadResponse(r),e.isSafe||me.clearCache()}formSubmissionFailedWithResponse(e,r){this.element.delegate.loadResponse(r),me.clearCache()}formSubmissionErrored(e,r){console.error(r)}formSubmissionFinished({formElement:e}){Xi(e,this.#a(e))}allowsImmediateRender({element:e},r){let i=he("turbo:before-frame-render",{target:this.element,detail:{newFrame:e,...r},cancelable:!0}),{defaultPrevented:n,detail:{render:s}}=i;return this.view.renderer&&s&&(this.view.renderer.renderElement=s),!n}viewRenderedSnapshot(e,r,i){}preloadOnLoadLinksForView(e){me.preloadOnLoadLinksForView(e)}viewInvalidated(){}willRenderFrame(e,r){this.previousFrameElement=e.cloneNode(!0)}visitCachedSnapshot=({element:e})=>{let r=e.querySelector("#"+this.element.id);r&&this.previousFrameElement&&r.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement};async#l(e,r){let i=await this.extractForeignFrameElement(r.body),n=this.#o?vs:Vr;if(i){let s=new $r(i),o=new n(this,this.view.snapshot,s,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(o),this.complete=!0,me.frameRendered(e,this.element),me.frameLoaded(this.element),await this.fetchResponseLoaded(e)}else this.#p(e)&&this.#m(e)}async#h(e){let r=new zt(this,Ue.get,e,new URLSearchParams,this.element);return this.#e?.cancel(),this.#e=r,new Promise(i=>{this.#t=()=>{this.#t=()=>{},this.#e=null,i()},r.perform()})}#d(e,r,i){let n=this.#a(e,i);n.delegate.proposeVisitIfNavigatedWithAction(n,ur(i,e,n)),this.#w(e,()=>{n.src=r})}proposeVisitIfNavigatedWithAction(e,r=null){if(this.action=r,this.action){let i=Xe.fromElement(e).clone(),{visitCachedSnapshot:n}=e.delegate;e.delegate.fetchResponseLoaded=async s=>{if(e.src){let{statusCode:o,redirected:a}=s,l=await s.responseHTML,p={response:{statusCode:o,redirected:a,responseHTML:l},visitCachedSnapshot:n,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:i};this.action&&(p.action=this.action),me.visit(e.src,p)}}}}changeHistory(){if(this.action){let e=ul(this.action);me.history.update(e,Le(this.element.src||""),this.restorationIdentifier)}}async#f(e){console.warn(`The response (${e.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await this.#u(e.response)}#p(e){this.element.setAttribute("complete","");let r=e.response,i=async(s,o)=>{s instanceof Response?this.#u(s):me.visit(s,o)};return!he("turbo:frame-missing",{target:this.element,detail:{response:r,visit:i},cancelable:!0}).defaultPrevented}#m(e){this.view.missing(),this.#g(e)}#g(e){let r=`The response (${e.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new $s(r)}async#u(e){let r=new Br(e),i=await r.responseHTML,{location:n,redirected:s,statusCode:o}=r;return me.visit(n,{response:{redirected:s,statusCode:o,responseHTML:i}})}#a(e,r){let i=Ki("data-turbo-frame",r,e)||this.element.getAttribute("target");return il(i)??this.element}async extractForeignFrameElement(e){let r,i=CSS.escape(this.id);try{if(r=nl(e.querySelector(`turbo-frame#${i}`),this.sourceURL),r)return r;if(r=nl(e.querySelector(`turbo-frame[src][recurse~=${i}]`),this.sourceURL),r)return await r.loaded,await this.extractForeignFrameElement(r)}catch(n){return console.error(n),new Ze}return null}#v(e,r){let i=js(e,r);return Ht(Le(i),this.rootLocation)}#c(e,r){let i=Ki("data-turbo-frame",r,e)||this.element.getAttribute("target");if(e instanceof HTMLFormElement&&!this.#v(e,r)||!this.enabled||i=="_top")return!1;if(i){let n=il(i);if(n)return!n.disabled}return!(!me.elementIsNavigatable(e)||r&&!me.elementIsNavigatable(r))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(e){this.#y("src",()=>{this.element.src=e??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||this.#t()!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(e){e?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")}get isActive(){return this.element.isActive&&this.#r}get rootLocation(){let r=this.element.ownerDocument.querySelector('meta[name="turbo-root"]')?.content??"/";return Le(r)}#b(e){return this.#i.has(e)}#y(e,r){this.#i.add(e),r(),this.#i.delete(e)}#w(e,r){this.currentNavigationElement=e,r(),delete this.currentNavigationElement}};function il(t){if(t!=null){let e=document.getElementById(t);if(e instanceof Ze)return e}}function nl(t,e){if(t){let r=t.getAttribute("src");if(r!=null&&e!=null&&ud(r,e))throw new Error(`Matching <turbo-frame id="${t.id}"> element has a source URL which references itself`);if(t.ownerDocument!==document&&(t=document.importNode(t,!0)),t instanceof Ze)return t.connectedCallback(),t.disconnectedCallback(),t}}var Xs={after(){this.targetElements.forEach(t=>t.parentElement?.insertBefore(this.templateContent,t.nextSibling))},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(t=>t.append(this.templateContent))},before(){this.targetElements.forEach(t=>t.parentElement?.insertBefore(this.templateContent,t))},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(t=>t.prepend(this.templateContent))},remove(){this.targetElements.forEach(t=>t.remove())},replace(){let t=this.getAttribute("method");this.targetElements.forEach(e=>{t==="morph"?Ws(e,this.templateContent):e.replaceWith(this.templateContent)})},update(){let t=this.getAttribute("method");this.targetElements.forEach(e=>{t==="morph"?El(e,this.templateContent):(e.innerHTML="",e.append(this.templateContent))})},refresh(){me.refresh(this.baseURI,this.requestId)}},nn=class t extends HTMLElement{static async renderElement(e){await e.performAction()}async connectedCallback(){try{await this.render()}catch(e){console.error(e)}finally{this.disconnect()}}async render(){return this.renderPromise??=(async()=>{let e=this.beforeRenderEvent;this.dispatchEvent(e)&&(await oi(),await e.detail.render(this))})()}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(e=>e.remove())}get duplicateChildren(){let e=this.targetElements.flatMap(i=>[...i.children]).filter(i=>!!i.getAttribute("id")),r=[...this.templateContent?.children||[]].filter(i=>!!i.getAttribute("id")).map(i=>i.getAttribute("id"));return e.filter(i=>r.includes(i.getAttribute("id")))}get performAction(){if(this.action){let e=Xs[this.action];if(e)return e;this.#e("unknown action")}this.#e("action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;this.#e("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){let e=this.ownerDocument.createElement("template");return this.appendChild(e),e}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.#e("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}get requestId(){return this.getAttribute("request-id")}#e(e){throw new Error(`${this.description}: ${e}`)}get description(){return(this.outerHTML.match(/<[^>]+>/)??[])[0]??"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:t.renderElement}})}get targetElementsById(){let e=this.ownerDocument?.getElementById(this.target);return e!==null?[e]:[]}get targetElementsByQuery(){let e=this.ownerDocument?.querySelectorAll(this.targets);return e.length!==0?Array.prototype.slice.call(e):[]}},sn=class extends HTMLElement{streamSource=null;connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),Ks(this.streamSource)}disconnectedCallback(){this.streamSource&&(this.streamSource.close(),Ys(this.streamSource))}get src(){return this.getAttribute("src")||""}};Ze.delegateConstructor=Vs;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",Ze);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",nn);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",sn);(()=>{let t=document.currentScript;if(t&&!t.hasAttribute("data-turbo-suppress-warning"))for(t=t.parentElement;t;){if(t==document.body)return console.warn(cl`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your application’s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        ——
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,t.outerHTML);t=t.parentElement}})();window.Turbo={...tf,StreamActions:Xs};Us();var ro=!1,io=!1,pr=[],no=-1;function rf(t){nf(t)}function nf(t){pr.includes(t)||pr.push(t),of()}function sf(t){let e=pr.indexOf(t);e!==-1&&e>no&&pr.splice(e,1)}function of(){!io&&!ro&&(ro=!0,queueMicrotask(af))}function af(){ro=!1,io=!0;for(let t=0;t<pr.length;t++)pr[t](),no=t;pr.length=0,no=-1,io=!1}var zr,yr,Wr,Wl,so=!0;function lf(t){so=!1,t(),so=!0}function cf(t){zr=t.reactive,Wr=t.release,yr=e=>t.effect(e,{scheduler:r=>{so?rf(r):r()}}),Wl=t.raw}function Rl(t){yr=t}function uf(t){let e=()=>{};return[i=>{let n=yr(i);return t._x_effects||(t._x_effects=new Set,t._x_runEffects=()=>{t._x_effects.forEach(s=>s())}),t._x_effects.add(n),e=()=>{n!==void 0&&(t._x_effects.delete(n),Wr(n))},n},()=>{e()}]}function Ul(t,e){let r=!0,i,n=yr(()=>{let s=t();JSON.stringify(s),r?i=s:queueMicrotask(()=>{e(s,i),i=s}),r=!1});return()=>Wr(n)}var Kl=[],Yl=[],Xl=[];function hf(t){Xl.push(t)}function wo(t,e){typeof e=="function"?(t._x_cleanups||(t._x_cleanups=[]),t._x_cleanups.push(e)):(e=t,Yl.push(e))}function Zl(t){Kl.push(t)}function Gl(t,e,r){t._x_attributeCleanups||(t._x_attributeCleanups={}),t._x_attributeCleanups[e]||(t._x_attributeCleanups[e]=[]),t._x_attributeCleanups[e].push(r)}function Jl(t,e){t._x_attributeCleanups&&Object.entries(t._x_attributeCleanups).forEach(([r,i])=>{(e===void 0||e.includes(r))&&(i.forEach(n=>n()),delete t._x_attributeCleanups[r])})}function df(t){for(t._x_effects?.forEach(sf);t._x_cleanups?.length;)t._x_cleanups.pop()()}var Eo=new MutationObserver(Ao),So=!1;function xo(){Eo.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),So=!0}function Ql(){ff(),Eo.disconnect(),So=!1}var ui=[];function ff(){let t=Eo.takeRecords();ui.push(()=>t.length>0&&Ao(t));let e=ui.length;queueMicrotask(()=>{if(ui.length===e)for(;ui.length>0;)ui.shift()()})}function de(t){if(!So)return t();Ql();let e=t();return xo(),e}var To=!1,mn=[];function pf(){To=!0}function mf(){To=!1,Ao(mn),mn=[]}function Ao(t){if(To){mn=mn.concat(t);return}let e=[],r=new Set,i=new Map,n=new Map;for(let s=0;s<t.length;s++)if(!t[s].target._x_ignoreMutationObserver&&(t[s].type==="childList"&&(t[s].removedNodes.forEach(o=>{o.nodeType===1&&o._x_marker&&r.add(o)}),t[s].addedNodes.forEach(o=>{if(o.nodeType===1){if(r.has(o)){r.delete(o);return}o._x_marker||e.push(o)}})),t[s].type==="attributes")){let o=t[s].target,a=t[s].attributeName,l=t[s].oldValue,f=()=>{i.has(o)||i.set(o,[]),i.get(o).push({name:a,value:o.getAttribute(a)})},p=()=>{n.has(o)||n.set(o,[]),n.get(o).push(a)};o.hasAttribute(a)&&l===null?f():o.hasAttribute(a)?(p(),f()):p()}n.forEach((s,o)=>{Jl(o,s)}),i.forEach((s,o)=>{Kl.forEach(a=>a(o,s))});for(let s of r)e.some(o=>o.contains(s))||Yl.forEach(o=>o(s));for(let s of e)s.isConnected&&Xl.forEach(o=>o(s));e=null,r=null,i=null,n=null}function ec(t){return bi(qr(t))}function vi(t,e,r){return t._x_dataStack=[e,...qr(r||t)],()=>{t._x_dataStack=t._x_dataStack.filter(i=>i!==e)}}function qr(t){return t._x_dataStack?t._x_dataStack:typeof ShadowRoot=="function"&&t instanceof ShadowRoot?qr(t.host):t.parentNode?qr(t.parentNode):[]}function bi(t){return new Proxy({objects:t},gf)}var gf={ownKeys({objects:t}){return Array.from(new Set(t.flatMap(e=>Object.keys(e))))},has({objects:t},e){return e==Symbol.unscopables?!1:t.some(r=>Object.prototype.hasOwnProperty.call(r,e)||Reflect.has(r,e))},get({objects:t},e,r){return e=="toJSON"?vf:Reflect.get(t.find(i=>Reflect.has(i,e))||{},e,r)},set({objects:t},e,r,i){let n=t.find(o=>Object.prototype.hasOwnProperty.call(o,e))||t[t.length-1],s=Object.getOwnPropertyDescriptor(n,e);return s?.set&&s?.get?s.set.call(i,r)||!0:Reflect.set(n,e,r)}};function vf(){return Reflect.ownKeys(this).reduce((e,r)=>(e[r]=Reflect.get(this,r),e),{})}function tc(t){let e=i=>typeof i=="object"&&!Array.isArray(i)&&i!==null,r=(i,n="")=>{Object.entries(Object.getOwnPropertyDescriptors(i)).forEach(([s,{value:o,enumerable:a}])=>{if(a===!1||o===void 0||typeof o=="object"&&o!==null&&o.__v_skip)return;let l=n===""?s:`${n}.${s}`;typeof o=="object"&&o!==null&&o._x_interceptor?i[s]=o.initialize(t,l,s):e(o)&&o!==i&&!(o instanceof Element)&&r(o,l)})};return r(t)}function rc(t,e=()=>{}){let r={initialValue:void 0,_x_interceptor:!0,initialize(i,n,s){return t(this.initialValue,()=>bf(i,n),o=>oo(i,n,o),n,s)}};return e(r),i=>{if(typeof i=="object"&&i!==null&&i._x_interceptor){let n=r.initialize.bind(r);r.initialize=(s,o,a)=>{let l=i.initialize(s,o,a);return r.initialValue=l,n(s,o,a)}}else r.initialValue=i;return r}}function bf(t,e){return e.split(".").reduce((r,i)=>r[i],t)}function oo(t,e,r){if(typeof e=="string"&&(e=e.split(".")),e.length===1)t[e[0]]=r;else{if(e.length===0)throw error;return t[e[0]]||(t[e[0]]={}),oo(t[e[0]],e.slice(1),r)}}var ic={};function ct(t,e){ic[t]=e}function ao(t,e){let r=yf(e);return Object.entries(ic).forEach(([i,n])=>{Object.defineProperty(t,`$${i}`,{get(){return n(e,r)},enumerable:!1})}),t}function yf(t){let[e,r]=cc(t),i={interceptor:rc,...e};return wo(t,r),i}function wf(t,e,r,...i){try{return r(...i)}catch(n){gi(n,t,e)}}function gi(t,e,r=void 0){t=Object.assign(t??{message:"No error message given."},{el:e,expression:r}),console.warn(`Alpine Expression Error: ${t.message}

${r?'Expression: "'+r+`"

`:""}`,e),setTimeout(()=>{throw t},0)}var fn=!0;function nc(t){let e=fn;fn=!1;let r=t();return fn=e,r}function mr(t,e,r={}){let i;return Be(t,e)(n=>i=n,r),i}function Be(...t){return sc(...t)}var sc=oc;function Ef(t){sc=t}function oc(t,e){let r={};ao(r,t);let i=[r,...qr(t)],n=typeof e=="function"?Sf(i,e):Tf(i,e,t);return wf.bind(null,t,e,n)}function Sf(t,e){return(r=()=>{},{scope:i={},params:n=[]}={})=>{let s=e.apply(bi([i,...t]),n);gn(r,s)}}var Gs={};function xf(t,e){if(Gs[t])return Gs[t];let r=Object.getPrototypeOf(async function(){}).constructor,i=/^[\n\s]*if.*\(.*\)/.test(t.trim())||/^(let|const)\s/.test(t.trim())?`(async()=>{ ${t} })()`:t,s=(()=>{try{let o=new r(["__self","scope"],`with (scope) { __self.result = ${i} }; __self.finished = true; return __self.result;`);return Object.defineProperty(o,"name",{value:`[Alpine] ${t}`}),o}catch(o){return gi(o,e,t),Promise.resolve()}})();return Gs[t]=s,s}function Tf(t,e,r){let i=xf(e,r);return(n=()=>{},{scope:s={},params:o=[]}={})=>{i.result=void 0,i.finished=!1;let a=bi([s,...t]);if(typeof i=="function"){let l=i(i,a).catch(f=>gi(f,r,e));i.finished?(gn(n,i.result,a,o,r),i.result=void 0):l.then(f=>{gn(n,f,a,o,r)}).catch(f=>gi(f,r,e)).finally(()=>i.result=void 0)}}}function gn(t,e,r,i,n){if(fn&&typeof e=="function"){let s=e.apply(r,i);s instanceof Promise?s.then(o=>gn(t,o,r,i)).catch(o=>gi(o,n,e)):t(s)}else typeof e=="object"&&e instanceof Promise?e.then(s=>t(s)):t(e)}var ko="x-";function Ur(t=""){return ko+t}function Af(t){ko=t}var vn={};function Ee(t,e){return vn[t]=e,{before(r){if(!vn[r]){console.warn(String.raw`Cannot find directive \`${r}\`. \`${t}\` will use the default order of execution`);return}let i=fr.indexOf(r);fr.splice(i>=0?i:fr.indexOf("DEFAULT"),0,t)}}}function kf(t){return Object.keys(vn).includes(t)}function Co(t,e,r){if(e=Array.from(e),t._x_virtualDirectives){let s=Object.entries(t._x_virtualDirectives).map(([a,l])=>({name:a,value:l})),o=ac(s);s=s.map(a=>o.find(l=>l.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),e=e.concat(s)}let i={};return e.map(dc((s,o)=>i[s]=o)).filter(pc).map(_f(i,r)).sort(Lf).map(s=>Of(t,s))}function ac(t){return Array.from(t).map(dc()).filter(e=>!pc(e))}var lo=!1,fi=new Map,lc=Symbol();function Cf(t){lo=!0;let e=Symbol();lc=e,fi.set(e,[]);let r=()=>{for(;fi.get(e).length;)fi.get(e).shift()();fi.delete(e)},i=()=>{lo=!1,r()};t(r),i()}function cc(t){let e=[],r=a=>e.push(a),[i,n]=uf(t);return e.push(n),[{Alpine:yi,effect:i,cleanup:r,evaluateLater:Be.bind(Be,t),evaluate:mr.bind(mr,t)},()=>e.forEach(a=>a())]}function Of(t,e){let r=()=>{},i=vn[e.type]||r,[n,s]=cc(t);Gl(t,e.original,s);let o=()=>{t._x_ignore||t._x_ignoreSelf||(i.inline&&i.inline(t,e,n),i=i.bind(i,t,e,n),lo?fi.get(lc).push(i):i())};return o.runCleanups=s,o}var uc=(t,e)=>({name:r,value:i})=>(r.startsWith(t)&&(r=r.replace(t,e)),{name:r,value:i}),hc=t=>t;function dc(t=()=>{}){return({name:e,value:r})=>{let{name:i,value:n}=fc.reduce((s,o)=>o(s),{name:e,value:r});return i!==e&&t(i,e),{name:i,value:n}}}var fc=[];function Oo(t){fc.push(t)}function pc({name:t}){return mc().test(t)}var mc=()=>new RegExp(`^${ko}([^:^.]+)\\b`);function _f(t,e){return({name:r,value:i})=>{let n=r.match(mc()),s=r.match(/:([a-zA-Z0-9\-_:]+)/),o=r.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=e||t[r]||r;return{type:n?n[1]:null,value:s?s[1]:null,modifiers:o.map(l=>l.replace(".","")),expression:i,original:a}}}var co="DEFAULT",fr=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",co,"teleport"];function Lf(t,e){let r=fr.indexOf(t.type)===-1?co:t.type,i=fr.indexOf(e.type)===-1?co:e.type;return fr.indexOf(r)-fr.indexOf(i)}function pi(t,e,r={}){t.dispatchEvent(new CustomEvent(e,{detail:r,bubbles:!0,composed:!0,cancelable:!0}))}function br(t,e){if(typeof ShadowRoot=="function"&&t instanceof ShadowRoot){Array.from(t.children).forEach(n=>br(n,e));return}let r=!1;if(e(t,()=>r=!0),r)return;let i=t.firstElementChild;for(;i;)br(i,e,!1),i=i.nextElementSibling}function Ge(t,...e){console.warn(`Alpine Warning: ${t}`,...e)}var Ml=!1;function Rf(){Ml&&Ge("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),Ml=!0,document.body||Ge("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),pi(document,"alpine:init"),pi(document,"alpine:initializing"),xo(),hf(e=>At(e,br)),wo(e=>Yr(e)),Zl((e,r)=>{Co(e,r).forEach(i=>i())});let t=e=>!yn(e.parentElement,!0);Array.from(document.querySelectorAll(bc().join(","))).filter(t).forEach(e=>{At(e)}),pi(document,"alpine:initialized"),setTimeout(()=>{Df()})}var _o=[],gc=[];function vc(){return _o.map(t=>t())}function bc(){return _o.concat(gc).map(t=>t())}function yc(t){_o.push(t)}function wc(t){gc.push(t)}function yn(t,e=!1){return Kr(t,r=>{if((e?bc():vc()).some(n=>r.matches(n)))return!0})}function Kr(t,e){if(t){if(e(t))return t;if(t._x_teleportBack&&(t=t._x_teleportBack),!!t.parentElement)return Kr(t.parentElement,e)}}function Mf(t){return vc().some(e=>t.matches(e))}var Ec=[];function Pf(t){Ec.push(t)}var If=1;function At(t,e=br,r=()=>{}){Kr(t,i=>i._x_ignore)||Cf(()=>{e(t,(i,n)=>{i._x_marker||(r(i,n),Ec.forEach(s=>s(i,n)),Co(i,i.attributes).forEach(s=>s()),i._x_ignore||(i._x_marker=If++),i._x_ignore&&n())})})}function Yr(t,e=br){e(t,r=>{df(r),Jl(r),delete r._x_marker})}function Df(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([e,r,i])=>{kf(r)||i.some(n=>{if(document.querySelector(n))return Ge(`found "${n}", but missing ${e} plugin`),!0})})}var uo=[],Lo=!1;function Ro(t=()=>{}){return queueMicrotask(()=>{Lo||setTimeout(()=>{ho()})}),new Promise(e=>{uo.push(()=>{t(),e()})})}function ho(){for(Lo=!1;uo.length;)uo.shift()()}function Nf(){Lo=!0}function Mo(t,e){return Array.isArray(e)?Pl(t,e.join(" ")):typeof e=="object"&&e!==null?Ff(t,e):typeof e=="function"?Mo(t,e()):Pl(t,e)}function Pl(t,e){let r=s=>s.split(" ").filter(Boolean),i=s=>s.split(" ").filter(o=>!t.classList.contains(o)).filter(Boolean),n=s=>(t.classList.add(...s),()=>{t.classList.remove(...s)});return e=e===!0?e="":e||"",n(i(e))}function Ff(t,e){let r=a=>a.split(" ").filter(Boolean),i=Object.entries(e).flatMap(([a,l])=>l?r(a):!1).filter(Boolean),n=Object.entries(e).flatMap(([a,l])=>l?!1:r(a)).filter(Boolean),s=[],o=[];return n.forEach(a=>{t.classList.contains(a)&&(t.classList.remove(a),o.push(a))}),i.forEach(a=>{t.classList.contains(a)||(t.classList.add(a),s.push(a))}),()=>{o.forEach(a=>t.classList.add(a)),s.forEach(a=>t.classList.remove(a))}}function wn(t,e){return typeof e=="object"&&e!==null?Bf(t,e):$f(t,e)}function Bf(t,e){let r={};return Object.entries(e).forEach(([i,n])=>{r[i]=t.style[i],i.startsWith("--")||(i=Vf(i)),t.style.setProperty(i,n)}),setTimeout(()=>{t.style.length===0&&t.removeAttribute("style")}),()=>{wn(t,r)}}function $f(t,e){let r=t.getAttribute("style",e);return t.setAttribute("style",e),()=>{t.setAttribute("style",r||"")}}function Vf(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function fo(t,e=()=>{}){let r=!1;return function(){r?e.apply(this,arguments):(r=!0,t.apply(this,arguments))}}Ee("transition",(t,{value:e,modifiers:r,expression:i},{evaluate:n})=>{typeof i=="function"&&(i=n(i)),i!==!1&&(!i||typeof i=="boolean"?qf(t,r,e):Hf(t,i,e))});function Hf(t,e,r){Sc(t,Mo,""),{enter:n=>{t._x_transition.enter.during=n},"enter-start":n=>{t._x_transition.enter.start=n},"enter-end":n=>{t._x_transition.enter.end=n},leave:n=>{t._x_transition.leave.during=n},"leave-start":n=>{t._x_transition.leave.start=n},"leave-end":n=>{t._x_transition.leave.end=n}}[r](e)}function qf(t,e,r){Sc(t,wn);let i=!e.includes("in")&&!e.includes("out")&&!r,n=i||e.includes("in")||["enter"].includes(r),s=i||e.includes("out")||["leave"].includes(r);e.includes("in")&&!i&&(e=e.filter((C,b)=>b<e.indexOf("out"))),e.includes("out")&&!i&&(e=e.filter((C,b)=>b>e.indexOf("out")));let o=!e.includes("opacity")&&!e.includes("scale"),a=o||e.includes("opacity"),l=o||e.includes("scale"),f=a?0:1,p=l?hi(e,"scale",95)/100:1,T=hi(e,"delay",0)/1e3,v=hi(e,"origin","center"),_="opacity, transform",R=hi(e,"duration",150)/1e3,y=hi(e,"duration",75)/1e3,S="cubic-bezier(0.4, 0.0, 0.2, 1)";n&&(t._x_transition.enter.during={transformOrigin:v,transitionDelay:`${T}s`,transitionProperty:_,transitionDuration:`${R}s`,transitionTimingFunction:S},t._x_transition.enter.start={opacity:f,transform:`scale(${p})`},t._x_transition.enter.end={opacity:1,transform:"scale(1)"}),s&&(t._x_transition.leave.during={transformOrigin:v,transitionDelay:`${T}s`,transitionProperty:_,transitionDuration:`${y}s`,transitionTimingFunction:S},t._x_transition.leave.start={opacity:1,transform:"scale(1)"},t._x_transition.leave.end={opacity:f,transform:`scale(${p})`})}function Sc(t,e,r={}){t._x_transition||(t._x_transition={enter:{during:r,start:r,end:r},leave:{during:r,start:r,end:r},in(i=()=>{},n=()=>{}){po(t,e,{during:this.enter.during,start:this.enter.start,end:this.enter.end},i,n)},out(i=()=>{},n=()=>{}){po(t,e,{during:this.leave.during,start:this.leave.start,end:this.leave.end},i,n)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(t,e,r,i){let n=document.visibilityState==="visible"?requestAnimationFrame:setTimeout,s=()=>n(r);if(e){t._x_transition&&(t._x_transition.enter||t._x_transition.leave)?t._x_transition.enter&&(Object.entries(t._x_transition.enter.during).length||Object.entries(t._x_transition.enter.start).length||Object.entries(t._x_transition.enter.end).length)?t._x_transition.in(r):s():t._x_transition?t._x_transition.in(r):s();return}t._x_hidePromise=t._x_transition?new Promise((o,a)=>{t._x_transition.out(()=>{},()=>o(i)),t._x_transitioning&&t._x_transitioning.beforeCancel(()=>a({isFromCancelledTransition:!0}))}):Promise.resolve(i),queueMicrotask(()=>{let o=xc(t);o?(o._x_hideChildren||(o._x_hideChildren=[]),o._x_hideChildren.push(t)):n(()=>{let a=l=>{let f=Promise.all([l._x_hidePromise,...(l._x_hideChildren||[]).map(a)]).then(([p])=>p?.());return delete l._x_hidePromise,delete l._x_hideChildren,f};a(t).catch(l=>{if(!l.isFromCancelledTransition)throw l})})})};function xc(t){let e=t.parentNode;if(e)return e._x_hidePromise?e:xc(e)}function po(t,e,{during:r,start:i,end:n}={},s=()=>{},o=()=>{}){if(t._x_transitioning&&t._x_transitioning.cancel(),Object.keys(r).length===0&&Object.keys(i).length===0&&Object.keys(n).length===0){s(),o();return}let a,l,f;jf(t,{start(){a=e(t,i)},during(){l=e(t,r)},before:s,end(){a(),f=e(t,n)},after:o,cleanup(){l(),f()}})}function jf(t,e){let r,i,n,s=fo(()=>{de(()=>{r=!0,i||e.before(),n||(e.end(),ho()),e.after(),t.isConnected&&e.cleanup(),delete t._x_transitioning})});t._x_transitioning={beforeCancels:[],beforeCancel(o){this.beforeCancels.push(o)},cancel:fo(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();s()}),finish:s},de(()=>{e.start(),e.during()}),Nf(),requestAnimationFrame(()=>{if(r)return;let o=Number(getComputedStyle(t).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,a=Number(getComputedStyle(t).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;o===0&&(o=Number(getComputedStyle(t).animationDuration.replace("s",""))*1e3),de(()=>{e.before()}),i=!0,requestAnimationFrame(()=>{r||(de(()=>{e.end()}),ho(),setTimeout(t._x_transitioning.finish,o+a),n=!0)})})}function hi(t,e,r){if(t.indexOf(e)===-1)return r;let i=t[t.indexOf(e)+1];if(!i||e==="scale"&&isNaN(i))return r;if(e==="duration"||e==="delay"){let n=i.match(/([0-9]+)ms/);if(n)return n[1]}return e==="origin"&&["top","right","left","center","bottom"].includes(t[t.indexOf(e)+2])?[i,t[t.indexOf(e)+2]].join(" "):i}var Kt=!1;function Xt(t,e=()=>{}){return(...r)=>Kt?e(...r):t(...r)}function zf(t){return(...e)=>Kt&&t(...e)}var Tc=[];function En(t){Tc.push(t)}function Wf(t,e){Tc.forEach(r=>r(t,e)),Kt=!0,Ac(()=>{At(e,(r,i)=>{i(r,()=>{})})}),Kt=!1}var mo=!1;function Uf(t,e){e._x_dataStack||(e._x_dataStack=t._x_dataStack),Kt=!0,mo=!0,Ac(()=>{Kf(e)}),Kt=!1,mo=!1}function Kf(t){let e=!1;At(t,(i,n)=>{br(i,(s,o)=>{if(e&&Mf(s))return o();e=!0,n(s,o)})})}function Ac(t){let e=yr;Rl((r,i)=>{let n=e(r);return Wr(n),()=>{}}),t(),Rl(e)}function kc(t,e,r,i=[]){switch(t._x_bindings||(t._x_bindings=zr({})),t._x_bindings[e]=r,e=i.includes("camel")?tp(e):e,e){case"value":Yf(t,r);break;case"style":Zf(t,r);break;case"class":Xf(t,r);break;case"selected":case"checked":Gf(t,e,r);break;default:Cc(t,e,r);break}}function Yf(t,e){if(Lc(t))t.attributes.value===void 0&&(t.value=e),window.fromModel&&(typeof e=="boolean"?t.checked=pn(t.value)===e:t.checked=Il(t.value,e));else if(Po(t))Number.isInteger(e)?t.value=e:!Array.isArray(e)&&typeof e!="boolean"&&![null,void 0].includes(e)?t.value=String(e):Array.isArray(e)?t.checked=e.some(r=>Il(r,t.value)):t.checked=!!e;else if(t.tagName==="SELECT")ep(t,e);else{if(t.value===e)return;t.value=e===void 0?"":e}}function Xf(t,e){t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedClasses=Mo(t,e)}function Zf(t,e){t._x_undoAddedStyles&&t._x_undoAddedStyles(),t._x_undoAddedStyles=wn(t,e)}function Gf(t,e,r){Cc(t,e,r),Qf(t,e,r)}function Cc(t,e,r){[null,void 0,!1].includes(r)&&ip(e)?t.removeAttribute(e):(Oc(e)&&(r=e),Jf(t,e,r))}function Jf(t,e,r){t.getAttribute(e)!=r&&t.setAttribute(e,r)}function Qf(t,e,r){t[e]!==r&&(t[e]=r)}function ep(t,e){let r=[].concat(e).map(i=>i+"");Array.from(t.options).forEach(i=>{i.selected=r.includes(i.value)})}function tp(t){return t.toLowerCase().replace(/-(\w)/g,(e,r)=>r.toUpperCase())}function Il(t,e){return t==e}function pn(t){return[1,"1","true","on","yes",!0].includes(t)?!0:[0,"0","false","off","no",!1].includes(t)?!1:t?!!t:null}var rp=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function Oc(t){return rp.has(t)}function ip(t){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(t)}function np(t,e,r){return t._x_bindings&&t._x_bindings[e]!==void 0?t._x_bindings[e]:_c(t,e,r)}function sp(t,e,r,i=!0){if(t._x_bindings&&t._x_bindings[e]!==void 0)return t._x_bindings[e];if(t._x_inlineBindings&&t._x_inlineBindings[e]!==void 0){let n=t._x_inlineBindings[e];return n.extract=i,nc(()=>mr(t,n.expression))}return _c(t,e,r)}function _c(t,e,r){let i=t.getAttribute(e);return i===null?typeof r=="function"?r():r:i===""?!0:Oc(e)?!![e,"true"].includes(i):i}function Po(t){return t.type==="checkbox"||t.localName==="ui-checkbox"||t.localName==="ui-switch"}function Lc(t){return t.type==="radio"||t.localName==="ui-radio"}function Rc(t,e){var r;return function(){var i=this,n=arguments,s=function(){r=null,t.apply(i,n)};clearTimeout(r),r=setTimeout(s,e)}}function Mc(t,e){let r;return function(){let i=this,n=arguments;r||(t.apply(i,n),r=!0,setTimeout(()=>r=!1,e))}}function Pc({get:t,set:e},{get:r,set:i}){let n=!0,s,o,a=yr(()=>{let l=t(),f=r();if(n)i(Js(l)),n=!1;else{let p=JSON.stringify(l),T=JSON.stringify(f);p!==s?i(Js(l)):p!==T&&e(Js(f))}s=JSON.stringify(t()),o=JSON.stringify(r())});return()=>{Wr(a)}}function Js(t){return typeof t=="object"?JSON.parse(JSON.stringify(t)):t}function op(t){(Array.isArray(t)?t:[t]).forEach(r=>r(yi))}var dr={},Dl=!1;function ap(t,e){if(Dl||(dr=zr(dr),Dl=!0),e===void 0)return dr[t];dr[t]=e,tc(dr[t]),typeof e=="object"&&e!==null&&e.hasOwnProperty("init")&&typeof e.init=="function"&&dr[t].init()}function lp(){return dr}var Ic={};function cp(t,e){let r=typeof e!="function"?()=>e:e;return t instanceof Element?Dc(t,r()):(Ic[t]=r,()=>{})}function up(t){return Object.entries(Ic).forEach(([e,r])=>{Object.defineProperty(t,e,{get(){return(...i)=>r(...i)}})}),t}function Dc(t,e,r){let i=[];for(;i.length;)i.pop()();let n=Object.entries(e).map(([o,a])=>({name:o,value:a})),s=ac(n);return n=n.map(o=>s.find(a=>a.name===o.name)?{name:`x-bind:${o.name}`,value:`"${o.value}"`}:o),Co(t,n,r).map(o=>{i.push(o.runCleanups),o()}),()=>{for(;i.length;)i.pop()()}}var Nc={};function hp(t,e){Nc[t]=e}function dp(t,e){return Object.entries(Nc).forEach(([r,i])=>{Object.defineProperty(t,r,{get(){return(...n)=>i.bind(e)(...n)},enumerable:!1})}),t}var fp={get reactive(){return zr},get release(){return Wr},get effect(){return yr},get raw(){return Wl},version:"3.14.9",flushAndStopDeferringMutations:mf,dontAutoEvaluateFunctions:nc,disableEffectScheduling:lf,startObservingMutations:xo,stopObservingMutations:Ql,setReactivityEngine:cf,onAttributeRemoved:Gl,onAttributesAdded:Zl,closestDataStack:qr,skipDuringClone:Xt,onlyDuringClone:zf,addRootSelector:yc,addInitSelector:wc,interceptClone:En,addScopeToNode:vi,deferMutations:pf,mapAttributes:Oo,evaluateLater:Be,interceptInit:Pf,setEvaluator:Ef,mergeProxies:bi,extractProp:sp,findClosest:Kr,onElRemoved:wo,closestRoot:yn,destroyTree:Yr,interceptor:rc,transition:po,setStyles:wn,mutateDom:de,directive:Ee,entangle:Pc,throttle:Mc,debounce:Rc,evaluate:mr,initTree:At,nextTick:Ro,prefixed:Ur,prefix:Af,plugin:op,magic:ct,store:ap,start:Rf,clone:Uf,cloneNode:Wf,bound:np,$data:ec,watch:Ul,walk:br,data:hp,bind:cp},yi=fp;function Fc(t,e){let r=Object.create(null),i=t.split(",");for(let n=0;n<i.length;n++)r[i[n]]=!0;return e?n=>!!r[n.toLowerCase()]:n=>!!r[n]}var pp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ob=Fc(pp+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),mp=Object.freeze({}),ab=Object.freeze([]),gp=Object.prototype.hasOwnProperty,Sn=(t,e)=>gp.call(t,e),gr=Array.isArray,mi=t=>Bc(t)==="[object Map]",vp=t=>typeof t=="string",Io=t=>typeof t=="symbol",xn=t=>t!==null&&typeof t=="object",bp=Object.prototype.toString,Bc=t=>bp.call(t),$c=t=>Bc(t).slice(8,-1),Do=t=>vp(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Tn=t=>{let e=Object.create(null);return r=>e[r]||(e[r]=t(r))},yp=/-(\w)/g,lb=Tn(t=>t.replace(yp,(e,r)=>r?r.toUpperCase():"")),wp=/\B([A-Z])/g,cb=Tn(t=>t.replace(wp,"-$1").toLowerCase()),Vc=Tn(t=>t.charAt(0).toUpperCase()+t.slice(1)),ub=Tn(t=>t?`on${Vc(t)}`:""),Hc=(t,e)=>t!==e&&(t===t||e===e),go=new WeakMap,di=[],vt,vr=Symbol("iterate"),vo=Symbol("Map key iterate");function Ep(t){return t&&t._isEffect===!0}function Sp(t,e=mp){Ep(t)&&(t=t.raw);let r=Ap(t,e);return e.lazy||r(),r}function xp(t){t.active&&(qc(t),t.options.onStop&&t.options.onStop(),t.active=!1)}var Tp=0;function Ap(t,e){let r=function(){if(!r.active)return t();if(!di.includes(r)){qc(r);try{return Cp(),di.push(r),vt=r,t()}finally{di.pop(),jc(),vt=di[di.length-1]}}};return r.id=Tp++,r.allowRecurse=!!e.allowRecurse,r._isEffect=!0,r.active=!0,r.raw=t,r.deps=[],r.options=e,r}function qc(t){let{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}var jr=!0,No=[];function kp(){No.push(jr),jr=!1}function Cp(){No.push(jr),jr=!0}function jc(){let t=No.pop();jr=t===void 0?!0:t}function lt(t,e,r){if(!jr||vt===void 0)return;let i=go.get(t);i||go.set(t,i=new Map);let n=i.get(r);n||i.set(r,n=new Set),n.has(vt)||(n.add(vt),vt.deps.push(n),vt.options.onTrack&&vt.options.onTrack({effect:vt,target:t,type:e,key:r}))}function Yt(t,e,r,i,n,s){let o=go.get(t);if(!o)return;let a=new Set,l=p=>{p&&p.forEach(T=>{(T!==vt||T.allowRecurse)&&a.add(T)})};if(e==="clear")o.forEach(l);else if(r==="length"&&gr(t))o.forEach((p,T)=>{(T==="length"||T>=i)&&l(p)});else switch(r!==void 0&&l(o.get(r)),e){case"add":gr(t)?Do(r)&&l(o.get("length")):(l(o.get(vr)),mi(t)&&l(o.get(vo)));break;case"delete":gr(t)||(l(o.get(vr)),mi(t)&&l(o.get(vo)));break;case"set":mi(t)&&l(o.get(vr));break}let f=p=>{p.options.onTrigger&&p.options.onTrigger({effect:p,target:t,key:r,type:e,newValue:i,oldValue:n,oldTarget:s}),p.options.scheduler?p.options.scheduler(p):p()};a.forEach(f)}var Op=Fc("__proto__,__v_isRef,__isVue"),zc=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(Io)),_p=Wc(),Lp=Wc(!0),Nl=Rp();function Rp(){let t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){let i=ne(this);for(let s=0,o=this.length;s<o;s++)lt(i,"get",s+"");let n=i[e](...r);return n===-1||n===!1?i[e](...r.map(ne)):n}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){kp();let i=ne(this)[e].apply(this,r);return jc(),i}}),t}function Wc(t=!1,e=!1){return function(i,n,s){if(n==="__v_isReactive")return!t;if(n==="__v_isReadonly")return t;if(n==="__v_raw"&&s===(t?e?Kp:Xc:e?Up:Yc).get(i))return i;let o=gr(i);if(!t&&o&&Sn(Nl,n))return Reflect.get(Nl,n,s);let a=Reflect.get(i,n,s);return(Io(n)?zc.has(n):Op(n))||(t||lt(i,"get",n),e)?a:bo(a)?!o||!Do(n)?a.value:a:xn(a)?t?Zc(a):Vo(a):a}}var Mp=Pp();function Pp(t=!1){return function(r,i,n,s){let o=r[i];if(!t&&(n=ne(n),o=ne(o),!gr(r)&&bo(o)&&!bo(n)))return o.value=n,!0;let a=gr(r)&&Do(i)?Number(i)<r.length:Sn(r,i),l=Reflect.set(r,i,n,s);return r===ne(s)&&(a?Hc(n,o)&&Yt(r,"set",i,n,o):Yt(r,"add",i,n)),l}}function Ip(t,e){let r=Sn(t,e),i=t[e],n=Reflect.deleteProperty(t,e);return n&&r&&Yt(t,"delete",e,void 0,i),n}function Dp(t,e){let r=Reflect.has(t,e);return(!Io(e)||!zc.has(e))&&lt(t,"has",e),r}function Np(t){return lt(t,"iterate",gr(t)?"length":vr),Reflect.ownKeys(t)}var Fp={get:_p,set:Mp,deleteProperty:Ip,has:Dp,ownKeys:Np},Bp={get:Lp,set(t,e){return console.warn(`Set operation on key "${String(e)}" failed: target is readonly.`,t),!0},deleteProperty(t,e){return console.warn(`Delete operation on key "${String(e)}" failed: target is readonly.`,t),!0}},Fo=t=>xn(t)?Vo(t):t,Bo=t=>xn(t)?Zc(t):t,$o=t=>t,An=t=>Reflect.getPrototypeOf(t);function ln(t,e,r=!1,i=!1){t=t.__v_raw;let n=ne(t),s=ne(e);e!==s&&!r&&lt(n,"get",e),!r&&lt(n,"get",s);let{has:o}=An(n),a=i?$o:r?Bo:Fo;if(o.call(n,e))return a(t.get(e));if(o.call(n,s))return a(t.get(s));t!==n&&t.get(e)}function cn(t,e=!1){let r=this.__v_raw,i=ne(r),n=ne(t);return t!==n&&!e&&lt(i,"has",t),!e&&lt(i,"has",n),t===n?r.has(t):r.has(t)||r.has(n)}function un(t,e=!1){return t=t.__v_raw,!e&&lt(ne(t),"iterate",vr),Reflect.get(t,"size",t)}function Fl(t){t=ne(t);let e=ne(this);return An(e).has.call(e,t)||(e.add(t),Yt(e,"add",t,t)),this}function Bl(t,e){e=ne(e);let r=ne(this),{has:i,get:n}=An(r),s=i.call(r,t);s?Kc(r,i,t):(t=ne(t),s=i.call(r,t));let o=n.call(r,t);return r.set(t,e),s?Hc(e,o)&&Yt(r,"set",t,e,o):Yt(r,"add",t,e),this}function $l(t){let e=ne(this),{has:r,get:i}=An(e),n=r.call(e,t);n?Kc(e,r,t):(t=ne(t),n=r.call(e,t));let s=i?i.call(e,t):void 0,o=e.delete(t);return n&&Yt(e,"delete",t,void 0,s),o}function Vl(){let t=ne(this),e=t.size!==0,r=mi(t)?new Map(t):new Set(t),i=t.clear();return e&&Yt(t,"clear",void 0,void 0,r),i}function hn(t,e){return function(i,n){let s=this,o=s.__v_raw,a=ne(o),l=e?$o:t?Bo:Fo;return!t&&lt(a,"iterate",vr),o.forEach((f,p)=>i.call(n,l(f),l(p),s))}}function dn(t,e,r){return function(...i){let n=this.__v_raw,s=ne(n),o=mi(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,f=n[t](...i),p=r?$o:e?Bo:Fo;return!e&&lt(s,"iterate",l?vo:vr),{next(){let{value:T,done:v}=f.next();return v?{value:T,done:v}:{value:a?[p(T[0]),p(T[1])]:p(T),done:v}},[Symbol.iterator](){return this}}}}function Ut(t){return function(...e){{let r=e[0]?`on key "${e[0]}" `:"";console.warn(`${Vc(t)} operation ${r}failed: target is readonly.`,ne(this))}return t==="delete"?!1:this}}function $p(){let t={get(s){return ln(this,s)},get size(){return un(this)},has:cn,add:Fl,set:Bl,delete:$l,clear:Vl,forEach:hn(!1,!1)},e={get(s){return ln(this,s,!1,!0)},get size(){return un(this)},has:cn,add:Fl,set:Bl,delete:$l,clear:Vl,forEach:hn(!1,!0)},r={get(s){return ln(this,s,!0)},get size(){return un(this,!0)},has(s){return cn.call(this,s,!0)},add:Ut("add"),set:Ut("set"),delete:Ut("delete"),clear:Ut("clear"),forEach:hn(!0,!1)},i={get(s){return ln(this,s,!0,!0)},get size(){return un(this,!0)},has(s){return cn.call(this,s,!0)},add:Ut("add"),set:Ut("set"),delete:Ut("delete"),clear:Ut("clear"),forEach:hn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=dn(s,!1,!1),r[s]=dn(s,!0,!1),e[s]=dn(s,!1,!0),i[s]=dn(s,!0,!0)}),[t,r,e,i]}var[Vp,Hp,qp,jp]=$p();function Uc(t,e){let r=e?t?jp:qp:t?Hp:Vp;return(i,n,s)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?i:Reflect.get(Sn(r,n)&&n in i?r:i,n,s)}var zp={get:Uc(!1,!1)},Wp={get:Uc(!0,!1)};function Kc(t,e,r){let i=ne(r);if(i!==r&&e.call(t,i)){let n=$c(t);console.warn(`Reactive ${n} contains both the raw and reactive versions of the same object${n==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Yc=new WeakMap,Up=new WeakMap,Xc=new WeakMap,Kp=new WeakMap;function Yp(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Xp(t){return t.__v_skip||!Object.isExtensible(t)?0:Yp($c(t))}function Vo(t){return t&&t.__v_isReadonly?t:Gc(t,!1,Fp,zp,Yc)}function Zc(t){return Gc(t,!0,Bp,Wp,Xc)}function Gc(t,e,r,i,n){if(!xn(t))return console.warn(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;let s=n.get(t);if(s)return s;let o=Xp(t);if(o===0)return t;let a=new Proxy(t,o===2?i:r);return n.set(t,a),a}function ne(t){return t&&ne(t.__v_raw)||t}function bo(t){return!!(t&&t.__v_isRef===!0)}ct("nextTick",()=>Ro);ct("dispatch",t=>pi.bind(pi,t));ct("watch",(t,{evaluateLater:e,cleanup:r})=>(i,n)=>{let s=e(i),a=Ul(()=>{let l;return s(f=>l=f),l},n);r(a)});ct("store",lp);ct("data",t=>ec(t));ct("root",t=>yn(t));ct("refs",t=>(t._x_refs_proxy||(t._x_refs_proxy=bi(Zp(t))),t._x_refs_proxy));function Zp(t){let e=[];return Kr(t,r=>{r._x_refs&&e.push(r._x_refs)}),e}var Qs={};function Jc(t){return Qs[t]||(Qs[t]=0),++Qs[t]}function Gp(t,e){return Kr(t,r=>{if(r._x_ids&&r._x_ids[e])return!0})}function Jp(t,e){t._x_ids||(t._x_ids={}),t._x_ids[e]||(t._x_ids[e]=Jc(e))}ct("id",(t,{cleanup:e})=>(r,i=null)=>{let n=`${r}${i?`-${i}`:""}`;return Qp(t,n,e,()=>{let s=Gp(t,r),o=s?s._x_ids[r]:Jc(r);return i?`${r}-${o}-${i}`:`${r}-${o}`})});En((t,e)=>{t._x_id&&(e._x_id=t._x_id)});function Qp(t,e,r,i){if(t._x_id||(t._x_id={}),t._x_id[e])return t._x_id[e];let n=i();return t._x_id[e]=n,r(()=>{delete t._x_id[e]}),n}ct("el",t=>t);Qc("Focus","focus","focus");Qc("Persist","persist","persist");function Qc(t,e,r){ct(e,i=>Ge(`You can't use [$${e}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${r}`,i))}Ee("modelable",(t,{expression:e},{effect:r,evaluateLater:i,cleanup:n})=>{let s=i(e),o=()=>{let p;return s(T=>p=T),p},a=i(`${e} = __placeholder`),l=p=>a(()=>{},{scope:{__placeholder:p}}),f=o();l(f),queueMicrotask(()=>{if(!t._x_model)return;t._x_removeModelListeners.default();let p=t._x_model.get,T=t._x_model.set,v=Pc({get(){return p()},set(_){T(_)}},{get(){return o()},set(_){l(_)}});n(v)})});Ee("teleport",(t,{modifiers:e,expression:r},{cleanup:i})=>{t.tagName.toLowerCase()!=="template"&&Ge("x-teleport can only be used on a <template> tag",t);let n=Hl(r),s=t.content.cloneNode(!0).firstElementChild;t._x_teleport=s,s._x_teleportBack=t,t.setAttribute("data-teleport-template",!0),s.setAttribute("data-teleport-target",!0),t._x_forwardEvents&&t._x_forwardEvents.forEach(a=>{s.addEventListener(a,l=>{l.stopPropagation(),t.dispatchEvent(new l.constructor(l.type,l))})}),vi(s,{},t);let o=(a,l,f)=>{f.includes("prepend")?l.parentNode.insertBefore(a,l):f.includes("append")?l.parentNode.insertBefore(a,l.nextSibling):l.appendChild(a)};de(()=>{o(s,n,e),Xt(()=>{At(s)})()}),t._x_teleportPutBack=()=>{let a=Hl(r);de(()=>{o(t._x_teleport,a,e)})},i(()=>de(()=>{s.remove(),Yr(s)}))});var em=document.createElement("div");function Hl(t){let e=Xt(()=>document.querySelector(t),()=>em)();return e||Ge(`Cannot find x-teleport element for selector: "${t}"`),e}var eu=()=>{};eu.inline=(t,{modifiers:e},{cleanup:r})=>{e.includes("self")?t._x_ignoreSelf=!0:t._x_ignore=!0,r(()=>{e.includes("self")?delete t._x_ignoreSelf:delete t._x_ignore})};Ee("ignore",eu);Ee("effect",Xt((t,{expression:e},{effect:r})=>{r(Be(t,e))}));function yo(t,e,r,i){let n=t,s=l=>i(l),o={},a=(l,f)=>p=>f(l,p);if(r.includes("dot")&&(e=tm(e)),r.includes("camel")&&(e=rm(e)),r.includes("passive")&&(o.passive=!0),r.includes("capture")&&(o.capture=!0),r.includes("window")&&(n=window),r.includes("document")&&(n=document),r.includes("debounce")){let l=r[r.indexOf("debounce")+1]||"invalid-wait",f=bn(l.split("ms")[0])?Number(l.split("ms")[0]):250;s=Rc(s,f)}if(r.includes("throttle")){let l=r[r.indexOf("throttle")+1]||"invalid-wait",f=bn(l.split("ms")[0])?Number(l.split("ms")[0]):250;s=Mc(s,f)}return r.includes("prevent")&&(s=a(s,(l,f)=>{f.preventDefault(),l(f)})),r.includes("stop")&&(s=a(s,(l,f)=>{f.stopPropagation(),l(f)})),r.includes("once")&&(s=a(s,(l,f)=>{l(f),n.removeEventListener(e,s,o)})),(r.includes("away")||r.includes("outside"))&&(n=document,s=a(s,(l,f)=>{t.contains(f.target)||f.target.isConnected!==!1&&(t.offsetWidth<1&&t.offsetHeight<1||t._x_isShown!==!1&&l(f))})),r.includes("self")&&(s=a(s,(l,f)=>{f.target===t&&l(f)})),(nm(e)||tu(e))&&(s=a(s,(l,f)=>{sm(f,r)||l(f)})),n.addEventListener(e,s,o),()=>{n.removeEventListener(e,s,o)}}function tm(t){return t.replace(/-/g,".")}function rm(t){return t.toLowerCase().replace(/-(\w)/g,(e,r)=>r.toUpperCase())}function bn(t){return!Array.isArray(t)&&!isNaN(t)}function im(t){return[" ","_"].includes(t)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function nm(t){return["keydown","keyup"].includes(t)}function tu(t){return["contextmenu","click","mouse"].some(e=>t.includes(e))}function sm(t,e){let r=e.filter(s=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(s));if(r.includes("debounce")){let s=r.indexOf("debounce");r.splice(s,bn((r[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(r.includes("throttle")){let s=r.indexOf("throttle");r.splice(s,bn((r[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(r.length===0||r.length===1&&ql(t.key).includes(r[0]))return!1;let n=["ctrl","shift","alt","meta","cmd","super"].filter(s=>r.includes(s));return r=r.filter(s=>!n.includes(s)),!(n.length>0&&n.filter(o=>((o==="cmd"||o==="super")&&(o="meta"),t[`${o}Key`])).length===n.length&&(tu(t.type)||ql(t.key).includes(r[0])))}function ql(t){if(!t)return[];t=im(t);let e={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return e[t]=t,Object.keys(e).map(r=>{if(e[r]===t)return r}).filter(r=>r)}Ee("model",(t,{modifiers:e,expression:r},{effect:i,cleanup:n})=>{let s=t;e.includes("parent")&&(s=t.parentNode);let o=Be(s,r),a;typeof r=="string"?a=Be(s,`${r} = __placeholder`):typeof r=="function"&&typeof r()=="string"?a=Be(s,`${r()} = __placeholder`):a=()=>{};let l=()=>{let v;return o(_=>v=_),jl(v)?v.get():v},f=v=>{let _;o(R=>_=R),jl(_)?_.set(v):a(()=>{},{scope:{__placeholder:v}})};typeof r=="string"&&t.type==="radio"&&de(()=>{t.hasAttribute("name")||t.setAttribute("name",r)});var p=t.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(t.type)||e.includes("lazy")?"change":"input";let T=Kt?()=>{}:yo(t,p,e,v=>{f(eo(t,e,v,l()))});if(e.includes("fill")&&([void 0,null,""].includes(l())||Po(t)&&Array.isArray(l())||t.tagName.toLowerCase()==="select"&&t.multiple)&&f(eo(t,e,{target:t},l())),t._x_removeModelListeners||(t._x_removeModelListeners={}),t._x_removeModelListeners.default=T,n(()=>t._x_removeModelListeners.default()),t.form){let v=yo(t.form,"reset",[],_=>{Ro(()=>t._x_model&&t._x_model.set(eo(t,e,{target:t},l())))});n(()=>v())}t._x_model={get(){return l()},set(v){f(v)}},t._x_forceModelUpdate=v=>{v===void 0&&typeof r=="string"&&r.match(/\./)&&(v=""),window.fromModel=!0,de(()=>kc(t,"value",v)),delete window.fromModel},i(()=>{let v=l();e.includes("unintrusive")&&document.activeElement.isSameNode(t)||t._x_forceModelUpdate(v)})});function eo(t,e,r,i){return de(()=>{if(r instanceof CustomEvent&&r.detail!==void 0)return r.detail!==null&&r.detail!==void 0?r.detail:r.target.value;if(Po(t))if(Array.isArray(i)){let n=null;return e.includes("number")?n=to(r.target.value):e.includes("boolean")?n=pn(r.target.value):n=r.target.value,r.target.checked?i.includes(n)?i:i.concat([n]):i.filter(s=>!om(s,n))}else return r.target.checked;else{if(t.tagName.toLowerCase()==="select"&&t.multiple)return e.includes("number")?Array.from(r.target.selectedOptions).map(n=>{let s=n.value||n.text;return to(s)}):e.includes("boolean")?Array.from(r.target.selectedOptions).map(n=>{let s=n.value||n.text;return pn(s)}):Array.from(r.target.selectedOptions).map(n=>n.value||n.text);{let n;return Lc(t)?r.target.checked?n=r.target.value:n=i:n=r.target.value,e.includes("number")?to(n):e.includes("boolean")?pn(n):e.includes("trim")?n.trim():n}}})}function to(t){let e=t?parseFloat(t):null;return am(e)?e:t}function om(t,e){return t==e}function am(t){return!Array.isArray(t)&&!isNaN(t)}function jl(t){return t!==null&&typeof t=="object"&&typeof t.get=="function"&&typeof t.set=="function"}Ee("cloak",t=>queueMicrotask(()=>de(()=>t.removeAttribute(Ur("cloak")))));wc(()=>`[${Ur("init")}]`);Ee("init",Xt((t,{expression:e},{evaluate:r})=>typeof e=="string"?!!e.trim()&&r(e,{},!1):r(e,{},!1)));Ee("text",(t,{expression:e},{effect:r,evaluateLater:i})=>{let n=i(e);r(()=>{n(s=>{de(()=>{t.textContent=s})})})});Ee("html",(t,{expression:e},{effect:r,evaluateLater:i})=>{let n=i(e);r(()=>{n(s=>{de(()=>{t.innerHTML=s,t._x_ignoreSelf=!0,At(t),delete t._x_ignoreSelf})})})});Oo(uc(":",hc(Ur("bind:"))));var ru=(t,{value:e,modifiers:r,expression:i,original:n},{effect:s,cleanup:o})=>{if(!e){let l={};up(l),Be(t,i)(p=>{Dc(t,p,n)},{scope:l});return}if(e==="key")return lm(t,i);if(t._x_inlineBindings&&t._x_inlineBindings[e]&&t._x_inlineBindings[e].extract)return;let a=Be(t,i);s(()=>a(l=>{l===void 0&&typeof i=="string"&&i.match(/\./)&&(l=""),de(()=>kc(t,e,l,r))})),o(()=>{t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedStyles&&t._x_undoAddedStyles()})};ru.inline=(t,{value:e,modifiers:r,expression:i})=>{e&&(t._x_inlineBindings||(t._x_inlineBindings={}),t._x_inlineBindings[e]={expression:i,extract:!1})};Ee("bind",ru);function lm(t,e){t._x_keyExpression=e}yc(()=>`[${Ur("data")}]`);Ee("data",(t,{expression:e},{cleanup:r})=>{if(cm(t))return;e=e===""?"{}":e;let i={};ao(i,t);let n={};dp(n,i);let s=mr(t,e,{scope:n});(s===void 0||s===!0)&&(s={}),ao(s,t);let o=zr(s);tc(o);let a=vi(t,o);o.init&&mr(t,o.init),r(()=>{o.destroy&&mr(t,o.destroy),a()})});En((t,e)=>{t._x_dataStack&&(e._x_dataStack=t._x_dataStack,e.setAttribute("data-has-alpine-state",!0))});function cm(t){return Kt?mo?!0:t.hasAttribute("data-has-alpine-state"):!1}Ee("show",(t,{modifiers:e,expression:r},{effect:i})=>{let n=Be(t,r);t._x_doHide||(t._x_doHide=()=>{de(()=>{t.style.setProperty("display","none",e.includes("important")?"important":void 0)})}),t._x_doShow||(t._x_doShow=()=>{de(()=>{t.style.length===1&&t.style.display==="none"?t.removeAttribute("style"):t.style.removeProperty("display")})});let s=()=>{t._x_doHide(),t._x_isShown=!1},o=()=>{t._x_doShow(),t._x_isShown=!0},a=()=>setTimeout(o),l=fo(T=>T?o():s(),T=>{typeof t._x_toggleAndCascadeWithTransitions=="function"?t._x_toggleAndCascadeWithTransitions(t,T,o,s):T?a():s()}),f,p=!0;i(()=>n(T=>{!p&&T===f||(e.includes("immediate")&&(T?a():s()),l(T),f=T,p=!1)}))});Ee("for",(t,{expression:e},{effect:r,cleanup:i})=>{let n=hm(e),s=Be(t,n.items),o=Be(t,t._x_keyExpression||"index");t._x_prevKeys=[],t._x_lookup={},r(()=>um(t,n,s,o)),i(()=>{Object.values(t._x_lookup).forEach(a=>de(()=>{Yr(a),a.remove()})),delete t._x_prevKeys,delete t._x_lookup})});function um(t,e,r,i){let n=o=>typeof o=="object"&&!Array.isArray(o),s=t;r(o=>{dm(o)&&o>=0&&(o=Array.from(Array(o).keys(),S=>S+1)),o===void 0&&(o=[]);let a=t._x_lookup,l=t._x_prevKeys,f=[],p=[];if(n(o))o=Object.entries(o).map(([S,C])=>{let b=zl(e,C,S,o);i(A=>{p.includes(A)&&Ge("Duplicate key on x-for",t),p.push(A)},{scope:{index:S,...b}}),f.push(b)});else for(let S=0;S<o.length;S++){let C=zl(e,o[S],S,o);i(b=>{p.includes(b)&&Ge("Duplicate key on x-for",t),p.push(b)},{scope:{index:S,...C}}),f.push(C)}let T=[],v=[],_=[],R=[];for(let S=0;S<l.length;S++){let C=l[S];p.indexOf(C)===-1&&_.push(C)}l=l.filter(S=>!_.includes(S));let y="template";for(let S=0;S<p.length;S++){let C=p[S],b=l.indexOf(C);if(b===-1)l.splice(S,0,C),T.push([y,S]);else if(b!==S){let A=l.splice(S,1)[0],h=l.splice(b-1,1)[0];l.splice(S,0,h),l.splice(b,0,A),v.push([A,h])}else R.push(C);y=C}for(let S=0;S<_.length;S++){let C=_[S];C in a&&(de(()=>{Yr(a[C]),a[C].remove()}),delete a[C])}for(let S=0;S<v.length;S++){let[C,b]=v[S],A=a[C],h=a[b],w=document.createElement("div");de(()=>{h||Ge('x-for ":key" is undefined or invalid',s,b,a),h.after(w),A.after(h),h._x_currentIfEl&&h.after(h._x_currentIfEl),w.before(A),A._x_currentIfEl&&A.after(A._x_currentIfEl),w.remove()}),h._x_refreshXForScope(f[p.indexOf(b)])}for(let S=0;S<T.length;S++){let[C,b]=T[S],A=C==="template"?s:a[C];A._x_currentIfEl&&(A=A._x_currentIfEl);let h=f[b],w=p[b],x=document.importNode(s.content,!0).firstElementChild,L=zr(h);vi(x,L,s),x._x_refreshXForScope=M=>{Object.entries(M).forEach(([F,q])=>{L[F]=q})},de(()=>{A.after(x),Xt(()=>At(x))()}),typeof w=="object"&&Ge("x-for key cannot be an object, it must be a string or an integer",s),a[w]=x}for(let S=0;S<R.length;S++)a[R[S]]._x_refreshXForScope(f[p.indexOf(R[S])]);s._x_prevKeys=p})}function hm(t){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,r=/^\s*\(|\)\s*$/g,i=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,n=t.match(i);if(!n)return;let s={};s.items=n[2].trim();let o=n[1].replace(r,"").trim(),a=o.match(e);return a?(s.item=o.replace(e,"").trim(),s.index=a[1].trim(),a[2]&&(s.collection=a[2].trim())):s.item=o,s}function zl(t,e,r,i){let n={};return/^\[.*\]$/.test(t.item)&&Array.isArray(e)?t.item.replace("[","").replace("]","").split(",").map(o=>o.trim()).forEach((o,a)=>{n[o]=e[a]}):/^\{.*\}$/.test(t.item)&&!Array.isArray(e)&&typeof e=="object"?t.item.replace("{","").replace("}","").split(",").map(o=>o.trim()).forEach(o=>{n[o]=e[o]}):n[t.item]=e,t.index&&(n[t.index]=r),t.collection&&(n[t.collection]=i),n}function dm(t){return!Array.isArray(t)&&!isNaN(t)}function iu(){}iu.inline=(t,{expression:e},{cleanup:r})=>{let i=yn(t);i._x_refs||(i._x_refs={}),i._x_refs[e]=t,r(()=>delete i._x_refs[e])};Ee("ref",iu);Ee("if",(t,{expression:e},{effect:r,cleanup:i})=>{t.tagName.toLowerCase()!=="template"&&Ge("x-if can only be used on a <template> tag",t);let n=Be(t,e),s=()=>{if(t._x_currentIfEl)return t._x_currentIfEl;let a=t.content.cloneNode(!0).firstElementChild;return vi(a,{},t),de(()=>{t.after(a),Xt(()=>At(a))()}),t._x_currentIfEl=a,t._x_undoIf=()=>{de(()=>{Yr(a),a.remove()}),delete t._x_currentIfEl},a},o=()=>{t._x_undoIf&&(t._x_undoIf(),delete t._x_undoIf)};r(()=>n(a=>{a?s():o()})),i(()=>t._x_undoIf&&t._x_undoIf())});Ee("id",(t,{expression:e},{evaluate:r})=>{r(e).forEach(n=>Jp(t,n))});En((t,e)=>{t._x_ids&&(e._x_ids=t._x_ids)});Oo(uc("@",hc(Ur("on:"))));Ee("on",Xt((t,{value:e,modifiers:r,expression:i},{cleanup:n})=>{let s=i?Be(t,i):()=>{};t.tagName.toLowerCase()==="template"&&(t._x_forwardEvents||(t._x_forwardEvents=[]),t._x_forwardEvents.includes(e)||t._x_forwardEvents.push(e));let o=yo(t,e,r,a=>{s(()=>{},{scope:{$event:a},params:[a]})});n(()=>o())}));kn("Collapse","collapse","collapse");kn("Intersect","intersect","intersect");kn("Focus","trap","focus");kn("Mask","mask","mask");function kn(t,e,r){Ee(e,i=>Ge(`You can't use [x-${e}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${r}`,i))}yi.setEvaluator(oc);yi.setReactivityEngine({reactive:Vo,effect:Sp,release:xp,raw:ne});var fm=yi,Cn=fm;function pm(t){t.directive("collapse",e),e.inline=(r,{modifiers:i})=>{i.includes("min")&&(r._x_doShow=()=>{},r._x_doHide=()=>{})};function e(r,{modifiers:i}){let n=nu(i,"duration",250)/1e3,s=nu(i,"min",0),o=!i.includes("min");r._x_isShown||(r.style.height=`${s}px`),!r._x_isShown&&o&&(r.hidden=!0),r._x_isShown||(r.style.overflow="hidden");let a=(f,p)=>{let T=t.setStyles(f,p);return p.height?()=>{}:T},l={transitionProperty:"height",transitionDuration:`${n}s`,transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)"};r._x_transition={in(f=()=>{},p=()=>{}){o&&(r.hidden=!1),o&&(r.style.display=null);let T=r.getBoundingClientRect().height;r.style.height="auto";let v=r.getBoundingClientRect().height;T===v&&(T=s),t.transition(r,t.setStyles,{during:l,start:{height:T+"px"},end:{height:v+"px"}},()=>r._x_isShown=!0,()=>{Math.abs(r.getBoundingClientRect().height-v)<1&&(r.style.overflow=null)})},out(f=()=>{},p=()=>{}){let T=r.getBoundingClientRect().height;t.transition(r,a,{during:l,start:{height:T+"px"},end:{height:s+"px"}},()=>r.style.overflow="hidden",()=>{r._x_isShown=!1,r.style.height==`${s}px`&&o&&(r.style.display="none",r.hidden=!0)})}}}}function nu(t,e,r){if(t.indexOf(e)===-1)return r;let i=t[t.indexOf(e)+1];if(!i)return r;if(e==="duration"){let n=i.match(/([0-9]+)ms/);if(n)return n[1]}if(e==="min"){let n=i.match(/([0-9]+)px/);if(n)return n[1]}return i}var su=pm;var Ho=class{constructor(e,r,i){this.eventTarget=e,this.eventName=r,this.eventOptions=i,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){let r=mm(e);for(let i of this.bindings){if(r.immediatePropagationStopped)break;i.handleEvent(r)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((e,r)=>{let i=e.index,n=r.index;return i<n?-1:i>n?1:0})}};function mm(t){if("immediatePropagationStopped"in t)return t;{let{stopImmediatePropagation:e}=t;return Object.assign(t,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,e.call(this)}})}}var qo=class{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(e=>e.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(e=>e.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((e,r)=>e.concat(Array.from(r.values())),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e,r=!1){this.fetchEventListenerForBinding(e).bindingDisconnected(e),r&&this.clearEventListenersForBinding(e)}handleError(e,r,i={}){this.application.handleError(e,`Error ${r}`,i)}clearEventListenersForBinding(e){let r=this.fetchEventListenerForBinding(e);r.hasBindings()||(r.disconnect(),this.removeMappedEventListenerFor(e))}removeMappedEventListenerFor(e){let{eventTarget:r,eventName:i,eventOptions:n}=e,s=this.fetchEventListenerMapForEventTarget(r),o=this.cacheKey(i,n);s.delete(o),s.size==0&&this.eventListenerMaps.delete(r)}fetchEventListenerForBinding(e){let{eventTarget:r,eventName:i,eventOptions:n}=e;return this.fetchEventListener(r,i,n)}fetchEventListener(e,r,i){let n=this.fetchEventListenerMapForEventTarget(e),s=this.cacheKey(r,i),o=n.get(s);return o||(o=this.createEventListener(e,r,i),n.set(s,o)),o}createEventListener(e,r,i){let n=new Ho(e,r,i);return this.started&&n.connect(),n}fetchEventListenerMapForEventTarget(e){let r=this.eventListenerMaps.get(e);return r||(r=new Map,this.eventListenerMaps.set(e,r)),r}cacheKey(e,r){let i=[e];return Object.keys(r).sort().forEach(n=>{i.push(`${r[n]?"":"!"}${n}`)}),i.join(":")}},gm={stop({event:t,value:e}){return e&&t.stopPropagation(),!0},prevent({event:t,value:e}){return e&&t.preventDefault(),!0},self({event:t,value:e,element:r}){return e?r===t.target:!0}},vm=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function bm(t){let r=t.trim().match(vm)||[],i=r[2],n=r[3];return n&&!["keydown","keyup","keypress"].includes(i)&&(i+=`.${n}`,n=""),{eventTarget:ym(r[4]),eventName:i,eventOptions:r[7]?wm(r[7]):{},identifier:r[5],methodName:r[6],keyFilter:r[1]||n}}function ym(t){if(t=="window")return window;if(t=="document")return document}function wm(t){return t.split(":").reduce((e,r)=>Object.assign(e,{[r.replace(/^!/,"")]:!/^!/.test(r)}),{})}function Em(t){if(t==window)return"window";if(t==document)return"document"}function ua(t){return t.replace(/(?:[_-])([a-z0-9])/g,(e,r)=>r.toUpperCase())}function jo(t){return ua(t.replace(/--/g,"-").replace(/__/g,"_"))}function Ei(t){return t.charAt(0).toUpperCase()+t.slice(1)}function mu(t){return t.replace(/([A-Z])/g,(e,r)=>`-${r.toLowerCase()}`)}function Sm(t){return t.match(/[^\s]+/g)||[]}function ou(t){return t!=null}function zo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var au=["meta","ctrl","alt","shift"],Wo=class{constructor(e,r,i,n){this.element=e,this.index=r,this.eventTarget=i.eventTarget||e,this.eventName=i.eventName||xm(e)||On("missing event name"),this.eventOptions=i.eventOptions||{},this.identifier=i.identifier||On("missing identifier"),this.methodName=i.methodName||On("missing method name"),this.keyFilter=i.keyFilter||"",this.schema=n}static forToken(e,r){return new this(e.element,e.index,bm(e.content),r)}toString(){let e=this.keyFilter?`.${this.keyFilter}`:"",r=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}${r}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(e){if(!this.keyFilter)return!1;let r=this.keyFilter.split("+");if(this.keyFilterDissatisfied(e,r))return!0;let i=r.filter(n=>!au.includes(n))[0];return i?(zo(this.keyMappings,i)||On(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[i].toLowerCase()!==e.key.toLowerCase()):!1}shouldIgnoreMouseEvent(e){if(!this.keyFilter)return!1;let r=[this.keyFilter];return!!this.keyFilterDissatisfied(e,r)}get params(){let e={},r=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(let{name:i,value:n}of Array.from(this.element.attributes)){let s=i.match(r),o=s&&s[1];o&&(e[ua(o)]=Tm(n))}return e}get eventTargetName(){return Em(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(e,r){let[i,n,s,o]=au.map(a=>r.includes(a));return e.metaKey!==i||e.ctrlKey!==n||e.altKey!==s||e.shiftKey!==o}},lu={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:t=>t.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function xm(t){let e=t.tagName.toLowerCase();if(e in lu)return lu[e](t)}function On(t){throw new Error(t)}function Tm(t){try{return JSON.parse(t)}catch{return t}}var Uo=class{constructor(e,r){this.context=e,this.action=r}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){let r=this.prepareActionEvent(e);this.willBeInvokedByEvent(e)&&this.applyEventModifiers(r)&&this.invokeWithEvent(r)}get eventName(){return this.action.eventName}get method(){let e=this.controller[this.methodName];if(typeof e=="function")return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(e){let{element:r}=this.action,{actionDescriptorFilters:i}=this.context.application,{controller:n}=this.context,s=!0;for(let[o,a]of Object.entries(this.eventOptions))if(o in i){let l=i[o];s=s&&l({name:o,value:a,event:e,element:r,controller:n})}else continue;return s}prepareActionEvent(e){return Object.assign(e,{params:this.action.params})}invokeWithEvent(e){let{target:r,currentTarget:i}=e;try{this.method.call(this.controller,e),this.context.logDebugActivity(this.methodName,{event:e,target:r,currentTarget:i,action:this.methodName})}catch(n){let{identifier:s,controller:o,element:a,index:l}=this,f={identifier:s,controller:o,element:a,index:l,event:e};this.context.handleError(n,`invoking action "${this.action}"`,f)}}willBeInvokedByEvent(e){let r=e.target;return e instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(e)||e instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(e)?!1:this.element===r?!0:r instanceof Element&&this.element.contains(r)?this.scope.containsElement(r):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}},_n=class{constructor(e,r){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=r,this.elements=new Set,this.mutationObserver=new MutationObserver(i=>this.processMutations(i))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){let e=new Set(this.matchElementsInTree());for(let r of Array.from(this.elements))e.has(r)||this.removeElement(r);for(let r of Array.from(e))this.addElement(r)}}processMutations(e){if(this.started)for(let r of e)this.processMutation(r)}processMutation(e){e.type=="attributes"?this.processAttributeChange(e.target,e.attributeName):e.type=="childList"&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,r){this.elements.has(e)?this.delegate.elementAttributeChanged&&this.matchElement(e)?this.delegate.elementAttributeChanged(e,r):this.removeElement(e):this.matchElement(e)&&this.addElement(e)}processRemovedNodes(e){for(let r of Array.from(e)){let i=this.elementFromNode(r);i&&this.processTree(i,this.removeElement)}}processAddedNodes(e){for(let r of Array.from(e)){let i=this.elementFromNode(r);i&&this.elementIsActive(i)&&this.processTree(i,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,r){for(let i of this.matchElementsInTree(e))r.call(this,i)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}},Ln=class{constructor(e,r,i){this.attributeName=r,this.delegate=i,this.elementObserver=new _n(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){let r=this.matchElement(e)?[e]:[],i=Array.from(e.querySelectorAll(this.selector));return r.concat(i)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,r){this.delegate.elementAttributeValueChanged&&this.attributeName==r&&this.delegate.elementAttributeValueChanged(e,r)}};function Am(t,e,r){gu(t,e).add(r)}function km(t,e,r){gu(t,e).delete(r),Cm(t,e)}function gu(t,e){let r=t.get(e);return r||(r=new Set,t.set(e,r)),r}function Cm(t,e){let r=t.get(e);r!=null&&r.size==0&&t.delete(e)}var kt=class{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((r,i)=>r.concat(Array.from(i)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((r,i)=>r+i.size,0)}add(e,r){Am(this.valuesByKey,e,r)}delete(e,r){km(this.valuesByKey,e,r)}has(e,r){let i=this.valuesByKey.get(e);return i!=null&&i.has(r)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some(i=>i.has(e))}getValuesForKey(e){let r=this.valuesByKey.get(e);return r?Array.from(r):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter(([r,i])=>i.has(e)).map(([r,i])=>r)}};var Ko=class{constructor(e,r,i,n){this._selector=r,this.details=n,this.elementObserver=new _n(e,this),this.delegate=i,this.matchesByElement=new kt}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(e){this._selector=e,this.refresh()}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(e){let{selector:r}=this;if(r){let i=e.matches(r);return this.delegate.selectorMatchElement?i&&this.delegate.selectorMatchElement(e,this.details):i}else return!1}matchElementsInTree(e){let{selector:r}=this;if(r){let i=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(r)).filter(s=>this.matchElement(s));return i.concat(n)}else return[]}elementMatched(e){let{selector:r}=this;r&&this.selectorMatched(e,r)}elementUnmatched(e){let r=this.matchesByElement.getKeysForValue(e);for(let i of r)this.selectorUnmatched(e,i)}elementAttributeChanged(e,r){let{selector:i}=this;if(i){let n=this.matchElement(e),s=this.matchesByElement.has(i,e);n&&!s?this.selectorMatched(e,i):!n&&s&&this.selectorUnmatched(e,i)}}selectorMatched(e,r){this.delegate.selectorMatched(e,r,this.details),this.matchesByElement.add(r,e)}selectorUnmatched(e,r){this.delegate.selectorUnmatched(e,r,this.details),this.matchesByElement.delete(r,e)}},Yo=class{constructor(e,r){this.element=e,this.delegate=r,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(i=>this.processMutations(i))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(let e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(let r of e)this.processMutation(r)}processMutation(e){let r=e.attributeName;r&&this.refreshAttribute(r,e.oldValue)}refreshAttribute(e,r){let i=this.delegate.getStringMapKeyForAttribute(e);if(i!=null){this.stringMap.has(e)||this.stringMapKeyAdded(i,e);let n=this.element.getAttribute(e);if(this.stringMap.get(e)!=n&&this.stringMapValueChanged(n,i,r),n==null){let s=this.stringMap.get(e);this.stringMap.delete(e),s&&this.stringMapKeyRemoved(i,e,s)}else this.stringMap.set(e,n)}}stringMapKeyAdded(e,r){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,r)}stringMapValueChanged(e,r,i){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,r,i)}stringMapKeyRemoved(e,r,i){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,r,i)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(e=>e.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}},Rn=class{constructor(e,r,i){this.attributeObserver=new Ln(e,r,this),this.delegate=i,this.tokensByElement=new kt}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){let[r,i]=this.refreshTokensForElement(e);this.tokensUnmatched(r),this.tokensMatched(i)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach(r=>this.tokenMatched(r))}tokensUnmatched(e){e.forEach(r=>this.tokenUnmatched(r))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){let r=this.tokensByElement.getValuesForKey(e),i=this.readTokensForElement(e),n=_m(r,i).findIndex(([s,o])=>!Lm(s,o));return n==-1?[[],[]]:[r.slice(n),i.slice(n)]}readTokensForElement(e){let r=this.attributeName,i=e.getAttribute(r)||"";return Om(i,e,r)}};function Om(t,e,r){return t.trim().split(/\s+/).filter(i=>i.length).map((i,n)=>({element:e,attributeName:r,content:i,index:n}))}function _m(t,e){let r=Math.max(t.length,e.length);return Array.from({length:r},(i,n)=>[t[n],e[n]])}function Lm(t,e){return t&&e&&t.index==e.index&&t.content==e.content}var Mn=class{constructor(e,r,i){this.tokenListObserver=new Rn(e,r,this),this.delegate=i,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){let{element:r}=e,{value:i}=this.fetchParseResultForToken(e);i&&(this.fetchValuesByTokenForElement(r).set(e,i),this.delegate.elementMatchedValue(r,i))}tokenUnmatched(e){let{element:r}=e,{value:i}=this.fetchParseResultForToken(e);i&&(this.fetchValuesByTokenForElement(r).delete(e),this.delegate.elementUnmatchedValue(r,i))}fetchParseResultForToken(e){let r=this.parseResultsByToken.get(e);return r||(r=this.parseToken(e),this.parseResultsByToken.set(e,r)),r}fetchValuesByTokenForElement(e){let r=this.valuesByTokenByElement.get(e);return r||(r=new Map,this.valuesByTokenByElement.set(e,r)),r}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(r){return{error:r}}}},Xo=class{constructor(e,r){this.context=e,this.delegate=r,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new Mn(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){let r=new Uo(this.context,e);this.bindingsByAction.set(e,r),this.delegate.bindingConnected(r)}disconnectAction(e){let r=this.bindingsByAction.get(e);r&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(r))}disconnectAllActions(){this.bindings.forEach(e=>this.delegate.bindingDisconnected(e,!0)),this.bindingsByAction.clear()}parseValueForToken(e){let r=Wo.forToken(e,this.schema);if(r.identifier==this.identifier)return r}elementMatchedValue(e,r){this.connectAction(r)}elementUnmatchedValue(e,r){this.disconnectAction(r)}},Zo=class{constructor(e,r){this.context=e,this.receiver=r,this.stringMapObserver=new Yo(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,r){let i=this.valueDescriptorMap[r];this.hasValue(e)||this.invokeChangedCallback(e,i.writer(this.receiver[e]),i.writer(i.defaultValue))}stringMapValueChanged(e,r,i){let n=this.valueDescriptorNameMap[r];e!==null&&(i===null&&(i=n.writer(n.defaultValue)),this.invokeChangedCallback(r,e,i))}stringMapKeyRemoved(e,r,i){let n=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,n.writer(this.receiver[e]),i):this.invokeChangedCallback(e,n.writer(n.defaultValue),i)}invokeChangedCallbacksForDefaultValues(){for(let{key:e,name:r,defaultValue:i,writer:n}of this.valueDescriptors)i!=null&&!this.controller.data.has(e)&&this.invokeChangedCallback(r,n(i),void 0)}invokeChangedCallback(e,r,i){let n=`${e}Changed`,s=this.receiver[n];if(typeof s=="function"){let o=this.valueDescriptorNameMap[e];try{let a=o.reader(r),l=i;i&&(l=o.reader(i)),s.call(this.receiver,a,l)}catch(a){throw a instanceof TypeError&&(a.message=`Stimulus Value "${this.context.identifier}.${o.name}" - ${a.message}`),a}}}get valueDescriptors(){let{valueDescriptorMap:e}=this;return Object.keys(e).map(r=>e[r])}get valueDescriptorNameMap(){let e={};return Object.keys(this.valueDescriptorMap).forEach(r=>{let i=this.valueDescriptorMap[r];e[i.name]=i}),e}hasValue(e){let r=this.valueDescriptorNameMap[e],i=`has${Ei(r.name)}`;return this.receiver[i]}},Go=class{constructor(e,r){this.context=e,this.delegate=r,this.targetsByName=new kt}start(){this.tokenListObserver||(this.tokenListObserver=new Rn(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:r}){this.scope.containsElement(e)&&this.connectTarget(e,r)}tokenUnmatched({element:e,content:r}){this.disconnectTarget(e,r)}connectTarget(e,r){var i;this.targetsByName.has(r,e)||(this.targetsByName.add(r,e),(i=this.tokenListObserver)===null||i===void 0||i.pause(()=>this.delegate.targetConnected(e,r)))}disconnectTarget(e,r){var i;this.targetsByName.has(r,e)&&(this.targetsByName.delete(r,e),(i=this.tokenListObserver)===null||i===void 0||i.pause(()=>this.delegate.targetDisconnected(e,r)))}disconnectAllTargets(){for(let e of this.targetsByName.keys)for(let r of this.targetsByName.getValuesForKey(e))this.disconnectTarget(r,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}};function Si(t,e){let r=vu(t);return Array.from(r.reduce((i,n)=>(Mm(n,e).forEach(s=>i.add(s)),i),new Set))}function Rm(t,e){return vu(t).reduce((i,n)=>(i.push(...Pm(n,e)),i),[])}function vu(t){let e=[];for(;t;)e.push(t),t=Object.getPrototypeOf(t);return e.reverse()}function Mm(t,e){let r=t[e];return Array.isArray(r)?r:[]}function Pm(t,e){let r=t[e];return r?Object.keys(r).map(i=>[i,r[i]]):[]}var Jo=class{constructor(e,r){this.started=!1,this.context=e,this.delegate=r,this.outletsByName=new kt,this.outletElementsByName=new kt,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach(e=>{this.setupSelectorObserverForOutlet(e),this.setupAttributeObserverForOutlet(e)}),this.started=!0,this.dependentContexts.forEach(e=>e.refresh()))}refresh(){this.selectorObserverMap.forEach(e=>e.refresh()),this.attributeObserverMap.forEach(e=>e.refresh())}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(e=>e.stop()),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(e=>e.stop()),this.attributeObserverMap.clear())}selectorMatched(e,r,{outletName:i}){let n=this.getOutlet(e,i);n&&this.connectOutlet(n,e,i)}selectorUnmatched(e,r,{outletName:i}){let n=this.getOutletFromMap(e,i);n&&this.disconnectOutlet(n,e,i)}selectorMatchElement(e,{outletName:r}){let i=this.selector(r),n=this.hasOutlet(e,r),s=e.matches(`[${this.schema.controllerAttribute}~=${r}]`);return i?n&&s&&e.matches(i):!1}elementMatchedAttribute(e,r){let i=this.getOutletNameFromOutletAttributeName(r);i&&this.updateSelectorObserverForOutlet(i)}elementAttributeValueChanged(e,r){let i=this.getOutletNameFromOutletAttributeName(r);i&&this.updateSelectorObserverForOutlet(i)}elementUnmatchedAttribute(e,r){let i=this.getOutletNameFromOutletAttributeName(r);i&&this.updateSelectorObserverForOutlet(i)}connectOutlet(e,r,i){var n;this.outletElementsByName.has(i,r)||(this.outletsByName.add(i,e),this.outletElementsByName.add(i,r),(n=this.selectorObserverMap.get(i))===null||n===void 0||n.pause(()=>this.delegate.outletConnected(e,r,i)))}disconnectOutlet(e,r,i){var n;this.outletElementsByName.has(i,r)&&(this.outletsByName.delete(i,e),this.outletElementsByName.delete(i,r),(n=this.selectorObserverMap.get(i))===null||n===void 0||n.pause(()=>this.delegate.outletDisconnected(e,r,i)))}disconnectAllOutlets(){for(let e of this.outletElementsByName.keys)for(let r of this.outletElementsByName.getValuesForKey(e))for(let i of this.outletsByName.getValuesForKey(e))this.disconnectOutlet(i,r,e)}updateSelectorObserverForOutlet(e){let r=this.selectorObserverMap.get(e);r&&(r.selector=this.selector(e))}setupSelectorObserverForOutlet(e){let r=this.selector(e),i=new Ko(document.body,r,this,{outletName:e});this.selectorObserverMap.set(e,i),i.start()}setupAttributeObserverForOutlet(e){let r=this.attributeNameForOutletName(e),i=new Ln(this.scope.element,r,this);this.attributeObserverMap.set(e,i),i.start()}selector(e){return this.scope.outlets.getSelectorForOutletName(e)}attributeNameForOutletName(e){return this.scope.schema.outletAttributeForScope(this.identifier,e)}getOutletNameFromOutletAttributeName(e){return this.outletDefinitions.find(r=>this.attributeNameForOutletName(r)===e)}get outletDependencies(){let e=new kt;return this.router.modules.forEach(r=>{let i=r.definition.controllerConstructor;Si(i,"outlets").forEach(s=>e.add(s,r.identifier))}),e}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){let e=this.dependentControllerIdentifiers;return this.router.contexts.filter(r=>e.includes(r.identifier))}hasOutlet(e,r){return!!this.getOutlet(e,r)||!!this.getOutletFromMap(e,r)}getOutlet(e,r){return this.application.getControllerForElementAndIdentifier(e,r)}getOutletFromMap(e,r){return this.outletsByName.getValuesForKey(r).find(i=>i.element===e)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}},Qo=class{constructor(e,r){this.logDebugActivity=(i,n={})=>{let{identifier:s,controller:o,element:a}=this;n=Object.assign({identifier:s,controller:o,element:a},n),this.application.logDebugActivity(this.identifier,i,n)},this.module=e,this.scope=r,this.controller=new e.controllerConstructor(this),this.bindingObserver=new Xo(this,this.dispatcher),this.valueObserver=new Zo(this,this.controller),this.targetObserver=new Go(this,this),this.outletObserver=new Jo(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(i){this.handleError(i,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,r,i={}){let{identifier:n,controller:s,element:o}=this;i=Object.assign({identifier:n,controller:s,element:o},i),this.application.handleError(e,`Error ${r}`,i)}targetConnected(e,r){this.invokeControllerMethod(`${r}TargetConnected`,e)}targetDisconnected(e,r){this.invokeControllerMethod(`${r}TargetDisconnected`,e)}outletConnected(e,r,i){this.invokeControllerMethod(`${jo(i)}OutletConnected`,e,r)}outletDisconnected(e,r,i){this.invokeControllerMethod(`${jo(i)}OutletDisconnected`,e,r)}invokeControllerMethod(e,...r){let i=this.controller;typeof i[e]=="function"&&i[e](...r)}};function Im(t){return Dm(t,Nm(t))}function Dm(t,e){let r=Vm(t),i=Fm(t.prototype,e);return Object.defineProperties(r.prototype,i),r}function Nm(t){return Si(t,"blessings").reduce((r,i)=>{let n=i(t);for(let s in n){let o=r[s]||{};r[s]=Object.assign(o,n[s])}return r},{})}function Fm(t,e){return $m(e).reduce((r,i)=>{let n=Bm(t,e,i);return n&&Object.assign(r,{[i]:n}),r},{})}function Bm(t,e,r){let i=Object.getOwnPropertyDescriptor(t,r);if(!(i&&"value"in i)){let s=Object.getOwnPropertyDescriptor(e,r).value;return i&&(s.get=i.get||s.get,s.set=i.set||s.set),s}}var $m=typeof Object.getOwnPropertySymbols=="function"?t=>[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)]:Object.getOwnPropertyNames,Vm=(()=>{function t(r){function i(){return Reflect.construct(r,arguments,new.target)}return i.prototype=Object.create(r.prototype,{constructor:{value:i}}),Reflect.setPrototypeOf(i,r),i}function e(){let i=t(function(){this.a.call(this)});return i.prototype.a=function(){},new i}try{return e(),t}catch{return i=>class extends i{}}})();function Hm(t){return{identifier:t.identifier,controllerConstructor:Im(t.controllerConstructor)}}var ea=class{constructor(e,r){this.application=e,this.definition=Hm(r),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){let r=this.fetchContextForScope(e);this.connectedContexts.add(r),r.connect()}disconnectContextForScope(e){let r=this.contextsByScope.get(e);r&&(this.connectedContexts.delete(r),r.disconnect())}fetchContextForScope(e){let r=this.contextsByScope.get(e);return r||(r=new Qo(this,e),this.contextsByScope.set(e,r)),r}},ta=class{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){let r=this.data.get(this.getDataKey(e))||"";return Sm(r)}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}},ra=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){let r=this.getAttributeNameForKey(e);return this.element.getAttribute(r)}set(e,r){let i=this.getAttributeNameForKey(e);return this.element.setAttribute(i,r),this.get(e)}has(e){let r=this.getAttributeNameForKey(e);return this.element.hasAttribute(r)}delete(e){if(this.has(e)){let r=this.getAttributeNameForKey(e);return this.element.removeAttribute(r),!0}else return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${mu(e)}`}},ia=class{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,r,i){let n=this.warnedKeysByObject.get(e);n||(n=new Set,this.warnedKeysByObject.set(e,n)),n.has(r)||(n.add(r),this.logger.warn(i,e))}};function na(t,e){return`[${t}~="${e}"]`}var sa=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((r,i)=>r||this.findTarget(i)||this.findLegacyTarget(i),void 0)}findAll(...e){return e.reduce((r,i)=>[...r,...this.findAllTargets(i),...this.findAllLegacyTargets(i)],[])}findTarget(e){let r=this.getSelectorForTargetName(e);return this.scope.findElement(r)}findAllTargets(e){let r=this.getSelectorForTargetName(e);return this.scope.findAllElements(r)}getSelectorForTargetName(e){let r=this.schema.targetAttributeForScope(this.identifier);return na(r,e)}findLegacyTarget(e){let r=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(r),e)}findAllLegacyTargets(e){let r=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(r).map(i=>this.deprecate(i,e))}getLegacySelectorForTargetName(e){let r=`${this.identifier}.${e}`;return na(this.schema.targetAttribute,r)}deprecate(e,r){if(e){let{identifier:i}=this,n=this.schema.targetAttribute,s=this.schema.targetAttributeForScope(i);this.guide.warn(e,`target:${r}`,`Please replace ${n}="${i}.${r}" with ${s}="${r}". The ${n} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}},oa=class{constructor(e,r){this.scope=e,this.controllerElement=r}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((r,i)=>r||this.findOutlet(i),void 0)}findAll(...e){return e.reduce((r,i)=>[...r,...this.findAllOutlets(i)],[])}getSelectorForOutletName(e){let r=this.schema.outletAttributeForScope(this.identifier,e);return this.controllerElement.getAttribute(r)}findOutlet(e){let r=this.getSelectorForOutletName(e);if(r)return this.findElement(r,e)}findAllOutlets(e){let r=this.getSelectorForOutletName(e);return r?this.findAllElements(r,e):[]}findElement(e,r){return this.scope.queryElements(e).filter(n=>this.matchesElement(n,e,r))[0]}findAllElements(e,r){return this.scope.queryElements(e).filter(n=>this.matchesElement(n,e,r))}matchesElement(e,r,i){let n=e.getAttribute(this.scope.schema.controllerAttribute)||"";return e.matches(r)&&n.split(" ").includes(i)}},aa=class t{constructor(e,r,i,n){this.targets=new sa(this),this.classes=new ta(this),this.data=new ra(this),this.containsElement=s=>s.closest(this.controllerSelector)===this.element,this.schema=e,this.element=r,this.identifier=i,this.guide=new ia(n),this.outlets=new oa(this.documentScope,r)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return na(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new t(this.schema,document.documentElement,this.identifier,this.guide.logger)}},la=class{constructor(e,r,i){this.element=e,this.schema=r,this.delegate=i,this.valueListObserver=new Mn(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){let{element:r,content:i}=e;return this.parseValueForElementAndIdentifier(r,i)}parseValueForElementAndIdentifier(e,r){let i=this.fetchScopesByIdentifierForElement(e),n=i.get(r);return n||(n=this.delegate.createScopeForElementAndIdentifier(e,r),i.set(r,n)),n}elementMatchedValue(e,r){let i=(this.scopeReferenceCounts.get(r)||0)+1;this.scopeReferenceCounts.set(r,i),i==1&&this.delegate.scopeConnected(r)}elementUnmatchedValue(e,r){let i=this.scopeReferenceCounts.get(r);i&&(this.scopeReferenceCounts.set(r,i-1),i==1&&this.delegate.scopeDisconnected(r))}fetchScopesByIdentifierForElement(e){let r=this.scopesByIdentifierByElement.get(e);return r||(r=new Map,this.scopesByIdentifierByElement.set(e,r)),r}},ca=class{constructor(e){this.application=e,this.scopeObserver=new la(this.element,this.schema,this),this.scopesByIdentifier=new kt,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((e,r)=>e.concat(r.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);let r=new ea(this.application,e);this.connectModule(r);let i=e.controllerConstructor.afterLoad;i&&i.call(e.controllerConstructor,e.identifier,this.application)}unloadIdentifier(e){let r=this.modulesByIdentifier.get(e);r&&this.disconnectModule(r)}getContextForElementAndIdentifier(e,r){let i=this.modulesByIdentifier.get(r);if(i)return i.contexts.find(n=>n.element==e)}proposeToConnectScopeForElementAndIdentifier(e,r){let i=this.scopeObserver.parseValueForElementAndIdentifier(e,r);i?this.scopeObserver.elementMatchedValue(i.element,i):console.error(`Couldn't find or create scope for identifier: "${r}" and element:`,e)}handleError(e,r,i){this.application.handleError(e,r,i)}createScopeForElementAndIdentifier(e,r){return new aa(this.schema,e,r,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);let r=this.modulesByIdentifier.get(e.identifier);r&&r.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);let r=this.modulesByIdentifier.get(e.identifier);r&&r.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(i=>e.connectContextForScope(i))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(i=>e.disconnectContextForScope(i))}},qm={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:t=>`data-${t}-target`,outletAttributeForScope:(t,e)=>`data-${t}-${e}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},cu("abcdefghijklmnopqrstuvwxyz".split("").map(t=>[t,t]))),cu("0123456789".split("").map(t=>[t,t])))};function cu(t){return t.reduce((e,[r,i])=>Object.assign(Object.assign({},e),{[r]:i}),{})}var Pn=class{constructor(e=document.documentElement,r=qm){this.logger=console,this.debug=!1,this.logDebugActivity=(i,n,s={})=>{this.debug&&this.logFormattedMessage(i,n,s)},this.element=e,this.schema=r,this.dispatcher=new qo(this),this.router=new ca(this),this.actionDescriptorFilters=Object.assign({},gm)}static start(e,r){let i=new this(e,r);return i.start(),i}async start(){await jm(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,r){this.load({identifier:e,controllerConstructor:r})}registerActionOption(e,r){this.actionDescriptorFilters[e]=r}load(e,...r){(Array.isArray(e)?e:[e,...r]).forEach(n=>{n.controllerConstructor.shouldLoad&&this.router.loadDefinition(n)})}unload(e,...r){(Array.isArray(e)?e:[e,...r]).forEach(n=>this.router.unloadIdentifier(n))}get controllers(){return this.router.contexts.map(e=>e.controller)}getControllerForElementAndIdentifier(e,r){let i=this.router.getContextForElementAndIdentifier(e,r);return i?i.controller:null}handleError(e,r,i){var n;this.logger.error(`%s

%o

%o`,r,e,i),(n=window.onerror)===null||n===void 0||n.call(window,r,"",0,0,e)}logFormattedMessage(e,r,i={}){i=Object.assign({application:this},i),this.logger.groupCollapsed(`${e} #${r}`),this.logger.log("details:",Object.assign({},i)),this.logger.groupEnd()}};function jm(){return new Promise(t=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>t()):t()})}function zm(t){return Si(t,"classes").reduce((r,i)=>Object.assign(r,Wm(i)),{})}function Wm(t){return{[`${t}Class`]:{get(){let{classes:e}=this;if(e.has(t))return e.get(t);{let r=e.getAttributeName(t);throw new Error(`Missing attribute "${r}"`)}}},[`${t}Classes`]:{get(){return this.classes.getAll(t)}},[`has${Ei(t)}Class`]:{get(){return this.classes.has(t)}}}}function Um(t){return Si(t,"outlets").reduce((r,i)=>Object.assign(r,Km(i)),{})}function uu(t,e,r){return t.application.getControllerForElementAndIdentifier(e,r)}function hu(t,e,r){let i=uu(t,e,r);if(i||(t.application.router.proposeToConnectScopeForElementAndIdentifier(e,r),i=uu(t,e,r),i))return i}function Km(t){let e=jo(t);return{[`${e}Outlet`]:{get(){let r=this.outlets.find(t),i=this.outlets.getSelectorForOutletName(t);if(r){let n=hu(this,r,t);if(n)return n;throw new Error(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${i}".`)}},[`${e}Outlets`]:{get(){let r=this.outlets.findAll(t);return r.length>0?r.map(i=>{let n=hu(this,i,t);if(n)return n;console.warn(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`,i)}).filter(i=>i):[]}},[`${e}OutletElement`]:{get(){let r=this.outlets.find(t),i=this.outlets.getSelectorForOutletName(t);if(r)return r;throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${i}".`)}},[`${e}OutletElements`]:{get(){return this.outlets.findAll(t)}},[`has${Ei(e)}Outlet`]:{get(){return this.outlets.has(t)}}}}function Ym(t){return Si(t,"targets").reduce((r,i)=>Object.assign(r,Xm(i)),{})}function Xm(t){return{[`${t}Target`]:{get(){let e=this.targets.find(t);if(e)return e;throw new Error(`Missing target element "${t}" for "${this.identifier}" controller`)}},[`${t}Targets`]:{get(){return this.targets.findAll(t)}},[`has${Ei(t)}Target`]:{get(){return this.targets.has(t)}}}}function Zm(t){let e=Rm(t,"values"),r={valueDescriptorMap:{get(){return e.reduce((i,n)=>{let s=bu(n,this.identifier),o=this.data.getAttributeNameForKey(s.key);return Object.assign(i,{[o]:s})},{})}}};return e.reduce((i,n)=>Object.assign(i,Gm(n)),r)}function Gm(t,e){let r=bu(t,e),{key:i,name:n,reader:s,writer:o}=r;return{[n]:{get(){let a=this.data.get(i);return a!==null?s(a):r.defaultValue},set(a){a===void 0?this.data.delete(i):this.data.set(i,o(a))}},[`has${Ei(n)}`]:{get(){return this.data.has(i)||r.hasCustomDefaultValue}}}}function bu([t,e],r){return tg({controller:r,token:t,typeDefinition:e})}function In(t){switch(t){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function wi(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(t))return"array";if(Object.prototype.toString.call(t)==="[object Object]")return"object"}function Jm(t){let{controller:e,token:r,typeObject:i}=t,n=ou(i.type),s=ou(i.default),o=n&&s,a=n&&!s,l=!n&&s,f=In(i.type),p=wi(t.typeObject.default);if(a)return f;if(l)return p;if(f!==p){let T=e?`${e}.${r}`:r;throw new Error(`The specified default value for the Stimulus Value "${T}" must match the defined type "${f}". The provided default value of "${i.default}" is of type "${p}".`)}if(o)return f}function Qm(t){let{controller:e,token:r,typeDefinition:i}=t,s=Jm({controller:e,token:r,typeObject:i}),o=wi(i),a=In(i),l=s||o||a;if(l)return l;let f=e?`${e}.${i}`:r;throw new Error(`Unknown value type "${f}" for "${r}" value`)}function eg(t){let e=In(t);if(e)return du[e];let r=zo(t,"default"),i=zo(t,"type"),n=t;if(r)return n.default;if(i){let{type:s}=n,o=In(s);if(o)return du[o]}return t}function tg(t){let{token:e,typeDefinition:r}=t,i=`${mu(e)}-value`,n=Qm(t);return{type:n,key:i,name:ua(i),get defaultValue(){return eg(r)},get hasCustomDefaultValue(){return wi(r)!==void 0},reader:rg[n],writer:fu[n]||fu.default}}var du={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},rg={array(t){let e=JSON.parse(t);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${t}" of type "${wi(e)}"`);return e},boolean(t){return!(t=="0"||String(t).toLowerCase()=="false")},number(t){return Number(t.replace(/_/g,""))},object(t){let e=JSON.parse(t);if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${t}" of type "${wi(e)}"`);return e},string(t){return t}},fu={default:ig,array:pu,object:pu};function pu(t){return JSON.stringify(t)}function ig(t){return`${t}`}var le=class{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,r){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:r=this.element,detail:i={},prefix:n=this.identifier,bubbles:s=!0,cancelable:o=!0}={}){let a=n?`${n}:${e}`:e,l=new CustomEvent(a,{detail:i,bubbles:s,cancelable:o});return r.dispatchEvent(l),l}};le.blessings=[zm,Ym,Zm,Um];le.targets=[];le.outlets=[];le.values={};var Dn=class extends le{static targets=["links","content","menu"];static values={headerSelector:String,offset:Number,clipboardSuccess:String};connect(){if(!(this.hasContentTarget&&this.hasLinksTarget&&this.hasMenuTarget)){this.menuTarget&&this.menuTarget.remove();return}this.#e();let e=window.location.hash.replace("#","");document.getElementById(e)?.scrollIntoView({behavior:"instant",block:"start"})}disconnect(){window.removeEventListener("scroll",this.#i.bind(this))}#e(){let t=this.#t(this.headings);t.children.length>0?(this.#r(t,this.linksTarget),window.addEventListener("scroll",this.#i.bind(this)),this.#i(),this.element.classList.add("has-toc")):(this.element.classList.remove("has-toc"),this.menuTarget.style.display="none")}#t(t){let e={level:0,children:[]},r=e;return t.forEach((i,n)=>{if(i.textContent.trim()==="")return;let s=parseInt(i.tagName.substr(1),10),o=this.#n(i,s,n);i.style.position="relative";let a=this.headerHeight+Number(this.offsetValue);i.insertAdjacentHTML("beforeend",`<div js-position style="position: absolute; top: -${a}px; left: 0; width: 0; height: 0" id="${o}"></div>`),i.insertAdjacentHTML("beforeend",'<a name="'+o+'"></a>');let l={level:s,id:o,text:i.textContent,children:[]};if(s>r.level)r.children.push(l);else{for(;s<=r.level&&r!==e;)r=r.parent;r.children.push(l)}l.parent=r,r=l}),e}#r(t,e,r=0){if(t.children.length==0)return;let i=document.createElement("ul");return t.children.forEach(n=>{let s=document.createElement("li"),o=document.createElement("button");o.type="button",o.textContent=n.text,o.dataset.action="toc#navigateToAnchor",o.dataset.tocAnchorParam=n.id,s.appendChild(o),i.appendChild(s);let a=document.getElementById(n.id);if(!a)return;let l=a.parentElement;if(!l)return;l.style.position="relative",l.classList.add("group");let f=document.createElement("span");f.className="inline-flex items-center align-middle ml-1",f.setAttribute("data-controller","clipboard"),f.setAttribute("data-clipboard-success-value",this.clipboardSuccessValue),f.style.verticalAlign="middle";let p=`
        <input type="hidden" value="${window.location.href.split("#")[0]}#${n.id}" data-clipboard-target="source" />
        <button type="button" data-action="clipboard#copy" data-clipboard-target="button" class="inline-flex ml-1 opacity-0 group-hover:opacity-100">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-300 group-hover:text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
          </svg>
        </button>
      `;f.innerHTML=p,l.appendChild(f);let T=Array.from(l.childNodes).filter(v=>v.nodeType===Node.TEXT_NODE||v.nodeType===Node.ELEMENT_NODE&&!v.hasAttribute("data-controller")&&!v.hasAttribute("js-position")).pop();if(T&&T.nextSibling&&l.insertBefore(f,T.nextSibling),n.children.length>0){let v=this.#r(n,s,r+1);s.appendChild(v)}}),e.appendChild(i),i}#n(t,e,r){return t.id||`heading-menu-h${e}-${r}`}#i(t){this.hightLightTimer&&clearTimeout(this.hightLightTimer),this.hightLightTimer=setTimeout(()=>{let e=Array.from(this.linksTarget.querySelectorAll("[data-toc-anchor-param]")),r=null;for(let i=0;i<this.headings.length;i++){let n=this.headings[i],s=e.find(o=>o.dataset.tocAnchorParam===n.querySelector("[js-position]").id);if(s&&this.isHeadingInView(n)){r=s;break}}e.forEach(i=>i.classList.remove("text-primary","font-bold")),r&&(r.classList.add("text-primary","font-bold"),r.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}))},50)}isHeadingInView(t){let e=t.getBoundingClientRect();return e.top>=this.headerHeight&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}navigateToAnchor(t){let{anchor:e}=t.params,r=document.getElementById(e);if(r){let i=this.headerHeight,o={top:r.getBoundingClientRect().top-i,behavior:"smooth"};window.scrollBy(0,-i),window.scrollBy(o)}}fncAnimation=t=>(window.setTimeout(t,1e3/60),t);get headings(){return Array.from(this.contentTarget.querySelectorAll("h1, h2, h3, h4, h5, h6"))}get headerHeight(){if(!this.hasHeaderSelectorValue||!this.headerSelectorValue)return 0;let t=document.querySelector(this.headerSelectorValue);return t?t.offsetHeight:0}};var wu=Wh(yu());var Nn=class extends le{connect(){let t=this.element.getElementsByTagName("img");Array.from(t).forEach(r=>{r.addEventListener("click",this.openViewer)})}openViewer=t=>{let e=t.currentTarget,r=new wu.default(this.element,{toolbar:{zoomIn:1,zoomOut:1,oneToOne:1,reset:1,prev:1,play:{show:1,size:"large"},next:1,rotateLeft:1,rotateRight:1,flipHorizontal:1,flipVertical:1}});console.log("openViewer",e),r.view(e)}};var Fn=class extends le{static targets=["item"];static classes=["active"];connect(){if(this.#e(),this.itemTargets.forEach(t=>{t.addEventListener("click",e=>{this.itemTargets.forEach(r=>{r.classList.remove(this.activeClass)}),t.classList.add(this.activeClass)})}),this.activeDom){let e=this.activeDom.getBoundingClientRect().top-this.element.parentElement.offsetHeight/3;this.element.parentElement.scrollTo({top:e,behavior:"instant"})}}disconnect(){this.setTimeout&&clearTimeout(this.setTimeout)}#e(){this.itemTargets.forEach(t=>{let e;if(t.tagName==="SUMMARY"?e=t.querySelector("a"):e=t,e&&e.getAttribute("href")===window.location.pathname){t.classList.add(this.activeClass),this.activeDom=t;let r=t.closest("details");for(;r;)r.setAttribute("open",""),r=r.parentElement.closest("details")}else t.classList.remove(this.activeClass)})}};var ng=Object.prototype.toString,Zr=Array.isArray||function(e){return ng.call(e)==="[object Array]"};function pa(t){return typeof t=="function"}function sg(t){return Zr(t)?"array":typeof t}function fa(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Eu(t,e){return t!=null&&typeof t=="object"&&e in t}function og(t,e){return t!=null&&typeof t!="object"&&t.hasOwnProperty&&t.hasOwnProperty(e)}var ag=RegExp.prototype.test;function lg(t,e){return ag.call(t,e)}var cg=/\S/;function ug(t){return!lg(cg,t)}var hg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function dg(t){return String(t).replace(/[&<>"'`=\/]/g,function(r){return hg[r]})}var fg=/\s*/,pg=/\s+/,Su=/\s*=/,mg=/\s*\}/,gg=/#|\^|\/|>|\{|&|=|!/;function vg(t,e){if(!t)return[];var r=!1,i=[],n=[],s=[],o=!1,a=!1,l="",f=0;function p(){if(o&&!a)for(;s.length;)delete n[s.pop()];else s=[];o=!1,a=!1}var T,v,_;function R(M){if(typeof M=="string"&&(M=M.split(pg,2)),!Zr(M)||M.length!==2)throw new Error("Invalid tags: "+M);T=new RegExp(fa(M[0])+"\\s*"),v=new RegExp("\\s*"+fa(M[1])),_=new RegExp("\\s*"+fa("}"+M[1]))}R(e||Je.tags);for(var y=new Ti(t),S,C,b,A,h,w;!y.eos();){if(S=y.pos,b=y.scanUntil(T),b)for(var x=0,L=b.length;x<L;++x)A=b.charAt(x),ug(A)?(s.push(n.length),l+=A):(a=!0,r=!0,l+=" "),n.push(["text",A,S,S+1]),S+=1,A===`
`&&(p(),l="",f=0,r=!1);if(!y.scan(T))break;if(o=!0,C=y.scan(gg)||"name",y.scan(fg),C==="="?(b=y.scanUntil(Su),y.scan(Su),y.scanUntil(v)):C==="{"?(b=y.scanUntil(_),y.scan(mg),y.scanUntil(v),C="&"):b=y.scanUntil(v),!y.scan(v))throw new Error("Unclosed tag at "+y.pos);if(C==">"?h=[C,b,S,y.pos,l,f,r]:h=[C,b,S,y.pos],f++,n.push(h),C==="#"||C==="^")i.push(h);else if(C==="/"){if(w=i.pop(),!w)throw new Error('Unopened section "'+b+'" at '+S);if(w[1]!==b)throw new Error('Unclosed section "'+w[1]+'" at '+S)}else C==="name"||C==="{"||C==="&"?a=!0:C==="="&&R(b)}if(p(),w=i.pop(),w)throw new Error('Unclosed section "'+w[1]+'" at '+y.pos);return yg(bg(n))}function bg(t){for(var e=[],r,i,n=0,s=t.length;n<s;++n)r=t[n],r&&(r[0]==="text"&&i&&i[0]==="text"?(i[1]+=r[1],i[3]=r[3]):(e.push(r),i=r));return e}function yg(t){for(var e=[],r=e,i=[],n,s,o=0,a=t.length;o<a;++o)switch(n=t[o],n[0]){case"#":case"^":r.push(n),i.push(n),r=n[4]=[];break;case"/":s=i.pop(),s[5]=n[2],r=i.length>0?i[i.length-1][4]:e;break;default:r.push(n)}return e}function Ti(t){this.string=t,this.tail=t,this.pos=0}Ti.prototype.eos=function(){return this.tail===""};Ti.prototype.scan=function(e){var r=this.tail.match(e);if(!r||r.index!==0)return"";var i=r[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i};Ti.prototype.scanUntil=function(e){var r=this.tail.search(e),i;switch(r){case-1:i=this.tail,this.tail="";break;case 0:i="";break;default:i=this.tail.substring(0,r),this.tail=this.tail.substring(r)}return this.pos+=i.length,i};function Xr(t,e){this.view=t,this.cache={".":this.view},this.parent=e}Xr.prototype.push=function(e){return new Xr(e,this)};Xr.prototype.lookup=function(e){var r=this.cache,i;if(r.hasOwnProperty(e))i=r[e];else{for(var n=this,s,o,a,l=!1;n;){if(e.indexOf(".")>0)for(s=n.view,o=e.split("."),a=0;s!=null&&a<o.length;)a===o.length-1&&(l=Eu(s,o[a])||og(s,o[a])),s=s[o[a++]];else s=n.view[e],l=Eu(n.view,e);if(l){i=s;break}n=n.parent}r[e]=i}return pa(i)&&(i=i.call(this.view)),i};function $e(){this.templateCache={_cache:{},set:function(e,r){this._cache[e]=r},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}$e.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};$e.prototype.parse=function(e,r){var i=this.templateCache,n=e+":"+(r||Je.tags).join(":"),s=typeof i<"u",o=s?i.get(n):void 0;return o==null&&(o=vg(e,r),s&&i.set(n,o)),o};$e.prototype.render=function(e,r,i,n){var s=this.getConfigTags(n),o=this.parse(e,s),a=r instanceof Xr?r:new Xr(r,void 0);return this.renderTokens(o,a,i,e,n)};$e.prototype.renderTokens=function(e,r,i,n,s){for(var o="",a,l,f,p=0,T=e.length;p<T;++p)f=void 0,a=e[p],l=a[0],l==="#"?f=this.renderSection(a,r,i,n,s):l==="^"?f=this.renderInverted(a,r,i,n,s):l===">"?f=this.renderPartial(a,r,i,s):l==="&"?f=this.unescapedValue(a,r):l==="name"?f=this.escapedValue(a,r,s):l==="text"&&(f=this.rawValue(a)),f!==void 0&&(o+=f);return o};$e.prototype.renderSection=function(e,r,i,n,s){var o=this,a="",l=r.lookup(e[1]);function f(v){return o.render(v,r,i,s)}if(l){if(Zr(l))for(var p=0,T=l.length;p<T;++p)a+=this.renderTokens(e[4],r.push(l[p]),i,n,s);else if(typeof l=="object"||typeof l=="string"||typeof l=="number")a+=this.renderTokens(e[4],r.push(l),i,n,s);else if(pa(l)){if(typeof n!="string")throw new Error("Cannot use higher-order sections without the original template");l=l.call(r.view,n.slice(e[3],e[5]),f),l!=null&&(a+=l)}else a+=this.renderTokens(e[4],r,i,n,s);return a}};$e.prototype.renderInverted=function(e,r,i,n,s){var o=r.lookup(e[1]);if(!o||Zr(o)&&o.length===0)return this.renderTokens(e[4],r,i,n,s)};$e.prototype.indentPartial=function(e,r,i){for(var n=r.replace(/[^ \t]/g,""),s=e.split(`
`),o=0;o<s.length;o++)s[o].length&&(o>0||!i)&&(s[o]=n+s[o]);return s.join(`
`)};$e.prototype.renderPartial=function(e,r,i,n){if(i){var s=this.getConfigTags(n),o=pa(i)?i(e[1]):i[e[1]];if(o!=null){var a=e[6],l=e[5],f=e[4],p=o;l==0&&f&&(p=this.indentPartial(o,f,a));var T=this.parse(p,s);return this.renderTokens(T,r,i,p,n)}}};$e.prototype.unescapedValue=function(e,r){var i=r.lookup(e[1]);if(i!=null)return i};$e.prototype.escapedValue=function(e,r,i){var n=this.getConfigEscape(i)||Je.escape,s=r.lookup(e[1]);if(s!=null)return typeof s=="number"&&n===Je.escape?String(s):n(s)};$e.prototype.rawValue=function(e){return e[1]};$e.prototype.getConfigTags=function(e){return Zr(e)?e:e&&typeof e=="object"?e.tags:void 0};$e.prototype.getConfigEscape=function(e){if(e&&typeof e=="object"&&!Zr(e))return e.escape};var Je={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){xi.templateCache=t},get templateCache(){return xi.templateCache}},xi=new $e;Je.clearCache=function(){return xi.clearCache()};Je.parse=function(e,r){return xi.parse(e,r)};Je.render=function(e,r,i,n){if(typeof e!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+sg(e)+'" was given as the first argument for mustache#render(template, view, partials)');return xi.render(e,r,i,n)};Je.escape=dg;Je.Scanner=Ti;Je.Context=Xr;Je.Writer=$e;var xu=Je;var Bn=class extends le{static values={navTree:Array,depth:Number,parentPath:String,url:String,currentPath:String,idPrefix:String,containerStyle:String,rootContainer:String,itemStyle:String,itemActiveClass:String,linkTurboFrame:String,linkTurboFrameAction:String,linkTurbo:Boolean};static targets=["itemTemplate"];connect(){this.itemTemplate=this.hasItemTemplateTarget?this.itemTemplateTarget.innerHTML.trim():null,this.hasCurrentPathValue||(this.currentPathValue=window.location.pathname),this.renderTree(this.navTreeValue||[],this.depthValue||0,this.element),requestAnimationFrame(()=>{this.menuContainer=this.rootContainer()})}renderTree(t,e,r){let i=document.createElement("ul");i.className=this.hasContainerStyleValue?this.containerStyleValue:"w-full space-y-1",requestAnimationFrame(()=>{t.forEach(n=>{let s=document.createElement("li");s.className=this.hasItemStyleValue?this.itemStyleValue:"";let o=this.isPathActive(n),a=o||this.hasActiveChild(n),l=n.children?.length>0,f=n.children?.length==0&&n.children_count>0,p=this.renderItem(n,e,a,o);s.innerHTML=p;let T=s.children[0];T.setAttribute("turbo-nav-tree-item","");let v=document.createElement("div");v.setAttribute("turbo-nav-tree-children-container",""),v.classList.add("transition-all","duration-300"),v.hidden=!a,o&&(s.setAttribute("active",""),this.isPathActive(n,!1)&&T.setAttribute("active",""),requestAnimationFrame(()=>{s.scrollIntoView({behavior:"smooth",block:"center"})})),l&&this.renderTree(n.children,e+1,v),f&&this.appendTurboFrame(v,n,e+1),s.appendChild(v),i.appendChild(s)}),r.appendChild(i)})}appendTurboFrame(t,e,r){let i=document.createElement("turbo-frame");i.classList.add("w-full");let n=this.hasIdPrefixValue?this.idPrefixValue:"nav_tree_frame_";i.id=`${n}${e.path.replaceAll("/","_")}`;let s=this.urlValue.split("?")[0],o=new URLSearchParams;o.set("parent_path",e.path),o.set("depth",r),i.src=`${s}?${o.toString()}`,i.loading="lazy",i.innerHTML=`
      <div class="flex items-center justify-center h-12 text-base-content/60">
        <span class="loading loading-spinner loading-sm"></span>
      </div>
    `,t.appendChild(i)}toggle(t){let r=t.currentTarget.closest("li"),i=r.querySelector("[turbo-nav-tree-children-container]");if(i&&i.children.length>0){let n=i.hidden;n?(i.hidden=!1,i.classList.add("opacity-0"),requestAnimationFrame(()=>{i.classList.remove("opacity-0"),i.classList.add("opacity-100")})):(i.classList.add("opacity-100"),requestAnimationFrame(()=>{i.classList.remove("opacity-100"),i.classList.add("opacity-0")}),i.addEventListener("transitionend",()=>{i.hidden=!0},{once:!0}));let s=r.querySelector("[turbo-nav-tree-item-target-icon]");s.classList.add("transition-transform","duration-300","peer-hover:text-primary"),s.classList.toggle("rotate-90",n)}}click(t){let e=t.currentTarget,r=e.closest("li");this.menuContainer?.querySelectorAll("[active]").forEach(i=>{i.removeAttribute("active")}),this.getParents(e,"li").forEach(i=>{i.setAttribute("active","")}),r.querySelector("[turbo-nav-tree-item]")?.setAttribute("active","")}renderItem(t,e,r=!1,i=!1){let n=t.children_count>0,s=[];this.hasLinkTurboFrameValue&&this.linkTurboFrameValue&&s.push(`data-turbo-frame="${this.linkTurboFrameValue}"`),this.hasLinkTurboFrameActionValue&&this.linkTurboFrameActionValue&&s.push(`data-turbo-action="${this.linkTurboFrameActionValue}"`),this.hasLinkTurboValue&&this.linkTurboValue===!1&&(s=['data-turbo="false"']);let o="";return this.itemTemplate?o=this.itemTemplate:(o=`
        <div class="flex items-center">
          <a href="{{path}}"
            ${s.join(" ")}
            class="block hover:underline"
            style="padding-left: {{padding}}rem">
            {{link_text}}
          </a>
        </div>
      `,n&&(o=`
          <div class="flex items-center" data-action="click->turbo-nav-tree#toggle">
            <a href="{{path}}"
              ${s.join(" ")}
              class="block hover:underline"
              style="padding-left: {{padding}}rem">
              {{{link_text}}}
            </a>
            <!-- \u6709\u5B50\u8282\u70B9\u65F6\u663E\u793A toggle \u6309\u94AE -->
            <div turbo-nav-tree-item-target-icon class="inline-block ml-auto mr-1 ${r?"rotate-90":""}">
              <svg class="w-4 h-4 opacity-70 transition-transform duration-200"
                  fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path d="M9 6l6 6-6 6"/>
              </svg>
            </div>
          </div>
        `)),xu.render(o,{...t,depth:e,padding:e*1.25,hasChildren:n,open:r,isActive:i})}isPathActive(t,e=!0){if(e){let r=this.currentPathValue.split("/").filter(Boolean),i=t.path.split("/").filter(Boolean);return i.length>r.length?!1:i.every((n,s)=>r[s]===n)}else return t.path==this.currentPathValue}hasActiveChild(t){return!t.children||t.children.length===0?!1:t.children.some(e=>this.isPathActive(e)||this.hasActiveChild(e))}getParents(t,e,r=null){let i=[],n=t.parentElement;for(;n&&n!==r;)n.matches(e)&&i.push(n),n=n.parentElement;return i}rootContainer(){return this.hasRootContainerValue?this.element.closest(this.rootContainerValue):this.getParents(this.element.querySelector("li"),"ul").at(-1)}};var $n=class extends le{static targets=["autoIcon","lightIcon","darkIcon","currentIcon"];connect(){this.systemThemeMediaQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.systemThemeMediaQuery.addEventListener("change",this.handleSystemThemeChange.bind(this)),this.#e(this.theme),document.addEventListener("turbo:load",()=>{this.#e(this.theme)})}disconnect(){this.systemThemeMediaQuery.removeEventListener("change",this.handleSystemThemeChange.bind(this))}handleSystemThemeChange(){this.theme=="auto"&&this.#e(this.systemDark?"dark":"light")}toggle(t){let{mode:e}=t.params;this.theme=e,this.#e(e)}get theme(){let t=localStorage.getItem("theme");return t=="light"||t=="dark"?t:"auto"}set theme(t){t=="light"||t=="dark"?localStorage.setItem("theme",t):localStorage.removeItem("theme")}get systemDark(){return this.systemThemeMediaQuery.matches}#e(t){switch(t){case"dark":this.element.dataset.theme="dark",this.element.classList.add("dark");break;case"light":this.element.dataset.theme="light",this.element.classList.remove("dark");break;default:let e=this.systemDark;this.element.dataset.theme=e?"dark":"light",this.element.classList.toggle("dark",e);break}this.#t(t)}#t(t){let e=null;switch(t){case"light":e=this.lightIconTarget;break;case"dark":e=this.darkIconTarget;break;case"auto":default:e=this.autoIconTarget;break}e=e.cloneNode(!0),e.setAttribute("data-theme-target",this.currentIconTarget.dataset.themeTarget),e.setAttribute("class",this.currentIconTarget.classList),this.currentIconTarget.outerHTML=e.outerHTML}};var ge="top",ke="bottom",Se="right",ye="left",Vn="auto",Zt=[ge,ke,Se,ye],Ct="start",wr="end",Tu="clippingParents",Hn="viewport",Gr="popper",Au="reference",ma=Zt.reduce(function(t,e){return t.concat([e+"-"+Ct,e+"-"+wr])},[]),qn=[].concat(Zt,[Vn]).reduce(function(t,e){return t.concat([e,e+"-"+Ct,e+"-"+wr])},[]),wg="beforeRead",Eg="read",Sg="afterRead",xg="beforeMain",Tg="main",Ag="afterMain",kg="beforeWrite",Cg="write",Og="afterWrite",ku=[wg,Eg,Sg,xg,Tg,Ag,kg,Cg,Og];function Re(t){return t?(t.nodeName||"").toLowerCase():null}function ce(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Qe(t){var e=ce(t).Element;return t instanceof e||t instanceof Element}function Ce(t){var e=ce(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Jr(t){if(typeof ShadowRoot>"u")return!1;var e=ce(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function _g(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var i=e.styles[r]||{},n=e.attributes[r]||{},s=e.elements[r];!Ce(s)||!Re(s)||(Object.assign(s.style,i),Object.keys(n).forEach(function(o){var a=n[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Lg(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(i){var n=e.elements[i],s=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:r[i]),a=o.reduce(function(l,f){return l[f]="",l},{});!Ce(n)||!Re(n)||(Object.assign(n.style,a),Object.keys(s).forEach(function(l){n.removeAttribute(l)}))})}}var Ai={name:"applyStyles",enabled:!0,phase:"write",fn:_g,effect:Lg,requires:["computeStyles"]};function Me(t){return t.split("-")[0]}var ut=Math.max,Er=Math.min,Ot=Math.round;function Qr(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function ki(){return!/^((?!chrome|android).)*safari/i.test(Qr())}function et(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var i=t.getBoundingClientRect(),n=1,s=1;e&&Ce(t)&&(n=t.offsetWidth>0&&Ot(i.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Ot(i.height)/t.offsetHeight||1);var o=Qe(t)?ce(t):window,a=o.visualViewport,l=!ki()&&r,f=(i.left+(l&&a?a.offsetLeft:0))/n,p=(i.top+(l&&a?a.offsetTop:0))/s,T=i.width/n,v=i.height/s;return{width:T,height:v,top:p,right:f+T,bottom:p+v,left:f,x:f,y:p}}function Sr(t){var e=et(t),r=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:i}}function Ci(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&Jr(r)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Ve(t){return ce(t).getComputedStyle(t)}function ga(t){return["table","td","th"].indexOf(Re(t))>=0}function De(t){return((Qe(t)?t.ownerDocument:t.document)||window.document).documentElement}function _t(t){return Re(t)==="html"?t:t.assignedSlot||t.parentNode||(Jr(t)?t.host:null)||De(t)}function Cu(t){return!Ce(t)||Ve(t).position==="fixed"?null:t.offsetParent}function Rg(t){var e=/firefox/i.test(Qr()),r=/Trident/i.test(Qr());if(r&&Ce(t)){var i=Ve(t);if(i.position==="fixed")return null}var n=_t(t);for(Jr(n)&&(n=n.host);Ce(n)&&["html","body"].indexOf(Re(n))<0;){var s=Ve(n);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return n;n=n.parentNode}return null}function ht(t){for(var e=ce(t),r=Cu(t);r&&ga(r)&&Ve(r).position==="static";)r=Cu(r);return r&&(Re(r)==="html"||Re(r)==="body"&&Ve(r).position==="static")?e:r||Rg(t)||e}function xr(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Tr(t,e,r){return ut(t,Er(e,r))}function Ou(t,e,r){var i=Tr(t,e,r);return i>r?r:i}function Oi(){return{top:0,right:0,bottom:0,left:0}}function _i(t){return Object.assign({},Oi(),t)}function Li(t,e){return e.reduce(function(r,i){return r[i]=t,r},{})}var Mg=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,_i(typeof e!="number"?e:Li(e,Zt))};function Pg(t){var e,r=t.state,i=t.name,n=t.options,s=r.elements.arrow,o=r.modifiersData.popperOffsets,a=Me(r.placement),l=xr(a),f=[ye,Se].indexOf(a)>=0,p=f?"height":"width";if(!(!s||!o)){var T=Mg(n.padding,r),v=Sr(s),_=l==="y"?ge:ye,R=l==="y"?ke:Se,y=r.rects.reference[p]+r.rects.reference[l]-o[l]-r.rects.popper[p],S=o[l]-r.rects.reference[l],C=ht(s),b=C?l==="y"?C.clientHeight||0:C.clientWidth||0:0,A=y/2-S/2,h=T[_],w=b-v[p]-T[R],x=b/2-v[p]/2+A,L=Tr(h,x,w),M=l;r.modifiersData[i]=(e={},e[M]=L,e.centerOffset=L-x,e)}}function Ig(t){var e=t.state,r=t.options,i=r.element,n=i===void 0?"[data-popper-arrow]":i;n!=null&&(typeof n=="string"&&(n=e.elements.popper.querySelector(n),!n)||Ci(e.elements.popper,n)&&(e.elements.arrow=n))}var _u={name:"arrow",enabled:!0,phase:"main",fn:Pg,effect:Ig,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function tt(t){return t.split("-")[1]}var Dg={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ng(t,e){var r=t.x,i=t.y,n=e.devicePixelRatio||1;return{x:Ot(r*n)/n||0,y:Ot(i*n)/n||0}}function Lu(t){var e,r=t.popper,i=t.popperRect,n=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,f=t.adaptive,p=t.roundOffsets,T=t.isFixed,v=o.x,_=v===void 0?0:v,R=o.y,y=R===void 0?0:R,S=typeof p=="function"?p({x:_,y}):{x:_,y};_=S.x,y=S.y;var C=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),A=ye,h=ge,w=window;if(f){var x=ht(r),L="clientHeight",M="clientWidth";if(x===ce(r)&&(x=De(r),Ve(x).position!=="static"&&a==="absolute"&&(L="scrollHeight",M="scrollWidth")),x=x,n===ge||(n===ye||n===Se)&&s===wr){h=ke;var F=T&&x===w&&w.visualViewport?w.visualViewport.height:x[L];y-=F-i.height,y*=l?1:-1}if(n===ye||(n===ge||n===ke)&&s===wr){A=Se;var q=T&&x===w&&w.visualViewport?w.visualViewport.width:x[M];_-=q-i.width,_*=l?1:-1}}var z=Object.assign({position:a},f&&Dg),G=p===!0?Ng({x:_,y},ce(r)):{x:_,y};if(_=G.x,y=G.y,l){var U;return Object.assign({},z,(U={},U[h]=b?"0":"",U[A]=C?"0":"",U.transform=(w.devicePixelRatio||1)<=1?"translate("+_+"px, "+y+"px)":"translate3d("+_+"px, "+y+"px, 0)",U))}return Object.assign({},z,(e={},e[h]=b?y+"px":"",e[A]=C?_+"px":"",e.transform="",e))}function Fg(t){var e=t.state,r=t.options,i=r.gpuAcceleration,n=i===void 0?!0:i,s=r.adaptive,o=s===void 0?!0:s,a=r.roundOffsets,l=a===void 0?!0:a,f={placement:Me(e.placement),variation:tt(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Lu(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Lu(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Ru={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Fg,data:{}};var jn={passive:!0};function Bg(t){var e=t.state,r=t.instance,i=t.options,n=i.scroll,s=n===void 0?!0:n,o=i.resize,a=o===void 0?!0:o,l=ce(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&f.forEach(function(p){p.addEventListener("scroll",r.update,jn)}),a&&l.addEventListener("resize",r.update,jn),function(){s&&f.forEach(function(p){p.removeEventListener("scroll",r.update,jn)}),a&&l.removeEventListener("resize",r.update,jn)}}var Mu={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Bg,data:{}};var $g={left:"right",right:"left",bottom:"top",top:"bottom"};function ei(t){return t.replace(/left|right|bottom|top/g,function(e){return $g[e]})}var Vg={start:"end",end:"start"};function zn(t){return t.replace(/start|end/g,function(e){return Vg[e]})}function Ar(t){var e=ce(t),r=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:r,scrollTop:i}}function kr(t){return et(De(t)).left+Ar(t).scrollLeft}function va(t,e){var r=ce(t),i=De(t),n=r.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(n){s=n.width,o=n.height;var f=ki();(f||!f&&e==="fixed")&&(a=n.offsetLeft,l=n.offsetTop)}return{width:s,height:o,x:a+kr(t),y:l}}function ba(t){var e,r=De(t),i=Ar(t),n=(e=t.ownerDocument)==null?void 0:e.body,s=ut(r.scrollWidth,r.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),o=ut(r.scrollHeight,r.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-i.scrollLeft+kr(t),l=-i.scrollTop;return Ve(n||r).direction==="rtl"&&(a+=ut(r.clientWidth,n?n.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function Cr(t){var e=Ve(t),r=e.overflow,i=e.overflowX,n=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+n+i)}function Wn(t){return["html","body","#document"].indexOf(Re(t))>=0?t.ownerDocument.body:Ce(t)&&Cr(t)?t:Wn(_t(t))}function Gt(t,e){var r;e===void 0&&(e=[]);var i=Wn(t),n=i===((r=t.ownerDocument)==null?void 0:r.body),s=ce(i),o=n?[s].concat(s.visualViewport||[],Cr(i)?i:[]):i,a=e.concat(o);return n?a:a.concat(Gt(_t(o)))}function ti(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Hg(t,e){var r=et(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function Pu(t,e,r){return e===Hn?ti(va(t,r)):Qe(e)?Hg(e,r):ti(ba(De(t)))}function qg(t){var e=Gt(_t(t)),r=["absolute","fixed"].indexOf(Ve(t).position)>=0,i=r&&Ce(t)?ht(t):t;return Qe(i)?e.filter(function(n){return Qe(n)&&Ci(n,i)&&Re(n)!=="body"}):[]}function ya(t,e,r,i){var n=e==="clippingParents"?qg(t):[].concat(e),s=[].concat(n,[r]),o=s[0],a=s.reduce(function(l,f){var p=Pu(t,f,i);return l.top=ut(p.top,l.top),l.right=Er(p.right,l.right),l.bottom=Er(p.bottom,l.bottom),l.left=ut(p.left,l.left),l},Pu(t,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Ri(t){var e=t.reference,r=t.element,i=t.placement,n=i?Me(i):null,s=i?tt(i):null,o=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,l;switch(n){case ge:l={x:o,y:e.y-r.height};break;case ke:l={x:o,y:e.y+e.height};break;case Se:l={x:e.x+e.width,y:a};break;case ye:l={x:e.x-r.width,y:a};break;default:l={x:e.x,y:e.y}}var f=n?xr(n):null;if(f!=null){var p=f==="y"?"height":"width";switch(s){case Ct:l[f]=l[f]-(e[p]/2-r[p]/2);break;case wr:l[f]=l[f]+(e[p]/2-r[p]/2);break;default:}}return l}function dt(t,e){e===void 0&&(e={});var r=e,i=r.placement,n=i===void 0?t.placement:i,s=r.strategy,o=s===void 0?t.strategy:s,a=r.boundary,l=a===void 0?Tu:a,f=r.rootBoundary,p=f===void 0?Hn:f,T=r.elementContext,v=T===void 0?Gr:T,_=r.altBoundary,R=_===void 0?!1:_,y=r.padding,S=y===void 0?0:y,C=_i(typeof S!="number"?S:Li(S,Zt)),b=v===Gr?Au:Gr,A=t.rects.popper,h=t.elements[R?b:v],w=ya(Qe(h)?h:h.contextElement||De(t.elements.popper),l,p,o),x=et(t.elements.reference),L=Ri({reference:x,element:A,strategy:"absolute",placement:n}),M=ti(Object.assign({},A,L)),F=v===Gr?M:x,q={top:w.top-F.top+C.top,bottom:F.bottom-w.bottom+C.bottom,left:w.left-F.left+C.left,right:F.right-w.right+C.right},z=t.modifiersData.offset;if(v===Gr&&z){var G=z[n];Object.keys(q).forEach(function(U){var J=[Se,ke].indexOf(U)>=0?1:-1,we=[ge,ke].indexOf(U)>=0?"y":"x";q[U]+=G[we]*J})}return q}function wa(t,e){e===void 0&&(e={});var r=e,i=r.placement,n=r.boundary,s=r.rootBoundary,o=r.padding,a=r.flipVariations,l=r.allowedAutoPlacements,f=l===void 0?qn:l,p=tt(i),T=p?a?ma:ma.filter(function(R){return tt(R)===p}):Zt,v=T.filter(function(R){return f.indexOf(R)>=0});v.length===0&&(v=T);var _=v.reduce(function(R,y){return R[y]=dt(t,{placement:y,boundary:n,rootBoundary:s,padding:o})[Me(y)],R},{});return Object.keys(_).sort(function(R,y){return _[R]-_[y]})}function jg(t){if(Me(t)===Vn)return[];var e=ei(t);return[zn(t),e,zn(e)]}function zg(t){var e=t.state,r=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var n=r.mainAxis,s=n===void 0?!0:n,o=r.altAxis,a=o===void 0?!0:o,l=r.fallbackPlacements,f=r.padding,p=r.boundary,T=r.rootBoundary,v=r.altBoundary,_=r.flipVariations,R=_===void 0?!0:_,y=r.allowedAutoPlacements,S=e.options.placement,C=Me(S),b=C===S,A=l||(b||!R?[ei(S)]:jg(S)),h=[S].concat(A).reduce(function(Ke,oe){return Ke.concat(Me(oe)===Vn?wa(e,{placement:oe,boundary:p,rootBoundary:T,padding:f,flipVariations:R,allowedAutoPlacements:y}):oe)},[]),w=e.rects.reference,x=e.rects.popper,L=new Map,M=!0,F=h[0],q=0;q<h.length;q++){var z=h[q],G=Me(z),U=tt(z)===Ct,J=[ge,ke].indexOf(G)>=0,we=J?"width":"height",Oe=dt(e,{placement:z,boundary:p,rootBoundary:T,altBoundary:v,padding:f}),xe=J?U?Se:ye:U?ke:ge;w[we]>x[we]&&(xe=ei(xe));var se=ei(xe),X=[];if(s&&X.push(Oe[G]<=0),a&&X.push(Oe[xe]<=0,Oe[se]<=0),X.every(function(Ke){return Ke})){F=z,M=!1;break}L.set(z,X)}if(M)for(var Pe=R?3:1,rt=function(oe){var Ie=h.find(function(Pt){var it=L.get(Pt);if(it)return it.slice(0,oe).every(function(It){return It})});if(Ie)return F=Ie,"break"},ze=Pe;ze>0;ze--){var pt=rt(ze);if(pt==="break")break}e.placement!==F&&(e.modifiersData[i]._skip=!0,e.placement=F,e.reset=!0)}}var Iu={name:"flip",enabled:!0,phase:"main",fn:zg,requiresIfExists:["offset"],data:{_skip:!1}};function Du(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function Nu(t){return[ge,Se,ke,ye].some(function(e){return t[e]>=0})}function Wg(t){var e=t.state,r=t.name,i=e.rects.reference,n=e.rects.popper,s=e.modifiersData.preventOverflow,o=dt(e,{elementContext:"reference"}),a=dt(e,{altBoundary:!0}),l=Du(o,i),f=Du(a,n,s),p=Nu(l),T=Nu(f);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:f,isReferenceHidden:p,hasPopperEscaped:T},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":T})}var Fu={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Wg};function Ug(t,e,r){var i=Me(t),n=[ye,ge].indexOf(i)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=s[0],a=s[1];return o=o||0,a=(a||0)*n,[ye,Se].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function Kg(t){var e=t.state,r=t.options,i=t.name,n=r.offset,s=n===void 0?[0,0]:n,o=qn.reduce(function(p,T){return p[T]=Ug(T,e.rects,s),p},{}),a=o[e.placement],l=a.x,f=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=f),e.modifiersData[i]=o}var Bu={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Kg};function Yg(t){var e=t.state,r=t.name;e.modifiersData[r]=Ri({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var $u={name:"popperOffsets",enabled:!0,phase:"read",fn:Yg,data:{}};function Ea(t){return t==="x"?"y":"x"}function Xg(t){var e=t.state,r=t.options,i=t.name,n=r.mainAxis,s=n===void 0?!0:n,o=r.altAxis,a=o===void 0?!1:o,l=r.boundary,f=r.rootBoundary,p=r.altBoundary,T=r.padding,v=r.tether,_=v===void 0?!0:v,R=r.tetherOffset,y=R===void 0?0:R,S=dt(e,{boundary:l,rootBoundary:f,padding:T,altBoundary:p}),C=Me(e.placement),b=tt(e.placement),A=!b,h=xr(C),w=Ea(h),x=e.modifiersData.popperOffsets,L=e.rects.reference,M=e.rects.popper,F=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,q=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),z=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,G={x:0,y:0};if(x){if(s){var U,J=h==="y"?ge:ye,we=h==="y"?ke:Se,Oe=h==="y"?"height":"width",xe=x[h],se=xe+S[J],X=xe-S[we],Pe=_?-M[Oe]/2:0,rt=b===Ct?L[Oe]:M[Oe],ze=b===Ct?-M[Oe]:-L[Oe],pt=e.elements.arrow,Ke=_&&pt?Sr(pt):{width:0,height:0},oe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Oi(),Ie=oe[J],Pt=oe[we],it=Tr(0,L[Oe],Ke[Oe]),It=A?L[Oe]/2-Pe-it-Ie-q.mainAxis:rt-it-Ie-q.mainAxis,nt=A?-L[Oe]/2+Pe+it+Pt+q.mainAxis:ze+it+Pt+q.mainAxis,wt=e.elements.arrow&&ht(e.elements.arrow),Jt=wt?h==="y"?wt.clientTop||0:wt.clientLeft||0:0,Dt=(U=z?.[h])!=null?U:0,Ne=xe+It-Dt-Jt,Qt=xe+nt-Dt,Nt=Tr(_?Er(se,Ne):se,xe,_?ut(X,Qt):X);x[h]=Nt,G[h]=Nt-xe}if(a){var Ft,er=h==="x"?ge:ye,tr=h==="x"?ke:Se,Ye=x[w],st=w==="y"?"height":"width",ot=Ye+S[er],mt=Ye-S[tr],Bt=[ge,ye].indexOf(C)!==-1,rr=(Ft=z?.[w])!=null?Ft:0,ir=Bt?ot:Ye-L[st]-M[st]-rr+q.altAxis,nr=Bt?Ye+L[st]+M[st]-rr-q.altAxis:mt,sr=_&&Bt?Ou(ir,Ye,nr):Tr(_?ir:ot,Ye,_?nr:mt);x[w]=sr,G[w]=sr-Ye}e.modifiersData[i]=G}}var Vu={name:"preventOverflow",enabled:!0,phase:"main",fn:Xg,requiresIfExists:["offset"]};function Sa(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function xa(t){return t===ce(t)||!Ce(t)?Ar(t):Sa(t)}function Zg(t){var e=t.getBoundingClientRect(),r=Ot(e.width)/t.offsetWidth||1,i=Ot(e.height)/t.offsetHeight||1;return r!==1||i!==1}function Ta(t,e,r){r===void 0&&(r=!1);var i=Ce(e),n=Ce(e)&&Zg(e),s=De(e),o=et(t,n,r),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!r)&&((Re(e)!=="body"||Cr(s))&&(a=xa(e)),Ce(e)?(l=et(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=kr(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Gg(t){var e=new Map,r=new Set,i=[];t.forEach(function(s){e.set(s.name,s)});function n(s){r.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!r.has(a)){var l=e.get(a);l&&n(l)}}),i.push(s)}return t.forEach(function(s){r.has(s.name)||n(s)}),i}function Aa(t){var e=Gg(t);return ku.reduce(function(r,i){return r.concat(e.filter(function(n){return n.phase===i}))},[])}function ka(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function Ca(t){var e=t.reduce(function(r,i){var n=r[i.name];return r[i.name]=n?Object.assign({},n,i,{options:Object.assign({},n.options,i.options),data:Object.assign({},n.data,i.data)}):i,r},{});return Object.keys(e).map(function(r){return e[r]})}var Hu={placement:"bottom",modifiers:[],strategy:"absolute"};function qu(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function ju(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,i=r===void 0?[]:r,n=e.defaultOptions,s=n===void 0?Hu:n;return function(a,l,f){f===void 0&&(f=s);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},Hu,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},T=[],v=!1,_={state:p,setOptions:function(C){var b=typeof C=="function"?C(p.options):C;y(),p.options=Object.assign({},s,p.options,b),p.scrollParents={reference:Qe(a)?Gt(a):a.contextElement?Gt(a.contextElement):[],popper:Gt(l)};var A=Aa(Ca([].concat(i,p.options.modifiers)));return p.orderedModifiers=A.filter(function(h){return h.enabled}),R(),_.update()},forceUpdate:function(){if(!v){var C=p.elements,b=C.reference,A=C.popper;if(qu(b,A)){p.rects={reference:Ta(b,ht(A),p.options.strategy==="fixed"),popper:Sr(A)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(q){return p.modifiersData[q.name]=Object.assign({},q.data)});for(var h=0;h<p.orderedModifiers.length;h++){if(p.reset===!0){p.reset=!1,h=-1;continue}var w=p.orderedModifiers[h],x=w.fn,L=w.options,M=L===void 0?{}:L,F=w.name;typeof x=="function"&&(p=x({state:p,options:M,name:F,instance:_})||p)}}}},update:ka(function(){return new Promise(function(S){_.forceUpdate(),S(p)})}),destroy:function(){y(),v=!0}};if(!qu(a,l))return _;_.setOptions(f).then(function(S){!v&&f.onFirstUpdate&&f.onFirstUpdate(S)});function R(){p.orderedModifiers.forEach(function(S){var C=S.name,b=S.options,A=b===void 0?{}:b,h=S.effect;if(typeof h=="function"){var w=h({state:p,name:C,instance:_,options:A}),x=function(){};T.push(w||x)}})}function y(){T.forEach(function(S){return S()}),T=[]}return _}}var Jg=[Mu,$u,Ru,Ai,Bu,Iu,Vu,_u,Fu],Oa=ju({defaultModifiers:Jg});var Qg="tippy-box",Qu="tippy-content",ev="tippy-backdrop",eh="tippy-arrow",th="tippy-svg-arrow",Or={passive:!0,capture:!0},rh=function(){return document.body};function _a(t,e,r){if(Array.isArray(t)){var i=t[e];return i??(Array.isArray(r)?r[e]:r)}return t}function Da(t,e){var r={}.toString.call(t);return r.indexOf("[object")===0&&r.indexOf(e+"]")>-1}function ih(t,e){return typeof t=="function"?t.apply(void 0,e):t}function zu(t,e){if(e===0)return t;var r;return function(i){clearTimeout(r),r=setTimeout(function(){t(i)},e)}}function tv(t){return t.split(/\s+/).filter(Boolean)}function ri(t){return[].concat(t)}function Wu(t,e){t.indexOf(e)===-1&&t.push(e)}function rv(t){return t.filter(function(e,r){return t.indexOf(e)===r})}function iv(t){return t.split("-")[0]}function Kn(t){return[].slice.call(t)}function Uu(t){return Object.keys(t).reduce(function(e,r){return t[r]!==void 0&&(e[r]=t[r]),e},{})}function Mi(){return document.createElement("div")}function Yn(t){return["Element","Fragment"].some(function(e){return Da(t,e)})}function nv(t){return Da(t,"NodeList")}function sv(t){return Da(t,"MouseEvent")}function ov(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function av(t){return Yn(t)?[t]:nv(t)?Kn(t):Array.isArray(t)?t:Kn(document.querySelectorAll(t))}function La(t,e){t.forEach(function(r){r&&(r.style.transitionDuration=e+"ms")})}function Ku(t,e){t.forEach(function(r){r&&r.setAttribute("data-state",e)})}function lv(t){var e,r=ri(t),i=r[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function cv(t,e){var r=e.clientX,i=e.clientY;return t.every(function(n){var s=n.popperRect,o=n.popperState,a=n.props,l=a.interactiveBorder,f=iv(o.placement),p=o.modifiersData.offset;if(!p)return!0;var T=f==="bottom"?p.top.y:0,v=f==="top"?p.bottom.y:0,_=f==="right"?p.left.x:0,R=f==="left"?p.right.x:0,y=s.top-i+T>l,S=i-s.bottom-v>l,C=s.left-r+_>l,b=r-s.right-R>l;return y||S||C||b})}function Ra(t,e,r){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(n){t[i](n,r)})}function Yu(t,e){for(var r=e;r;){var i;if(t.contains(r))return!0;r=r.getRootNode==null||(i=r.getRootNode())==null?void 0:i.host}return!1}var bt={isTouch:!1},Xu=0;function uv(){bt.isTouch||(bt.isTouch=!0,window.performance&&document.addEventListener("mousemove",nh))}function nh(){var t=performance.now();t-Xu<20&&(bt.isTouch=!1,document.removeEventListener("mousemove",nh)),Xu=t}function hv(){var t=document.activeElement;if(ov(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function dv(){document.addEventListener("touchstart",uv,Or),window.addEventListener("blur",hv)}var fv=typeof window<"u"&&typeof document<"u",pv=fv?!!window.msCrypto:!1;var mv={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},gv={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},ft=Object.assign({appendTo:rh,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},mv,gv),vv=Object.keys(ft),bv=function(e){var r=Object.keys(e);r.forEach(function(i){ft[i]=e[i]})};function sh(t){var e=t.plugins||[],r=e.reduce(function(i,n){var s=n.name,o=n.defaultValue;if(s){var a;i[s]=t[s]!==void 0?t[s]:(a=ft[s])!=null?a:o}return i},{});return Object.assign({},t,r)}function yv(t,e){var r=e?Object.keys(sh(Object.assign({},ft,{plugins:e}))):vv,i=r.reduce(function(n,s){var o=(t.getAttribute("data-tippy-"+s)||"").trim();if(!o)return n;if(s==="content")n[s]=o;else try{n[s]=JSON.parse(o)}catch{n[s]=o}return n},{});return i}function Zu(t,e){var r=Object.assign({},e,{content:ih(e.content,[t])},e.ignoreAttributes?{}:yv(t,e.plugins));return r.aria=Object.assign({},ft.aria,r.aria),r.aria={expanded:r.aria.expanded==="auto"?e.interactive:r.aria.expanded,content:r.aria.content==="auto"?e.interactive?null:"describedby":r.aria.content},r}var wv=function(){return"innerHTML"};function Pa(t,e){t[wv()]=e}function Gu(t){var e=Mi();return t===!0?e.className=eh:(e.className=th,Yn(t)?e.appendChild(t):Pa(e,t)),e}function Ju(t,e){Yn(e.content)?(Pa(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Pa(t,e.content):t.textContent=e.content)}function Ia(t){var e=t.firstElementChild,r=Kn(e.children);return{box:e,content:r.find(function(i){return i.classList.contains(Qu)}),arrow:r.find(function(i){return i.classList.contains(eh)||i.classList.contains(th)}),backdrop:r.find(function(i){return i.classList.contains(ev)})}}function oh(t){var e=Mi(),r=Mi();r.className=Qg,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var i=Mi();i.className=Qu,i.setAttribute("data-state","hidden"),Ju(i,t.props),e.appendChild(r),r.appendChild(i),n(t.props,t.props);function n(s,o){var a=Ia(e),l=a.box,f=a.content,p=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&Ju(f,t.props),o.arrow?p?s.arrow!==o.arrow&&(l.removeChild(p),l.appendChild(Gu(o.arrow))):l.appendChild(Gu(o.arrow)):p&&l.removeChild(p)}return{popper:e,onUpdate:n}}oh.$$tippy=!0;var Ev=1,Un=[],Ma=[];function Sv(t,e){var r=Zu(t,Object.assign({},ft,sh(Uu(e)))),i,n,s,o=!1,a=!1,l=!1,f=!1,p,T,v,_=[],R=zu(Ne,r.interactiveDebounce),y,S=Ev++,C=null,b=rv(r.plugins),A={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},h={id:S,reference:t,popper:Mi(),popperInstance:C,props:r,state:A,plugins:b,clearDelayTimeouts:ir,setProps:nr,setContent:sr,show:Bi,hide:$i,hideWithInteractivity:Vi,enable:Bt,disable:rr,unmount:Hi,destroy:Rr};if(!r.render)return h;var w=r.render(h),x=w.popper,L=w.onUpdate;x.setAttribute("data-tippy-root",""),x.id="tippy-"+h.id,h.popper=x,t._tippy=h,x._tippy=h;var M=b.map(function(O){return O.fn(h)}),F=t.hasAttribute("aria-expanded");return wt(),Pe(),xe(),se("onCreate",[h]),r.showOnCreate&&ot(),x.addEventListener("mouseenter",function(){h.props.interactive&&h.state.isVisible&&h.clearDelayTimeouts()}),x.addEventListener("mouseleave",function(){h.props.interactive&&h.props.trigger.indexOf("mouseenter")>=0&&J().addEventListener("mousemove",R)}),h;function q(){var O=h.props.touch;return Array.isArray(O)?O:[O,0]}function z(){return q()[0]==="hold"}function G(){var O;return!!((O=h.props.render)!=null&&O.$$tippy)}function U(){return y||t}function J(){var O=U().parentNode;return O?lv(O):document}function we(){return Ia(x)}function Oe(O){return h.state.isMounted&&!h.state.isVisible||bt.isTouch||p&&p.type==="focus"?0:_a(h.props.delay,O?0:1,ft.delay)}function xe(O){O===void 0&&(O=!1),x.style.pointerEvents=h.props.interactive&&!O?"":"none",x.style.zIndex=""+h.props.zIndex}function se(O,$,H){if(H===void 0&&(H=!0),M.forEach(function(V){V[O]&&V[O].apply(V,$)}),H){var Q;(Q=h.props)[O].apply(Q,$)}}function X(){var O=h.props.aria;if(O.content){var $="aria-"+O.content,H=x.id,Q=ri(h.props.triggerTarget||t);Q.forEach(function(V){var fe=V.getAttribute($);if(h.state.isVisible)V.setAttribute($,fe?fe+" "+H:H);else{var Te=fe&&fe.replace(H,"").trim();Te?V.setAttribute($,Te):V.removeAttribute($)}})}}function Pe(){if(!(F||!h.props.aria.expanded)){var O=ri(h.props.triggerTarget||t);O.forEach(function($){h.props.interactive?$.setAttribute("aria-expanded",h.state.isVisible&&$===U()?"true":"false"):$.removeAttribute("aria-expanded")})}}function rt(){J().removeEventListener("mousemove",R),Un=Un.filter(function(O){return O!==R})}function ze(O){if(!(bt.isTouch&&(l||O.type==="mousedown"))){var $=O.composedPath&&O.composedPath()[0]||O.target;if(!(h.props.interactive&&Yu(x,$))){if(ri(h.props.triggerTarget||t).some(function(H){return Yu(H,$)})){if(bt.isTouch||h.state.isVisible&&h.props.trigger.indexOf("click")>=0)return}else se("onClickOutside",[h,O]);h.props.hideOnClick===!0&&(h.clearDelayTimeouts(),h.hide(),a=!0,setTimeout(function(){a=!1}),h.state.isMounted||Ie())}}}function pt(){l=!0}function Ke(){l=!1}function oe(){var O=J();O.addEventListener("mousedown",ze,!0),O.addEventListener("touchend",ze,Or),O.addEventListener("touchstart",Ke,Or),O.addEventListener("touchmove",pt,Or)}function Ie(){var O=J();O.removeEventListener("mousedown",ze,!0),O.removeEventListener("touchend",ze,Or),O.removeEventListener("touchstart",Ke,Or),O.removeEventListener("touchmove",pt,Or)}function Pt(O,$){It(O,function(){!h.state.isVisible&&x.parentNode&&x.parentNode.contains(x)&&$()})}function it(O,$){It(O,$)}function It(O,$){var H=we().box;function Q(V){V.target===H&&(Ra(H,"remove",Q),$())}if(O===0)return $();Ra(H,"remove",T),Ra(H,"add",Q),T=Q}function nt(O,$,H){H===void 0&&(H=!1);var Q=ri(h.props.triggerTarget||t);Q.forEach(function(V){V.addEventListener(O,$,H),_.push({node:V,eventType:O,handler:$,options:H})})}function wt(){z()&&(nt("touchstart",Dt,{passive:!0}),nt("touchend",Qt,{passive:!0})),tv(h.props.trigger).forEach(function(O){if(O!=="manual")switch(nt(O,Dt),O){case"mouseenter":nt("mouseleave",Qt);break;case"focus":nt(pv?"focusout":"blur",Nt);break;case"focusin":nt("focusout",Nt);break}})}function Jt(){_.forEach(function(O){var $=O.node,H=O.eventType,Q=O.handler,V=O.options;$.removeEventListener(H,Q,V)}),_=[]}function Dt(O){var $,H=!1;if(!(!h.state.isEnabled||Ft(O)||a)){var Q=(($=p)==null?void 0:$.type)==="focus";p=O,y=O.currentTarget,Pe(),!h.state.isVisible&&sv(O)&&Un.forEach(function(V){return V(O)}),O.type==="click"&&(h.props.trigger.indexOf("mouseenter")<0||o)&&h.props.hideOnClick!==!1&&h.state.isVisible?H=!0:ot(O),O.type==="click"&&(o=!H),H&&!Q&&mt(O)}}function Ne(O){var $=O.target,H=U().contains($)||x.contains($);if(!(O.type==="mousemove"&&H)){var Q=st().concat(x).map(function(V){var fe,Te=V._tippy,$t=(fe=Te.popperInstance)==null?void 0:fe.state;return $t?{popperRect:V.getBoundingClientRect(),popperState:$t,props:r}:null}).filter(Boolean);cv(Q,O)&&(rt(),mt(O))}}function Qt(O){var $=Ft(O)||h.props.trigger.indexOf("click")>=0&&o;if(!$){if(h.props.interactive){h.hideWithInteractivity(O);return}mt(O)}}function Nt(O){h.props.trigger.indexOf("focusin")<0&&O.target!==U()||h.props.interactive&&O.relatedTarget&&x.contains(O.relatedTarget)||mt(O)}function Ft(O){return bt.isTouch?z()!==O.type.indexOf("touch")>=0:!1}function er(){tr();var O=h.props,$=O.popperOptions,H=O.placement,Q=O.offset,V=O.getReferenceClientRect,fe=O.moveTransition,Te=G()?Ia(x).arrow:null,$t=V?{getBoundingClientRect:V,contextElement:V.contextElement||U()}:t,Et={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(_e){var Vt=_e.state;if(G()){var We=we(),ii=We.box;["placement","reference-hidden","escaped"].forEach(function(at){at==="placement"?ii.setAttribute("data-placement",Vt.placement):Vt.attributes.popper["data-popper-"+at]?ii.setAttribute("data-"+at,""):ii.removeAttribute("data-"+at)}),Vt.attributes.popper={}}}},K=[{name:"offset",options:{offset:Q}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!fe}},Et];G()&&Te&&K.push({name:"arrow",options:{element:Te,padding:3}}),K.push.apply(K,$?.modifiers||[]),h.popperInstance=Oa($t,x,Object.assign({},$,{placement:H,onFirstUpdate:v,modifiers:K}))}function tr(){h.popperInstance&&(h.popperInstance.destroy(),h.popperInstance=null)}function Ye(){var O=h.props.appendTo,$,H=U();h.props.interactive&&O===rh||O==="parent"?$=H.parentNode:$=ih(O,[H]),$.contains(x)||$.appendChild(x),h.state.isMounted=!0,er()}function st(){return Kn(x.querySelectorAll("[data-tippy-root]"))}function ot(O){h.clearDelayTimeouts(),O&&se("onTrigger",[h,O]),oe();var $=Oe(!0),H=q(),Q=H[0],V=H[1];bt.isTouch&&Q==="hold"&&V&&($=V),$?i=setTimeout(function(){h.show()},$):h.show()}function mt(O){if(h.clearDelayTimeouts(),se("onUntrigger",[h,O]),!h.state.isVisible){Ie();return}if(!(h.props.trigger.indexOf("mouseenter")>=0&&h.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(O.type)>=0&&o)){var $=Oe(!1);$?n=setTimeout(function(){h.state.isVisible&&h.hide()},$):s=requestAnimationFrame(function(){h.hide()})}}function Bt(){h.state.isEnabled=!0}function rr(){h.hide(),h.state.isEnabled=!1}function ir(){clearTimeout(i),clearTimeout(n),cancelAnimationFrame(s)}function nr(O){if(!h.state.isDestroyed){se("onBeforeUpdate",[h,O]),Jt();var $=h.props,H=Zu(t,Object.assign({},$,Uu(O),{ignoreAttributes:!0}));h.props=H,wt(),$.interactiveDebounce!==H.interactiveDebounce&&(rt(),R=zu(Ne,H.interactiveDebounce)),$.triggerTarget&&!H.triggerTarget?ri($.triggerTarget).forEach(function(Q){Q.removeAttribute("aria-expanded")}):H.triggerTarget&&t.removeAttribute("aria-expanded"),Pe(),xe(),L&&L($,H),h.popperInstance&&(er(),st().forEach(function(Q){requestAnimationFrame(Q._tippy.popperInstance.forceUpdate)})),se("onAfterUpdate",[h,O])}}function sr(O){h.setProps({content:O})}function Bi(){var O=h.state.isVisible,$=h.state.isDestroyed,H=!h.state.isEnabled,Q=bt.isTouch&&!h.props.touch,V=_a(h.props.duration,0,ft.duration);if(!(O||$||H||Q)&&!U().hasAttribute("disabled")&&(se("onShow",[h],!1),h.props.onShow(h)!==!1)){if(h.state.isVisible=!0,G()&&(x.style.visibility="visible"),xe(),oe(),h.state.isMounted||(x.style.transition="none"),G()){var fe=we(),Te=fe.box,$t=fe.content;La([Te,$t],0)}v=function(){var K;if(!(!h.state.isVisible||f)){if(f=!0,x.offsetHeight,x.style.transition=h.props.moveTransition,G()&&h.props.animation){var te=we(),_e=te.box,Vt=te.content;La([_e,Vt],V),Ku([_e,Vt],"visible")}X(),Pe(),Wu(Ma,h),(K=h.popperInstance)==null||K.forceUpdate(),se("onMount",[h]),h.props.animation&&G()&&it(V,function(){h.state.isShown=!0,se("onShown",[h])})}},Ye()}}function $i(){var O=!h.state.isVisible,$=h.state.isDestroyed,H=!h.state.isEnabled,Q=_a(h.props.duration,1,ft.duration);if(!(O||$||H)&&(se("onHide",[h],!1),h.props.onHide(h)!==!1)){if(h.state.isVisible=!1,h.state.isShown=!1,f=!1,o=!1,G()&&(x.style.visibility="hidden"),rt(),Ie(),xe(!0),G()){var V=we(),fe=V.box,Te=V.content;h.props.animation&&(La([fe,Te],Q),Ku([fe,Te],"hidden"))}X(),Pe(),h.props.animation?G()&&Pt(Q,h.unmount):h.unmount()}}function Vi(O){J().addEventListener("mousemove",R),Wu(Un,R),R(O)}function Hi(){h.state.isVisible&&h.hide(),h.state.isMounted&&(tr(),st().forEach(function(O){O._tippy.unmount()}),x.parentNode&&x.parentNode.removeChild(x),Ma=Ma.filter(function(O){return O!==h}),h.state.isMounted=!1,se("onHidden",[h]))}function Rr(){h.state.isDestroyed||(h.clearDelayTimeouts(),h.unmount(),Jt(),delete t._tippy,h.state.isDestroyed=!0,se("onDestroy",[h]))}}function Pi(t,e){e===void 0&&(e={});var r=ft.plugins.concat(e.plugins||[]);dv();var i=Object.assign({},e,{plugins:r}),n=av(t);if(0)var s,o;var a=n.reduce(function(l,f){var p=f&&Sv(f,i);return p&&l.push(p),l},[]);return Yn(t)?a[0]:a}Pi.defaultProps=ft;Pi.setDefaultProps=bv;Pi.currentInput=bt;var OS=Object.assign({},Ai,{effect:function(e){var r=e.state,i={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(r.elements.popper.style,i.popper),r.styles=i,r.elements.arrow&&Object.assign(r.elements.arrow.style,i.arrow)}});Pi.setDefaultProps({render:oh});var ah=Pi;var lh=t=>{if(navigator.clipboard&&window.isSecureContext)return navigator.clipboard.writeText(t);{let e=document.createElement("textarea");return e.value=t,e.style.position="fixed",e.style.left="-999999px",e.style.top="-999999px",document.body.appendChild(e),e.focus(),e.select(),new Promise((r,i)=>{document.execCommand("copy")?r():i(),e.remove()})}};var Xn=class extends le{static targets=["source"];static values={success:{type:String,default:"\u590D\u5236\u6210\u529F\uFF01"},content:String};copy(t){t.preventDefault();let e,r;if(this.hasContentValue?(e=this.contentValue,r=this.element):this.hasSourceTarget?(e=this.sourceTarget.tagName==="INPUT"?this.sourceTarget.value:this.sourceTarget.textContent,r=this.sourceTarget):(e=this.element.textContent,r=this.element),e=(e||"").trim(),!e)return;let i=ah(r.parentElement,{theme:"material",content:this.successValue,trigger:"manual",arrow:!0}),n=()=>{i.hide(),i.destroy()};lh(e).then(()=>{i.setContent(this.successValue),i.show(),setTimeout(n,800)}).catch(()=>{i.setContent("\u590D\u5236\u5931\u8D25\uFF01"),i.show(),setTimeout(n,800)})}};var Zn=class extends le{connect(){this.scroller=new Na}scrollToY(t){let e=t.target.dataset.scrollToY;e?this.scroller.scrollToY(parseInt(e)):console.warn("[scroll-to] data-scroll-to-y is missing")}},Na=class{constructor(e=2e3,r="easeOutSine",i=null){this.speed=e,this.easing=r,this.scrollElement=i,this.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||fncAnimation}scrollToY(e=0){let r=e,i=this.scrollElement?this.scrollElement.scrollTop:window.scrollY||document.documentElement.scrollTop,n=Math.max(.1,Math.min(Math.abs(i-r)/this.speed,.8)),s=0,o={easeOutSine(l){return Math.sin(l*(Math.PI/2))},easeInOutSine(l){return-.5*(Math.cos(Math.PI*l)-1)},easeInOutQuint(l){return(l/=.5)<1?.5*l**5:.5*((l-2)**5+2)}},a=()=>{s+=1/60;let l=s/n,f=o[this.easing](l);if(l<1){(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||this.fncAnimation)(a),this.scrollElement?this.scrollElement.scrollTop=i+(r-i)*f:window.scrollTo(0,i+(r-i)*f);return}this.scrollElement?this.scrollElement.scrollTop=r:window.scrollTo(0,r)};a()}fncAnimation=e=>(window.setTimeout(e,1e3/60),e)};var Gn=class extends le{static values={external:{type:Boolean,default:!0}};connect(){this.element.querySelectorAll("a[href]").forEach(e=>{let r=e.getAttribute("href");if(!r||r.startsWith("#"))return;let i=/^https?:\/\//i.test(r),n=!1;if(i)try{n=new URL(r,window.location.origin).hostname!==window.location.hostname}catch{}this.externalValue&&n&&(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer")),this.externalValue||(e.removeAttribute("target"),e.removeAttribute("rel"))})}};function Va(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Lr=Va();function ph(t){Lr=t}var Ni={exec:()=>null};function re(t,e=""){let r=typeof t=="string"?t:t.source,i={replace:(n,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(He.caret,"$1"),r=r.replace(n,o),i},getRegex:()=>new RegExp(r,e)};return i}var He={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},xv=/^(?:[ \t]*(?:\n|$))+/,Tv=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Av=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Fi=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,kv=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Ha=/(?:[*+-]|\d{1,9}[.)])/,mh=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,gh=re(mh).replace(/bull/g,Ha).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Cv=re(mh).replace(/bull/g,Ha).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),qa=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Ov=/^[^\n]+/,ja=/(?!\s*\])(?:\\.|[^\[\]\\])+/,_v=re(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",ja).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Lv=re(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Ha).getRegex(),is="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",za=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Rv=re("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",za).replace("tag",is).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),vh=re(qa).replace("hr",Fi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",is).getRegex(),Mv=re(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",vh).getRegex(),Wa={blockquote:Mv,code:Tv,def:_v,fences:Av,heading:kv,hr:Fi,html:Rv,lheading:gh,list:Lv,newline:xv,paragraph:vh,table:Ni,text:Ov},ch=re("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Fi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",is).getRegex(),Pv={...Wa,lheading:Cv,table:ch,paragraph:re(qa).replace("hr",Fi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",ch).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",is).getRegex()},Iv={...Wa,html:re(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",za).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ni,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:re(qa).replace("hr",Fi).replace("heading",` *#{1,6} *[^
]`).replace("lheading",gh).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Dv=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Nv=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,bh=/^( {2,}|\\)\n(?!\s*$)/,Fv=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ns=/[\p{P}\p{S}]/u,Ua=/[\s\p{P}\p{S}]/u,yh=/[^\s\p{P}\p{S}]/u,Bv=re(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Ua).getRegex(),wh=/(?!~)[\p{P}\p{S}]/u,$v=/(?!~)[\s\p{P}\p{S}]/u,Vv=/(?:[^\s\p{P}\p{S}]|~)/u,Hv=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Eh=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,qv=re(Eh,"u").replace(/punct/g,ns).getRegex(),jv=re(Eh,"u").replace(/punct/g,wh).getRegex(),Sh="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",zv=re(Sh,"gu").replace(/notPunctSpace/g,yh).replace(/punctSpace/g,Ua).replace(/punct/g,ns).getRegex(),Wv=re(Sh,"gu").replace(/notPunctSpace/g,Vv).replace(/punctSpace/g,$v).replace(/punct/g,wh).getRegex(),Uv=re("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,yh).replace(/punctSpace/g,Ua).replace(/punct/g,ns).getRegex(),Kv=re(/\\(punct)/,"gu").replace(/punct/g,ns).getRegex(),Yv=re(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Xv=re(za).replace("(?:-->|$)","-->").getRegex(),Zv=re("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Xv).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),es=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Gv=re(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",es).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),xh=re(/^!?\[(label)\]\[(ref)\]/).replace("label",es).replace("ref",ja).getRegex(),Th=re(/^!?\[(ref)\](?:\[\])?/).replace("ref",ja).getRegex(),Jv=re("reflink|nolink(?!\\()","g").replace("reflink",xh).replace("nolink",Th).getRegex(),Ka={_backpedal:Ni,anyPunctuation:Kv,autolink:Yv,blockSkip:Hv,br:bh,code:Nv,del:Ni,emStrongLDelim:qv,emStrongRDelimAst:zv,emStrongRDelimUnd:Uv,escape:Dv,link:Gv,nolink:Th,punctuation:Bv,reflink:xh,reflinkSearch:Jv,tag:Zv,text:Fv,url:Ni},Qv={...Ka,link:re(/^!?\[(label)\]\((.*?)\)/).replace("label",es).getRegex(),reflink:re(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",es).getRegex()},Fa={...Ka,emStrongRDelimAst:Wv,emStrongLDelim:jv,url:re(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},eb={...Fa,br:re(bh).replace("{2,}","*").getRegex(),text:re(Fa.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Jn={normal:Wa,gfm:Pv,pedantic:Iv},Ii={normal:Ka,gfm:Fa,breaks:eb,pedantic:Qv},tb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},uh=t=>tb[t];function yt(t,e){if(e){if(He.escapeTest.test(t))return t.replace(He.escapeReplace,uh)}else if(He.escapeTestNoEncode.test(t))return t.replace(He.escapeReplaceNoEncode,uh);return t}function hh(t){try{t=encodeURI(t).replace(He.percentDecode,"%")}catch{return null}return t}function dh(t,e){let r=t.replace(He.findPipe,(s,o,a)=>{let l=!1,f=o;for(;--f>=0&&a[f]==="\\";)l=!l;return l?"|":" |"}),i=r.split(He.splitPipe),n=0;if(i[0].trim()||i.shift(),i.length>0&&!i.at(-1)?.trim()&&i.pop(),e)if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(He.slashPipe,"|");return i}function Di(t,e,r){let i=t.length;if(i===0)return"";let n=0;for(;n<i;){let s=t.charAt(i-n-1);if(s===e&&!r)n++;else if(s!==e&&r)n++;else break}return t.slice(0,i-n)}function rb(t,e){if(t.indexOf(e[1])===-1)return-1;let r=0;for(let i=0;i<t.length;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&(r--,r<0))return i;return r>0?-2:-1}function fh(t,e,r,i,n){let s=e.href,o=e.title||null,a=t[1].replace(n.other.outputLinkReplace,"$1");i.state.inLink=!0;let l={type:t[0].charAt(0)==="!"?"image":"link",raw:r,href:s,title:o,text:a,tokens:i.inlineTokens(a)};return i.state.inLink=!1,l}function ib(t,e,r){let i=t.match(r.other.indentCodeCompensation);if(i===null)return e;let n=i[1];return e.split(`
`).map(s=>{let o=s.match(r.other.beginningSpace);if(o===null)return s;let[a]=o;return a.length>=n.length?s.slice(n.length):s}).join(`
`)}var ts=class{options;rules;lexer;constructor(t){this.options=t||Lr}space(t){let e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){let e=this.rules.block.code.exec(t);if(e){let r=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Di(r,`
`)}}}fences(t){let e=this.rules.block.fences.exec(t);if(e){let r=e[0],i=ib(r,e[3]||"",this.rules);return{type:"code",raw:r,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:i}}}heading(t){let e=this.rules.block.heading.exec(t);if(e){let r=e[2].trim();if(this.rules.other.endingHash.test(r)){let i=Di(r,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(r=i.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(t){let e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:Di(e[0],`
`)}}blockquote(t){let e=this.rules.block.blockquote.exec(t);if(e){let r=Di(e[0],`
`).split(`
`),i="",n="",s=[];for(;r.length>0;){let o=!1,a=[],l;for(l=0;l<r.length;l++)if(this.rules.other.blockquoteStart.test(r[l]))a.push(r[l]),o=!0;else if(!o)a.push(r[l]);else break;r=r.slice(l);let f=a.join(`
`),p=f.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${f}`:f,n=n?`${n}
${p}`:p;let T=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,s,!0),this.lexer.state.top=T,r.length===0)break;let v=s.at(-1);if(v?.type==="code")break;if(v?.type==="blockquote"){let _=v,R=_.raw+`
`+r.join(`
`),y=this.blockquote(R);s[s.length-1]=y,i=i.substring(0,i.length-_.raw.length)+y.raw,n=n.substring(0,n.length-_.text.length)+y.text;break}else if(v?.type==="list"){let _=v,R=_.raw+`
`+r.join(`
`),y=this.list(R);s[s.length-1]=y,i=i.substring(0,i.length-v.raw.length)+y.raw,n=n.substring(0,n.length-_.raw.length)+y.raw,r=R.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:s,text:n}}}list(t){let e=this.rules.block.list.exec(t);if(e){let r=e[1].trim(),i=r.length>1,n={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");let s=this.rules.other.listItemRegex(r),o=!1;for(;t;){let l=!1,f="",p="";if(!(e=s.exec(t))||this.rules.block.hr.test(t))break;f=e[0],t=t.substring(f.length);let T=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,C=>" ".repeat(3*C.length)),v=t.split(`
`,1)[0],_=!T.trim(),R=0;if(this.options.pedantic?(R=2,p=T.trimStart()):_?R=e[1].length+1:(R=e[2].search(this.rules.other.nonSpaceChar),R=R>4?1:R,p=T.slice(R),R+=e[1].length),_&&this.rules.other.blankLine.test(v)&&(f+=v+`
`,t=t.substring(v.length+1),l=!0),!l){let C=this.rules.other.nextBulletRegex(R),b=this.rules.other.hrRegex(R),A=this.rules.other.fencesBeginRegex(R),h=this.rules.other.headingBeginRegex(R),w=this.rules.other.htmlBeginRegex(R);for(;t;){let x=t.split(`
`,1)[0],L;if(v=x,this.options.pedantic?(v=v.replace(this.rules.other.listReplaceNesting,"  "),L=v):L=v.replace(this.rules.other.tabCharGlobal,"    "),A.test(v)||h.test(v)||w.test(v)||C.test(v)||b.test(v))break;if(L.search(this.rules.other.nonSpaceChar)>=R||!v.trim())p+=`
`+L.slice(R);else{if(_||T.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||A.test(T)||h.test(T)||b.test(T))break;p+=`
`+v}!_&&!v.trim()&&(_=!0),f+=x+`
`,t=t.substring(x.length+1),T=L.slice(R)}}n.loose||(o?n.loose=!0:this.rules.other.doubleBlankLine.test(f)&&(o=!0));let y=null,S;this.options.gfm&&(y=this.rules.other.listIsTask.exec(p),y&&(S=y[0]!=="[ ] ",p=p.replace(this.rules.other.listReplaceTask,""))),n.items.push({type:"list_item",raw:f,task:!!y,checked:S,loose:!1,text:p,tokens:[]}),n.raw+=f}let a=n.items.at(-1);if(a)a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd();else return;n.raw=n.raw.trimEnd();for(let l=0;l<n.items.length;l++)if(this.lexer.state.top=!1,n.items[l].tokens=this.lexer.blockTokens(n.items[l].text,[]),!n.loose){let f=n.items[l].tokens.filter(T=>T.type==="space"),p=f.length>0&&f.some(T=>this.rules.other.anyLine.test(T.raw));n.loose=p}if(n.loose)for(let l=0;l<n.items.length;l++)n.items[l].loose=!0;return n}}html(t){let e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){let e=this.rules.block.def.exec(t);if(e){let r=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",n=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:r,raw:e[0],href:i,title:n}}}table(t){let e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let r=dh(e[1]),i=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),n=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:e[0],header:[],align:[],rows:[]};if(r.length===i.length){for(let o of i)this.rules.other.tableAlignRight.test(o)?s.align.push("right"):this.rules.other.tableAlignCenter.test(o)?s.align.push("center"):this.rules.other.tableAlignLeft.test(o)?s.align.push("left"):s.align.push(null);for(let o=0;o<r.length;o++)s.header.push({text:r[o],tokens:this.lexer.inline(r[o]),header:!0,align:s.align[o]});for(let o of n)s.rows.push(dh(o,s.header.length).map((a,l)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:s.align[l]})));return s}}lheading(t){let e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){let e=this.rules.block.paragraph.exec(t);if(e){let r=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:r,tokens:this.lexer.inline(r)}}}text(t){let e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){let e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){let e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){let e=this.rules.inline.link.exec(t);if(e){let r=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let s=Di(r.slice(0,-1),"\\");if((r.length-s.length)%2===0)return}else{let s=rb(e[2],"()");if(s===-2)return;if(s>-1){let a=(e[0].indexOf("!")===0?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,a).trim(),e[3]=""}}let i=e[2],n="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(i);s&&(i=s[1],n=s[3])}else n=e[3]?e[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?i=i.slice(1):i=i.slice(1,-1)),fh(e,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:n&&n.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){let i=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),n=e[i.toLowerCase()];if(!n){let s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return fh(r,n,r[0],this.lexer,this.rules)}}emStrong(t,e,r=""){let i=this.rules.inline.emStrongLDelim.exec(t);if(!i||i[3]&&r.match(this.rules.other.unicodeAlphaNumeric))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){let s=[...i[0]].length-1,o,a,l=s,f=0,p=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,e=e.slice(-1*t.length+s);(i=p.exec(e))!=null;){if(o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!o)continue;if(a=[...o].length,i[3]||i[4]){l+=a;continue}else if((i[5]||i[6])&&s%3&&!((s+a)%3)){f+=a;continue}if(l-=a,l>0)continue;a=Math.min(a,a+l+f);let T=[...i[0]][0].length,v=t.slice(0,s+i.index+T+a);if(Math.min(s,a)%2){let R=v.slice(1,-1);return{type:"em",raw:v,text:R,tokens:this.lexer.inlineTokens(R)}}let _=v.slice(2,-2);return{type:"strong",raw:v,text:_,tokens:this.lexer.inlineTokens(_)}}}}codespan(t){let e=this.rules.inline.code.exec(t);if(e){let r=e[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(r),n=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return i&&n&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:e[0],text:r}}}br(t){let e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){let e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){let e=this.rules.inline.autolink.exec(t);if(e){let r,i;return e[2]==="@"?(r=e[1],i="mailto:"+r):(r=e[1],i=r),{type:"link",raw:e[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(t){let e;if(e=this.rules.inline.url.exec(t)){let r,i;if(e[2]==="@")r=e[0],i="mailto:"+r;else{let n;do n=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(n!==e[0]);r=e[0],e[1]==="www."?i="http://"+e[0]:i=e[0]}return{type:"link",raw:e[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t){let e=this.rules.inline.text.exec(t);if(e){let r=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:r}}}},Lt=class Ba{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Lr,this.options.tokenizer=this.options.tokenizer||new ts,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:He,block:Jn.normal,inline:Ii.normal};this.options.pedantic?(r.block=Jn.pedantic,r.inline=Ii.pedantic):this.options.gfm&&(r.block=Jn.gfm,this.options.breaks?r.inline=Ii.breaks:r.inline=Ii.gfm),this.tokenizer.rules=r}static get rules(){return{block:Jn,inline:Ii}}static lex(e,r){return new Ba(r).lex(e)}static lexInline(e,r){return new Ba(r).inlineTokens(e)}lex(e){e=e.replace(He.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let i=this.inlineQueue[r];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,r=[],i=!1){for(this.options.pedantic&&(e=e.replace(He.tabCharGlobal,"    ").replace(He.spaceLine,""));e;){let n;if(this.options.extensions?.block?.some(o=>(n=o.call({lexer:this},e,r))?(e=e.substring(n.raw.length),r.push(n),!0):!1))continue;if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length);let o=r.at(-1);n.raw.length===1&&o!==void 0?o.raw+=`
`:r.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length);let o=r.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+n.raw,o.text+=`
`+n.text,this.inlineQueue.at(-1).src=o.text):r.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length);let o=r.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+n.raw,o.text+=`
`+n.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),r.push(n);continue}let s=e;if(this.options.extensions?.startBlock){let o=1/0,a=e.slice(1),l;this.options.extensions.startBlock.forEach(f=>{l=f.call({lexer:this},a),typeof l=="number"&&l>=0&&(o=Math.min(o,l))}),o<1/0&&o>=0&&(s=e.substring(0,o+1))}if(this.state.top&&(n=this.tokenizer.paragraph(s))){let o=r.at(-1);i&&o?.type==="paragraph"?(o.raw+=`
`+n.raw,o.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):r.push(n),i=s.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length);let o=r.at(-1);o?.type==="text"?(o.raw+=`
`+n.raw,o.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):r.push(n);continue}if(e){let o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){let i=e,n=null;if(this.tokens.links){let a=Object.keys(this.tokens.links);if(a.length>0)for(;(n=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)a.includes(n[0].slice(n[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(n=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,n.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(n=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let s=!1,o="";for(;e;){s||(o=""),s=!1;let a;if(this.options.extensions?.inline?.some(f=>(a=f.call({lexer:this},e,r))?(e=e.substring(a.raw.length),r.push(a),!0):!1))continue;if(a=this.tokenizer.escape(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.tag(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.link(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(a.raw.length);let f=r.at(-1);a.type==="text"&&f?.type==="text"?(f.raw+=a.raw,f.text+=a.text):r.push(a);continue}if(a=this.tokenizer.emStrong(e,i,o)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.codespan(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.br(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.del(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.autolink(e)){e=e.substring(a.raw.length),r.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(e))){e=e.substring(a.raw.length),r.push(a);continue}let l=e;if(this.options.extensions?.startInline){let f=1/0,p=e.slice(1),T;this.options.extensions.startInline.forEach(v=>{T=v.call({lexer:this},p),typeof T=="number"&&T>=0&&(f=Math.min(f,T))}),f<1/0&&f>=0&&(l=e.substring(0,f+1))}if(a=this.tokenizer.inlineText(l)){e=e.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(o=a.raw.slice(-1)),s=!0;let f=r.at(-1);f?.type==="text"?(f.raw+=a.raw,f.text+=a.text):r.push(a);continue}if(e){let f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return r}},rs=class{options;parser;constructor(t){this.options=t||Lr}space(t){return""}code({text:t,lang:e,escaped:r}){let i=(e||"").match(He.notSpaceStart)?.[0],n=t.replace(He.endingNewline,"")+`
`;return i?'<pre><code class="language-'+yt(i)+'">'+(r?n:yt(n,!0))+`</code></pre>
`:"<pre><code>"+(r?n:yt(n,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){let e=t.ordered,r=t.start,i="";for(let o=0;o<t.items.length;o++){let a=t.items[o];i+=this.listitem(a)}let n=e?"ol":"ul",s=e&&r!==1?' start="'+r+'"':"";return"<"+n+s+`>
`+i+"</"+n+`>
`}listitem(t){let e="";if(t.task){let r=this.checkbox({checked:!!t.checked});t.loose?t.tokens[0]?.type==="paragraph"?(t.tokens[0].text=r+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=r+" "+yt(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):e+=r+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",r="";for(let n=0;n<t.header.length;n++)r+=this.tablecell(t.header[n]);e+=this.tablerow({text:r});let i="";for(let n=0;n<t.rows.length;n++){let s=t.rows[n];r="";for(let o=0;o<s.length;o++)r+=this.tablecell(s[o]);i+=this.tablerow({text:r})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+i+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let e=this.parser.parseInline(t.tokens),r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${yt(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:r}){let i=this.parser.parseInline(r),n=hh(t);if(n===null)return i;t=n;let s='<a href="'+t+'"';return e&&(s+=' title="'+yt(e)+'"'),s+=">"+i+"</a>",s}image({href:t,title:e,text:r,tokens:i}){i&&(r=this.parser.parseInline(i,this.parser.textRenderer));let n=hh(t);if(n===null)return yt(r);t=n;let s=`<img src="${t}" alt="${r}"`;return e&&(s+=` title="${yt(e)}"`),s+=">",s}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:yt(t.text)}},Ya=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},Rt=class $a{options;renderer;textRenderer;constructor(e){this.options=e||Lr,this.options.renderer=this.options.renderer||new rs,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Ya}static parse(e,r){return new $a(r).parse(e)}static parseInline(e,r){return new $a(r).parseInline(e)}parse(e,r=!0){let i="";for(let n=0;n<e.length;n++){let s=e[n];if(this.options.extensions?.renderers?.[s.type]){let a=s,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){i+=l||"";continue}}let o=s;switch(o.type){case"space":{i+=this.renderer.space(o);continue}case"hr":{i+=this.renderer.hr(o);continue}case"heading":{i+=this.renderer.heading(o);continue}case"code":{i+=this.renderer.code(o);continue}case"table":{i+=this.renderer.table(o);continue}case"blockquote":{i+=this.renderer.blockquote(o);continue}case"list":{i+=this.renderer.list(o);continue}case"html":{i+=this.renderer.html(o);continue}case"paragraph":{i+=this.renderer.paragraph(o);continue}case"text":{let a=o,l=this.renderer.text(a);for(;n+1<e.length&&e[n+1].type==="text";)a=e[++n],l+=`
`+this.renderer.text(a);r?i+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):i+=l;continue}default:{let a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return i}parseInline(e,r=this.renderer){let i="";for(let n=0;n<e.length;n++){let s=e[n];if(this.options.extensions?.renderers?.[s.type]){let a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){i+=a||"";continue}}let o=s;switch(o.type){case"escape":{i+=r.text(o);break}case"html":{i+=r.html(o);break}case"link":{i+=r.link(o);break}case"image":{i+=r.image(o);break}case"strong":{i+=r.strong(o);break}case"em":{i+=r.em(o);break}case"codespan":{i+=r.codespan(o);break}case"br":{i+=r.br(o);break}case"del":{i+=r.del(o);break}case"text":{i+=r.text(o);break}default:{let a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return i}},Qn=class{options;block;constructor(t){this.options=t||Lr}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?Lt.lex:Lt.lexInline}provideParser(){return this.block?Rt.parse:Rt.parseInline}},nb=class{defaults=Va();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Rt;Renderer=rs;TextRenderer=Ya;Lexer=Lt;Tokenizer=ts;Hooks=Qn;constructor(...t){this.use(...t)}walkTokens(t,e){let r=[];for(let i of t)switch(r=r.concat(e.call(this,i)),i.type){case"table":{let n=i;for(let s of n.header)r=r.concat(this.walkTokens(s.tokens,e));for(let s of n.rows)for(let o of s)r=r.concat(this.walkTokens(o.tokens,e));break}case"list":{let n=i;r=r.concat(this.walkTokens(n.items,e));break}default:{let n=i;this.defaults.extensions?.childTokens?.[n.type]?this.defaults.extensions.childTokens[n.type].forEach(s=>{let o=n[s].flat(1/0);r=r.concat(this.walkTokens(o,e))}):n.tokens&&(r=r.concat(this.walkTokens(n.tokens,e)))}}return r}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(r=>{let i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(n=>{if(!n.name)throw new Error("extension name required");if("renderer"in n){let s=e.renderers[n.name];s?e.renderers[n.name]=function(...o){let a=n.renderer.apply(this,o);return a===!1&&(a=s.apply(this,o)),a}:e.renderers[n.name]=n.renderer}if("tokenizer"in n){if(!n.level||n.level!=="block"&&n.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=e[n.level];s?s.unshift(n.tokenizer):e[n.level]=[n.tokenizer],n.start&&(n.level==="block"?e.startBlock?e.startBlock.push(n.start):e.startBlock=[n.start]:n.level==="inline"&&(e.startInline?e.startInline.push(n.start):e.startInline=[n.start]))}"childTokens"in n&&n.childTokens&&(e.childTokens[n.name]=n.childTokens)}),i.extensions=e),r.renderer){let n=this.defaults.renderer||new rs(this.defaults);for(let s in r.renderer){if(!(s in n))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let o=s,a=r.renderer[o],l=n[o];n[o]=(...f)=>{let p=a.apply(n,f);return p===!1&&(p=l.apply(n,f)),p||""}}i.renderer=n}if(r.tokenizer){let n=this.defaults.tokenizer||new ts(this.defaults);for(let s in r.tokenizer){if(!(s in n))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let o=s,a=r.tokenizer[o],l=n[o];n[o]=(...f)=>{let p=a.apply(n,f);return p===!1&&(p=l.apply(n,f)),p}}i.tokenizer=n}if(r.hooks){let n=this.defaults.hooks||new Qn;for(let s in r.hooks){if(!(s in n))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let o=s,a=r.hooks[o],l=n[o];Qn.passThroughHooks.has(s)?n[o]=f=>{if(this.defaults.async)return Promise.resolve(a.call(n,f)).then(T=>l.call(n,T));let p=a.call(n,f);return l.call(n,p)}:n[o]=(...f)=>{let p=a.apply(n,f);return p===!1&&(p=l.apply(n,f)),p}}i.hooks=n}if(r.walkTokens){let n=this.defaults.walkTokens,s=r.walkTokens;i.walkTokens=function(o){let a=[];return a.push(s.call(this,o)),n&&(a=a.concat(n.call(this,o))),a}}this.defaults={...this.defaults,...i}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return Lt.lex(t,e??this.defaults)}parser(t,e){return Rt.parse(t,e??this.defaults)}parseMarkdown(t){return(r,i)=>{let n={...i},s={...this.defaults,...n},o=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&n.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=t);let a=s.hooks?s.hooks.provideLexer():t?Lt.lex:Lt.lexInline,l=s.hooks?s.hooks.provideParser():t?Rt.parse:Rt.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(r):r).then(f=>a(f,s)).then(f=>s.hooks?s.hooks.processAllTokens(f):f).then(f=>s.walkTokens?Promise.all(this.walkTokens(f,s.walkTokens)).then(()=>f):f).then(f=>l(f,s)).then(f=>s.hooks?s.hooks.postprocess(f):f).catch(o);try{s.hooks&&(r=s.hooks.preprocess(r));let f=a(r,s);s.hooks&&(f=s.hooks.processAllTokens(f)),s.walkTokens&&this.walkTokens(f,s.walkTokens);let p=l(f,s);return s.hooks&&(p=s.hooks.postprocess(p)),p}catch(f){return o(f)}}}onError(t,e){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let i="<p>An error occurred:</p><pre>"+yt(r.message+"",!0)+"</pre>";return e?Promise.resolve(i):i}if(e)return Promise.reject(r);throw r}}},_r=new nb;function Y(t,e){return _r.parse(t,e)}Y.options=Y.setOptions=function(t){return _r.setOptions(t),Y.defaults=_r.defaults,ph(Y.defaults),Y};Y.getDefaults=Va;Y.defaults=Lr;Y.use=function(...t){return _r.use(...t),Y.defaults=_r.defaults,ph(Y.defaults),Y};Y.walkTokens=function(t,e){return _r.walkTokens(t,e)};Y.parseInline=_r.parseInline;Y.Parser=Rt;Y.parser=Rt.parse;Y.Renderer=rs;Y.TextRenderer=Ya;Y.Lexer=Lt;Y.lexer=Lt.lex;Y.Tokenizer=ts;Y.Hooks=Qn;Y.parse=Y;var qS=Y.options,jS=Y.setOptions,zS=Y.use,WS=Y.walkTokens,US=Y.parseInline;var KS=Rt.parse,YS=Lt.lex;Y.setOptions({renderer:new Y.Renderer});Y.use({renderer:{link({href:t,text:e}){return`<a href="${t}" target="_blank" rel="noopener noreferrer">${e}</a>`}}});var ss=class extends le{static targets=["messages","error","input","send","userMessageTemplate","assistantMessageTemplate","retryButton"];static classes=["hidden"];static values={url:String,timeout:Number,autoSubmit:{type:Boolean,default:!1},message:String,messages:Object};connect(){console.log("[AIChat] connect"),this.isStreaming=!1,this.chatHistory=[],this.currentRound=null,this.renderChatHistoryOnce()}disconnect(){console.log("[AIChat] disconnect"),this.stopStreaming()}inputTargetConnected(t){t.addEventListener("keydown",e=>{e.key==="Enter"&&(console.log("[AIChat] inputTargetConnected: Enter pressed"),this.#t())})}sendTargetConnected(t){t.addEventListener("click",e=>{console.log("[AIChat] sendTargetConnected: click"),this.#t()})}messageValueChanged(){this.autoSubmitValue&&this.messageValue&&this.#e()}#e(){this.delayAutoSubmitTimer&&clearTimeout(this.delayAutoSubmitTimer),this.delayAutoSubmitTimer=setTimeout(()=>{this.messageValue&&this.sendMessage(this.messageValue)},500)}#t(){let t=this.inputTarget.value;console.log("[AIChat] #sendUserMessage",t),t&&(this.inputTarget.value="",this.sendMessage(t))}async chat(t){let{message:e}=t.params;this.sendMessage(e)}addUserMessage(t){console.log("[AIChat] addUserMessage",t),this.currentRound={user:t,ai:"",status:"streaming",retry:null},this.chatHistory.push(this.currentRound),this.appendUserMessage(t),this.appendAssistantMessage("","streaming",this.chatHistory.length-1)}renderChatHistoryOnce(){this.hasMessagesTarget&&(this.messagesTarget.innerHTML="",this.chatHistory.forEach((t,e)=>{this.appendUserMessage(t.user),this.appendAssistantMessage(t.ai,t.status,e,t.retry)}),this.scrollToBottom(!0))}appendUserMessage(t){if(console.log("[AIChat] appendUserMessage",t),!this.hasUserMessageTemplateTarget)return;let e=this.userMessageTemplateTarget.content.cloneNode(!0);e.querySelector(".ai-user-message").textContent=t,this.messagesTarget.appendChild(e),this.scrollToBottom(!0)}appendAssistantMessage(t,e,r,i){if(console.log("[AIChat] appendAssistantMessage",t,e,r),!this.hasAssistantMessageTemplateTarget)return;let n=!0,s=this.assistantMessageTemplateTarget.content.cloneNode(!0),o=s.querySelector(".ai-assistant-message");if(e==="error"){let a=this.retryButton;a.dataset.idx=r,o.innerHTML=`<span class='bkt-text-red-500'>${this.escapeHTML(t)}</span> ${a.outerHTML}`,i&&setTimeout(()=>{let l=this.messagesTarget.querySelectorAll(`[data-idx='${r}']`),f=l[l.length-1];f&&(f.onclick=()=>i())},0)}else t?(o.innerHTML=Y(t),n=!1):o.innerHTML=`<span class="bkt-text-gray-400">${this.messagesValue.thinking}</span>`;this.messagesTarget.appendChild(s),e==="error"&&i&&setTimeout(()=>{let a=this.messagesTarget.querySelectorAll(`[data-idx='${r}']`),l=a[a.length-1];l&&(l.onclick=()=>i())},0),this.scrollToBottom(n)}updateCurrentAssistantMessage(t,e,r,i){console.log("[AIChat] updateCurrentAssistantMessage",t,e,r);let n=this.messagesTarget.querySelectorAll(".ai-assistant-message"),s=n[n.length-1];if(!s){console.warn("[AIChat] updateCurrentAssistantMessage: no msgSpan found");return}if(e==="error"){let o=this.retryButton;o.dataset.idx=r,s.innerHTML=`<span class='bkt-text-red-500'>${this.escapeHTML(t)}</span> ${o.outerHTML}`,i&&setTimeout(()=>{let a=this.messagesTarget.querySelector(`[data-idx='${r}']`);a&&(a.onclick=()=>i())},0)}else e==="canceled"?s.innerHTML=`<span class="bkt-text-gray-400">${this.messagesValue.canceled}</span>`:t?s.innerHTML=Y(t):s.innerHTML=`<span class="bkt-text-gray-400">${this.messagesValue.thinking}</span>`;this.scrollToBottom()}async sendMessage(t){if(console.log("[AIChat] sendMessage",t),!t||!this.url){console.warn("[AIChat] sendMessage: invalid params",t,this.url);return}this.isStreaming&&(this.updateCurrentAssistantMessage(this.currentRound.ai,"canceled",this.chatHistory.length-1),this.stopStreaming()),this.addUserMessage(t),this.isStreaming=!0,this.currentRound.ai="",this.currentRound.status="streaming";let e=this.chatHistory.length-1;this.updateCurrentAssistantMessage("","streaming",e);let r=new URLSearchParams({message:t});this.eventSource=new EventSource(`${this.url}?${r.toString()}`),this.startTimeoutTimer(),this.eventSource.onmessage=i=>{let n=JSON.parse(i.data);n.message||="",console.log("[AIChat] eventSource.onmessage",n),this.resetTimeoutTimer(),n.status==="system"?(this.currentRound.ai=n.message,this.currentRound.status="system",this.updateCurrentAssistantMessage(this.currentRound.ai,"system",e)):n.status==="streaming"?(this.currentRound.status!=="streaming"&&(this.currentRound.ai=""),this.currentRound.status="streaming",this.currentRound.ai+=n.message,this.updateCurrentAssistantMessage(this.currentRound.ai,"streaming",e)):n.status==="completed"?(this.currentRound.ai+=n.message,this.currentRound.status="completed",this.isStreaming=!1,this.eventSource.close(),this.clearTimeoutTimer(),this.currentRound.ai+=this.messagesValue.completed,this.updateCurrentAssistantMessage(this.currentRound.ai,"completed",e)):n.status==="error"&&(this.currentRound.ai=n.message,this.currentRound.status="error",this.isStreaming=!1,this.eventSource.close(),this.clearTimeoutTimer(),this.currentRound.retry=()=>{console.log("[AIChat] retry",e),this.currentRound.status="streaming",this.currentRound.ai="",this.appendAssistantMessage("","streaming",e),this.updateCurrentAssistantMessage("","streaming",e),this.sendMessage(this.currentRound.user)},this.updateCurrentAssistantMessage(this.currentRound.ai,"error",e,this.currentRound.retry))},this.eventSource.onerror=i=>{console.error("[AIChat] eventSource.onerror",i),this.eventSource.close(),this.isStreaming=!1,this.currentRound.status="error",this.currentRound.ai="\u7F51\u7EDC\u9519\u8BEF\uFF0C\u8BF7\u91CD\u8BD5",this.currentRound.retry=()=>{console.log("[AIChat] retry (onerror)",e),this.currentRound.status="streaming",this.currentRound.ai="",this.appendAssistantMessage("","streaming",e),this.updateCurrentAssistantMessage("","streaming",e),this.sendMessage(this.currentRound.user)},this.clearTimeoutTimer(),this.updateCurrentAssistantMessage(this.currentRound.ai,"error",e,this.currentRound.retry)}}stopStreaming(){if(this.eventSource)try{this.eventSource.close()}catch{}this.isStreaming=!1,this.clearTimeoutTimer(),this.hasErrorTarget&&this.errorTarget.classList.add(...this.hiddenClasses)}escapeHTML(t){return t?t.replace(/[&<>"']/g,function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[e]}):""}startTimeoutTimer(){this.hasTimeoutValue&&(this.timeoutTimer=setTimeout(()=>{if(this.currentRound){this.currentRound.status="error",this.currentRound.ai="\u54CD\u5E94\u8D85\u65F6\uFF0C\u8BF7\u91CD\u8BD5";let t=this.chatHistory.length-1;this.currentRound.retry=()=>{this.currentRound.status="streaming",this.currentRound.ai="",this.updateCurrentAssistantMessage("","streaming",t),this.sendMessage(this.currentRound.user)},this.updateCurrentAssistantMessage(this.currentRound.ai,"error",t,this.currentRound.retry)}this.eventSource&&this.eventSource.close(),this.isStreaming=!1},this.timeoutValue*1e3))}clearTimeoutTimer(){!this.hasTimeoutValue||!this.timeoutTimer||clearTimeout(this.timeoutTimer)}resetTimeoutTimer(){this.clearTimeoutTimer(),this.startTimeoutTimer()}scrollToBottom(t=!1){if(!this.hasMessagesTarget)return;let e=this.messagesTarget,r=e.scrollHeight-e.scrollTop-e.clientHeight<80;(t||r)&&(e.scrollTop=e.scrollHeight)}get url(){return this.hasUrlValue?this.urlValue:null}get retryButton(){if(this.hasRetryButtonTarget)return this.retryButtonTarget;{let t=document.createElement("button");return t.classList.add("bkt-size-4","bkt-text-gray-600"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="bkt-size-full" viewBox="0 0 24 24" fill="currentColor"><path d="M5.46257 4.43262C7.21556 2.91688 9.5007 2 12 2C17.5228 2 22 6.47715 22 12C22 14.1361 21.3302 16.1158 20.1892 17.7406L17 12H20C20 7.58172 16.4183 4 12 4C9.84982 4 7.89777 4.84827 6.46023 6.22842L5.46257 4.43262ZM18.5374 19.5674C16.7844 21.0831 14.4993 22 12 22C6.47715 22 2 17.5228 2 12C2 9.86386 2.66979 7.88416 3.8108 6.25944L7 12H4C4 16.4183 7.58172 20 12 20C14.1502 20 16.1022 19.1517 17.5398 17.7716L18.5374 19.5674Z"></path></svg>',t}}};window.Stimulus||(window.Stimulus=Pn.start());var Mt=window.Stimulus;Mt.register("toc",Dn);Mt.register("images-viewer",Nn);Mt.register("nav-tree",Fn);Mt.register("turbo-nav-tree",Bn);Mt.register("theme",$n);Mt.register("clipboard",Xn);Mt.register("scroll-to",Zn);Mt.register("link-target",Gn);Mt.register("ai-search",ss);window.Turbo=Zs;window.Alpine=Cn;Cn.plugin(su);Cn.start();})();
/*! Bundled license information:

viewerjs/dist/viewer.js:
  (*!
   * Viewer.js v1.11.7
   * https://fengyuanchen.github.io/viewerjs
   *
   * Copyright 2015-present Chen Fengyuan
   * Released under the MIT license
   *
   * Date: 2024-11-24T04:32:19.116Z
   *)

@hotwired/turbo/dist/turbo.es2017-esm.js:
  (*!
  Turbo 8.0.13
  Copyright © 2025 37signals LLC
   *)

mustache/mustache.mjs:
  (*!
   * mustache.js - Logic-less {{mustache}} templates with JavaScript
   * http://github.com/janl/mustache.js
   *)
*/
