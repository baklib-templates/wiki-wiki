(()=>{var _c=Object.create;var yo=Object.defineProperty;var Oc=Object.getOwnPropertyDescriptor;var Sc=Object.getOwnPropertyNames;var Cc=Object.getPrototypeOf,Mc=Object.prototype.hasOwnProperty;var Lc=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Rc=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Sc(e))!Mc.call(t,i)&&i!==r&&yo(t,i,{get:()=>e[i],enumerable:!(n=Oc(e,i))||n.enumerable});return t};var Dc=(t,e,r)=>(r=t!=null?_c(Cc(t)):{},Rc(e||!t||!t.__esModule?yo(r,"default",{value:t,enumerable:!0}):r,t));var ll=Lc((Ls,Rs)=>{(function(t,e){typeof Ls=="object"&&typeof Rs<"u"?Rs.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Viewer=e())})(Ls,(function(){"use strict";function t(d,l){if(!(d instanceof l))throw new TypeError("Cannot call a class as a function")}function e(d,l){for(var f=0;f<l.length;f++){var u=l[f];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(d,a(u.key),u)}}function r(d,l,f){return l&&e(d.prototype,l),f&&e(d,f),Object.defineProperty(d,"prototype",{writable:!1}),d}function n(d,l,f){return(l=a(l))in d?Object.defineProperty(d,l,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[l]=f,d}function i(d,l){var f=Object.keys(d);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(d);l&&(u=u.filter(function(m){return Object.getOwnPropertyDescriptor(d,m).enumerable})),f.push.apply(f,u)}return f}function s(d){for(var l=1;l<arguments.length;l++){var f=arguments[l]!=null?arguments[l]:{};l%2?i(Object(f),!0).forEach(function(u){n(d,u,f[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(f)):i(Object(f)).forEach(function(u){Object.defineProperty(d,u,Object.getOwnPropertyDescriptor(f,u))})}return d}function o(d,l){if(typeof d!="object"||!d)return d;var f=d[Symbol.toPrimitive];if(f!==void 0){var u=f.call(d,l||"default");if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(d)}function a(d){var l=o(d,"string");return typeof l=="symbol"?l:l+""}function c(d){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},c(d)}var h={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},p='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',w=typeof window<"u"&&typeof window.document<"u",b=w?window:{},k=w&&b.document.documentElement?"ontouchstart"in b.document.documentElement:!1,M=w?"PointerEvent"in b:!1,E="viewer",T="move",C="switch",L="zoom",N="".concat(E,"-active"),g="".concat(E,"-close"),$="".concat(E,"-fade"),O="".concat(E,"-fixed"),j="".concat(E,"-fullscreen"),W="".concat(E,"-fullscreen-exit"),Z="".concat(E,"-hide"),ee="".concat(E,"-hide-md-down"),de="".concat(E,"-hide-sm-down"),re="".concat(E,"-hide-xs-down"),z="".concat(E,"-in"),we="".concat(E,"-invisible"),ve="".concat(E,"-loading"),Ae="".concat(E,"-move"),xe="".concat(E,"-open"),ne="".concat(E,"-show"),U="".concat(E,"-transition"),Ce="click",Xe="dblclick",Ve="dragstart",at="focusin",ze="keydown",ie="load",Me="error",At=k?"touchend touchcancel":"mouseup",Ze=k?"touchmove":"mousemove",_t=k?"touchstart":"mousedown",Ge=M?"pointerdown":_t,dt=M?"pointermove":Ze,Ft=M?"pointerup pointercancel":At,Ot="resize",Re="transitionend",Vt="wheel",St="ready",Ct="show",jt="shown",zt="hide",He="hidden",Je="view",Qe="viewed",lt="move",Mt="moved",Ht="rotate",Wt="rotated",qt="scale",Ut="scaled",un="zoom",fn="zoomed",hn="play",dn="stop",pr="".concat(E,"Action"),x=/\s\s*/,I=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function B(d){return typeof d=="string"}var Y=Number.isNaN||b.isNaN;function P(d){return typeof d=="number"&&!Y(d)}function ue(d){return typeof d>"u"}function Ee(d){return c(d)==="object"&&d!==null}var Lt=Object.prototype.hasOwnProperty;function pt(d){if(!Ee(d))return!1;try{var l=d.constructor,f=l.prototype;return l&&f&&Lt.call(f,"isPrototypeOf")}catch{return!1}}function H(d){return typeof d=="function"}function G(d,l){if(d&&H(l))if(Array.isArray(d)||P(d.length)){var f=d.length,u;for(u=0;u<f&&l.call(d,d[u],u,d)!==!1;u+=1);}else Ee(d)&&Object.keys(d).forEach(function(m){l.call(d,d[m],m,d)});return d}var _e=Object.assign||function(l){for(var f=arguments.length,u=new Array(f>1?f-1:0),m=1;m<f;m++)u[m-1]=arguments[m];return Ee(l)&&u.length>0&&u.forEach(function(v){Ee(v)&&Object.keys(v).forEach(function(y){l[y]=v[y]})}),l},Rt=/^(?:width|height|left|top|marginLeft|marginTop)$/;function je(d,l){var f=d.style;G(l,function(u,m){Rt.test(m)&&P(u)&&(u+="px"),f[m]=u})}function Rr(d){return B(d)?d.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):d}function et(d,l){return!d||!l?!1:d.classList?d.classList.contains(l):d.className.indexOf(l)>-1}function F(d,l){if(!(!d||!l)){if(P(d.length)){G(d,function(u){F(u,l)});return}if(d.classList){d.classList.add(l);return}var f=d.className.trim();f?f.indexOf(l)<0&&(d.className="".concat(f," ").concat(l)):d.className=l}}function X(d,l){if(!(!d||!l)){if(P(d.length)){G(d,function(f){X(f,l)});return}if(d.classList){d.classList.remove(l);return}d.className.indexOf(l)>=0&&(d.className=d.className.replace(l,""))}}function Dr(d,l,f){if(l){if(P(d.length)){G(d,function(u){Dr(u,l,f)});return}f?F(d,l):X(d,l)}}var pc=/([a-z\d])([A-Z])/g;function mi(d){return d.replace(pc,"$1-$2").toLowerCase()}function mr(d,l){return Ee(d[l])?d[l]:d.dataset?d.dataset[l]:d.getAttribute("data-".concat(mi(l)))}function gi(d,l,f){Ee(f)?d[l]=f:d.dataset?d.dataset[l]=f:d.setAttribute("data-".concat(mi(l)),f)}var go=(function(){var d=!1;if(w){var l=!1,f=function(){},u=Object.defineProperty({},"once",{get:function(){return d=!0,l},set:function(v){l=v}});b.addEventListener("test",f,u),b.removeEventListener("test",f,u)}return d})();function Q(d,l,f){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},m=f;l.trim().split(x).forEach(function(v){if(!go){var y=d.listeners;y&&y[v]&&y[v][f]&&(m=y[v][f],delete y[v][f],Object.keys(y[v]).length===0&&delete y[v],Object.keys(y).length===0&&delete d.listeners)}d.removeEventListener(v,m,u)})}function V(d,l,f){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},m=f;l.trim().split(x).forEach(function(v){if(u.once&&!go){var y=d.listeners,_=y===void 0?{}:y;m=function(){delete _[v][f],d.removeEventListener(v,m,u);for(var S=arguments.length,A=new Array(S),D=0;D<S;D++)A[D]=arguments[D];f.apply(d,A)},_[v]||(_[v]={}),_[v][f]&&d.removeEventListener(v,_[v][f],u),_[v][f]=m,d.listeners=_}d.addEventListener(v,m,u)})}function pe(d,l,f,u){var m;return H(Event)&&H(CustomEvent)?m=new CustomEvent(l,s({bubbles:!0,cancelable:!0,detail:f},u)):(m=document.createEvent("CustomEvent"),m.initCustomEvent(l,!0,!0,f)),d.dispatchEvent(m)}function mc(d){var l=d.getBoundingClientRect();return{left:l.left+(window.pageXOffset-document.documentElement.clientLeft),top:l.top+(window.pageYOffset-document.documentElement.clientTop)}}function pn(d){var l=d.rotate,f=d.scaleX,u=d.scaleY,m=d.translateX,v=d.translateY,y=[];P(m)&&m!==0&&y.push("translateX(".concat(m,"px)")),P(v)&&v!==0&&y.push("translateY(".concat(v,"px)")),P(l)&&l!==0&&y.push("rotate(".concat(l,"deg)")),P(f)&&f!==1&&y.push("scaleX(".concat(f,")")),P(u)&&u!==1&&y.push("scaleY(".concat(u,")"));var _=y.length?y.join(" "):"none";return{WebkitTransform:_,msTransform:_,transform:_}}function gc(d){return B(d)?decodeURIComponent(d.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var vi=b.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(b.navigator.userAgent);function vo(d,l,f){var u=document.createElement("img");if(d.naturalWidth&&!vi)return f(d.naturalWidth,d.naturalHeight),u;var m=document.body||document.documentElement;return u.onload=function(){f(u.width,u.height),vi||m.removeChild(u)},G(l.inheritedAttributes,function(v){var y=d.getAttribute(v);y!==null&&u.setAttribute(v,y)}),u.src=d.src,vi||(u.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",m.appendChild(u)),u}function mn(d){switch(d){case 2:return re;case 3:return de;case 4:return ee;default:return""}}function vc(d){var l=s({},d),f=[];return G(d,function(u,m){delete l[m],G(l,function(v){var y=Math.abs(u.startX-v.startX),_=Math.abs(u.startY-v.startY),R=Math.abs(u.endX-v.endX),S=Math.abs(u.endY-v.endY),A=Math.sqrt(y*y+_*_),D=Math.sqrt(R*R+S*S),K=(D-A)/A;f.push(K)})}),f.sort(function(u,m){return Math.abs(u)<Math.abs(m)}),f[0]}function gn(d,l){var f=d.pageX,u=d.pageY,m={endX:f,endY:u};return l?m:s({timeStamp:Date.now(),startX:f,startY:u},m)}function bc(d){var l=0,f=0,u=0;return G(d,function(m){var v=m.startX,y=m.startY;l+=v,f+=y,u+=1}),l/=u,f/=u,{pageX:l,pageY:f}}var yc={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var l=this.element.ownerDocument,f=l.body||l.documentElement;this.body=f,this.scrollbarWidth=window.innerWidth-l.documentElement.clientWidth,this.initialBodyPaddingRight=f.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(f).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var l=this.options,f=this.parent,u;l.inline&&(u={width:Math.max(f.offsetWidth,l.minWidth),height:Math.max(f.offsetHeight,l.minHeight)},this.parentData=u),(this.fulled||!u)&&(u=this.containerData),this.viewerData=_e({},u)},renderViewer:function(){this.options.inline&&!this.fulled&&je(this.viewer,this.viewerData)},initList:function(){var l=this,f=this.element,u=this.options,m=this.list,v=[];m.innerHTML="",G(this.images,function(y,_){var R=y.src,S=y.alt||gc(R),A=l.getImageURL(y);if(R||A){var D=document.createElement("li"),K=document.createElement("img");G(u.inheritedAttributes,function(me){var fe=y.getAttribute(me);fe!==null&&K.setAttribute(me,fe)}),u.navbar&&(K.src=R||A),K.alt=S,K.setAttribute("data-original-url",A||R),D.setAttribute("data-index",_),D.setAttribute("data-viewer-action","view"),D.setAttribute("role","button"),u.keyboard&&D.setAttribute("tabindex",0),D.appendChild(K),m.appendChild(D),v.push(D)}}),this.items=v,G(v,function(y){var _=y.firstElementChild,R,S;gi(_,"filled",!0),u.loading&&F(y,ve),V(_,ie,R=function(D){Q(_,Me,S),u.loading&&X(y,ve),l.loadImage(D)},{once:!0}),V(_,Me,S=function(){Q(_,ie,R),u.loading&&X(y,ve)},{once:!0})}),u.transition&&V(f,Qe,function(){F(m,U)},{once:!0})},renderList:function(){var l=this.index,f=this.items[l];if(f){var u=f.nextElementSibling,m=parseInt(window.getComputedStyle(u||f).marginLeft,10),v=f.offsetWidth,y=v+m;je(this.list,_e({width:y*this.length-m},pn({translateX:(this.viewerData.width-v)/2-y*l})))}},resetList:function(){var l=this.list;l.innerHTML="",X(l,U),je(l,pn({translateX:0}))},initImage:function(l){var f=this,u=this.options,m=this.image,v=this.viewerData,y=this.footer.offsetHeight,_=v.width,R=Math.max(v.height-y,y),S=this.imageData||{},A;this.imageInitializing={abort:function(){A.onload=null}},A=vo(m,u,function(D,K){var me=D/K,fe=Math.max(0,Math.min(1,u.initialCoverage)),le=_,De=R;f.imageInitializing=!1,R*me>_?De=_/me:le=R*me,fe=P(fe)?fe:.9,le=Math.min(le*fe,D),De=Math.min(De*fe,K);var Be=(_-le)/2,Fe=(R-De)/2,se={left:Be,top:Fe,x:Be,y:Fe,width:le,height:De,oldRatio:1,ratio:le/D,aspectRatio:me,naturalWidth:D,naturalHeight:K},mt=_e({},se);u.rotatable&&(se.rotate=S.rotate||0,mt.rotate=0),u.scalable&&(se.scaleX=S.scaleX||1,se.scaleY=S.scaleY||1,mt.scaleX=1,mt.scaleY=1),f.imageData=se,f.initialImageData=mt,l&&l()})},renderImage:function(l){var f=this,u=this.image,m=this.imageData;if(je(u,_e({width:m.width,height:m.height,marginLeft:m.x,marginTop:m.y},pn(m))),l)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&et(u,U)){var v=function(){f.imageRendering=!1,l()};this.imageRendering={abort:function(){Q(u,Re,v)}},V(u,Re,v,{once:!0})}else l()},resetImage:function(){var l=this.image;l&&(this.viewing&&this.viewing.abort(),l.parentNode.removeChild(l),this.image=null,this.title.innerHTML="")}},wc={bind:function(){var l=this.options,f=this.viewer,u=this.canvas,m=this.element.ownerDocument;V(f,Ce,this.onClick=this.click.bind(this)),V(f,Ve,this.onDragStart=this.dragstart.bind(this)),V(u,Ge,this.onPointerDown=this.pointerdown.bind(this)),V(m,dt,this.onPointerMove=this.pointermove.bind(this)),V(m,Ft,this.onPointerUp=this.pointerup.bind(this)),V(m,ze,this.onKeyDown=this.keydown.bind(this)),V(window,Ot,this.onResize=this.resize.bind(this)),l.zoomable&&l.zoomOnWheel&&V(f,Vt,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),l.toggleOnDblclick&&V(u,Xe,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var l=this.options,f=this.viewer,u=this.canvas,m=this.element.ownerDocument;Q(f,Ce,this.onClick),Q(f,Ve,this.onDragStart),Q(u,Ge,this.onPointerDown),Q(m,dt,this.onPointerMove),Q(m,Ft,this.onPointerUp),Q(m,ze,this.onKeyDown),Q(window,Ot,this.onResize),l.zoomable&&l.zoomOnWheel&&Q(f,Vt,this.onWheel,{passive:!1,capture:!0}),l.toggleOnDblclick&&Q(u,Xe,this.onDblclick)}},xc={click:function(l){var f=this.options,u=this.imageData,m=l.target,v=mr(m,pr);switch(!v&&m.localName==="img"&&m.parentElement.localName==="li"&&(m=m.parentElement,v=mr(m,pr)),k&&l.isTrusted&&m===this.canvas&&clearTimeout(this.clickCanvasTimeout),v){case"mix":this.played?this.stop():f.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(mr(m,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(f.loop);break;case"play":this.play(f.fullscreen);break;case"next":this.next(f.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-u.scaleX||-1);break;case"flip-vertical":this.scaleY(-u.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(l){l.preventDefault(),this.viewed&&l.target===this.image&&(k&&l.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(l.isTrusted?l:l.detail&&l.detail.originalEvent))},load:function(){var l=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var f=this.element,u=this.options,m=this.image,v=this.index,y=this.viewerData;X(m,we),u.loading&&X(this.canvas,ve),m.style.cssText="height:0;"+"margin-left:".concat(y.width/2,"px;")+"margin-top:".concat(y.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){Dr(m,Ae,u.movable),Dr(m,U,u.transition),l.renderImage(function(){l.viewed=!0,l.viewing=!1,H(u.viewed)&&V(f,Qe,u.viewed,{once:!0}),pe(f,Qe,{originalImage:l.images[v],index:v,image:m},{cancelable:!1})})})},loadImage:function(l){var f=l.target,u=f.parentNode,m=u.offsetWidth||30,v=u.offsetHeight||50,y=!!mr(f,"filled");vo(f,this.options,function(_,R){var S=_/R,A=m,D=v;v*S>m?y?A=v*S:D=m/S:y?D=m/S:A=v*S,je(f,_e({width:A,height:D},pn({translateX:(m-A)/2,translateY:(v-D)/2})))})},keydown:function(l){var f=this.options;if(f.keyboard){var u=l.keyCode||l.which||l.charCode;switch(u){case 13:this.viewer.contains(l.target)&&this.click(l);break}if(this.fulled)switch(u){case 27:this.played?this.stop():f.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(f.loop);break;case 38:l.preventDefault(),this.zoom(f.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(f.loop);break;case 40:l.preventDefault(),this.zoom(-f.zoomRatio,!0);break;case 48:case 49:l.ctrlKey&&(l.preventDefault(),this.toggle());break}}},dragstart:function(l){l.target.localName==="img"&&l.preventDefault()},pointerdown:function(l){var f=this.options,u=this.pointers,m=l.buttons,v=l.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(l.type==="mousedown"||l.type==="pointerdown"&&l.pointerType==="mouse")&&(P(m)&&m!==1||P(v)&&v!==0||l.ctrlKey))){l.preventDefault(),l.changedTouches?G(l.changedTouches,function(_){u[_.identifier]=gn(_)}):u[l.pointerId||0]=gn(l);var y=f.movable?T:!1;f.zoomOnTouch&&f.zoomable&&Object.keys(u).length>1?y=L:f.slideOnTouch&&(l.pointerType==="touch"||l.type==="touchstart")&&this.isSwitchable()&&(y=C),f.transition&&(y===T||y===L)&&X(this.image,U),this.action=y}},pointermove:function(l){var f=this.pointers,u=this.action;!this.viewed||!u||(l.preventDefault(),l.changedTouches?G(l.changedTouches,function(m){_e(f[m.identifier]||{},gn(m,!0))}):_e(f[l.pointerId||0]||{},gn(l,!0)),this.change(l))},pointerup:function(l){var f=this,u=this.options,m=this.action,v=this.pointers,y;l.changedTouches?G(l.changedTouches,function(_){y=v[_.identifier],delete v[_.identifier]}):(y=v[l.pointerId||0],delete v[l.pointerId||0]),m&&(l.preventDefault(),u.transition&&(m===T||m===L)&&F(this.image,U),this.action=!1,k&&m!==L&&y&&Date.now()-y.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),u.toggleOnDblclick&&this.viewed&&l.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){pe(f.image,Xe,{originalEvent:l})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){f.imageClicked=!1},500)):(this.imageClicked=!1,u.backdrop&&u.backdrop!=="static"&&l.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){pe(f.canvas,Ce,{originalEvent:l})},50)))))},resize:function(){var l=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){l.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}G(this.player.getElementsByTagName("img"),function(f){V(f,ie,l.loadImage.bind(l),{once:!0}),pe(f,ie)})}},wheel:function(l){var f=this;if(this.viewed&&(l.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){f.wheeling=!1},50);var u=Number(this.options.zoomRatio)||.1,m=1;l.deltaY?m=l.deltaY>0?1:-1:l.wheelDelta?m=-l.wheelDelta/120:l.detail&&(m=l.detail>0?1:-1),this.zoom(-m*u,!0,null,l)}}},Ec={show:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,f=this.element,u=this.options;if(u.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(l),this;if(H(u.show)&&V(f,Ct,u.show,{once:!0}),pe(f,Ct)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var m=this.viewer;if(X(m,Z),m.setAttribute("role","dialog"),m.setAttribute("aria-labelledby",this.title.id),m.setAttribute("aria-modal",!0),m.removeAttribute("aria-hidden"),u.transition&&!l){var v=this.shown.bind(this);this.transitioning={abort:function(){Q(m,Re,v),X(m,z)}},F(m,U),m.initialOffsetWidth=m.offsetWidth,V(m,Re,v,{once:!0}),F(m,z)}else F(m,z),this.shown();return this},hide:function(){var l=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,u=this.element,m=this.options;if(m.inline||this.hiding||!(this.isShown||this.showing))return this;if(H(m.hide)&&V(u,zt,m.hide,{once:!0}),pe(u,zt)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var v=this.viewer,y=this.image,_=function(){X(v,z),l.hidden()};if(m.transition&&!f){var R=function(D){D&&D.target===v&&(Q(v,Re,R),l.hidden())},S=function(){et(v,U)?(V(v,Re,R),X(v,z)):_()};this.transitioning={abort:function(){l.viewed&&et(y,U)?Q(y,Re,S):et(v,U)&&Q(v,Re,R)}},this.viewed&&et(y,U)?(V(y,Re,S,{once:!0}),this.zoomTo(0,!1,null,null,!0)):S()}else _();return this},view:function(){var l=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(f=Number(f)||0,this.hiding||this.played||f<0||f>=this.length||this.viewed&&f===this.index)return this;if(!this.isShown)return this.index=f,this.show();this.viewing&&this.viewing.abort();var u=this.element,m=this.options,v=this.title,y=this.canvas,_=this.items[f],R=_.querySelector("img"),S=mr(R,"originalUrl"),A=R.getAttribute("alt"),D=document.createElement("img");if(G(m.inheritedAttributes,function(De){var Be=R.getAttribute(De);Be!==null&&D.setAttribute(De,Be)}),D.src=S,D.alt=A,H(m.view)&&V(u,Je,m.view,{once:!0}),pe(u,Je,{originalImage:this.images[f],index:f,image:D})===!1||!this.isShown||this.hiding||this.played)return this;var K=this.items[this.index];K&&(X(K,N),K.removeAttribute("aria-selected")),F(_,N),_.setAttribute("aria-selected",!0),m.focus&&_.focus(),this.image=D,this.viewed=!1,this.index=f,this.imageData={},F(D,we),m.loading&&F(y,ve),y.innerHTML="",y.appendChild(D),this.renderList(),v.innerHTML="";var me=function(){var Be=l.imageData,Fe=Array.isArray(m.title)?m.title[1]:m.title;v.innerHTML=Rr(H(Fe)?Fe.call(l,D,Be):"".concat(A," (").concat(Be.naturalWidth," \xD7 ").concat(Be.naturalHeight,")"))},fe,le;return V(u,Qe,me,{once:!0}),this.viewing={abort:function(){Q(u,Qe,me),D.complete?l.imageRendering?l.imageRendering.abort():l.imageInitializing&&l.imageInitializing.abort():(D.src="",Q(D,ie,fe),l.timeout&&clearTimeout(l.timeout))}},D.complete?this.load():(V(D,ie,fe=function(){Q(D,Me,le),l.load()},{once:!0}),V(D,Me,le=function(){Q(D,ie,fe),l.timeout&&(clearTimeout(l.timeout),l.timeout=!1),X(D,we),m.loading&&X(l.canvas,ve)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){X(D,we),l.timeout=!1},1e3)),this},prev:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,f=this.index-1;return f<0&&(f=l?this.length-1:0),this.view(f),this},next:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,f=this.length-1,u=this.index+1;return u>f&&(u=l?0:f),this.view(u),this},move:function(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l,u=this.imageData;return this.moveTo(ue(l)?l:u.x+Number(l),ue(f)?f:u.y+Number(f)),this},moveTo:function(l){var f=this,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,v=this.element,y=this.options,_=this.imageData;if(l=Number(l),u=Number(u),this.viewed&&!this.played&&y.movable){var R=_.x,S=_.y,A=!1;if(P(l)?A=!0:l=R,P(u)?A=!0:u=S,A){if(H(y.move)&&V(v,lt,y.move,{once:!0}),pe(v,lt,{x:l,y:u,oldX:R,oldY:S,originalEvent:m})===!1)return this;_.x=l,_.y=u,_.left=l,_.top=u,this.moving=!0,this.renderImage(function(){f.moving=!1,H(y.moved)&&V(v,Mt,y.moved,{once:!0}),pe(v,Mt,{x:l,y:u,oldX:R,oldY:S,originalEvent:m},{cancelable:!1})})}}return this},rotate:function(l){return this.rotateTo((this.imageData.rotate||0)+Number(l)),this},rotateTo:function(l){var f=this,u=this.element,m=this.options,v=this.imageData;if(l=Number(l),P(l)&&this.viewed&&!this.played&&m.rotatable){var y=v.rotate;if(H(m.rotate)&&V(u,Ht,m.rotate,{once:!0}),pe(u,Ht,{degree:l,oldDegree:y})===!1)return this;v.rotate=l,this.rotating=!0,this.renderImage(function(){f.rotating=!1,H(m.rotated)&&V(u,Wt,m.rotated,{once:!0}),pe(u,Wt,{degree:l,oldDegree:y},{cancelable:!1})})}return this},scaleX:function(l){return this.scale(l,this.imageData.scaleY),this},scaleY:function(l){return this.scale(this.imageData.scaleX,l),this},scale:function(l){var f=this,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l,m=this.element,v=this.options,y=this.imageData;if(l=Number(l),u=Number(u),this.viewed&&!this.played&&v.scalable){var _=y.scaleX,R=y.scaleY,S=!1;if(P(l)?S=!0:l=_,P(u)?S=!0:u=R,S){if(H(v.scale)&&V(m,qt,v.scale,{once:!0}),pe(m,qt,{scaleX:l,scaleY:u,oldScaleX:_,oldScaleY:R})===!1)return this;y.scaleX=l,y.scaleY=u,this.scaling=!0,this.renderImage(function(){f.scaling=!1,H(v.scaled)&&V(m,Ut,v.scaled,{once:!0}),pe(m,Ut,{scaleX:l,scaleY:u,oldScaleX:_,oldScaleY:R},{cancelable:!1})})}}return this},zoom:function(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,v=this.imageData;return l=Number(l),l<0?l=1/(1-l):l=1+l,this.zoomTo(v.width*l/v.naturalWidth,f,u,m),this},zoomTo:function(l){var f=this,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,_=this.element,R=this.options,S=this.pointers,A=this.imageData,D=A.x,K=A.y,me=A.width,fe=A.height,le=A.naturalWidth,De=A.naturalHeight;if(l=Math.max(0,l),P(l)&&this.viewed&&!this.played&&(y||R.zoomable)){if(!y){var Be=Math.max(.01,R.minZoomRatio),Fe=Math.min(100,R.maxZoomRatio);l=Math.min(Math.max(l,Be),Fe)}if(v)switch(v.type){case"wheel":R.zoomRatio>=.055&&l>.95&&l<1.05&&(l=1);break;case"pointermove":case"touchmove":case"mousemove":l>.99&&l<1.01&&(l=1);break}var se=le*l,mt=De*l,Kt=se-me,ct=mt-fe,Yt=A.ratio;if(H(R.zoom)&&V(_,un,R.zoom,{once:!0}),pe(_,un,{ratio:l,oldRatio:Yt,originalEvent:v})===!1)return this;if(this.zooming=!0,v){var Ir=mc(this.viewer),gr=S&&Object.keys(S).length>0?bc(S):{pageX:v.pageX,pageY:v.pageY};A.x-=Kt*((gr.pageX-Ir.left-D)/me),A.y-=ct*((gr.pageY-Ir.top-K)/fe)}else pt(m)&&P(m.x)&&P(m.y)?(A.x-=Kt*((m.x-D)/me),A.y-=ct*((m.y-K)/fe)):(A.x-=Kt/2,A.y-=ct/2);A.left=A.x,A.top=A.y,A.width=se,A.height=mt,A.oldRatio=Yt,A.ratio=l,this.renderImage(function(){f.zooming=!1,H(R.zoomed)&&V(_,fn,R.zoomed,{once:!0}),pe(_,fn,{ratio:l,oldRatio:Yt,originalEvent:v},{cancelable:!1})}),u&&this.tooltip()}return this},play:function(){var l=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var u=this.element,m=this.options;if(H(m.play)&&V(u,hn,m.play,{once:!0}),pe(u,hn)===!1)return this;var v=this.player,y=this.loadImage.bind(this),_=[],R=0,S=0;if(this.played=!0,this.onLoadWhenPlay=y,f&&this.requestFullscreen(f),F(v,ne),G(this.items,function(K,me){var fe=K.querySelector("img"),le=document.createElement("img");le.src=mr(fe,"originalUrl"),le.alt=fe.getAttribute("alt"),le.referrerPolicy=fe.referrerPolicy,R+=1,F(le,$),Dr(le,U,m.transition),et(K,N)&&(F(le,z),S=me),_.push(le),V(le,ie,y,{once:!0}),v.appendChild(le)}),P(m.interval)&&m.interval>0){var A=function(){clearTimeout(l.playing.timeout),X(_[S],z),S-=1,S=S>=0?S:R-1,F(_[S],z),l.playing.timeout=setTimeout(A,m.interval)},D=function(){clearTimeout(l.playing.timeout),X(_[S],z),S+=1,S=S<R?S:0,F(_[S],z),l.playing.timeout=setTimeout(D,m.interval)};R>1&&(this.playing={prev:A,next:D,timeout:setTimeout(D,m.interval)})}return this},stop:function(){var l=this;if(!this.played)return this;var f=this.element,u=this.options;if(H(u.stop)&&V(f,dn,u.stop,{once:!0}),pe(f,dn)===!1)return this;var m=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,G(m.getElementsByTagName("img"),function(v){Q(v,ie,l.onLoadWhenPlay)}),X(m,ne),m.innerHTML="",this.exitFullscreen(),this},full:function(){var l=this,f=this.options,u=this.viewer,m=this.image,v=this.list;return!this.isShown||this.played||this.fulled||!f.inline?this:(this.fulled=!0,this.open(),F(this.button,W),f.transition&&(X(v,U),this.viewed&&X(m,U)),F(u,O),u.setAttribute("role","dialog"),u.setAttribute("aria-labelledby",this.title.id),u.setAttribute("aria-modal",!0),u.removeAttribute("style"),je(u,{zIndex:f.zIndex}),f.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=_e({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){l.renderImage(function(){f.transition&&setTimeout(function(){F(m,U),F(v,U)},0)})}),this)},exit:function(){var l=this,f=this.options,u=this.viewer,m=this.image,v=this.list;return!this.isShown||this.played||!this.fulled||!f.inline?this:(this.fulled=!1,this.close(),X(this.button,W),f.transition&&(X(v,U),this.viewed&&X(m,U)),f.focus&&this.clearEnforceFocus(),u.removeAttribute("role"),u.removeAttribute("aria-labelledby"),u.removeAttribute("aria-modal"),X(u,O),je(u,{zIndex:f.zIndexInline}),this.viewerData=_e({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){l.renderImage(function(){f.transition&&setTimeout(function(){F(m,U),F(v,U)},0)})}),this)},tooltip:function(){var l=this,f=this.options,u=this.tooltipBox,m=this.imageData;return!this.viewed||this.played||!f.tooltip?this:(u.textContent="".concat(Math.round(m.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):f.transition?(this.fading&&pe(u,Re),F(u,ne),F(u,$),F(u,U),u.removeAttribute("aria-hidden"),u.initialOffsetWidth=u.offsetWidth,F(u,z)):(F(u,ne),u.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){f.transition?(V(u,Re,function(){X(u,ne),X(u,$),X(u,U),u.setAttribute("aria-hidden",!0),l.fading=!1},{once:!0}),X(u,z),l.fading=!0):(X(u,ne),u.setAttribute("aria-hidden",!0)),l.tooltipping=!1},1e3),this)},toggle:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,l):this.zoomTo(1,!0,null,l),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=_e({},this.initialImageData),this.renderImage()),this},update:function(){var l=this,f=this.element,u=this.options,m=this.isImg;if(m&&!f.parentNode)return this.destroy();var v=[];if(G(m?[f]:f.querySelectorAll("img"),function(S){H(u.filter)?u.filter.call(l,S)&&v.push(S):l.getImageURL(S)&&v.push(S)}),!v.length)return this;if(this.images=v,this.length=v.length,this.ready){var y=[];if(G(this.items,function(S,A){var D=S.querySelector("img"),K=v[A];K&&D?(K.src!==D.src||K.alt!==D.alt)&&y.push(A):y.push(A)}),je(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var _=y.indexOf(this.index);if(_>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-_,this.length-1),0));else{var R=this.items[this.index];F(R,N),R.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var l=this.element,f=this.options;return l[E]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),f.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):f.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),f.inline||Q(l,Ce,this.onStart),l[E]=void 0,this):this}},Tc={getImageURL:function(l){var f=this.options.url;return B(f)?f=l.getAttribute(f):H(f)?f=f.call(this,l):f="",f},enforceFocus:function(){var l=this;this.clearEnforceFocus(),V(document,at,this.onFocusin=function(f){var u=l.viewer,m=f.target;if(!(m===document||m===u||u.contains(m))){for(;m;){if(m.getAttribute("tabindex")!==null||m.getAttribute("aria-modal")==="true")return;m=m.parentElement}u.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(Q(document,at,this.onFocusin),this.onFocusin=null)},open:function(){var l=this.body;F(l,xe),this.scrollbarWidth>0&&(l.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var l=this.body;X(l,xe),this.scrollbarWidth>0&&(l.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var l=this.element,f=this.options,u=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,f.focus&&(u.focus(),this.enforceFocus()),H(f.shown)&&V(l,jt,f.shown,{once:!0}),pe(l,jt)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var l=this.element,f=this.options,u=this.viewer;f.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),F(u,Z),u.removeAttribute("role"),u.removeAttribute("aria-labelledby"),u.removeAttribute("aria-modal"),u.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(H(f.hidden)&&V(l,He,f.hidden,{once:!0}),pe(l,He,null,{cancelable:!1}))},requestFullscreen:function(l){var f=this.element.ownerDocument;if(this.fulled&&!(f.fullscreenElement||f.webkitFullscreenElement||f.mozFullScreenElement||f.msFullscreenElement)){var u=f.documentElement;u.requestFullscreen?pt(l)?u.requestFullscreen(l):u.requestFullscreen():u.webkitRequestFullscreen?u.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):u.mozRequestFullScreen?u.mozRequestFullScreen():u.msRequestFullscreen&&u.msRequestFullscreen()}},exitFullscreen:function(){var l=this.element.ownerDocument;this.fulled&&(l.fullscreenElement||l.webkitFullscreenElement||l.mozFullScreenElement||l.msFullscreenElement)&&(l.exitFullscreen?l.exitFullscreen():l.webkitExitFullscreen?l.webkitExitFullscreen():l.mozCancelFullScreen?l.mozCancelFullScreen():l.msExitFullscreen&&l.msExitFullscreen())},change:function(l){var f=this.options,u=this.pointers,m=u[Object.keys(u)[0]];if(m){var v=m.endX-m.startX,y=m.endY-m.startY;switch(this.action){case T:(v!==0||y!==0)&&(this.pointerMoved=!0,this.move(v,y,l));break;case L:this.zoom(vc(u),!1,null,l);break;case C:{this.action="switched";var _=Math.abs(v);_>1&&_>Math.abs(y)&&(this.pointers={},v>1?this.prev(f.loop):v<-1&&this.next(f.loop));break}}G(u,function(R){R.startX=R.endX,R.startY=R.endY})}},isSwitchable:function(){var l=this.imageData,f=this.viewerData;return this.length>1&&l.x>=0&&l.y>=0&&l.width<=f.width&&l.height<=f.height}},kc=b.Viewer,Ac=(function(d){return function(){return d+=1,d}})(-1),bo=(function(){function d(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t(this,d),!l||l.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=l,this.options=_e({},h,pt(f)&&f),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=Ac(),this.init()}return r(d,[{key:"init",value:function(){var f=this,u=this.element,m=this.options;if(!u[E]){u[E]=this,m.focus&&!m.keyboard&&(m.focus=!1);var v=u.localName==="img",y=[];if(G(v?[u]:u.querySelectorAll("img"),function(S){H(m.filter)?m.filter.call(f,S)&&y.push(S):f.getImageURL(S)&&y.push(S)}),this.isImg=v,this.length=y.length,this.images=y,this.initBody(),ue(document.createElement(E).style.transition)&&(m.transition=!1),m.inline){var _=0,R=function(){if(_+=1,_===f.length){var A;f.initializing=!1,f.delaying={abort:function(){clearTimeout(A)}},A=setTimeout(function(){f.delaying=!1,f.build()},0)}};this.initializing={abort:function(){G(y,function(A){A.complete||(Q(A,ie,R),Q(A,Me,R))})}},G(y,function(S){if(S.complete)R();else{var A,D;V(S,ie,A=function(){Q(S,Me,D),R()},{once:!0}),V(S,Me,D=function(){Q(S,ie,A),R()},{once:!0})}})}else V(u,Ce,this.onStart=function(S){var A=S.target;A.localName==="img"&&(!H(m.filter)||m.filter.call(f,A))&&f.view(f.images.indexOf(A))})}}},{key:"build",value:function(){if(!this.ready){var f=this.element,u=this.options,m=f.parentNode,v=document.createElement("div");v.innerHTML=p;var y=v.querySelector(".".concat(E,"-container")),_=y.querySelector(".".concat(E,"-title")),R=y.querySelector(".".concat(E,"-toolbar")),S=y.querySelector(".".concat(E,"-navbar")),A=y.querySelector(".".concat(E,"-button")),D=y.querySelector(".".concat(E,"-canvas"));if(this.parent=m,this.viewer=y,this.title=_,this.toolbar=R,this.navbar=S,this.button=A,this.canvas=D,this.footer=y.querySelector(".".concat(E,"-footer")),this.tooltipBox=y.querySelector(".".concat(E,"-tooltip")),this.player=y.querySelector(".".concat(E,"-player")),this.list=y.querySelector(".".concat(E,"-list")),y.id="".concat(E).concat(this.id),_.id="".concat(E,"Title").concat(this.id),F(_,u.title?mn(Array.isArray(u.title)?u.title[0]:u.title):Z),F(S,u.navbar?mn(u.navbar):Z),Dr(A,Z,!u.button),u.keyboard&&A.setAttribute("tabindex",0),u.backdrop&&(F(y,"".concat(E,"-backdrop")),!u.inline&&u.backdrop!=="static"&&gi(D,pr,"hide")),B(u.className)&&u.className&&u.className.split(x).forEach(function(se){F(y,se)}),u.toolbar){var K=document.createElement("ul"),me=pt(u.toolbar),fe=I.slice(0,3),le=I.slice(7,9),De=I.slice(9);me||F(R,mn(u.toolbar)),G(me?u.toolbar:I,function(se,mt){var Kt=me&&pt(se),ct=me?mi(mt):se,Yt=Kt&&!ue(se.show)?se.show:se;if(!(!Yt||!u.zoomable&&fe.indexOf(ct)!==-1||!u.rotatable&&le.indexOf(ct)!==-1||!u.scalable&&De.indexOf(ct)!==-1)){var Ir=Kt&&!ue(se.size)?se.size:se,gr=Kt&&!ue(se.click)?se.click:se,gt=document.createElement("li");u.keyboard&&gt.setAttribute("tabindex",0),gt.setAttribute("role","button"),F(gt,"".concat(E,"-").concat(ct)),H(gr)||gi(gt,pr,ct),P(Yt)&&F(gt,mn(Yt)),["small","large"].indexOf(Ir)!==-1?F(gt,"".concat(E,"-").concat(Ir)):ct==="play"&&F(gt,"".concat(E,"-large")),H(gr)&&V(gt,Ce,gr),K.appendChild(gt)}}),R.appendChild(K)}else F(R,Z);if(!u.rotatable){var Be=R.querySelectorAll('li[class*="rotate"]');F(Be,we),G(Be,function(se){R.appendChild(se)})}if(u.inline)F(A,j),je(y,{zIndex:u.zIndexInline}),window.getComputedStyle(m).position==="static"&&je(m,{position:"relative"}),m.insertBefore(y,f.nextSibling);else{F(A,g),F(y,O),F(y,$),F(y,Z),je(y,{zIndex:u.zIndex});var Fe=u.container;B(Fe)&&(Fe=f.ownerDocument.querySelector(Fe)),Fe||(Fe=this.body),Fe.appendChild(y)}if(u.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,H(u.ready)&&V(f,St,u.ready,{once:!0}),pe(f,St)===!1){this.ready=!1;return}this.ready&&u.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=kc,d}},{key:"setDefaults",value:function(f){_e(h,pt(f)&&f)}}])})();return _e(bo.prototype,yc,wc,xc,Ec,Tc),bo}))});var Ti=!1,ki=!1,Gt=[],Ai=-1;function Ic(t){Pc(t)}function Pc(t){Gt.includes(t)||Gt.push(t),$c()}function Nc(t){let e=Gt.indexOf(t);e!==-1&&e>Ai&&Gt.splice(e,1)}function $c(){!ki&&!Ti&&(Ti=!0,queueMicrotask(Bc))}function Bc(){Ti=!1,ki=!0;for(let t=0;t<Gt.length;t++)Gt[t](),Ai=t;Gt.length=0,Ai=-1,ki=!1}var yr,rr,wr,Io,_i=!0;function Fc(t){_i=!1,t(),_i=!0}function Vc(t){yr=t.reactive,wr=t.release,rr=e=>t.effect(e,{scheduler:r=>{_i?Ic(r):r()}}),Io=t.raw}function wo(t){rr=t}function jc(t){let e=()=>{};return[n=>{let i=rr(n);return t._x_effects||(t._x_effects=new Set,t._x_runEffects=()=>{t._x_effects.forEach(s=>s())}),t._x_effects.add(i),e=()=>{i!==void 0&&(t._x_effects.delete(i),wr(i))},i},()=>{e()}]}function Po(t,e){let r=!0,n,i=rr(()=>{let s=t();JSON.stringify(s),r?n=s:queueMicrotask(()=>{e(s,n),n=s}),r=!1});return()=>wr(i)}var No=[],$o=[],Bo=[];function zc(t){Bo.push(t)}function Vi(t,e){typeof e=="function"?(t._x_cleanups||(t._x_cleanups=[]),t._x_cleanups.push(e)):(e=t,$o.push(e))}function Fo(t){No.push(t)}function Vo(t,e,r){t._x_attributeCleanups||(t._x_attributeCleanups={}),t._x_attributeCleanups[e]||(t._x_attributeCleanups[e]=[]),t._x_attributeCleanups[e].push(r)}function jo(t,e){t._x_attributeCleanups&&Object.entries(t._x_attributeCleanups).forEach(([r,n])=>{(e===void 0||e.includes(r))&&(n.forEach(i=>i()),delete t._x_attributeCleanups[r])})}function Hc(t){for(t._x_effects?.forEach(Nc);t._x_cleanups?.length;)t._x_cleanups.pop()()}var ji=new MutationObserver(qi),zi=!1;function Hi(){ji.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),zi=!0}function zo(){Wc(),ji.disconnect(),zi=!1}var Pr=[];function Wc(){let t=ji.takeRecords();Pr.push(()=>t.length>0&&qi(t));let e=Pr.length;queueMicrotask(()=>{if(Pr.length===e)for(;Pr.length>0;)Pr.shift()()})}function ce(t){if(!zi)return t();zo();let e=t();return Hi(),e}var Wi=!1,kn=[];function qc(){Wi=!0}function Uc(){Wi=!1,qi(kn),kn=[]}function qi(t){if(Wi){kn=kn.concat(t);return}let e=[],r=new Set,n=new Map,i=new Map;for(let s=0;s<t.length;s++)if(!t[s].target._x_ignoreMutationObserver&&(t[s].type==="childList"&&(t[s].removedNodes.forEach(o=>{o.nodeType===1&&o._x_marker&&r.add(o)}),t[s].addedNodes.forEach(o=>{if(o.nodeType===1){if(r.has(o)){r.delete(o);return}o._x_marker||e.push(o)}})),t[s].type==="attributes")){let o=t[s].target,a=t[s].attributeName,c=t[s].oldValue,h=()=>{n.has(o)||n.set(o,[]),n.get(o).push({name:a,value:o.getAttribute(a)})},p=()=>{i.has(o)||i.set(o,[]),i.get(o).push(a)};o.hasAttribute(a)&&c===null?h():o.hasAttribute(a)?(p(),h()):p()}i.forEach((s,o)=>{jo(o,s)}),n.forEach((s,o)=>{No.forEach(a=>a(o,s))});for(let s of r)e.some(o=>o.contains(s))||$o.forEach(o=>o(s));for(let s of e)s.isConnected&&Bo.forEach(o=>o(s));e=null,r=null,n=null,i=null}function Ho(t){return Hr(vr(t))}function zr(t,e,r){return t._x_dataStack=[e,...vr(r||t)],()=>{t._x_dataStack=t._x_dataStack.filter(n=>n!==e)}}function vr(t){return t._x_dataStack?t._x_dataStack:typeof ShadowRoot=="function"&&t instanceof ShadowRoot?vr(t.host):t.parentNode?vr(t.parentNode):[]}function Hr(t){return new Proxy({objects:t},Kc)}var Kc={ownKeys({objects:t}){return Array.from(new Set(t.flatMap(e=>Object.keys(e))))},has({objects:t},e){return e==Symbol.unscopables?!1:t.some(r=>Object.prototype.hasOwnProperty.call(r,e)||Reflect.has(r,e))},get({objects:t},e,r){return e=="toJSON"?Yc:Reflect.get(t.find(n=>Reflect.has(n,e))||{},e,r)},set({objects:t},e,r,n){let i=t.find(o=>Object.prototype.hasOwnProperty.call(o,e))||t[t.length-1],s=Object.getOwnPropertyDescriptor(i,e);return s?.set&&s?.get?s.set.call(n,r)||!0:Reflect.set(i,e,r)}};function Yc(){return Reflect.ownKeys(this).reduce((e,r)=>(e[r]=Reflect.get(this,r),e),{})}function Wo(t){let e=n=>typeof n=="object"&&!Array.isArray(n)&&n!==null,r=(n,i="")=>{Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([s,{value:o,enumerable:a}])=>{if(a===!1||o===void 0||typeof o=="object"&&o!==null&&o.__v_skip)return;let c=i===""?s:`${i}.${s}`;typeof o=="object"&&o!==null&&o._x_interceptor?n[s]=o.initialize(t,c,s):e(o)&&o!==n&&!(o instanceof Element)&&r(o,c)})};return r(t)}function qo(t,e=()=>{}){let r={initialValue:void 0,_x_interceptor:!0,initialize(n,i,s){return t(this.initialValue,()=>Xc(n,i),o=>Oi(n,i,o),i,s)}};return e(r),n=>{if(typeof n=="object"&&n!==null&&n._x_interceptor){let i=r.initialize.bind(r);r.initialize=(s,o,a)=>{let c=n.initialize(s,o,a);return r.initialValue=c,i(s,o,a)}}else r.initialValue=n;return r}}function Xc(t,e){return e.split(".").reduce((r,n)=>r[n],t)}function Oi(t,e,r){if(typeof e=="string"&&(e=e.split(".")),e.length===1)t[e[0]]=r;else{if(e.length===0)throw error;return t[e[0]]||(t[e[0]]={}),Oi(t[e[0]],e.slice(1),r)}}var Uo={};function rt(t,e){Uo[t]=e}function Si(t,e){let r=Zc(e);return Object.entries(Uo).forEach(([n,i])=>{Object.defineProperty(t,`$${n}`,{get(){return i(e,r)},enumerable:!1})}),t}function Zc(t){let[e,r]=Jo(t),n={interceptor:qo,...e};return Vi(t,r),n}function Gc(t,e,r,...n){try{return r(...n)}catch(i){jr(i,t,e)}}function jr(t,e,r=void 0){t=Object.assign(t??{message:"No error message given."},{el:e,expression:r}),console.warn(`Alpine Expression Error: ${t.message}

${r?'Expression: "'+r+`"

`:""}`,e),setTimeout(()=>{throw t},0)}var En=!0;function Ko(t){let e=En;En=!1;let r=t();return En=e,r}function Jt(t,e,r={}){let n;return Ie(t,e)(i=>n=i,r),n}function Ie(...t){return Yo(...t)}var Yo=Xo;function Jc(t){Yo=t}function Xo(t,e){let r={};Si(r,t);let n=[r,...vr(t)],i=typeof e=="function"?Qc(n,e):tu(n,e,t);return Gc.bind(null,t,e,i)}function Qc(t,e){return(r=()=>{},{scope:n={},params:i=[]}={})=>{let s=e.apply(Hr([n,...t]),i);An(r,s)}}var bi={};function eu(t,e){if(bi[t])return bi[t];let r=Object.getPrototypeOf(async function(){}).constructor,n=/^[\n\s]*if.*\(.*\)/.test(t.trim())||/^(let|const)\s/.test(t.trim())?`(async()=>{ ${t} })()`:t,s=(()=>{try{let o=new r(["__self","scope"],`with (scope) { __self.result = ${n} }; __self.finished = true; return __self.result;`);return Object.defineProperty(o,"name",{value:`[Alpine] ${t}`}),o}catch(o){return jr(o,e,t),Promise.resolve()}})();return bi[t]=s,s}function tu(t,e,r){let n=eu(e,r);return(i=()=>{},{scope:s={},params:o=[]}={})=>{n.result=void 0,n.finished=!1;let a=Hr([s,...t]);if(typeof n=="function"){let c=n(n,a).catch(h=>jr(h,r,e));n.finished?(An(i,n.result,a,o,r),n.result=void 0):c.then(h=>{An(i,h,a,o,r)}).catch(h=>jr(h,r,e)).finally(()=>n.result=void 0)}}}function An(t,e,r,n,i){if(En&&typeof e=="function"){let s=e.apply(r,n);s instanceof Promise?s.then(o=>An(t,o,r,n)).catch(o=>jr(o,i,e)):t(s)}else typeof e=="object"&&e instanceof Promise?e.then(s=>t(s)):t(e)}var Ui="x-";function xr(t=""){return Ui+t}function ru(t){Ui=t}var _n={};function be(t,e){return _n[t]=e,{before(r){if(!_n[r]){console.warn(String.raw`Cannot find directive \`${r}\`. \`${t}\` will use the default order of execution`);return}let n=Zt.indexOf(r);Zt.splice(n>=0?n:Zt.indexOf("DEFAULT"),0,t)}}}function nu(t){return Object.keys(_n).includes(t)}function Ki(t,e,r){if(e=Array.from(e),t._x_virtualDirectives){let s=Object.entries(t._x_virtualDirectives).map(([a,c])=>({name:a,value:c})),o=Zo(s);s=s.map(a=>o.find(c=>c.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),e=e.concat(s)}let n={};return e.map(ta((s,o)=>n[s]=o)).filter(na).map(ou(n,r)).sort(au).map(s=>su(t,s))}function Zo(t){return Array.from(t).map(ta()).filter(e=>!na(e))}var Ci=!1,Br=new Map,Go=Symbol();function iu(t){Ci=!0;let e=Symbol();Go=e,Br.set(e,[]);let r=()=>{for(;Br.get(e).length;)Br.get(e).shift()();Br.delete(e)},n=()=>{Ci=!1,r()};t(r),n()}function Jo(t){let e=[],r=a=>e.push(a),[n,i]=jc(t);return e.push(i),[{Alpine:Wr,effect:n,cleanup:r,evaluateLater:Ie.bind(Ie,t),evaluate:Jt.bind(Jt,t)},()=>e.forEach(a=>a())]}function su(t,e){let r=()=>{},n=_n[e.type]||r,[i,s]=Jo(t);Vo(t,e.original,s);let o=()=>{t._x_ignore||t._x_ignoreSelf||(n.inline&&n.inline(t,e,i),n=n.bind(n,t,e,i),Ci?Br.get(Go).push(n):n())};return o.runCleanups=s,o}var Qo=(t,e)=>({name:r,value:n})=>(r.startsWith(t)&&(r=r.replace(t,e)),{name:r,value:n}),ea=t=>t;function ta(t=()=>{}){return({name:e,value:r})=>{let{name:n,value:i}=ra.reduce((s,o)=>o(s),{name:e,value:r});return n!==e&&t(n,e),{name:n,value:i}}}var ra=[];function Yi(t){ra.push(t)}function na({name:t}){return ia().test(t)}var ia=()=>new RegExp(`^${Ui}([^:^.]+)\\b`);function ou(t,e){return({name:r,value:n})=>{let i=r.match(ia()),s=r.match(/:([a-zA-Z0-9\-_:]+)/),o=r.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=e||t[r]||r;return{type:i?i[1]:null,value:s?s[1]:null,modifiers:o.map(c=>c.replace(".","")),expression:n,original:a}}}var Mi="DEFAULT",Zt=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",Mi,"teleport"];function au(t,e){let r=Zt.indexOf(t.type)===-1?Mi:t.type,n=Zt.indexOf(e.type)===-1?Mi:e.type;return Zt.indexOf(r)-Zt.indexOf(n)}function Fr(t,e,r={}){t.dispatchEvent(new CustomEvent(e,{detail:r,bubbles:!0,composed:!0,cancelable:!0}))}function tr(t,e){if(typeof ShadowRoot=="function"&&t instanceof ShadowRoot){Array.from(t.children).forEach(i=>tr(i,e));return}let r=!1;if(e(t,()=>r=!0),r)return;let n=t.firstElementChild;for(;n;)tr(n,e,!1),n=n.nextElementSibling}function We(t,...e){console.warn(`Alpine Warning: ${t}`,...e)}var xo=!1;function lu(){xo&&We("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),xo=!0,document.body||We("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),Fr(document,"alpine:init"),Fr(document,"alpine:initializing"),Hi(),zc(e=>vt(e,tr)),Vi(e=>Tr(e)),Fo((e,r)=>{Ki(e,r).forEach(n=>n())});let t=e=>!Sn(e.parentElement,!0);Array.from(document.querySelectorAll(aa().join(","))).filter(t).forEach(e=>{vt(e)}),Fr(document,"alpine:initialized"),setTimeout(()=>{hu()})}var Xi=[],sa=[];function oa(){return Xi.map(t=>t())}function aa(){return Xi.concat(sa).map(t=>t())}function la(t){Xi.push(t)}function ca(t){sa.push(t)}function Sn(t,e=!1){return Er(t,r=>{if((e?aa():oa()).some(i=>r.matches(i)))return!0})}function Er(t,e){if(t){if(e(t))return t;if(t._x_teleportBack&&(t=t._x_teleportBack),!!t.parentElement)return Er(t.parentElement,e)}}function cu(t){return oa().some(e=>t.matches(e))}var ua=[];function uu(t){ua.push(t)}var fu=1;function vt(t,e=tr,r=()=>{}){Er(t,n=>n._x_ignore)||iu(()=>{e(t,(n,i)=>{n._x_marker||(r(n,i),ua.forEach(s=>s(n,i)),Ki(n,n.attributes).forEach(s=>s()),n._x_ignore||(n._x_marker=fu++),n._x_ignore&&i())})})}function Tr(t,e=tr){e(t,r=>{Hc(r),jo(r),delete r._x_marker})}function hu(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([e,r,n])=>{nu(r)||n.some(i=>{if(document.querySelector(i))return We(`found "${i}", but missing ${e} plugin`),!0})})}var Li=[],Zi=!1;function Gi(t=()=>{}){return queueMicrotask(()=>{Zi||setTimeout(()=>{Ri()})}),new Promise(e=>{Li.push(()=>{t(),e()})})}function Ri(){for(Zi=!1;Li.length;)Li.shift()()}function du(){Zi=!0}function Ji(t,e){return Array.isArray(e)?Eo(t,e.join(" ")):typeof e=="object"&&e!==null?pu(t,e):typeof e=="function"?Ji(t,e()):Eo(t,e)}function Eo(t,e){let r=s=>s.split(" ").filter(Boolean),n=s=>s.split(" ").filter(o=>!t.classList.contains(o)).filter(Boolean),i=s=>(t.classList.add(...s),()=>{t.classList.remove(...s)});return e=e===!0?e="":e||"",i(n(e))}function pu(t,e){let r=a=>a.split(" ").filter(Boolean),n=Object.entries(e).flatMap(([a,c])=>c?r(a):!1).filter(Boolean),i=Object.entries(e).flatMap(([a,c])=>c?!1:r(a)).filter(Boolean),s=[],o=[];return i.forEach(a=>{t.classList.contains(a)&&(t.classList.remove(a),o.push(a))}),n.forEach(a=>{t.classList.contains(a)||(t.classList.add(a),s.push(a))}),()=>{o.forEach(a=>t.classList.add(a)),s.forEach(a=>t.classList.remove(a))}}function Cn(t,e){return typeof e=="object"&&e!==null?mu(t,e):gu(t,e)}function mu(t,e){let r={};return Object.entries(e).forEach(([n,i])=>{r[n]=t.style[n],n.startsWith("--")||(n=vu(n)),t.style.setProperty(n,i)}),setTimeout(()=>{t.style.length===0&&t.removeAttribute("style")}),()=>{Cn(t,r)}}function gu(t,e){let r=t.getAttribute("style",e);return t.setAttribute("style",e),()=>{t.setAttribute("style",r||"")}}function vu(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Di(t,e=()=>{}){let r=!1;return function(){r?e.apply(this,arguments):(r=!0,t.apply(this,arguments))}}be("transition",(t,{value:e,modifiers:r,expression:n},{evaluate:i})=>{typeof n=="function"&&(n=i(n)),n!==!1&&(!n||typeof n=="boolean"?yu(t,r,e):bu(t,n,e))});function bu(t,e,r){fa(t,Ji,""),{enter:i=>{t._x_transition.enter.during=i},"enter-start":i=>{t._x_transition.enter.start=i},"enter-end":i=>{t._x_transition.enter.end=i},leave:i=>{t._x_transition.leave.during=i},"leave-start":i=>{t._x_transition.leave.start=i},"leave-end":i=>{t._x_transition.leave.end=i}}[r](e)}function yu(t,e,r){fa(t,Cn);let n=!e.includes("in")&&!e.includes("out")&&!r,i=n||e.includes("in")||["enter"].includes(r),s=n||e.includes("out")||["leave"].includes(r);e.includes("in")&&!n&&(e=e.filter((C,L)=>L<e.indexOf("out"))),e.includes("out")&&!n&&(e=e.filter((C,L)=>L>e.indexOf("out")));let o=!e.includes("opacity")&&!e.includes("scale"),a=o||e.includes("opacity"),c=o||e.includes("scale"),h=a?0:1,p=c?Nr(e,"scale",95)/100:1,w=Nr(e,"delay",0)/1e3,b=Nr(e,"origin","center"),k="opacity, transform",M=Nr(e,"duration",150)/1e3,E=Nr(e,"duration",75)/1e3,T="cubic-bezier(0.4, 0.0, 0.2, 1)";i&&(t._x_transition.enter.during={transformOrigin:b,transitionDelay:`${w}s`,transitionProperty:k,transitionDuration:`${M}s`,transitionTimingFunction:T},t._x_transition.enter.start={opacity:h,transform:`scale(${p})`},t._x_transition.enter.end={opacity:1,transform:"scale(1)"}),s&&(t._x_transition.leave.during={transformOrigin:b,transitionDelay:`${w}s`,transitionProperty:k,transitionDuration:`${E}s`,transitionTimingFunction:T},t._x_transition.leave.start={opacity:1,transform:"scale(1)"},t._x_transition.leave.end={opacity:h,transform:`scale(${p})`})}function fa(t,e,r={}){t._x_transition||(t._x_transition={enter:{during:r,start:r,end:r},leave:{during:r,start:r,end:r},in(n=()=>{},i=()=>{}){Ii(t,e,{during:this.enter.during,start:this.enter.start,end:this.enter.end},n,i)},out(n=()=>{},i=()=>{}){Ii(t,e,{during:this.leave.during,start:this.leave.start,end:this.leave.end},n,i)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(t,e,r,n){let i=document.visibilityState==="visible"?requestAnimationFrame:setTimeout,s=()=>i(r);if(e){t._x_transition&&(t._x_transition.enter||t._x_transition.leave)?t._x_transition.enter&&(Object.entries(t._x_transition.enter.during).length||Object.entries(t._x_transition.enter.start).length||Object.entries(t._x_transition.enter.end).length)?t._x_transition.in(r):s():t._x_transition?t._x_transition.in(r):s();return}t._x_hidePromise=t._x_transition?new Promise((o,a)=>{t._x_transition.out(()=>{},()=>o(n)),t._x_transitioning&&t._x_transitioning.beforeCancel(()=>a({isFromCancelledTransition:!0}))}):Promise.resolve(n),queueMicrotask(()=>{let o=ha(t);o?(o._x_hideChildren||(o._x_hideChildren=[]),o._x_hideChildren.push(t)):i(()=>{let a=c=>{let h=Promise.all([c._x_hidePromise,...(c._x_hideChildren||[]).map(a)]).then(([p])=>p?.());return delete c._x_hidePromise,delete c._x_hideChildren,h};a(t).catch(c=>{if(!c.isFromCancelledTransition)throw c})})})};function ha(t){let e=t.parentNode;if(e)return e._x_hidePromise?e:ha(e)}function Ii(t,e,{during:r,start:n,end:i}={},s=()=>{},o=()=>{}){if(t._x_transitioning&&t._x_transitioning.cancel(),Object.keys(r).length===0&&Object.keys(n).length===0&&Object.keys(i).length===0){s(),o();return}let a,c,h;wu(t,{start(){a=e(t,n)},during(){c=e(t,r)},before:s,end(){a(),h=e(t,i)},after:o,cleanup(){c(),h()}})}function wu(t,e){let r,n,i,s=Di(()=>{ce(()=>{r=!0,n||e.before(),i||(e.end(),Ri()),e.after(),t.isConnected&&e.cleanup(),delete t._x_transitioning})});t._x_transitioning={beforeCancels:[],beforeCancel(o){this.beforeCancels.push(o)},cancel:Di(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();s()}),finish:s},ce(()=>{e.start(),e.during()}),du(),requestAnimationFrame(()=>{if(r)return;let o=Number(getComputedStyle(t).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,a=Number(getComputedStyle(t).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;o===0&&(o=Number(getComputedStyle(t).animationDuration.replace("s",""))*1e3),ce(()=>{e.before()}),n=!0,requestAnimationFrame(()=>{r||(ce(()=>{e.end()}),Ri(),setTimeout(t._x_transitioning.finish,o+a),i=!0)})})}function Nr(t,e,r){if(t.indexOf(e)===-1)return r;let n=t[t.indexOf(e)+1];if(!n||e==="scale"&&isNaN(n))return r;if(e==="duration"||e==="delay"){let i=n.match(/([0-9]+)ms/);if(i)return i[1]}return e==="origin"&&["top","right","left","center","bottom"].includes(t[t.indexOf(e)+2])?[n,t[t.indexOf(e)+2]].join(" "):n}var It=!1;function Nt(t,e=()=>{}){return(...r)=>It?e(...r):t(...r)}function xu(t){return(...e)=>It&&t(...e)}var da=[];function Mn(t){da.push(t)}function Eu(t,e){da.forEach(r=>r(t,e)),It=!0,pa(()=>{vt(e,(r,n)=>{n(r,()=>{})})}),It=!1}var Pi=!1;function Tu(t,e){e._x_dataStack||(e._x_dataStack=t._x_dataStack),It=!0,Pi=!0,pa(()=>{ku(e)}),It=!1,Pi=!1}function ku(t){let e=!1;vt(t,(n,i)=>{tr(n,(s,o)=>{if(e&&cu(s))return o();e=!0,i(s,o)})})}function pa(t){let e=rr;wo((r,n)=>{let i=e(r);return wr(i),()=>{}}),t(),wo(e)}function ma(t,e,r,n=[]){switch(t._x_bindings||(t._x_bindings=yr({})),t._x_bindings[e]=r,e=n.includes("camel")?Ru(e):e,e){case"value":Au(t,r);break;case"style":Ou(t,r);break;case"class":_u(t,r);break;case"selected":case"checked":Su(t,e,r);break;default:ga(t,e,r);break}}function Au(t,e){if(ya(t))t.attributes.value===void 0&&(t.value=e),window.fromModel&&(typeof e=="boolean"?t.checked=Tn(t.value)===e:t.checked=To(t.value,e));else if(Qi(t))Number.isInteger(e)?t.value=e:!Array.isArray(e)&&typeof e!="boolean"&&![null,void 0].includes(e)?t.value=String(e):Array.isArray(e)?t.checked=e.some(r=>To(r,t.value)):t.checked=!!e;else if(t.tagName==="SELECT")Lu(t,e);else{if(t.value===e)return;t.value=e===void 0?"":e}}function _u(t,e){t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedClasses=Ji(t,e)}function Ou(t,e){t._x_undoAddedStyles&&t._x_undoAddedStyles(),t._x_undoAddedStyles=Cn(t,e)}function Su(t,e,r){ga(t,e,r),Mu(t,e,r)}function ga(t,e,r){[null,void 0,!1].includes(r)&&Iu(e)?t.removeAttribute(e):(va(e)&&(r=e),Cu(t,e,r))}function Cu(t,e,r){t.getAttribute(e)!=r&&t.setAttribute(e,r)}function Mu(t,e,r){t[e]!==r&&(t[e]=r)}function Lu(t,e){let r=[].concat(e).map(n=>n+"");Array.from(t.options).forEach(n=>{n.selected=r.includes(n.value)})}function Ru(t){return t.toLowerCase().replace(/-(\w)/g,(e,r)=>r.toUpperCase())}function To(t,e){return t==e}function Tn(t){return[1,"1","true","on","yes",!0].includes(t)?!0:[0,"0","false","off","no",!1].includes(t)?!1:t?!!t:null}var Du=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function va(t){return Du.has(t)}function Iu(t){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(t)}function Pu(t,e,r){return t._x_bindings&&t._x_bindings[e]!==void 0?t._x_bindings[e]:ba(t,e,r)}function Nu(t,e,r,n=!0){if(t._x_bindings&&t._x_bindings[e]!==void 0)return t._x_bindings[e];if(t._x_inlineBindings&&t._x_inlineBindings[e]!==void 0){let i=t._x_inlineBindings[e];return i.extract=n,Ko(()=>Jt(t,i.expression))}return ba(t,e,r)}function ba(t,e,r){let n=t.getAttribute(e);return n===null?typeof r=="function"?r():r:n===""?!0:va(e)?!![e,"true"].includes(n):n}function Qi(t){return t.type==="checkbox"||t.localName==="ui-checkbox"||t.localName==="ui-switch"}function ya(t){return t.type==="radio"||t.localName==="ui-radio"}function wa(t,e){var r;return function(){var n=this,i=arguments,s=function(){r=null,t.apply(n,i)};clearTimeout(r),r=setTimeout(s,e)}}function xa(t,e){let r;return function(){let n=this,i=arguments;r||(t.apply(n,i),r=!0,setTimeout(()=>r=!1,e))}}function Ea({get:t,set:e},{get:r,set:n}){let i=!0,s,o,a=rr(()=>{let c=t(),h=r();if(i)n(yi(c)),i=!1;else{let p=JSON.stringify(c),w=JSON.stringify(h);p!==s?n(yi(c)):p!==w&&e(yi(h))}s=JSON.stringify(t()),o=JSON.stringify(r())});return()=>{wr(a)}}function yi(t){return typeof t=="object"?JSON.parse(JSON.stringify(t)):t}function $u(t){(Array.isArray(t)?t:[t]).forEach(r=>r(Wr))}var Xt={},ko=!1;function Bu(t,e){if(ko||(Xt=yr(Xt),ko=!0),e===void 0)return Xt[t];Xt[t]=e,Wo(Xt[t]),typeof e=="object"&&e!==null&&e.hasOwnProperty("init")&&typeof e.init=="function"&&Xt[t].init()}function Fu(){return Xt}var Ta={};function Vu(t,e){let r=typeof e!="function"?()=>e:e;return t instanceof Element?ka(t,r()):(Ta[t]=r,()=>{})}function ju(t){return Object.entries(Ta).forEach(([e,r])=>{Object.defineProperty(t,e,{get(){return(...n)=>r(...n)}})}),t}function ka(t,e,r){let n=[];for(;n.length;)n.pop()();let i=Object.entries(e).map(([o,a])=>({name:o,value:a})),s=Zo(i);return i=i.map(o=>s.find(a=>a.name===o.name)?{name:`x-bind:${o.name}`,value:`"${o.value}"`}:o),Ki(t,i,r).map(o=>{n.push(o.runCleanups),o()}),()=>{for(;n.length;)n.pop()()}}var Aa={};function zu(t,e){Aa[t]=e}function Hu(t,e){return Object.entries(Aa).forEach(([r,n])=>{Object.defineProperty(t,r,{get(){return(...i)=>n.bind(e)(...i)},enumerable:!1})}),t}var Wu={get reactive(){return yr},get release(){return wr},get effect(){return rr},get raw(){return Io},version:"3.14.9",flushAndStopDeferringMutations:Uc,dontAutoEvaluateFunctions:Ko,disableEffectScheduling:Fc,startObservingMutations:Hi,stopObservingMutations:zo,setReactivityEngine:Vc,onAttributeRemoved:Vo,onAttributesAdded:Fo,closestDataStack:vr,skipDuringClone:Nt,onlyDuringClone:xu,addRootSelector:la,addInitSelector:ca,interceptClone:Mn,addScopeToNode:zr,deferMutations:qc,mapAttributes:Yi,evaluateLater:Ie,interceptInit:uu,setEvaluator:Jc,mergeProxies:Hr,extractProp:Nu,findClosest:Er,onElRemoved:Vi,closestRoot:Sn,destroyTree:Tr,interceptor:qo,transition:Ii,setStyles:Cn,mutateDom:ce,directive:be,entangle:Ea,throttle:xa,debounce:wa,evaluate:Jt,initTree:vt,nextTick:Gi,prefixed:xr,prefix:ru,plugin:$u,magic:rt,store:Bu,start:lu,clone:Tu,cloneNode:Eu,bound:Pu,$data:Ho,watch:Po,walk:tr,data:zu,bind:Vu},Wr=Wu;function _a(t,e){let r=Object.create(null),n=t.split(",");for(let i=0;i<n.length;i++)r[n[i]]=!0;return e?i=>!!r[i.toLowerCase()]:i=>!!r[i]}var qu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Bp=_a(qu+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),Uu=Object.freeze({}),Fp=Object.freeze([]),Ku=Object.prototype.hasOwnProperty,Ln=(t,e)=>Ku.call(t,e),Qt=Array.isArray,Vr=t=>Oa(t)==="[object Map]",Yu=t=>typeof t=="string",es=t=>typeof t=="symbol",Rn=t=>t!==null&&typeof t=="object",Xu=Object.prototype.toString,Oa=t=>Xu.call(t),Sa=t=>Oa(t).slice(8,-1),ts=t=>Yu(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Dn=t=>{let e=Object.create(null);return r=>e[r]||(e[r]=t(r))},Zu=/-(\w)/g,Vp=Dn(t=>t.replace(Zu,(e,r)=>r?r.toUpperCase():"")),Gu=/\B([A-Z])/g,jp=Dn(t=>t.replace(Gu,"-$1").toLowerCase()),Ca=Dn(t=>t.charAt(0).toUpperCase()+t.slice(1)),zp=Dn(t=>t?`on${Ca(t)}`:""),Ma=(t,e)=>t!==e&&(t===t||e===e),Ni=new WeakMap,$r=[],ut,er=Symbol("iterate"),$i=Symbol("Map key iterate");function Ju(t){return t&&t._isEffect===!0}function Qu(t,e=Uu){Ju(t)&&(t=t.raw);let r=rf(t,e);return e.lazy||r(),r}function ef(t){t.active&&(La(t),t.options.onStop&&t.options.onStop(),t.active=!1)}var tf=0;function rf(t,e){let r=function(){if(!r.active)return t();if(!$r.includes(r)){La(r);try{return sf(),$r.push(r),ut=r,t()}finally{$r.pop(),Ra(),ut=$r[$r.length-1]}}};return r.id=tf++,r.allowRecurse=!!e.allowRecurse,r._isEffect=!0,r.active=!0,r.raw=t,r.deps=[],r.options=e,r}function La(t){let{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}var br=!0,rs=[];function nf(){rs.push(br),br=!1}function sf(){rs.push(br),br=!0}function Ra(){let t=rs.pop();br=t===void 0?!0:t}function tt(t,e,r){if(!br||ut===void 0)return;let n=Ni.get(t);n||Ni.set(t,n=new Map);let i=n.get(r);i||n.set(r,i=new Set),i.has(ut)||(i.add(ut),ut.deps.push(i),ut.options.onTrack&&ut.options.onTrack({effect:ut,target:t,type:e,key:r}))}function Pt(t,e,r,n,i,s){let o=Ni.get(t);if(!o)return;let a=new Set,c=p=>{p&&p.forEach(w=>{(w!==ut||w.allowRecurse)&&a.add(w)})};if(e==="clear")o.forEach(c);else if(r==="length"&&Qt(t))o.forEach((p,w)=>{(w==="length"||w>=n)&&c(p)});else switch(r!==void 0&&c(o.get(r)),e){case"add":Qt(t)?ts(r)&&c(o.get("length")):(c(o.get(er)),Vr(t)&&c(o.get($i)));break;case"delete":Qt(t)||(c(o.get(er)),Vr(t)&&c(o.get($i)));break;case"set":Vr(t)&&c(o.get(er));break}let h=p=>{p.options.onTrigger&&p.options.onTrigger({effect:p,target:t,key:r,type:e,newValue:n,oldValue:i,oldTarget:s}),p.options.scheduler?p.options.scheduler(p):p()};a.forEach(h)}var of=_a("__proto__,__v_isRef,__isVue"),Da=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(es)),af=Ia(),lf=Ia(!0),Ao=cf();function cf(){let t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){let n=te(this);for(let s=0,o=this.length;s<o;s++)tt(n,"get",s+"");let i=n[e](...r);return i===-1||i===!1?n[e](...r.map(te)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){nf();let n=te(this)[e].apply(this,r);return Ra(),n}}),t}function Ia(t=!1,e=!1){return function(n,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_raw"&&s===(t?e?Af:Ba:e?kf:$a).get(n))return n;let o=Qt(n);if(!t&&o&&Ln(Ao,i))return Reflect.get(Ao,i,s);let a=Reflect.get(n,i,s);return(es(i)?Da.has(i):of(i))||(t||tt(n,"get",i),e)?a:Bi(a)?!o||!ts(i)?a.value:a:Rn(a)?t?Fa(a):os(a):a}}var uf=ff();function ff(t=!1){return function(r,n,i,s){let o=r[n];if(!t&&(i=te(i),o=te(o),!Qt(r)&&Bi(o)&&!Bi(i)))return o.value=i,!0;let a=Qt(r)&&ts(n)?Number(n)<r.length:Ln(r,n),c=Reflect.set(r,n,i,s);return r===te(s)&&(a?Ma(i,o)&&Pt(r,"set",n,i,o):Pt(r,"add",n,i)),c}}function hf(t,e){let r=Ln(t,e),n=t[e],i=Reflect.deleteProperty(t,e);return i&&r&&Pt(t,"delete",e,void 0,n),i}function df(t,e){let r=Reflect.has(t,e);return(!es(e)||!Da.has(e))&&tt(t,"has",e),r}function pf(t){return tt(t,"iterate",Qt(t)?"length":er),Reflect.ownKeys(t)}var mf={get:af,set:uf,deleteProperty:hf,has:df,ownKeys:pf},gf={get:lf,set(t,e){return console.warn(`Set operation on key "${String(e)}" failed: target is readonly.`,t),!0},deleteProperty(t,e){return console.warn(`Delete operation on key "${String(e)}" failed: target is readonly.`,t),!0}},ns=t=>Rn(t)?os(t):t,is=t=>Rn(t)?Fa(t):t,ss=t=>t,In=t=>Reflect.getPrototypeOf(t);function vn(t,e,r=!1,n=!1){t=t.__v_raw;let i=te(t),s=te(e);e!==s&&!r&&tt(i,"get",e),!r&&tt(i,"get",s);let{has:o}=In(i),a=n?ss:r?is:ns;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function bn(t,e=!1){let r=this.__v_raw,n=te(r),i=te(t);return t!==i&&!e&&tt(n,"has",t),!e&&tt(n,"has",i),t===i?r.has(t):r.has(t)||r.has(i)}function yn(t,e=!1){return t=t.__v_raw,!e&&tt(te(t),"iterate",er),Reflect.get(t,"size",t)}function _o(t){t=te(t);let e=te(this);return In(e).has.call(e,t)||(e.add(t),Pt(e,"add",t,t)),this}function Oo(t,e){e=te(e);let r=te(this),{has:n,get:i}=In(r),s=n.call(r,t);s?Na(r,n,t):(t=te(t),s=n.call(r,t));let o=i.call(r,t);return r.set(t,e),s?Ma(e,o)&&Pt(r,"set",t,e,o):Pt(r,"add",t,e),this}function So(t){let e=te(this),{has:r,get:n}=In(e),i=r.call(e,t);i?Na(e,r,t):(t=te(t),i=r.call(e,t));let s=n?n.call(e,t):void 0,o=e.delete(t);return i&&Pt(e,"delete",t,void 0,s),o}function Co(){let t=te(this),e=t.size!==0,r=Vr(t)?new Map(t):new Set(t),n=t.clear();return e&&Pt(t,"clear",void 0,void 0,r),n}function wn(t,e){return function(n,i){let s=this,o=s.__v_raw,a=te(o),c=e?ss:t?is:ns;return!t&&tt(a,"iterate",er),o.forEach((h,p)=>n.call(i,c(h),c(p),s))}}function xn(t,e,r){return function(...n){let i=this.__v_raw,s=te(i),o=Vr(s),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,h=i[t](...n),p=r?ss:e?is:ns;return!e&&tt(s,"iterate",c?$i:er),{next(){let{value:w,done:b}=h.next();return b?{value:w,done:b}:{value:a?[p(w[0]),p(w[1])]:p(w),done:b}},[Symbol.iterator](){return this}}}}function Dt(t){return function(...e){{let r=e[0]?`on key "${e[0]}" `:"";console.warn(`${Ca(t)} operation ${r}failed: target is readonly.`,te(this))}return t==="delete"?!1:this}}function vf(){let t={get(s){return vn(this,s)},get size(){return yn(this)},has:bn,add:_o,set:Oo,delete:So,clear:Co,forEach:wn(!1,!1)},e={get(s){return vn(this,s,!1,!0)},get size(){return yn(this)},has:bn,add:_o,set:Oo,delete:So,clear:Co,forEach:wn(!1,!0)},r={get(s){return vn(this,s,!0)},get size(){return yn(this,!0)},has(s){return bn.call(this,s,!0)},add:Dt("add"),set:Dt("set"),delete:Dt("delete"),clear:Dt("clear"),forEach:wn(!0,!1)},n={get(s){return vn(this,s,!0,!0)},get size(){return yn(this,!0)},has(s){return bn.call(this,s,!0)},add:Dt("add"),set:Dt("set"),delete:Dt("delete"),clear:Dt("clear"),forEach:wn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=xn(s,!1,!1),r[s]=xn(s,!0,!1),e[s]=xn(s,!1,!0),n[s]=xn(s,!0,!0)}),[t,r,e,n]}var[bf,yf,wf,xf]=vf();function Pa(t,e){let r=e?t?xf:wf:t?yf:bf;return(n,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(Ln(r,i)&&i in n?r:n,i,s)}var Ef={get:Pa(!1,!1)},Tf={get:Pa(!0,!1)};function Na(t,e,r){let n=te(r);if(n!==r&&e.call(t,n)){let i=Sa(t);console.warn(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var $a=new WeakMap,kf=new WeakMap,Ba=new WeakMap,Af=new WeakMap;function _f(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Of(t){return t.__v_skip||!Object.isExtensible(t)?0:_f(Sa(t))}function os(t){return t&&t.__v_isReadonly?t:Va(t,!1,mf,Ef,$a)}function Fa(t){return Va(t,!0,gf,Tf,Ba)}function Va(t,e,r,n,i){if(!Rn(t))return console.warn(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;let s=i.get(t);if(s)return s;let o=Of(t);if(o===0)return t;let a=new Proxy(t,o===2?n:r);return i.set(t,a),a}function te(t){return t&&te(t.__v_raw)||t}function Bi(t){return!!(t&&t.__v_isRef===!0)}rt("nextTick",()=>Gi);rt("dispatch",t=>Fr.bind(Fr,t));rt("watch",(t,{evaluateLater:e,cleanup:r})=>(n,i)=>{let s=e(n),a=Po(()=>{let c;return s(h=>c=h),c},i);r(a)});rt("store",Fu);rt("data",t=>Ho(t));rt("root",t=>Sn(t));rt("refs",t=>(t._x_refs_proxy||(t._x_refs_proxy=Hr(Sf(t))),t._x_refs_proxy));function Sf(t){let e=[];return Er(t,r=>{r._x_refs&&e.push(r._x_refs)}),e}var wi={};function ja(t){return wi[t]||(wi[t]=0),++wi[t]}function Cf(t,e){return Er(t,r=>{if(r._x_ids&&r._x_ids[e])return!0})}function Mf(t,e){t._x_ids||(t._x_ids={}),t._x_ids[e]||(t._x_ids[e]=ja(e))}rt("id",(t,{cleanup:e})=>(r,n=null)=>{let i=`${r}${n?`-${n}`:""}`;return Lf(t,i,e,()=>{let s=Cf(t,r),o=s?s._x_ids[r]:ja(r);return n?`${r}-${o}-${n}`:`${r}-${o}`})});Mn((t,e)=>{t._x_id&&(e._x_id=t._x_id)});function Lf(t,e,r,n){if(t._x_id||(t._x_id={}),t._x_id[e])return t._x_id[e];let i=n();return t._x_id[e]=i,r(()=>{delete t._x_id[e]}),i}rt("el",t=>t);za("Focus","focus","focus");za("Persist","persist","persist");function za(t,e,r){rt(e,n=>We(`You can't use [$${e}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${r}`,n))}be("modelable",(t,{expression:e},{effect:r,evaluateLater:n,cleanup:i})=>{let s=n(e),o=()=>{let p;return s(w=>p=w),p},a=n(`${e} = __placeholder`),c=p=>a(()=>{},{scope:{__placeholder:p}}),h=o();c(h),queueMicrotask(()=>{if(!t._x_model)return;t._x_removeModelListeners.default();let p=t._x_model.get,w=t._x_model.set,b=Ea({get(){return p()},set(k){w(k)}},{get(){return o()},set(k){c(k)}});i(b)})});be("teleport",(t,{modifiers:e,expression:r},{cleanup:n})=>{t.tagName.toLowerCase()!=="template"&&We("x-teleport can only be used on a <template> tag",t);let i=Mo(r),s=t.content.cloneNode(!0).firstElementChild;t._x_teleport=s,s._x_teleportBack=t,t.setAttribute("data-teleport-template",!0),s.setAttribute("data-teleport-target",!0),t._x_forwardEvents&&t._x_forwardEvents.forEach(a=>{s.addEventListener(a,c=>{c.stopPropagation(),t.dispatchEvent(new c.constructor(c.type,c))})}),zr(s,{},t);let o=(a,c,h)=>{h.includes("prepend")?c.parentNode.insertBefore(a,c):h.includes("append")?c.parentNode.insertBefore(a,c.nextSibling):c.appendChild(a)};ce(()=>{o(s,i,e),Nt(()=>{vt(s)})()}),t._x_teleportPutBack=()=>{let a=Mo(r);ce(()=>{o(t._x_teleport,a,e)})},n(()=>ce(()=>{s.remove(),Tr(s)}))});var Rf=document.createElement("div");function Mo(t){let e=Nt(()=>document.querySelector(t),()=>Rf)();return e||We(`Cannot find x-teleport element for selector: "${t}"`),e}var Ha=()=>{};Ha.inline=(t,{modifiers:e},{cleanup:r})=>{e.includes("self")?t._x_ignoreSelf=!0:t._x_ignore=!0,r(()=>{e.includes("self")?delete t._x_ignoreSelf:delete t._x_ignore})};be("ignore",Ha);be("effect",Nt((t,{expression:e},{effect:r})=>{r(Ie(t,e))}));function Fi(t,e,r,n){let i=t,s=c=>n(c),o={},a=(c,h)=>p=>h(c,p);if(r.includes("dot")&&(e=Df(e)),r.includes("camel")&&(e=If(e)),r.includes("passive")&&(o.passive=!0),r.includes("capture")&&(o.capture=!0),r.includes("window")&&(i=window),r.includes("document")&&(i=document),r.includes("debounce")){let c=r[r.indexOf("debounce")+1]||"invalid-wait",h=On(c.split("ms")[0])?Number(c.split("ms")[0]):250;s=wa(s,h)}if(r.includes("throttle")){let c=r[r.indexOf("throttle")+1]||"invalid-wait",h=On(c.split("ms")[0])?Number(c.split("ms")[0]):250;s=xa(s,h)}return r.includes("prevent")&&(s=a(s,(c,h)=>{h.preventDefault(),c(h)})),r.includes("stop")&&(s=a(s,(c,h)=>{h.stopPropagation(),c(h)})),r.includes("once")&&(s=a(s,(c,h)=>{c(h),i.removeEventListener(e,s,o)})),(r.includes("away")||r.includes("outside"))&&(i=document,s=a(s,(c,h)=>{t.contains(h.target)||h.target.isConnected!==!1&&(t.offsetWidth<1&&t.offsetHeight<1||t._x_isShown!==!1&&c(h))})),r.includes("self")&&(s=a(s,(c,h)=>{h.target===t&&c(h)})),(Nf(e)||Wa(e))&&(s=a(s,(c,h)=>{$f(h,r)||c(h)})),i.addEventListener(e,s,o),()=>{i.removeEventListener(e,s,o)}}function Df(t){return t.replace(/-/g,".")}function If(t){return t.toLowerCase().replace(/-(\w)/g,(e,r)=>r.toUpperCase())}function On(t){return!Array.isArray(t)&&!isNaN(t)}function Pf(t){return[" ","_"].includes(t)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Nf(t){return["keydown","keyup"].includes(t)}function Wa(t){return["contextmenu","click","mouse"].some(e=>t.includes(e))}function $f(t,e){let r=e.filter(s=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(s));if(r.includes("debounce")){let s=r.indexOf("debounce");r.splice(s,On((r[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(r.includes("throttle")){let s=r.indexOf("throttle");r.splice(s,On((r[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(r.length===0||r.length===1&&Lo(t.key).includes(r[0]))return!1;let i=["ctrl","shift","alt","meta","cmd","super"].filter(s=>r.includes(s));return r=r.filter(s=>!i.includes(s)),!(i.length>0&&i.filter(o=>((o==="cmd"||o==="super")&&(o="meta"),t[`${o}Key`])).length===i.length&&(Wa(t.type)||Lo(t.key).includes(r[0])))}function Lo(t){if(!t)return[];t=Pf(t);let e={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return e[t]=t,Object.keys(e).map(r=>{if(e[r]===t)return r}).filter(r=>r)}be("model",(t,{modifiers:e,expression:r},{effect:n,cleanup:i})=>{let s=t;e.includes("parent")&&(s=t.parentNode);let o=Ie(s,r),a;typeof r=="string"?a=Ie(s,`${r} = __placeholder`):typeof r=="function"&&typeof r()=="string"?a=Ie(s,`${r()} = __placeholder`):a=()=>{};let c=()=>{let b;return o(k=>b=k),Ro(b)?b.get():b},h=b=>{let k;o(M=>k=M),Ro(k)?k.set(b):a(()=>{},{scope:{__placeholder:b}})};typeof r=="string"&&t.type==="radio"&&ce(()=>{t.hasAttribute("name")||t.setAttribute("name",r)});var p=t.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(t.type)||e.includes("lazy")?"change":"input";let w=It?()=>{}:Fi(t,p,e,b=>{h(xi(t,e,b,c()))});if(e.includes("fill")&&([void 0,null,""].includes(c())||Qi(t)&&Array.isArray(c())||t.tagName.toLowerCase()==="select"&&t.multiple)&&h(xi(t,e,{target:t},c())),t._x_removeModelListeners||(t._x_removeModelListeners={}),t._x_removeModelListeners.default=w,i(()=>t._x_removeModelListeners.default()),t.form){let b=Fi(t.form,"reset",[],k=>{Gi(()=>t._x_model&&t._x_model.set(xi(t,e,{target:t},c())))});i(()=>b())}t._x_model={get(){return c()},set(b){h(b)}},t._x_forceModelUpdate=b=>{b===void 0&&typeof r=="string"&&r.match(/\./)&&(b=""),window.fromModel=!0,ce(()=>ma(t,"value",b)),delete window.fromModel},n(()=>{let b=c();e.includes("unintrusive")&&document.activeElement.isSameNode(t)||t._x_forceModelUpdate(b)})});function xi(t,e,r,n){return ce(()=>{if(r instanceof CustomEvent&&r.detail!==void 0)return r.detail!==null&&r.detail!==void 0?r.detail:r.target.value;if(Qi(t))if(Array.isArray(n)){let i=null;return e.includes("number")?i=Ei(r.target.value):e.includes("boolean")?i=Tn(r.target.value):i=r.target.value,r.target.checked?n.includes(i)?n:n.concat([i]):n.filter(s=>!Bf(s,i))}else return r.target.checked;else{if(t.tagName.toLowerCase()==="select"&&t.multiple)return e.includes("number")?Array.from(r.target.selectedOptions).map(i=>{let s=i.value||i.text;return Ei(s)}):e.includes("boolean")?Array.from(r.target.selectedOptions).map(i=>{let s=i.value||i.text;return Tn(s)}):Array.from(r.target.selectedOptions).map(i=>i.value||i.text);{let i;return ya(t)?r.target.checked?i=r.target.value:i=n:i=r.target.value,e.includes("number")?Ei(i):e.includes("boolean")?Tn(i):e.includes("trim")?i.trim():i}}})}function Ei(t){let e=t?parseFloat(t):null;return Ff(e)?e:t}function Bf(t,e){return t==e}function Ff(t){return!Array.isArray(t)&&!isNaN(t)}function Ro(t){return t!==null&&typeof t=="object"&&typeof t.get=="function"&&typeof t.set=="function"}be("cloak",t=>queueMicrotask(()=>ce(()=>t.removeAttribute(xr("cloak")))));ca(()=>`[${xr("init")}]`);be("init",Nt((t,{expression:e},{evaluate:r})=>typeof e=="string"?!!e.trim()&&r(e,{},!1):r(e,{},!1)));be("text",(t,{expression:e},{effect:r,evaluateLater:n})=>{let i=n(e);r(()=>{i(s=>{ce(()=>{t.textContent=s})})})});be("html",(t,{expression:e},{effect:r,evaluateLater:n})=>{let i=n(e);r(()=>{i(s=>{ce(()=>{t.innerHTML=s,t._x_ignoreSelf=!0,vt(t),delete t._x_ignoreSelf})})})});Yi(Qo(":",ea(xr("bind:"))));var qa=(t,{value:e,modifiers:r,expression:n,original:i},{effect:s,cleanup:o})=>{if(!e){let c={};ju(c),Ie(t,n)(p=>{ka(t,p,i)},{scope:c});return}if(e==="key")return Vf(t,n);if(t._x_inlineBindings&&t._x_inlineBindings[e]&&t._x_inlineBindings[e].extract)return;let a=Ie(t,n);s(()=>a(c=>{c===void 0&&typeof n=="string"&&n.match(/\./)&&(c=""),ce(()=>ma(t,e,c,r))})),o(()=>{t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedStyles&&t._x_undoAddedStyles()})};qa.inline=(t,{value:e,modifiers:r,expression:n})=>{e&&(t._x_inlineBindings||(t._x_inlineBindings={}),t._x_inlineBindings[e]={expression:n,extract:!1})};be("bind",qa);function Vf(t,e){t._x_keyExpression=e}la(()=>`[${xr("data")}]`);be("data",(t,{expression:e},{cleanup:r})=>{if(jf(t))return;e=e===""?"{}":e;let n={};Si(n,t);let i={};Hu(i,n);let s=Jt(t,e,{scope:i});(s===void 0||s===!0)&&(s={}),Si(s,t);let o=yr(s);Wo(o);let a=zr(t,o);o.init&&Jt(t,o.init),r(()=>{o.destroy&&Jt(t,o.destroy),a()})});Mn((t,e)=>{t._x_dataStack&&(e._x_dataStack=t._x_dataStack,e.setAttribute("data-has-alpine-state",!0))});function jf(t){return It?Pi?!0:t.hasAttribute("data-has-alpine-state"):!1}be("show",(t,{modifiers:e,expression:r},{effect:n})=>{let i=Ie(t,r);t._x_doHide||(t._x_doHide=()=>{ce(()=>{t.style.setProperty("display","none",e.includes("important")?"important":void 0)})}),t._x_doShow||(t._x_doShow=()=>{ce(()=>{t.style.length===1&&t.style.display==="none"?t.removeAttribute("style"):t.style.removeProperty("display")})});let s=()=>{t._x_doHide(),t._x_isShown=!1},o=()=>{t._x_doShow(),t._x_isShown=!0},a=()=>setTimeout(o),c=Di(w=>w?o():s(),w=>{typeof t._x_toggleAndCascadeWithTransitions=="function"?t._x_toggleAndCascadeWithTransitions(t,w,o,s):w?a():s()}),h,p=!0;n(()=>i(w=>{!p&&w===h||(e.includes("immediate")&&(w?a():s()),c(w),h=w,p=!1)}))});be("for",(t,{expression:e},{effect:r,cleanup:n})=>{let i=Hf(e),s=Ie(t,i.items),o=Ie(t,t._x_keyExpression||"index");t._x_prevKeys=[],t._x_lookup={},r(()=>zf(t,i,s,o)),n(()=>{Object.values(t._x_lookup).forEach(a=>ce(()=>{Tr(a),a.remove()})),delete t._x_prevKeys,delete t._x_lookup})});function zf(t,e,r,n){let i=o=>typeof o=="object"&&!Array.isArray(o),s=t;r(o=>{Wf(o)&&o>=0&&(o=Array.from(Array(o).keys(),T=>T+1)),o===void 0&&(o=[]);let a=t._x_lookup,c=t._x_prevKeys,h=[],p=[];if(i(o))o=Object.entries(o).map(([T,C])=>{let L=Do(e,C,T,o);n(N=>{p.includes(N)&&We("Duplicate key on x-for",t),p.push(N)},{scope:{index:T,...L}}),h.push(L)});else for(let T=0;T<o.length;T++){let C=Do(e,o[T],T,o);n(L=>{p.includes(L)&&We("Duplicate key on x-for",t),p.push(L)},{scope:{index:T,...C}}),h.push(C)}let w=[],b=[],k=[],M=[];for(let T=0;T<c.length;T++){let C=c[T];p.indexOf(C)===-1&&k.push(C)}c=c.filter(T=>!k.includes(T));let E="template";for(let T=0;T<p.length;T++){let C=p[T],L=c.indexOf(C);if(L===-1)c.splice(T,0,C),w.push([E,T]);else if(L!==T){let N=c.splice(T,1)[0],g=c.splice(L-1,1)[0];c.splice(T,0,g),c.splice(L,0,N),b.push([N,g])}else M.push(C);E=C}for(let T=0;T<k.length;T++){let C=k[T];C in a&&(ce(()=>{Tr(a[C]),a[C].remove()}),delete a[C])}for(let T=0;T<b.length;T++){let[C,L]=b[T],N=a[C],g=a[L],$=document.createElement("div");ce(()=>{g||We('x-for ":key" is undefined or invalid',s,L,a),g.after($),N.after(g),g._x_currentIfEl&&g.after(g._x_currentIfEl),$.before(N),N._x_currentIfEl&&N.after(N._x_currentIfEl),$.remove()}),g._x_refreshXForScope(h[p.indexOf(L)])}for(let T=0;T<w.length;T++){let[C,L]=w[T],N=C==="template"?s:a[C];N._x_currentIfEl&&(N=N._x_currentIfEl);let g=h[L],$=p[L],O=document.importNode(s.content,!0).firstElementChild,j=yr(g);zr(O,j,s),O._x_refreshXForScope=W=>{Object.entries(W).forEach(([Z,ee])=>{j[Z]=ee})},ce(()=>{N.after(O),Nt(()=>vt(O))()}),typeof $=="object"&&We("x-for key cannot be an object, it must be a string or an integer",s),a[$]=O}for(let T=0;T<M.length;T++)a[M[T]]._x_refreshXForScope(h[p.indexOf(M[T])]);s._x_prevKeys=p})}function Hf(t){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,r=/^\s*\(|\)\s*$/g,n=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,i=t.match(n);if(!i)return;let s={};s.items=i[2].trim();let o=i[1].replace(r,"").trim(),a=o.match(e);return a?(s.item=o.replace(e,"").trim(),s.index=a[1].trim(),a[2]&&(s.collection=a[2].trim())):s.item=o,s}function Do(t,e,r,n){let i={};return/^\[.*\]$/.test(t.item)&&Array.isArray(e)?t.item.replace("[","").replace("]","").split(",").map(o=>o.trim()).forEach((o,a)=>{i[o]=e[a]}):/^\{.*\}$/.test(t.item)&&!Array.isArray(e)&&typeof e=="object"?t.item.replace("{","").replace("}","").split(",").map(o=>o.trim()).forEach(o=>{i[o]=e[o]}):i[t.item]=e,t.index&&(i[t.index]=r),t.collection&&(i[t.collection]=n),i}function Wf(t){return!Array.isArray(t)&&!isNaN(t)}function Ua(){}Ua.inline=(t,{expression:e},{cleanup:r})=>{let n=Sn(t);n._x_refs||(n._x_refs={}),n._x_refs[e]=t,r(()=>delete n._x_refs[e])};be("ref",Ua);be("if",(t,{expression:e},{effect:r,cleanup:n})=>{t.tagName.toLowerCase()!=="template"&&We("x-if can only be used on a <template> tag",t);let i=Ie(t,e),s=()=>{if(t._x_currentIfEl)return t._x_currentIfEl;let a=t.content.cloneNode(!0).firstElementChild;return zr(a,{},t),ce(()=>{t.after(a),Nt(()=>vt(a))()}),t._x_currentIfEl=a,t._x_undoIf=()=>{ce(()=>{Tr(a),a.remove()}),delete t._x_currentIfEl},a},o=()=>{t._x_undoIf&&(t._x_undoIf(),delete t._x_undoIf)};r(()=>i(a=>{a?s():o()})),n(()=>t._x_undoIf&&t._x_undoIf())});be("id",(t,{expression:e},{evaluate:r})=>{r(e).forEach(i=>Mf(t,i))});Mn((t,e)=>{t._x_ids&&(e._x_ids=t._x_ids)});Yi(Qo("@",ea(xr("on:"))));be("on",Nt((t,{value:e,modifiers:r,expression:n},{cleanup:i})=>{let s=n?Ie(t,n):()=>{};t.tagName.toLowerCase()==="template"&&(t._x_forwardEvents||(t._x_forwardEvents=[]),t._x_forwardEvents.includes(e)||t._x_forwardEvents.push(e));let o=Fi(t,e,r,a=>{s(()=>{},{scope:{$event:a},params:[a]})});i(()=>o())}));Pn("Collapse","collapse","collapse");Pn("Intersect","intersect","intersect");Pn("Focus","trap","focus");Pn("Mask","mask","mask");function Pn(t,e,r){be(e,n=>We(`You can't use [x-${e}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${r}`,n))}Wr.setEvaluator(Xo);Wr.setReactivityEngine({reactive:os,effect:Qu,release:ef,raw:te});var qf=Wr,Nn=qf;function Uf(t){t.directive("collapse",e),e.inline=(r,{modifiers:n})=>{n.includes("min")&&(r._x_doShow=()=>{},r._x_doHide=()=>{})};function e(r,{modifiers:n}){let i=Ka(n,"duration",250)/1e3,s=Ka(n,"min",0),o=!n.includes("min");r._x_isShown||(r.style.height=`${s}px`),!r._x_isShown&&o&&(r.hidden=!0),r._x_isShown||(r.style.overflow="hidden");let a=(h,p)=>{let w=t.setStyles(h,p);return p.height?()=>{}:w},c={transitionProperty:"height",transitionDuration:`${i}s`,transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)"};r._x_transition={in(h=()=>{},p=()=>{}){o&&(r.hidden=!1),o&&(r.style.display=null);let w=r.getBoundingClientRect().height;r.style.height="auto";let b=r.getBoundingClientRect().height;w===b&&(w=s),t.transition(r,t.setStyles,{during:c,start:{height:w+"px"},end:{height:b+"px"}},()=>r._x_isShown=!0,()=>{Math.abs(r.getBoundingClientRect().height-b)<1&&(r.style.overflow=null)})},out(h=()=>{},p=()=>{}){let w=r.getBoundingClientRect().height;t.transition(r,a,{during:c,start:{height:w+"px"},end:{height:s+"px"}},()=>r.style.overflow="hidden",()=>{r._x_isShown=!1,r.style.height==`${s}px`&&o&&(r.style.display="none",r.hidden=!0)})}}}}function Ka(t,e,r){if(t.indexOf(e)===-1)return r;let n=t[t.indexOf(e)+1];if(!n)return r;if(e==="duration"){let i=n.match(/([0-9]+)ms/);if(i)return i[1]}if(e==="min"){let i=n.match(/([0-9]+)px/);if(i)return i[1]}return n}var Ya=Uf;var as=class{constructor(e,r,n){this.eventTarget=e,this.eventName=r,this.eventOptions=n,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){let r=Kf(e);for(let n of this.bindings){if(r.immediatePropagationStopped)break;n.handleEvent(r)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((e,r)=>{let n=e.index,i=r.index;return n<i?-1:n>i?1:0})}};function Kf(t){if("immediatePropagationStopped"in t)return t;{let{stopImmediatePropagation:e}=t;return Object.assign(t,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,e.call(this)}})}}var ls=class{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(e=>e.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(e=>e.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((e,r)=>e.concat(Array.from(r.values())),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e,r=!1){this.fetchEventListenerForBinding(e).bindingDisconnected(e),r&&this.clearEventListenersForBinding(e)}handleError(e,r,n={}){this.application.handleError(e,`Error ${r}`,n)}clearEventListenersForBinding(e){let r=this.fetchEventListenerForBinding(e);r.hasBindings()||(r.disconnect(),this.removeMappedEventListenerFor(e))}removeMappedEventListenerFor(e){let{eventTarget:r,eventName:n,eventOptions:i}=e,s=this.fetchEventListenerMapForEventTarget(r),o=this.cacheKey(n,i);s.delete(o),s.size==0&&this.eventListenerMaps.delete(r)}fetchEventListenerForBinding(e){let{eventTarget:r,eventName:n,eventOptions:i}=e;return this.fetchEventListener(r,n,i)}fetchEventListener(e,r,n){let i=this.fetchEventListenerMapForEventTarget(e),s=this.cacheKey(r,n),o=i.get(s);return o||(o=this.createEventListener(e,r,n),i.set(s,o)),o}createEventListener(e,r,n){let i=new as(e,r,n);return this.started&&i.connect(),i}fetchEventListenerMapForEventTarget(e){let r=this.eventListenerMaps.get(e);return r||(r=new Map,this.eventListenerMaps.set(e,r)),r}cacheKey(e,r){let n=[e];return Object.keys(r).sort().forEach(i=>{n.push(`${r[i]?"":"!"}${i}`)}),n.join(":")}},Yf={stop({event:t,value:e}){return e&&t.stopPropagation(),!0},prevent({event:t,value:e}){return e&&t.preventDefault(),!0},self({event:t,value:e,element:r}){return e?r===t.target:!0}},Xf=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function Zf(t){let r=t.trim().match(Xf)||[],n=r[2],i=r[3];return i&&!["keydown","keyup","keypress"].includes(n)&&(n+=`.${i}`,i=""),{eventTarget:Gf(r[4]),eventName:n,eventOptions:r[7]?Jf(r[7]):{},identifier:r[5],methodName:r[6],keyFilter:r[1]||i}}function Gf(t){if(t=="window")return window;if(t=="document")return document}function Jf(t){return t.split(":").reduce((e,r)=>Object.assign(e,{[r.replace(/^!/,"")]:!/^!/.test(r)}),{})}function Qf(t){if(t==window)return"window";if(t==document)return"document"}function Ms(t){return t.replace(/(?:[_-])([a-z0-9])/g,(e,r)=>r.toUpperCase())}function cs(t){return Ms(t.replace(/--/g,"-").replace(/__/g,"_"))}function Ur(t){return t.charAt(0).toUpperCase()+t.slice(1)}function il(t){return t.replace(/([A-Z])/g,(e,r)=>`-${r.toLowerCase()}`)}function eh(t){return t.match(/[^\s]+/g)||[]}function Xa(t){return t!=null}function us(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Za=["meta","ctrl","alt","shift"],fs=class{constructor(e,r,n,i){this.element=e,this.index=r,this.eventTarget=n.eventTarget||e,this.eventName=n.eventName||th(e)||$n("missing event name"),this.eventOptions=n.eventOptions||{},this.identifier=n.identifier||$n("missing identifier"),this.methodName=n.methodName||$n("missing method name"),this.keyFilter=n.keyFilter||"",this.schema=i}static forToken(e,r){return new this(e.element,e.index,Zf(e.content),r)}toString(){let e=this.keyFilter?`.${this.keyFilter}`:"",r=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}${r}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(e){if(!this.keyFilter)return!1;let r=this.keyFilter.split("+");if(this.keyFilterDissatisfied(e,r))return!0;let n=r.filter(i=>!Za.includes(i))[0];return n?(us(this.keyMappings,n)||$n(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[n].toLowerCase()!==e.key.toLowerCase()):!1}shouldIgnoreMouseEvent(e){if(!this.keyFilter)return!1;let r=[this.keyFilter];return!!this.keyFilterDissatisfied(e,r)}get params(){let e={},r=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(let{name:n,value:i}of Array.from(this.element.attributes)){let s=n.match(r),o=s&&s[1];o&&(e[Ms(o)]=rh(i))}return e}get eventTargetName(){return Qf(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(e,r){let[n,i,s,o]=Za.map(a=>r.includes(a));return e.metaKey!==n||e.ctrlKey!==i||e.altKey!==s||e.shiftKey!==o}},Ga={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:t=>t.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function th(t){let e=t.tagName.toLowerCase();if(e in Ga)return Ga[e](t)}function $n(t){throw new Error(t)}function rh(t){try{return JSON.parse(t)}catch{return t}}var hs=class{constructor(e,r){this.context=e,this.action=r}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){let r=this.prepareActionEvent(e);this.willBeInvokedByEvent(e)&&this.applyEventModifiers(r)&&this.invokeWithEvent(r)}get eventName(){return this.action.eventName}get method(){let e=this.controller[this.methodName];if(typeof e=="function")return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(e){let{element:r}=this.action,{actionDescriptorFilters:n}=this.context.application,{controller:i}=this.context,s=!0;for(let[o,a]of Object.entries(this.eventOptions))if(o in n){let c=n[o];s=s&&c({name:o,value:a,event:e,element:r,controller:i})}else continue;return s}prepareActionEvent(e){return Object.assign(e,{params:this.action.params})}invokeWithEvent(e){let{target:r,currentTarget:n}=e;try{this.method.call(this.controller,e),this.context.logDebugActivity(this.methodName,{event:e,target:r,currentTarget:n,action:this.methodName})}catch(i){let{identifier:s,controller:o,element:a,index:c}=this,h={identifier:s,controller:o,element:a,index:c,event:e};this.context.handleError(i,`invoking action "${this.action}"`,h)}}willBeInvokedByEvent(e){let r=e.target;return e instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(e)||e instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(e)?!1:this.element===r?!0:r instanceof Element&&this.element.contains(r)?this.scope.containsElement(r):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}},Bn=class{constructor(e,r){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=r,this.elements=new Set,this.mutationObserver=new MutationObserver(n=>this.processMutations(n))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){let e=new Set(this.matchElementsInTree());for(let r of Array.from(this.elements))e.has(r)||this.removeElement(r);for(let r of Array.from(e))this.addElement(r)}}processMutations(e){if(this.started)for(let r of e)this.processMutation(r)}processMutation(e){e.type=="attributes"?this.processAttributeChange(e.target,e.attributeName):e.type=="childList"&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,r){this.elements.has(e)?this.delegate.elementAttributeChanged&&this.matchElement(e)?this.delegate.elementAttributeChanged(e,r):this.removeElement(e):this.matchElement(e)&&this.addElement(e)}processRemovedNodes(e){for(let r of Array.from(e)){let n=this.elementFromNode(r);n&&this.processTree(n,this.removeElement)}}processAddedNodes(e){for(let r of Array.from(e)){let n=this.elementFromNode(r);n&&this.elementIsActive(n)&&this.processTree(n,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,r){for(let n of this.matchElementsInTree(e))r.call(this,n)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}},Fn=class{constructor(e,r,n){this.attributeName=r,this.delegate=n,this.elementObserver=new Bn(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){let r=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(this.selector));return r.concat(n)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,r){this.delegate.elementAttributeValueChanged&&this.attributeName==r&&this.delegate.elementAttributeValueChanged(e,r)}};function nh(t,e,r){sl(t,e).add(r)}function ih(t,e,r){sl(t,e).delete(r),sh(t,e)}function sl(t,e){let r=t.get(e);return r||(r=new Set,t.set(e,r)),r}function sh(t,e){let r=t.get(e);r!=null&&r.size==0&&t.delete(e)}var bt=class{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((r,n)=>r.concat(Array.from(n)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((r,n)=>r+n.size,0)}add(e,r){nh(this.valuesByKey,e,r)}delete(e,r){ih(this.valuesByKey,e,r)}has(e,r){let n=this.valuesByKey.get(e);return n!=null&&n.has(r)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some(n=>n.has(e))}getValuesForKey(e){let r=this.valuesByKey.get(e);return r?Array.from(r):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter(([r,n])=>n.has(e)).map(([r,n])=>r)}};var ds=class{constructor(e,r,n,i){this._selector=r,this.details=i,this.elementObserver=new Bn(e,this),this.delegate=n,this.matchesByElement=new bt}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(e){this._selector=e,this.refresh()}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(e){let{selector:r}=this;if(r){let n=e.matches(r);return this.delegate.selectorMatchElement?n&&this.delegate.selectorMatchElement(e,this.details):n}else return!1}matchElementsInTree(e){let{selector:r}=this;if(r){let n=this.matchElement(e)?[e]:[],i=Array.from(e.querySelectorAll(r)).filter(s=>this.matchElement(s));return n.concat(i)}else return[]}elementMatched(e){let{selector:r}=this;r&&this.selectorMatched(e,r)}elementUnmatched(e){let r=this.matchesByElement.getKeysForValue(e);for(let n of r)this.selectorUnmatched(e,n)}elementAttributeChanged(e,r){let{selector:n}=this;if(n){let i=this.matchElement(e),s=this.matchesByElement.has(n,e);i&&!s?this.selectorMatched(e,n):!i&&s&&this.selectorUnmatched(e,n)}}selectorMatched(e,r){this.delegate.selectorMatched(e,r,this.details),this.matchesByElement.add(r,e)}selectorUnmatched(e,r){this.delegate.selectorUnmatched(e,r,this.details),this.matchesByElement.delete(r,e)}},ps=class{constructor(e,r){this.element=e,this.delegate=r,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(n=>this.processMutations(n))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(let e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(let r of e)this.processMutation(r)}processMutation(e){let r=e.attributeName;r&&this.refreshAttribute(r,e.oldValue)}refreshAttribute(e,r){let n=this.delegate.getStringMapKeyForAttribute(e);if(n!=null){this.stringMap.has(e)||this.stringMapKeyAdded(n,e);let i=this.element.getAttribute(e);if(this.stringMap.get(e)!=i&&this.stringMapValueChanged(i,n,r),i==null){let s=this.stringMap.get(e);this.stringMap.delete(e),s&&this.stringMapKeyRemoved(n,e,s)}else this.stringMap.set(e,i)}}stringMapKeyAdded(e,r){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,r)}stringMapValueChanged(e,r,n){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,r,n)}stringMapKeyRemoved(e,r,n){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,r,n)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(e=>e.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}},Vn=class{constructor(e,r,n){this.attributeObserver=new Fn(e,r,this),this.delegate=n,this.tokensByElement=new bt}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){let[r,n]=this.refreshTokensForElement(e);this.tokensUnmatched(r),this.tokensMatched(n)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach(r=>this.tokenMatched(r))}tokensUnmatched(e){e.forEach(r=>this.tokenUnmatched(r))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){let r=this.tokensByElement.getValuesForKey(e),n=this.readTokensForElement(e),i=ah(r,n).findIndex(([s,o])=>!lh(s,o));return i==-1?[[],[]]:[r.slice(i),n.slice(i)]}readTokensForElement(e){let r=this.attributeName,n=e.getAttribute(r)||"";return oh(n,e,r)}};function oh(t,e,r){return t.trim().split(/\s+/).filter(n=>n.length).map((n,i)=>({element:e,attributeName:r,content:n,index:i}))}function ah(t,e){let r=Math.max(t.length,e.length);return Array.from({length:r},(n,i)=>[t[i],e[i]])}function lh(t,e){return t&&e&&t.index==e.index&&t.content==e.content}var jn=class{constructor(e,r,n){this.tokenListObserver=new Vn(e,r,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){let{element:r}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(r).set(e,n),this.delegate.elementMatchedValue(r,n))}tokenUnmatched(e){let{element:r}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(r).delete(e),this.delegate.elementUnmatchedValue(r,n))}fetchParseResultForToken(e){let r=this.parseResultsByToken.get(e);return r||(r=this.parseToken(e),this.parseResultsByToken.set(e,r)),r}fetchValuesByTokenForElement(e){let r=this.valuesByTokenByElement.get(e);return r||(r=new Map,this.valuesByTokenByElement.set(e,r)),r}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(r){return{error:r}}}},ms=class{constructor(e,r){this.context=e,this.delegate=r,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new jn(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){let r=new hs(this.context,e);this.bindingsByAction.set(e,r),this.delegate.bindingConnected(r)}disconnectAction(e){let r=this.bindingsByAction.get(e);r&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(r))}disconnectAllActions(){this.bindings.forEach(e=>this.delegate.bindingDisconnected(e,!0)),this.bindingsByAction.clear()}parseValueForToken(e){let r=fs.forToken(e,this.schema);if(r.identifier==this.identifier)return r}elementMatchedValue(e,r){this.connectAction(r)}elementUnmatchedValue(e,r){this.disconnectAction(r)}},gs=class{constructor(e,r){this.context=e,this.receiver=r,this.stringMapObserver=new ps(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,r){let n=this.valueDescriptorMap[r];this.hasValue(e)||this.invokeChangedCallback(e,n.writer(this.receiver[e]),n.writer(n.defaultValue))}stringMapValueChanged(e,r,n){let i=this.valueDescriptorNameMap[r];e!==null&&(n===null&&(n=i.writer(i.defaultValue)),this.invokeChangedCallback(r,e,n))}stringMapKeyRemoved(e,r,n){let i=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,i.writer(this.receiver[e]),n):this.invokeChangedCallback(e,i.writer(i.defaultValue),n)}invokeChangedCallbacksForDefaultValues(){for(let{key:e,name:r,defaultValue:n,writer:i}of this.valueDescriptors)n!=null&&!this.controller.data.has(e)&&this.invokeChangedCallback(r,i(n),void 0)}invokeChangedCallback(e,r,n){let i=`${e}Changed`,s=this.receiver[i];if(typeof s=="function"){let o=this.valueDescriptorNameMap[e];try{let a=o.reader(r),c=n;n&&(c=o.reader(n)),s.call(this.receiver,a,c)}catch(a){throw a instanceof TypeError&&(a.message=`Stimulus Value "${this.context.identifier}.${o.name}" - ${a.message}`),a}}}get valueDescriptors(){let{valueDescriptorMap:e}=this;return Object.keys(e).map(r=>e[r])}get valueDescriptorNameMap(){let e={};return Object.keys(this.valueDescriptorMap).forEach(r=>{let n=this.valueDescriptorMap[r];e[n.name]=n}),e}hasValue(e){let r=this.valueDescriptorNameMap[e],n=`has${Ur(r.name)}`;return this.receiver[n]}},vs=class{constructor(e,r){this.context=e,this.delegate=r,this.targetsByName=new bt}start(){this.tokenListObserver||(this.tokenListObserver=new Vn(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:r}){this.scope.containsElement(e)&&this.connectTarget(e,r)}tokenUnmatched({element:e,content:r}){this.disconnectTarget(e,r)}connectTarget(e,r){var n;this.targetsByName.has(r,e)||(this.targetsByName.add(r,e),(n=this.tokenListObserver)===null||n===void 0||n.pause(()=>this.delegate.targetConnected(e,r)))}disconnectTarget(e,r){var n;this.targetsByName.has(r,e)&&(this.targetsByName.delete(r,e),(n=this.tokenListObserver)===null||n===void 0||n.pause(()=>this.delegate.targetDisconnected(e,r)))}disconnectAllTargets(){for(let e of this.targetsByName.keys)for(let r of this.targetsByName.getValuesForKey(e))this.disconnectTarget(r,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}};function Kr(t,e){let r=ol(t);return Array.from(r.reduce((n,i)=>(uh(i,e).forEach(s=>n.add(s)),n),new Set))}function ch(t,e){return ol(t).reduce((n,i)=>(n.push(...fh(i,e)),n),[])}function ol(t){let e=[];for(;t;)e.push(t),t=Object.getPrototypeOf(t);return e.reverse()}function uh(t,e){let r=t[e];return Array.isArray(r)?r:[]}function fh(t,e){let r=t[e];return r?Object.keys(r).map(n=>[n,r[n]]):[]}var bs=class{constructor(e,r){this.started=!1,this.context=e,this.delegate=r,this.outletsByName=new bt,this.outletElementsByName=new bt,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach(e=>{this.setupSelectorObserverForOutlet(e),this.setupAttributeObserverForOutlet(e)}),this.started=!0,this.dependentContexts.forEach(e=>e.refresh()))}refresh(){this.selectorObserverMap.forEach(e=>e.refresh()),this.attributeObserverMap.forEach(e=>e.refresh())}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(e=>e.stop()),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(e=>e.stop()),this.attributeObserverMap.clear())}selectorMatched(e,r,{outletName:n}){let i=this.getOutlet(e,n);i&&this.connectOutlet(i,e,n)}selectorUnmatched(e,r,{outletName:n}){let i=this.getOutletFromMap(e,n);i&&this.disconnectOutlet(i,e,n)}selectorMatchElement(e,{outletName:r}){let n=this.selector(r),i=this.hasOutlet(e,r),s=e.matches(`[${this.schema.controllerAttribute}~=${r}]`);return n?i&&s&&e.matches(n):!1}elementMatchedAttribute(e,r){let n=this.getOutletNameFromOutletAttributeName(r);n&&this.updateSelectorObserverForOutlet(n)}elementAttributeValueChanged(e,r){let n=this.getOutletNameFromOutletAttributeName(r);n&&this.updateSelectorObserverForOutlet(n)}elementUnmatchedAttribute(e,r){let n=this.getOutletNameFromOutletAttributeName(r);n&&this.updateSelectorObserverForOutlet(n)}connectOutlet(e,r,n){var i;this.outletElementsByName.has(n,r)||(this.outletsByName.add(n,e),this.outletElementsByName.add(n,r),(i=this.selectorObserverMap.get(n))===null||i===void 0||i.pause(()=>this.delegate.outletConnected(e,r,n)))}disconnectOutlet(e,r,n){var i;this.outletElementsByName.has(n,r)&&(this.outletsByName.delete(n,e),this.outletElementsByName.delete(n,r),(i=this.selectorObserverMap.get(n))===null||i===void 0||i.pause(()=>this.delegate.outletDisconnected(e,r,n)))}disconnectAllOutlets(){for(let e of this.outletElementsByName.keys)for(let r of this.outletElementsByName.getValuesForKey(e))for(let n of this.outletsByName.getValuesForKey(e))this.disconnectOutlet(n,r,e)}updateSelectorObserverForOutlet(e){let r=this.selectorObserverMap.get(e);r&&(r.selector=this.selector(e))}setupSelectorObserverForOutlet(e){let r=this.selector(e),n=new ds(document.body,r,this,{outletName:e});this.selectorObserverMap.set(e,n),n.start()}setupAttributeObserverForOutlet(e){let r=this.attributeNameForOutletName(e),n=new Fn(this.scope.element,r,this);this.attributeObserverMap.set(e,n),n.start()}selector(e){return this.scope.outlets.getSelectorForOutletName(e)}attributeNameForOutletName(e){return this.scope.schema.outletAttributeForScope(this.identifier,e)}getOutletNameFromOutletAttributeName(e){return this.outletDefinitions.find(r=>this.attributeNameForOutletName(r)===e)}get outletDependencies(){let e=new bt;return this.router.modules.forEach(r=>{let n=r.definition.controllerConstructor;Kr(n,"outlets").forEach(s=>e.add(s,r.identifier))}),e}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){let e=this.dependentControllerIdentifiers;return this.router.contexts.filter(r=>e.includes(r.identifier))}hasOutlet(e,r){return!!this.getOutlet(e,r)||!!this.getOutletFromMap(e,r)}getOutlet(e,r){return this.application.getControllerForElementAndIdentifier(e,r)}getOutletFromMap(e,r){return this.outletsByName.getValuesForKey(r).find(n=>n.element===e)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}},ys=class{constructor(e,r){this.logDebugActivity=(n,i={})=>{let{identifier:s,controller:o,element:a}=this;i=Object.assign({identifier:s,controller:o,element:a},i),this.application.logDebugActivity(this.identifier,n,i)},this.module=e,this.scope=r,this.controller=new e.controllerConstructor(this),this.bindingObserver=new ms(this,this.dispatcher),this.valueObserver=new gs(this,this.controller),this.targetObserver=new vs(this,this),this.outletObserver=new bs(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(n){this.handleError(n,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,r,n={}){let{identifier:i,controller:s,element:o}=this;n=Object.assign({identifier:i,controller:s,element:o},n),this.application.handleError(e,`Error ${r}`,n)}targetConnected(e,r){this.invokeControllerMethod(`${r}TargetConnected`,e)}targetDisconnected(e,r){this.invokeControllerMethod(`${r}TargetDisconnected`,e)}outletConnected(e,r,n){this.invokeControllerMethod(`${cs(n)}OutletConnected`,e,r)}outletDisconnected(e,r,n){this.invokeControllerMethod(`${cs(n)}OutletDisconnected`,e,r)}invokeControllerMethod(e,...r){let n=this.controller;typeof n[e]=="function"&&n[e](...r)}};function hh(t){return dh(t,ph(t))}function dh(t,e){let r=bh(t),n=mh(t.prototype,e);return Object.defineProperties(r.prototype,n),r}function ph(t){return Kr(t,"blessings").reduce((r,n)=>{let i=n(t);for(let s in i){let o=r[s]||{};r[s]=Object.assign(o,i[s])}return r},{})}function mh(t,e){return vh(e).reduce((r,n)=>{let i=gh(t,e,n);return i&&Object.assign(r,{[n]:i}),r},{})}function gh(t,e,r){let n=Object.getOwnPropertyDescriptor(t,r);if(!(n&&"value"in n)){let s=Object.getOwnPropertyDescriptor(e,r).value;return n&&(s.get=n.get||s.get,s.set=n.set||s.set),s}}var vh=typeof Object.getOwnPropertySymbols=="function"?t=>[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)]:Object.getOwnPropertyNames,bh=(()=>{function t(r){function n(){return Reflect.construct(r,arguments,new.target)}return n.prototype=Object.create(r.prototype,{constructor:{value:n}}),Reflect.setPrototypeOf(n,r),n}function e(){let n=t(function(){this.a.call(this)});return n.prototype.a=function(){},new n}try{return e(),t}catch{return n=>class extends n{}}})();function yh(t){return{identifier:t.identifier,controllerConstructor:hh(t.controllerConstructor)}}var ws=class{constructor(e,r){this.application=e,this.definition=yh(r),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){let r=this.fetchContextForScope(e);this.connectedContexts.add(r),r.connect()}disconnectContextForScope(e){let r=this.contextsByScope.get(e);r&&(this.connectedContexts.delete(r),r.disconnect())}fetchContextForScope(e){let r=this.contextsByScope.get(e);return r||(r=new ys(this,e),this.contextsByScope.set(e,r)),r}},xs=class{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){let r=this.data.get(this.getDataKey(e))||"";return eh(r)}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}},Es=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){let r=this.getAttributeNameForKey(e);return this.element.getAttribute(r)}set(e,r){let n=this.getAttributeNameForKey(e);return this.element.setAttribute(n,r),this.get(e)}has(e){let r=this.getAttributeNameForKey(e);return this.element.hasAttribute(r)}delete(e){if(this.has(e)){let r=this.getAttributeNameForKey(e);return this.element.removeAttribute(r),!0}else return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${il(e)}`}},Ts=class{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,r,n){let i=this.warnedKeysByObject.get(e);i||(i=new Set,this.warnedKeysByObject.set(e,i)),i.has(r)||(i.add(r),this.logger.warn(n,e))}};function ks(t,e){return`[${t}~="${e}"]`}var As=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((r,n)=>r||this.findTarget(n)||this.findLegacyTarget(n),void 0)}findAll(...e){return e.reduce((r,n)=>[...r,...this.findAllTargets(n),...this.findAllLegacyTargets(n)],[])}findTarget(e){let r=this.getSelectorForTargetName(e);return this.scope.findElement(r)}findAllTargets(e){let r=this.getSelectorForTargetName(e);return this.scope.findAllElements(r)}getSelectorForTargetName(e){let r=this.schema.targetAttributeForScope(this.identifier);return ks(r,e)}findLegacyTarget(e){let r=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(r),e)}findAllLegacyTargets(e){let r=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(r).map(n=>this.deprecate(n,e))}getLegacySelectorForTargetName(e){let r=`${this.identifier}.${e}`;return ks(this.schema.targetAttribute,r)}deprecate(e,r){if(e){let{identifier:n}=this,i=this.schema.targetAttribute,s=this.schema.targetAttributeForScope(n);this.guide.warn(e,`target:${r}`,`Please replace ${i}="${n}.${r}" with ${s}="${r}". The ${i} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}},_s=class{constructor(e,r){this.scope=e,this.controllerElement=r}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((r,n)=>r||this.findOutlet(n),void 0)}findAll(...e){return e.reduce((r,n)=>[...r,...this.findAllOutlets(n)],[])}getSelectorForOutletName(e){let r=this.schema.outletAttributeForScope(this.identifier,e);return this.controllerElement.getAttribute(r)}findOutlet(e){let r=this.getSelectorForOutletName(e);if(r)return this.findElement(r,e)}findAllOutlets(e){let r=this.getSelectorForOutletName(e);return r?this.findAllElements(r,e):[]}findElement(e,r){return this.scope.queryElements(e).filter(i=>this.matchesElement(i,e,r))[0]}findAllElements(e,r){return this.scope.queryElements(e).filter(i=>this.matchesElement(i,e,r))}matchesElement(e,r,n){let i=e.getAttribute(this.scope.schema.controllerAttribute)||"";return e.matches(r)&&i.split(" ").includes(n)}},Os=class t{constructor(e,r,n,i){this.targets=new As(this),this.classes=new xs(this),this.data=new Es(this),this.containsElement=s=>s.closest(this.controllerSelector)===this.element,this.schema=e,this.element=r,this.identifier=n,this.guide=new Ts(i),this.outlets=new _s(this.documentScope,r)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return ks(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new t(this.schema,document.documentElement,this.identifier,this.guide.logger)}},Ss=class{constructor(e,r,n){this.element=e,this.schema=r,this.delegate=n,this.valueListObserver=new jn(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){let{element:r,content:n}=e;return this.parseValueForElementAndIdentifier(r,n)}parseValueForElementAndIdentifier(e,r){let n=this.fetchScopesByIdentifierForElement(e),i=n.get(r);return i||(i=this.delegate.createScopeForElementAndIdentifier(e,r),n.set(r,i)),i}elementMatchedValue(e,r){let n=(this.scopeReferenceCounts.get(r)||0)+1;this.scopeReferenceCounts.set(r,n),n==1&&this.delegate.scopeConnected(r)}elementUnmatchedValue(e,r){let n=this.scopeReferenceCounts.get(r);n&&(this.scopeReferenceCounts.set(r,n-1),n==1&&this.delegate.scopeDisconnected(r))}fetchScopesByIdentifierForElement(e){let r=this.scopesByIdentifierByElement.get(e);return r||(r=new Map,this.scopesByIdentifierByElement.set(e,r)),r}},Cs=class{constructor(e){this.application=e,this.scopeObserver=new Ss(this.element,this.schema,this),this.scopesByIdentifier=new bt,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((e,r)=>e.concat(r.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);let r=new ws(this.application,e);this.connectModule(r);let n=e.controllerConstructor.afterLoad;n&&n.call(e.controllerConstructor,e.identifier,this.application)}unloadIdentifier(e){let r=this.modulesByIdentifier.get(e);r&&this.disconnectModule(r)}getContextForElementAndIdentifier(e,r){let n=this.modulesByIdentifier.get(r);if(n)return n.contexts.find(i=>i.element==e)}proposeToConnectScopeForElementAndIdentifier(e,r){let n=this.scopeObserver.parseValueForElementAndIdentifier(e,r);n?this.scopeObserver.elementMatchedValue(n.element,n):console.error(`Couldn't find or create scope for identifier: "${r}" and element:`,e)}handleError(e,r,n){this.application.handleError(e,r,n)}createScopeForElementAndIdentifier(e,r){return new Os(this.schema,e,r,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);let r=this.modulesByIdentifier.get(e.identifier);r&&r.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);let r=this.modulesByIdentifier.get(e.identifier);r&&r.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(n=>e.connectContextForScope(n))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(n=>e.disconnectContextForScope(n))}},wh={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:t=>`data-${t}-target`,outletAttributeForScope:(t,e)=>`data-${t}-${e}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},Ja("abcdefghijklmnopqrstuvwxyz".split("").map(t=>[t,t]))),Ja("0123456789".split("").map(t=>[t,t])))};function Ja(t){return t.reduce((e,[r,n])=>Object.assign(Object.assign({},e),{[r]:n}),{})}var zn=class{constructor(e=document.documentElement,r=wh){this.logger=console,this.debug=!1,this.logDebugActivity=(n,i,s={})=>{this.debug&&this.logFormattedMessage(n,i,s)},this.element=e,this.schema=r,this.dispatcher=new ls(this),this.router=new Cs(this),this.actionDescriptorFilters=Object.assign({},Yf)}static start(e,r){let n=new this(e,r);return n.start(),n}async start(){await xh(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,r){this.load({identifier:e,controllerConstructor:r})}registerActionOption(e,r){this.actionDescriptorFilters[e]=r}load(e,...r){(Array.isArray(e)?e:[e,...r]).forEach(i=>{i.controllerConstructor.shouldLoad&&this.router.loadDefinition(i)})}unload(e,...r){(Array.isArray(e)?e:[e,...r]).forEach(i=>this.router.unloadIdentifier(i))}get controllers(){return this.router.contexts.map(e=>e.controller)}getControllerForElementAndIdentifier(e,r){let n=this.router.getContextForElementAndIdentifier(e,r);return n?n.controller:null}handleError(e,r,n){var i;this.logger.error(`%s

%o

%o`,r,e,n),(i=window.onerror)===null||i===void 0||i.call(window,r,"",0,0,e)}logFormattedMessage(e,r,n={}){n=Object.assign({application:this},n),this.logger.groupCollapsed(`${e} #${r}`),this.logger.log("details:",Object.assign({},n)),this.logger.groupEnd()}};function xh(){return new Promise(t=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>t()):t()})}function Eh(t){return Kr(t,"classes").reduce((r,n)=>Object.assign(r,Th(n)),{})}function Th(t){return{[`${t}Class`]:{get(){let{classes:e}=this;if(e.has(t))return e.get(t);{let r=e.getAttributeName(t);throw new Error(`Missing attribute "${r}"`)}}},[`${t}Classes`]:{get(){return this.classes.getAll(t)}},[`has${Ur(t)}Class`]:{get(){return this.classes.has(t)}}}}function kh(t){return Kr(t,"outlets").reduce((r,n)=>Object.assign(r,Ah(n)),{})}function Qa(t,e,r){return t.application.getControllerForElementAndIdentifier(e,r)}function el(t,e,r){let n=Qa(t,e,r);if(n||(t.application.router.proposeToConnectScopeForElementAndIdentifier(e,r),n=Qa(t,e,r),n))return n}function Ah(t){let e=cs(t);return{[`${e}Outlet`]:{get(){let r=this.outlets.find(t),n=this.outlets.getSelectorForOutletName(t);if(r){let i=el(this,r,t);if(i)return i;throw new Error(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${e}Outlets`]:{get(){let r=this.outlets.findAll(t);return r.length>0?r.map(n=>{let i=el(this,n,t);if(i)return i;console.warn(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`,n)}).filter(n=>n):[]}},[`${e}OutletElement`]:{get(){let r=this.outlets.find(t),n=this.outlets.getSelectorForOutletName(t);if(r)return r;throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${e}OutletElements`]:{get(){return this.outlets.findAll(t)}},[`has${Ur(e)}Outlet`]:{get(){return this.outlets.has(t)}}}}function _h(t){return Kr(t,"targets").reduce((r,n)=>Object.assign(r,Oh(n)),{})}function Oh(t){return{[`${t}Target`]:{get(){let e=this.targets.find(t);if(e)return e;throw new Error(`Missing target element "${t}" for "${this.identifier}" controller`)}},[`${t}Targets`]:{get(){return this.targets.findAll(t)}},[`has${Ur(t)}Target`]:{get(){return this.targets.has(t)}}}}function Sh(t){let e=ch(t,"values"),r={valueDescriptorMap:{get(){return e.reduce((n,i)=>{let s=al(i,this.identifier),o=this.data.getAttributeNameForKey(s.key);return Object.assign(n,{[o]:s})},{})}}};return e.reduce((n,i)=>Object.assign(n,Ch(i)),r)}function Ch(t,e){let r=al(t,e),{key:n,name:i,reader:s,writer:o}=r;return{[i]:{get(){let a=this.data.get(n);return a!==null?s(a):r.defaultValue},set(a){a===void 0?this.data.delete(n):this.data.set(n,o(a))}},[`has${Ur(i)}`]:{get(){return this.data.has(n)||r.hasCustomDefaultValue}}}}function al([t,e],r){return Dh({controller:r,token:t,typeDefinition:e})}function Hn(t){switch(t){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function qr(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(t))return"array";if(Object.prototype.toString.call(t)==="[object Object]")return"object"}function Mh(t){let{controller:e,token:r,typeObject:n}=t,i=Xa(n.type),s=Xa(n.default),o=i&&s,a=i&&!s,c=!i&&s,h=Hn(n.type),p=qr(t.typeObject.default);if(a)return h;if(c)return p;if(h!==p){let w=e?`${e}.${r}`:r;throw new Error(`The specified default value for the Stimulus Value "${w}" must match the defined type "${h}". The provided default value of "${n.default}" is of type "${p}".`)}if(o)return h}function Lh(t){let{controller:e,token:r,typeDefinition:n}=t,s=Mh({controller:e,token:r,typeObject:n}),o=qr(n),a=Hn(n),c=s||o||a;if(c)return c;let h=e?`${e}.${n}`:r;throw new Error(`Unknown value type "${h}" for "${r}" value`)}function Rh(t){let e=Hn(t);if(e)return tl[e];let r=us(t,"default"),n=us(t,"type"),i=t;if(r)return i.default;if(n){let{type:s}=i,o=Hn(s);if(o)return tl[o]}return t}function Dh(t){let{token:e,typeDefinition:r}=t,n=`${il(e)}-value`,i=Lh(t);return{type:i,key:n,name:Ms(n),get defaultValue(){return Rh(r)},get hasCustomDefaultValue(){return qr(r)!==void 0},reader:Ih[i],writer:rl[i]||rl.default}}var tl={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},Ih={array(t){let e=JSON.parse(t);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${t}" of type "${qr(e)}"`);return e},boolean(t){return!(t=="0"||String(t).toLowerCase()=="false")},number(t){return Number(t.replace(/_/g,""))},object(t){let e=JSON.parse(t);if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${t}" of type "${qr(e)}"`);return e},string(t){return t}},rl={default:Ph,array:nl,object:nl};function nl(t){return JSON.stringify(t)}function Ph(t){return`${t}`}var oe=class{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,r){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:r=this.element,detail:n={},prefix:i=this.identifier,bubbles:s=!0,cancelable:o=!0}={}){let a=i?`${i}:${e}`:e,c=new CustomEvent(a,{detail:n,bubbles:s,cancelable:o});return r.dispatchEvent(c),c}};oe.blessings=[Eh,_h,Sh,kh];oe.targets=[];oe.outlets=[];oe.values={};var Wn=class extends oe{static targets=["links","content","menu"];static values={headerSelector:String,offset:Number,clipboardSuccess:String};connect(){if(!(this.hasContentTarget&&this.hasLinksTarget&&this.hasMenuTarget)){this.menuTarget&&this.menuTarget.remove();return}this.#e();let e=window.location.hash.replace("#","");document.getElementById(e)?.scrollIntoView({behavior:"instant",block:"start"})}disconnect(){window.removeEventListener("scroll",this.#r.bind(this))}#e(){let t=this.#t(this.headings);t.children.length>0?(this.#n(t,this.linksTarget),window.addEventListener("scroll",this.#r.bind(this)),this.#r(),this.element.classList.add("has-toc")):(this.element.classList.remove("has-toc"),this.menuTarget.style.display="none")}#t(t){let e={level:0,children:[]},r=e;return t.forEach((n,i)=>{if(n.textContent.trim()==="")return;let s=parseInt(n.tagName.substr(1),10),o=this.#i(n,s,i);n.style.position="relative";let a=this.headerHeight+Number(this.offsetValue);n.insertAdjacentHTML("beforeend",`<div js-position style="position: absolute; top: -${a}px; left: 0; width: 0; height: 0" id="${o}"></div>`),n.insertAdjacentHTML("beforeend",'<a name="'+o+'"></a>');let c={level:s,id:o,text:n.textContent,children:[]};if(s>r.level)r.children.push(c);else{for(;s<=r.level&&r!==e;)r=r.parent;r.children.push(c)}c.parent=r,r=c}),e}#n(t,e,r=0){if(t.children.length==0)return;let n=document.createElement("ul");return t.children.forEach(i=>{let s=document.createElement("li"),o=document.createElement("button");o.type="button",o.textContent=i.text,o.dataset.action="toc#navigateToAnchor",o.dataset.tocAnchorParam=i.id,s.appendChild(o),n.appendChild(s);let a=document.getElementById(i.id);if(!a)return;let c=a.parentElement;if(!c)return;c.style.position="relative",c.classList.add("group");let h=document.createElement("span");h.className="inline-flex items-center align-middle ml-1",h.setAttribute("data-controller","clipboard"),h.setAttribute("data-clipboard-success-value",this.clipboardSuccessValue),h.style.verticalAlign="middle";let p=`
        <input type="hidden" value="${window.location.href.split("#")[0]}#${i.id}" data-clipboard-target="source" />
        <button type="button" data-action="clipboard#copy" data-clipboard-target="button" class="inline-flex ml-1 opacity-0 group-hover:opacity-100">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-300 group-hover:text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
          </svg>
        </button>
      `;h.innerHTML=p,c.appendChild(h);let w=Array.from(c.childNodes).filter(b=>b.nodeType===Node.TEXT_NODE||b.nodeType===Node.ELEMENT_NODE&&!b.hasAttribute("data-controller")&&!b.hasAttribute("js-position")).pop();if(w&&w.nextSibling&&c.insertBefore(h,w.nextSibling),i.children.length>0){let b=this.#n(i,s,r+1);s.appendChild(b)}}),e.appendChild(n),n}#i(t,e,r){return t.id||`heading-menu-h${e}-${r}`}#r(t){this.hightLightTimer&&clearTimeout(this.hightLightTimer),this.hightLightTimer=setTimeout(()=>{let e=Array.from(this.linksTarget.querySelectorAll("[data-toc-anchor-param]")),r=null;for(let n=0;n<this.headings.length;n++){let i=this.headings[n],s=e.find(o=>o.dataset.tocAnchorParam===i.querySelector("[js-position]")?.id);if(s&&this.isHeadingInView(i)){r=s;break}}r&&(e.forEach(n=>n.classList.remove("text-primary","font-bold")),r.classList.add("text-primary","font-bold"),r.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}))},1)}isHeadingInView(t){let e=t.getBoundingClientRect();return e.top>=this.headerHeight&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}navigateToAnchor(t){let{anchor:e}=t.params,r=document.getElementById(e);if(r){let n=this.headerHeight,o={top:r.getBoundingClientRect().top-n,behavior:"smooth"};window.scrollBy(0,-n),window.scrollBy(o)}}fncAnimation=t=>(window.setTimeout(t,1e3/60),t);get headings(){return Array.from(this.contentTarget.querySelectorAll("h1, h2, h3, h4, h5, h6"))}get headerHeight(){if(!this.hasHeaderSelectorValue||!this.headerSelectorValue)return 0;let t=document.querySelector(this.headerSelectorValue);return t?t.offsetHeight:0}};var cl=Dc(ll());var qn=class extends oe{connect(){let t=this.element.getElementsByTagName("img");Array.from(t).forEach(r=>{r.addEventListener("click",this.openViewer)})}openViewer=t=>{let e=t.currentTarget,r=new cl.default(this.element,{toolbar:{zoomIn:1,zoomOut:1,oneToOne:1,reset:1,prev:1,play:{show:1,size:"large"},next:1,rotateLeft:1,rotateRight:1,flipHorizontal:1,flipVertical:1}});console.log("openViewer",e),r.view(e)}};var Un=class extends oe{static targets=["item"];static classes=["active"];connect(){if(this.#e(),this.itemTargets.forEach(t=>{t.addEventListener("click",e=>{this.itemTargets.forEach(r=>{r.classList.remove(this.activeClass)}),t.classList.add(this.activeClass)})}),this.activeDom){let e=this.activeDom.getBoundingClientRect().top-this.element.parentElement.offsetHeight/3;this.element.parentElement.scrollTo({top:e,behavior:"instant"})}}disconnect(){this.setTimeout&&clearTimeout(this.setTimeout)}#e(){this.itemTargets.forEach(t=>{let e;if(t.tagName==="SUMMARY"?e=t.querySelector("a"):e=t,e&&e.getAttribute("href")===window.location.pathname){t.classList.add(this.activeClass),this.activeDom=t;let r=t.closest("details");for(;r;)r.setAttribute("open",""),r=r.parentElement.closest("details")}else t.classList.remove(this.activeClass)})}};var Nh=Object.prototype.toString,Ar=Array.isArray||function(e){return Nh.call(e)==="[object Array]"};function Is(t){return typeof t=="function"}function $h(t){return Ar(t)?"array":typeof t}function Ds(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function ul(t,e){return t!=null&&typeof t=="object"&&e in t}function Bh(t,e){return t!=null&&typeof t!="object"&&t.hasOwnProperty&&t.hasOwnProperty(e)}var Fh=RegExp.prototype.test;function Vh(t,e){return Fh.call(t,e)}var jh=/\S/;function zh(t){return!Vh(jh,t)}var Hh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function Wh(t){return String(t).replace(/[&<>"'`=\/]/g,function(r){return Hh[r]})}var qh=/\s*/,Uh=/\s+/,fl=/\s*=/,Kh=/\s*\}/,Yh=/#|\^|\/|>|\{|&|=|!/;function Xh(t,e){if(!t)return[];var r=!1,n=[],i=[],s=[],o=!1,a=!1,c="",h=0;function p(){if(o&&!a)for(;s.length;)delete i[s.pop()];else s=[];o=!1,a=!1}var w,b,k;function M(W){if(typeof W=="string"&&(W=W.split(Uh,2)),!Ar(W)||W.length!==2)throw new Error("Invalid tags: "+W);w=new RegExp(Ds(W[0])+"\\s*"),b=new RegExp("\\s*"+Ds(W[1])),k=new RegExp("\\s*"+Ds("}"+W[1]))}M(e||qe.tags);for(var E=new Xr(t),T,C,L,N,g,$;!E.eos();){if(T=E.pos,L=E.scanUntil(w),L)for(var O=0,j=L.length;O<j;++O)N=L.charAt(O),zh(N)?(s.push(i.length),c+=N):(a=!0,r=!0,c+=" "),i.push(["text",N,T,T+1]),T+=1,N===`
`&&(p(),c="",h=0,r=!1);if(!E.scan(w))break;if(o=!0,C=E.scan(Yh)||"name",E.scan(qh),C==="="?(L=E.scanUntil(fl),E.scan(fl),E.scanUntil(b)):C==="{"?(L=E.scanUntil(k),E.scan(Kh),E.scanUntil(b),C="&"):L=E.scanUntil(b),!E.scan(b))throw new Error("Unclosed tag at "+E.pos);if(C==">"?g=[C,L,T,E.pos,c,h,r]:g=[C,L,T,E.pos],h++,i.push(g),C==="#"||C==="^")n.push(g);else if(C==="/"){if($=n.pop(),!$)throw new Error('Unopened section "'+L+'" at '+T);if($[1]!==L)throw new Error('Unclosed section "'+$[1]+'" at '+T)}else C==="name"||C==="{"||C==="&"?a=!0:C==="="&&M(L)}if(p(),$=n.pop(),$)throw new Error('Unclosed section "'+$[1]+'" at '+E.pos);return Gh(Zh(i))}function Zh(t){for(var e=[],r,n,i=0,s=t.length;i<s;++i)r=t[i],r&&(r[0]==="text"&&n&&n[0]==="text"?(n[1]+=r[1],n[3]=r[3]):(e.push(r),n=r));return e}function Gh(t){for(var e=[],r=e,n=[],i,s,o=0,a=t.length;o<a;++o)switch(i=t[o],i[0]){case"#":case"^":r.push(i),n.push(i),r=i[4]=[];break;case"/":s=n.pop(),s[5]=i[2],r=n.length>0?n[n.length-1][4]:e;break;default:r.push(i)}return e}function Xr(t){this.string=t,this.tail=t,this.pos=0}Xr.prototype.eos=function(){return this.tail===""};Xr.prototype.scan=function(e){var r=this.tail.match(e);if(!r||r.index!==0)return"";var n=r[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n};Xr.prototype.scanUntil=function(e){var r=this.tail.search(e),n;switch(r){case-1:n=this.tail,this.tail="";break;case 0:n="";break;default:n=this.tail.substring(0,r),this.tail=this.tail.substring(r)}return this.pos+=n.length,n};function kr(t,e){this.view=t,this.cache={".":this.view},this.parent=e}kr.prototype.push=function(e){return new kr(e,this)};kr.prototype.lookup=function(e){var r=this.cache,n;if(r.hasOwnProperty(e))n=r[e];else{for(var i=this,s,o,a,c=!1;i;){if(e.indexOf(".")>0)for(s=i.view,o=e.split("."),a=0;s!=null&&a<o.length;)a===o.length-1&&(c=ul(s,o[a])||Bh(s,o[a])),s=s[o[a++]];else s=i.view[e],c=ul(i.view,e);if(c){n=s;break}i=i.parent}r[e]=n}return Is(n)&&(n=n.call(this.view)),n};function Pe(){this.templateCache={_cache:{},set:function(e,r){this._cache[e]=r},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}Pe.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};Pe.prototype.parse=function(e,r){var n=this.templateCache,i=e+":"+(r||qe.tags).join(":"),s=typeof n<"u",o=s?n.get(i):void 0;return o==null&&(o=Xh(e,r),s&&n.set(i,o)),o};Pe.prototype.render=function(e,r,n,i){var s=this.getConfigTags(i),o=this.parse(e,s),a=r instanceof kr?r:new kr(r,void 0);return this.renderTokens(o,a,n,e,i)};Pe.prototype.renderTokens=function(e,r,n,i,s){for(var o="",a,c,h,p=0,w=e.length;p<w;++p)h=void 0,a=e[p],c=a[0],c==="#"?h=this.renderSection(a,r,n,i,s):c==="^"?h=this.renderInverted(a,r,n,i,s):c===">"?h=this.renderPartial(a,r,n,s):c==="&"?h=this.unescapedValue(a,r):c==="name"?h=this.escapedValue(a,r,s):c==="text"&&(h=this.rawValue(a)),h!==void 0&&(o+=h);return o};Pe.prototype.renderSection=function(e,r,n,i,s){var o=this,a="",c=r.lookup(e[1]);function h(b){return o.render(b,r,n,s)}if(c){if(Ar(c))for(var p=0,w=c.length;p<w;++p)a+=this.renderTokens(e[4],r.push(c[p]),n,i,s);else if(typeof c=="object"||typeof c=="string"||typeof c=="number")a+=this.renderTokens(e[4],r.push(c),n,i,s);else if(Is(c)){if(typeof i!="string")throw new Error("Cannot use higher-order sections without the original template");c=c.call(r.view,i.slice(e[3],e[5]),h),c!=null&&(a+=c)}else a+=this.renderTokens(e[4],r,n,i,s);return a}};Pe.prototype.renderInverted=function(e,r,n,i,s){var o=r.lookup(e[1]);if(!o||Ar(o)&&o.length===0)return this.renderTokens(e[4],r,n,i,s)};Pe.prototype.indentPartial=function(e,r,n){for(var i=r.replace(/[^ \t]/g,""),s=e.split(`
`),o=0;o<s.length;o++)s[o].length&&(o>0||!n)&&(s[o]=i+s[o]);return s.join(`
`)};Pe.prototype.renderPartial=function(e,r,n,i){if(n){var s=this.getConfigTags(i),o=Is(n)?n(e[1]):n[e[1]];if(o!=null){var a=e[6],c=e[5],h=e[4],p=o;c==0&&h&&(p=this.indentPartial(o,h,a));var w=this.parse(p,s);return this.renderTokens(w,r,n,p,i)}}};Pe.prototype.unescapedValue=function(e,r){var n=r.lookup(e[1]);if(n!=null)return n};Pe.prototype.escapedValue=function(e,r,n){var i=this.getConfigEscape(n)||qe.escape,s=r.lookup(e[1]);if(s!=null)return typeof s=="number"&&i===qe.escape?String(s):i(s)};Pe.prototype.rawValue=function(e){return e[1]};Pe.prototype.getConfigTags=function(e){return Ar(e)?e:e&&typeof e=="object"?e.tags:void 0};Pe.prototype.getConfigEscape=function(e){if(e&&typeof e=="object"&&!Ar(e))return e.escape};var qe={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){Yr.templateCache=t},get templateCache(){return Yr.templateCache}},Yr=new Pe;qe.clearCache=function(){return Yr.clearCache()};qe.parse=function(e,r){return Yr.parse(e,r)};qe.render=function(e,r,n,i){if(typeof e!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+$h(e)+'" was given as the first argument for mustache#render(template, view, partials)');return Yr.render(e,r,n,i)};qe.escape=Wh;qe.Scanner=Xr;qe.Context=kr;qe.Writer=Pe;var hl=qe;var Kn=class extends oe{static values={navTree:Array,depth:Number,parentPath:String,url:String,currentPath:String,idPrefix:String,containerStyle:String,rootContainer:String,itemStyle:String,itemActiveClass:String,linkTurboFrame:String,linkTurboFrameAction:String,linkTurbo:Boolean,expand:{type:Boolean,default:!1}};static targets=["itemTemplate"];connect(){if(this.currentPath=this.hasCurrentPathValue?this.currentPath:window.location.pathname,this.menuContainer=this.rootContainer(),this.element.dataset.rendered==="true"){this.refreshActiveState();return}this.element.dataset.rendered="true",this.itemTemplate=this.hasItemTemplateTarget?this.itemTemplateTarget.innerHTML.trim():null,this.renderTree(this.navTreeValue||[],this.depthValue||0,this.element)}disconnect(){}refreshActiveState=()=>{let t=this.currentPath,e=this.menuContainer.querySelector(`a[href='${t}']`);e&&(this.menuContainer.querySelectorAll("li[active]").forEach(r=>{r.querySelector("[turbo-nav-tree-children-container]")?.classList.remove("opacity-0")}),this.getParents(e,"li",this.menuContainer).forEach(r=>{this.treeContainerToggle(r,!0)}),this.click({currentTarget:e}))};renderTree(t,e,r){if(r.rendered)return;let n=document.createElement("ul");n.className=this.hasContainerStyleValue?this.containerStyleValue:"w-full space-y-1",requestAnimationFrame(()=>{t.forEach(i=>{let s=document.createElement("li");s.className=this.hasItemStyleValue?this.itemStyleValue:"";let o=this.expandValue?!0:this.isPathActive(i),a=o||this.hasActiveChild(i),c=i.children?.length>0,h=i.children?.length==0&&i.children_count>0,p=this.renderItem(i,e,a,o);s.innerHTML=p;let w=s.children[0];w.setAttribute("turbo-nav-tree-item","");let b=document.createElement("div");b.setAttribute("turbo-nav-tree-children-container",""),b.classList.add("transition-all","duration-300"),b.hidden=!a,o&&(s.setAttribute("active",""),this.isPathActive(i,!1)&&(w.setAttribute("active",""),requestAnimationFrame(()=>{s.scrollIntoView({behavior:"smooth",block:"center"})}))),c&&this.renderTree(i.children,e+1,b),h&&this.appendTurboFrame(b,i,e+1),s.appendChild(b),n.appendChild(s)}),r.appendChild(n)}),r.rendered=!0}appendTurboFrame(t,e,r){let n=document.createElement("turbo-frame");n.classList.add("w-full");let i=this.hasIdPrefixValue?this.idPrefixValue:"nav_tree_frame_";n.id=`${i}${e.path.replaceAll("/","_")}`;let s=this.urlValue.split("?")[0],o=new URLSearchParams;o.set("parent_path",e.path),o.set("depth",r),n.src=`${s}?${o.toString()}`,n.loading="lazy",n.innerHTML=`
      <div class="flex items-center justify-center h-12 text-base-content/60">
        <span class="loading loading-spinner loading-sm"></span>
      </div>
    `,t.appendChild(n)}toggle(t){let{onlyOpen:e=!1}=t.params,n=t.currentTarget.closest("li");if(e&&n.hasAttribute("active"))return;let i=n.querySelector("[turbo-nav-tree-children-container]");this.treeContainerToggle(n,i.hidden)}treeContainerToggle(t,e){let r=t.querySelector("[turbo-nav-tree-children-container]");if(!(r&&r.children.length>0))return;e?(r.hidden=!1,r.classList.add("opacity-0"),requestAnimationFrame(()=>{r.classList.remove("opacity-0"),r.classList.add("opacity-100")})):(r.hidden=!0,r.classList.add("opacity-100"),requestAnimationFrame(()=>{r.classList.remove("opacity-100"),r.classList.add("opacity-0")}));let n=t.querySelector("[turbo-nav-tree-item-target-icon]");n.classList.add("transition-transform","duration-300","peer-hover:text-primary"),n.classList.toggle("rotate-90",e)}click(t){let e=t.currentTarget,r=e.closest("li");this.menuContainer?.querySelectorAll("[active]").forEach(n=>{n.removeAttribute("active")}),this.getParents(e,"li").forEach(n=>{n.setAttribute("active","")}),r.querySelector("[turbo-nav-tree-item]")?.setAttribute("active",""),this.treeContainerToggle(r,!0)}renderItem(t,e,r=!1,n=!1){let i=t.children_count>0,s=[];this.hasLinkTurboFrameValue&&this.linkTurboFrameValue&&s.push(`data-turbo-frame="${this.linkTurboFrameValue}"`),this.hasLinkTurboFrameActionValue&&this.linkTurboFrameActionValue&&s.push(`data-turbo-action="${this.linkTurboFrameActionValue}"`),this.hasLinkTurboValue&&this.linkTurboValue===!1&&(s=['data-turbo="false"']);let o="";return this.itemTemplate?o=this.itemTemplate:(o=`
        <div class="flex items-center">
          <a href="{{path}}"
            ${s.join(" ")}
            class="block hover:underline"
            style="padding-left: {{padding}}rem">
            {{link_text}}
          </a>
        </div>
      `,i&&(o=`
          <div class="flex items-center" data-action="click->turbo-nav-tree#toggle">
            <a href="{{path}}"
              ${s.join(" ")}
              class="block hover:underline"
              style="padding-left: {{padding}}rem">
              {{{link_text}}}
            </a>
            <!-- \u6709\u5B50\u8282\u70B9\u65F6\u663E\u793A toggle \u6309\u94AE -->
            <div turbo-nav-tree-item-target-icon class="inline-block ml-auto mr-1 ${r?"rotate-90":""}">
              <svg class="w-4 h-4 opacity-70 transition-transform duration-200"
                  fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path d="M9 6l6 6-6 6"/>
              </svg>
            </div>
          </div>
        `)),hl.render(o,{...t,depth:e,padding:e*1.25,hasChildren:i,open:r,isActive:n})}isPathActive(t,e=!0){if(e){let r=this.currentPath.split("/").filter(Boolean),n=t.path.split("/").filter(Boolean);return n.length>r.length?!1:n.every((i,s)=>r[s]===i)}else return t.path==this.currentPath}hasActiveChild(t){return!t.children||t.children.length===0?!1:t.children.some(e=>this.isPathActive(e)||this.hasActiveChild(e))}getParents(t,e,r=null){if(!t)return;let n=[],i=t.parentElement;for(;i&&i!==r;)i.matches(e)&&n.push(i),i=i.parentElement;return n}rootContainer(){return this.hasRootContainerValue?this.element.closest(this.rootContainerValue):this.getParents(this.element.querySelector("li"),"ul").at(-1)}};var Yn=class extends oe{static targets=["autoIcon","lightIcon","darkIcon","currentIcon"];connect(){this.systemThemeMediaQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.systemThemeMediaQuery.addEventListener("change",this.handleSystemThemeChange.bind(this)),this.#e(this.theme),document.addEventListener("turbo:load",()=>{this.#e(this.theme)})}disconnect(){this.systemThemeMediaQuery.removeEventListener("change",this.handleSystemThemeChange.bind(this))}handleSystemThemeChange(){this.theme=="auto"&&this.#e(this.systemDark?"dark":"light")}toggle(t){let{mode:e}=t.params;this.theme=e,this.#e(e)}get theme(){let t=localStorage.getItem("theme");return t=="light"||t=="dark"?t:"auto"}set theme(t){t=="light"||t=="dark"?localStorage.setItem("theme",t):localStorage.removeItem("theme")}get systemDark(){return this.systemThemeMediaQuery.matches}#e(t){switch(t){case"dark":this.element.dataset.theme="dark",this.element.classList.add("dark");break;case"light":this.element.dataset.theme="light",this.element.classList.remove("dark");break;default:let e=this.systemDark;this.element.dataset.theme=e?"dark":"light",this.element.classList.toggle("dark",e);break}this.#t(t)}#t(t){let e=null;switch(t){case"light":e=this.lightIconTarget;break;case"dark":e=this.darkIconTarget;break;case"auto":default:e=this.autoIconTarget;break}e=e.cloneNode(!0),e.setAttribute("data-theme-target",this.currentIconTarget.dataset.themeTarget),e.setAttribute("class",this.currentIconTarget.classList),this.currentIconTarget.outerHTML=e.outerHTML}};var he="top",Te="bottom",ye="right",ge="left",Xn="auto",$t=[he,Te,ye,ge],yt="start",nr="end",dl="clippingParents",Zn="viewport",_r="popper",pl="reference",Ps=$t.reduce(function(t,e){return t.concat([e+"-"+yt,e+"-"+nr])},[]),Gn=[].concat($t,[Xn]).reduce(function(t,e){return t.concat([e,e+"-"+yt,e+"-"+nr])},[]),Jh="beforeRead",Qh="read",ed="afterRead",td="beforeMain",rd="main",nd="afterMain",id="beforeWrite",sd="write",od="afterWrite",ml=[Jh,Qh,ed,td,rd,nd,id,sd,od];function Oe(t){return t?(t.nodeName||"").toLowerCase():null}function ae(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ue(t){var e=ae(t).Element;return t instanceof e||t instanceof Element}function ke(t){var e=ae(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Or(t){if(typeof ShadowRoot>"u")return!1;var e=ae(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function ad(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},s=e.elements[r];!ke(s)||!Oe(s)||(Object.assign(s.style,n),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function ld(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],s=e.attributes[n]||{},o=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),a=o.reduce(function(c,h){return c[h]="",c},{});!ke(i)||!Oe(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(c){i.removeAttribute(c)}))})}}var Zr={name:"applyStyles",enabled:!0,phase:"write",fn:ad,effect:ld,requires:["computeStyles"]};function Se(t){return t.split("-")[0]}var nt=Math.max,ir=Math.min,wt=Math.round;function Sr(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Gr(){return!/^((?!chrome|android).)*safari/i.test(Sr())}function Ke(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,s=1;e&&ke(t)&&(i=t.offsetWidth>0&&wt(n.width)/t.offsetWidth||1,s=t.offsetHeight>0&&wt(n.height)/t.offsetHeight||1);var o=Ue(t)?ae(t):window,a=o.visualViewport,c=!Gr()&&r,h=(n.left+(c&&a?a.offsetLeft:0))/i,p=(n.top+(c&&a?a.offsetTop:0))/s,w=n.width/i,b=n.height/s;return{width:w,height:b,top:p,right:h+w,bottom:p+b,left:h,x:h,y:p}}function sr(t){var e=Ke(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function Jr(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&Or(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Ne(t){return ae(t).getComputedStyle(t)}function Ns(t){return["table","td","th"].indexOf(Oe(t))>=0}function Le(t){return((Ue(t)?t.ownerDocument:t.document)||window.document).documentElement}function xt(t){return Oe(t)==="html"?t:t.assignedSlot||t.parentNode||(Or(t)?t.host:null)||Le(t)}function gl(t){return!ke(t)||Ne(t).position==="fixed"?null:t.offsetParent}function cd(t){var e=/firefox/i.test(Sr()),r=/Trident/i.test(Sr());if(r&&ke(t)){var n=Ne(t);if(n.position==="fixed")return null}var i=xt(t);for(Or(i)&&(i=i.host);ke(i)&&["html","body"].indexOf(Oe(i))<0;){var s=Ne(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function it(t){for(var e=ae(t),r=gl(t);r&&Ns(r)&&Ne(r).position==="static";)r=gl(r);return r&&(Oe(r)==="html"||Oe(r)==="body"&&Ne(r).position==="static")?e:r||cd(t)||e}function or(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ar(t,e,r){return nt(t,ir(e,r))}function vl(t,e,r){var n=ar(t,e,r);return n>r?r:n}function Qr(){return{top:0,right:0,bottom:0,left:0}}function en(t){return Object.assign({},Qr(),t)}function tn(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var ud=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,en(typeof e!="number"?e:tn(e,$t))};function fd(t){var e,r=t.state,n=t.name,i=t.options,s=r.elements.arrow,o=r.modifiersData.popperOffsets,a=Se(r.placement),c=or(a),h=[ge,ye].indexOf(a)>=0,p=h?"height":"width";if(!(!s||!o)){var w=ud(i.padding,r),b=sr(s),k=c==="y"?he:ge,M=c==="y"?Te:ye,E=r.rects.reference[p]+r.rects.reference[c]-o[c]-r.rects.popper[p],T=o[c]-r.rects.reference[c],C=it(s),L=C?c==="y"?C.clientHeight||0:C.clientWidth||0:0,N=E/2-T/2,g=w[k],$=L-b[p]-w[M],O=L/2-b[p]/2+N,j=ar(g,O,$),W=c;r.modifiersData[n]=(e={},e[W]=j,e.centerOffset=j-O,e)}}function hd(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Jr(e.elements.popper,i)&&(e.elements.arrow=i))}var bl={name:"arrow",enabled:!0,phase:"main",fn:fd,effect:hd,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ye(t){return t.split("-")[1]}var dd={top:"auto",right:"auto",bottom:"auto",left:"auto"};function pd(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:wt(r*i)/i||0,y:wt(n*i)/i||0}}function yl(t){var e,r=t.popper,n=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,c=t.gpuAcceleration,h=t.adaptive,p=t.roundOffsets,w=t.isFixed,b=o.x,k=b===void 0?0:b,M=o.y,E=M===void 0?0:M,T=typeof p=="function"?p({x:k,y:E}):{x:k,y:E};k=T.x,E=T.y;var C=o.hasOwnProperty("x"),L=o.hasOwnProperty("y"),N=ge,g=he,$=window;if(h){var O=it(r),j="clientHeight",W="clientWidth";if(O===ae(r)&&(O=Le(r),Ne(O).position!=="static"&&a==="absolute"&&(j="scrollHeight",W="scrollWidth")),O=O,i===he||(i===ge||i===ye)&&s===nr){g=Te;var Z=w&&O===$&&$.visualViewport?$.visualViewport.height:O[j];E-=Z-n.height,E*=c?1:-1}if(i===ge||(i===he||i===Te)&&s===nr){N=ye;var ee=w&&O===$&&$.visualViewport?$.visualViewport.width:O[W];k-=ee-n.width,k*=c?1:-1}}var de=Object.assign({position:a},h&&dd),re=p===!0?pd({x:k,y:E},ae(r)):{x:k,y:E};if(k=re.x,E=re.y,c){var z;return Object.assign({},de,(z={},z[g]=L?"0":"",z[N]=C?"0":"",z.transform=($.devicePixelRatio||1)<=1?"translate("+k+"px, "+E+"px)":"translate3d("+k+"px, "+E+"px, 0)",z))}return Object.assign({},de,(e={},e[g]=L?E+"px":"",e[N]=C?k+"px":"",e.transform="",e))}function md(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,s=r.adaptive,o=s===void 0?!0:s,a=r.roundOffsets,c=a===void 0?!0:a,h={placement:Se(e.placement),variation:Ye(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,yl(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,yl(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var wl={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:md,data:{}};var Jn={passive:!0};function gd(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,s=i===void 0?!0:i,o=n.resize,a=o===void 0?!0:o,c=ae(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&h.forEach(function(p){p.addEventListener("scroll",r.update,Jn)}),a&&c.addEventListener("resize",r.update,Jn),function(){s&&h.forEach(function(p){p.removeEventListener("scroll",r.update,Jn)}),a&&c.removeEventListener("resize",r.update,Jn)}}var xl={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:gd,data:{}};var vd={left:"right",right:"left",bottom:"top",top:"bottom"};function Cr(t){return t.replace(/left|right|bottom|top/g,function(e){return vd[e]})}var bd={start:"end",end:"start"};function Qn(t){return t.replace(/start|end/g,function(e){return bd[e]})}function lr(t){var e=ae(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function cr(t){return Ke(Le(t)).left+lr(t).scrollLeft}function $s(t,e){var r=ae(t),n=Le(t),i=r.visualViewport,s=n.clientWidth,o=n.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;var h=Gr();(h||!h&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a+cr(t),y:c}}function Bs(t){var e,r=Le(t),n=lr(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=nt(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=nt(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-n.scrollLeft+cr(t),c=-n.scrollTop;return Ne(i||r).direction==="rtl"&&(a+=nt(r.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:c}}function ur(t){var e=Ne(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function ei(t){return["html","body","#document"].indexOf(Oe(t))>=0?t.ownerDocument.body:ke(t)&&ur(t)?t:ei(xt(t))}function Bt(t,e){var r;e===void 0&&(e=[]);var n=ei(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),s=ae(n),o=i?[s].concat(s.visualViewport||[],ur(n)?n:[]):n,a=e.concat(o);return i?a:a.concat(Bt(xt(o)))}function Mr(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function yd(t,e){var r=Ke(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function El(t,e,r){return e===Zn?Mr($s(t,r)):Ue(e)?yd(e,r):Mr(Bs(Le(t)))}function wd(t){var e=Bt(xt(t)),r=["absolute","fixed"].indexOf(Ne(t).position)>=0,n=r&&ke(t)?it(t):t;return Ue(n)?e.filter(function(i){return Ue(i)&&Jr(i,n)&&Oe(i)!=="body"}):[]}function Fs(t,e,r,n){var i=e==="clippingParents"?wd(t):[].concat(e),s=[].concat(i,[r]),o=s[0],a=s.reduce(function(c,h){var p=El(t,h,n);return c.top=nt(p.top,c.top),c.right=ir(p.right,c.right),c.bottom=ir(p.bottom,c.bottom),c.left=nt(p.left,c.left),c},El(t,o,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function rn(t){var e=t.reference,r=t.element,n=t.placement,i=n?Se(n):null,s=n?Ye(n):null,o=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,c;switch(i){case he:c={x:o,y:e.y-r.height};break;case Te:c={x:o,y:e.y+e.height};break;case ye:c={x:e.x+e.width,y:a};break;case ge:c={x:e.x-r.width,y:a};break;default:c={x:e.x,y:e.y}}var h=i?or(i):null;if(h!=null){var p=h==="y"?"height":"width";switch(s){case yt:c[h]=c[h]-(e[p]/2-r[p]/2);break;case nr:c[h]=c[h]+(e[p]/2-r[p]/2);break;default:}}return c}function st(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,s=r.strategy,o=s===void 0?t.strategy:s,a=r.boundary,c=a===void 0?dl:a,h=r.rootBoundary,p=h===void 0?Zn:h,w=r.elementContext,b=w===void 0?_r:w,k=r.altBoundary,M=k===void 0?!1:k,E=r.padding,T=E===void 0?0:E,C=en(typeof T!="number"?T:tn(T,$t)),L=b===_r?pl:_r,N=t.rects.popper,g=t.elements[M?L:b],$=Fs(Ue(g)?g:g.contextElement||Le(t.elements.popper),c,p,o),O=Ke(t.elements.reference),j=rn({reference:O,element:N,strategy:"absolute",placement:i}),W=Mr(Object.assign({},N,j)),Z=b===_r?W:O,ee={top:$.top-Z.top+C.top,bottom:Z.bottom-$.bottom+C.bottom,left:$.left-Z.left+C.left,right:Z.right-$.right+C.right},de=t.modifiersData.offset;if(b===_r&&de){var re=de[i];Object.keys(ee).forEach(function(z){var we=[ye,Te].indexOf(z)>=0?1:-1,ve=[he,Te].indexOf(z)>=0?"y":"x";ee[z]+=re[ve]*we})}return ee}function Vs(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,s=r.rootBoundary,o=r.padding,a=r.flipVariations,c=r.allowedAutoPlacements,h=c===void 0?Gn:c,p=Ye(n),w=p?a?Ps:Ps.filter(function(M){return Ye(M)===p}):$t,b=w.filter(function(M){return h.indexOf(M)>=0});b.length===0&&(b=w);var k=b.reduce(function(M,E){return M[E]=st(t,{placement:E,boundary:i,rootBoundary:s,padding:o})[Se(E)],M},{});return Object.keys(k).sort(function(M,E){return k[M]-k[E]})}function xd(t){if(Se(t)===Xn)return[];var e=Cr(t);return[Qn(t),e,Qn(e)]}function Ed(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,s=i===void 0?!0:i,o=r.altAxis,a=o===void 0?!0:o,c=r.fallbackPlacements,h=r.padding,p=r.boundary,w=r.rootBoundary,b=r.altBoundary,k=r.flipVariations,M=k===void 0?!0:k,E=r.allowedAutoPlacements,T=e.options.placement,C=Se(T),L=C===T,N=c||(L||!M?[Cr(T)]:xd(T)),g=[T].concat(N).reduce(function(ze,ie){return ze.concat(Se(ie)===Xn?Vs(e,{placement:ie,boundary:p,rootBoundary:w,padding:h,flipVariations:M,allowedAutoPlacements:E}):ie)},[]),$=e.rects.reference,O=e.rects.popper,j=new Map,W=!0,Z=g[0],ee=0;ee<g.length;ee++){var de=g[ee],re=Se(de),z=Ye(de)===yt,we=[he,Te].indexOf(re)>=0,ve=we?"width":"height",Ae=st(e,{placement:de,boundary:p,rootBoundary:w,altBoundary:b,padding:h}),xe=we?z?ye:ge:z?Te:he;$[ve]>O[ve]&&(xe=Cr(xe));var ne=Cr(xe),U=[];if(s&&U.push(Ae[re]<=0),a&&U.push(Ae[xe]<=0,Ae[ne]<=0),U.every(function(ze){return ze})){Z=de,W=!1;break}j.set(de,U)}if(W)for(var Ce=M?3:1,Xe=function(ie){var Me=g.find(function(At){var Ze=j.get(At);if(Ze)return Ze.slice(0,ie).every(function(_t){return _t})});if(Me)return Z=Me,"break"},Ve=Ce;Ve>0;Ve--){var at=Xe(Ve);if(at==="break")break}e.placement!==Z&&(e.modifiersData[n]._skip=!0,e.placement=Z,e.reset=!0)}}var Tl={name:"flip",enabled:!0,phase:"main",fn:Ed,requiresIfExists:["offset"],data:{_skip:!1}};function kl(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function Al(t){return[he,ye,Te,ge].some(function(e){return t[e]>=0})}function Td(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=st(e,{elementContext:"reference"}),a=st(e,{altBoundary:!0}),c=kl(o,n),h=kl(a,i,s),p=Al(c),w=Al(h);e.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:h,isReferenceHidden:p,hasPopperEscaped:w},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":w})}var _l={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Td};function kd(t,e,r){var n=Se(t),i=[ge,he].indexOf(n)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[ge,ye].indexOf(n)>=0?{x:a,y:o}:{x:o,y:a}}function Ad(t){var e=t.state,r=t.options,n=t.name,i=r.offset,s=i===void 0?[0,0]:i,o=Gn.reduce(function(p,w){return p[w]=kd(w,e.rects,s),p},{}),a=o[e.placement],c=a.x,h=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=h),e.modifiersData[n]=o}var Ol={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ad};function _d(t){var e=t.state,r=t.name;e.modifiersData[r]=rn({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Sl={name:"popperOffsets",enabled:!0,phase:"read",fn:_d,data:{}};function js(t){return t==="x"?"y":"x"}function Od(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,s=i===void 0?!0:i,o=r.altAxis,a=o===void 0?!1:o,c=r.boundary,h=r.rootBoundary,p=r.altBoundary,w=r.padding,b=r.tether,k=b===void 0?!0:b,M=r.tetherOffset,E=M===void 0?0:M,T=st(e,{boundary:c,rootBoundary:h,padding:w,altBoundary:p}),C=Se(e.placement),L=Ye(e.placement),N=!L,g=or(C),$=js(g),O=e.modifiersData.popperOffsets,j=e.rects.reference,W=e.rects.popper,Z=typeof E=="function"?E(Object.assign({},e.rects,{placement:e.placement})):E,ee=typeof Z=="number"?{mainAxis:Z,altAxis:Z}:Object.assign({mainAxis:0,altAxis:0},Z),de=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,re={x:0,y:0};if(O){if(s){var z,we=g==="y"?he:ge,ve=g==="y"?Te:ye,Ae=g==="y"?"height":"width",xe=O[g],ne=xe+T[we],U=xe-T[ve],Ce=k?-W[Ae]/2:0,Xe=L===yt?j[Ae]:W[Ae],Ve=L===yt?-W[Ae]:-j[Ae],at=e.elements.arrow,ze=k&&at?sr(at):{width:0,height:0},ie=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Qr(),Me=ie[we],At=ie[ve],Ze=ar(0,j[Ae],ze[Ae]),_t=N?j[Ae]/2-Ce-Ze-Me-ee.mainAxis:Xe-Ze-Me-ee.mainAxis,Ge=N?-j[Ae]/2+Ce+Ze+At+ee.mainAxis:Ve+Ze+At+ee.mainAxis,dt=e.elements.arrow&&it(e.elements.arrow),Ft=dt?g==="y"?dt.clientTop||0:dt.clientLeft||0:0,Ot=(z=de?.[g])!=null?z:0,Re=xe+_t-Ot-Ft,Vt=xe+Ge-Ot,St=ar(k?ir(ne,Re):ne,xe,k?nt(U,Vt):U);O[g]=St,re[g]=St-xe}if(a){var Ct,jt=g==="x"?he:ge,zt=g==="x"?Te:ye,He=O[$],Je=$==="y"?"height":"width",Qe=He+T[jt],lt=He-T[zt],Mt=[he,ge].indexOf(C)!==-1,Ht=(Ct=de?.[$])!=null?Ct:0,Wt=Mt?Qe:He-j[Je]-W[Je]-Ht+ee.altAxis,qt=Mt?He+j[Je]+W[Je]-Ht-ee.altAxis:lt,Ut=k&&Mt?vl(Wt,He,qt):ar(k?Wt:Qe,He,k?qt:lt);O[$]=Ut,re[$]=Ut-He}e.modifiersData[n]=re}}var Cl={name:"preventOverflow",enabled:!0,phase:"main",fn:Od,requiresIfExists:["offset"]};function zs(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Hs(t){return t===ae(t)||!ke(t)?lr(t):zs(t)}function Sd(t){var e=t.getBoundingClientRect(),r=wt(e.width)/t.offsetWidth||1,n=wt(e.height)/t.offsetHeight||1;return r!==1||n!==1}function Ws(t,e,r){r===void 0&&(r=!1);var n=ke(e),i=ke(e)&&Sd(e),s=Le(e),o=Ke(t,i,r),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!r)&&((Oe(e)!=="body"||ur(s))&&(a=Hs(e)),ke(e)?(c=Ke(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=cr(s))),{x:o.left+a.scrollLeft-c.x,y:o.top+a.scrollTop-c.y,width:o.width,height:o.height}}function Cd(t){var e=new Map,r=new Set,n=[];t.forEach(function(s){e.set(s.name,s)});function i(s){r.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!r.has(a)){var c=e.get(a);c&&i(c)}}),n.push(s)}return t.forEach(function(s){r.has(s.name)||i(s)}),n}function qs(t){var e=Cd(t);return ml.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function Us(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function Ks(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var Ml={placement:"bottom",modifiers:[],strategy:"absolute"};function Ll(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Rl(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,s=i===void 0?Ml:i;return function(a,c,h){h===void 0&&(h=s);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ml,s),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},w=[],b=!1,k={state:p,setOptions:function(C){var L=typeof C=="function"?C(p.options):C;E(),p.options=Object.assign({},s,p.options,L),p.scrollParents={reference:Ue(a)?Bt(a):a.contextElement?Bt(a.contextElement):[],popper:Bt(c)};var N=qs(Ks([].concat(n,p.options.modifiers)));return p.orderedModifiers=N.filter(function(g){return g.enabled}),M(),k.update()},forceUpdate:function(){if(!b){var C=p.elements,L=C.reference,N=C.popper;if(Ll(L,N)){p.rects={reference:Ws(L,it(N),p.options.strategy==="fixed"),popper:sr(N)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(ee){return p.modifiersData[ee.name]=Object.assign({},ee.data)});for(var g=0;g<p.orderedModifiers.length;g++){if(p.reset===!0){p.reset=!1,g=-1;continue}var $=p.orderedModifiers[g],O=$.fn,j=$.options,W=j===void 0?{}:j,Z=$.name;typeof O=="function"&&(p=O({state:p,options:W,name:Z,instance:k})||p)}}}},update:Us(function(){return new Promise(function(T){k.forceUpdate(),T(p)})}),destroy:function(){E(),b=!0}};if(!Ll(a,c))return k;k.setOptions(h).then(function(T){!b&&h.onFirstUpdate&&h.onFirstUpdate(T)});function M(){p.orderedModifiers.forEach(function(T){var C=T.name,L=T.options,N=L===void 0?{}:L,g=T.effect;if(typeof g=="function"){var $=g({state:p,name:C,instance:k,options:N}),O=function(){};w.push($||O)}})}function E(){w.forEach(function(T){return T()}),w=[]}return k}}var Md=[xl,Sl,wl,Zr,Ol,Tl,Cl,bl,_l],Ys=Rl({defaultModifiers:Md});var Ld="tippy-box",zl="tippy-content",Rd="tippy-backdrop",Hl="tippy-arrow",Wl="tippy-svg-arrow",fr={passive:!0,capture:!0},ql=function(){return document.body};function Xs(t,e,r){if(Array.isArray(t)){var n=t[e];return n??(Array.isArray(r)?r[e]:r)}return t}function to(t,e){var r={}.toString.call(t);return r.indexOf("[object")===0&&r.indexOf(e+"]")>-1}function Ul(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Dl(t,e){if(e===0)return t;var r;return function(n){clearTimeout(r),r=setTimeout(function(){t(n)},e)}}function Dd(t){return t.split(/\s+/).filter(Boolean)}function Lr(t){return[].concat(t)}function Il(t,e){t.indexOf(e)===-1&&t.push(e)}function Id(t){return t.filter(function(e,r){return t.indexOf(e)===r})}function Pd(t){return t.split("-")[0]}function ri(t){return[].slice.call(t)}function Pl(t){return Object.keys(t).reduce(function(e,r){return t[r]!==void 0&&(e[r]=t[r]),e},{})}function nn(){return document.createElement("div")}function ni(t){return["Element","Fragment"].some(function(e){return to(t,e)})}function Nd(t){return to(t,"NodeList")}function $d(t){return to(t,"MouseEvent")}function Bd(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function Fd(t){return ni(t)?[t]:Nd(t)?ri(t):Array.isArray(t)?t:ri(document.querySelectorAll(t))}function Zs(t,e){t.forEach(function(r){r&&(r.style.transitionDuration=e+"ms")})}function Nl(t,e){t.forEach(function(r){r&&r.setAttribute("data-state",e)})}function Vd(t){var e,r=Lr(t),n=r[0];return n!=null&&(e=n.ownerDocument)!=null&&e.body?n.ownerDocument:document}function jd(t,e){var r=e.clientX,n=e.clientY;return t.every(function(i){var s=i.popperRect,o=i.popperState,a=i.props,c=a.interactiveBorder,h=Pd(o.placement),p=o.modifiersData.offset;if(!p)return!0;var w=h==="bottom"?p.top.y:0,b=h==="top"?p.bottom.y:0,k=h==="right"?p.left.x:0,M=h==="left"?p.right.x:0,E=s.top-n+w>c,T=n-s.bottom-b>c,C=s.left-r+k>c,L=r-s.right-M>c;return E||T||C||L})}function Gs(t,e,r){var n=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[n](i,r)})}function $l(t,e){for(var r=e;r;){var n;if(t.contains(r))return!0;r=r.getRootNode==null||(n=r.getRootNode())==null?void 0:n.host}return!1}var ft={isTouch:!1},Bl=0;function zd(){ft.isTouch||(ft.isTouch=!0,window.performance&&document.addEventListener("mousemove",Kl))}function Kl(){var t=performance.now();t-Bl<20&&(ft.isTouch=!1,document.removeEventListener("mousemove",Kl)),Bl=t}function Hd(){var t=document.activeElement;if(Bd(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function Wd(){document.addEventListener("touchstart",zd,fr),window.addEventListener("blur",Hd)}var qd=typeof window<"u"&&typeof document<"u",Ud=qd?!!window.msCrypto:!1;var Kd={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Yd={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},ot=Object.assign({appendTo:ql,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Kd,Yd),Xd=Object.keys(ot),Zd=function(e){var r=Object.keys(e);r.forEach(function(n){ot[n]=e[n]})};function Yl(t){var e=t.plugins||[],r=e.reduce(function(n,i){var s=i.name,o=i.defaultValue;if(s){var a;n[s]=t[s]!==void 0?t[s]:(a=ot[s])!=null?a:o}return n},{});return Object.assign({},t,r)}function Gd(t,e){var r=e?Object.keys(Yl(Object.assign({},ot,{plugins:e}))):Xd,n=r.reduce(function(i,s){var o=(t.getAttribute("data-tippy-"+s)||"").trim();if(!o)return i;if(s==="content")i[s]=o;else try{i[s]=JSON.parse(o)}catch{i[s]=o}return i},{});return n}function Fl(t,e){var r=Object.assign({},e,{content:Ul(e.content,[t])},e.ignoreAttributes?{}:Gd(t,e.plugins));return r.aria=Object.assign({},ot.aria,r.aria),r.aria={expanded:r.aria.expanded==="auto"?e.interactive:r.aria.expanded,content:r.aria.content==="auto"?e.interactive?null:"describedby":r.aria.content},r}var Jd=function(){return"innerHTML"};function Qs(t,e){t[Jd()]=e}function Vl(t){var e=nn();return t===!0?e.className=Hl:(e.className=Wl,ni(t)?e.appendChild(t):Qs(e,t)),e}function jl(t,e){ni(e.content)?(Qs(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Qs(t,e.content):t.textContent=e.content)}function eo(t){var e=t.firstElementChild,r=ri(e.children);return{box:e,content:r.find(function(n){return n.classList.contains(zl)}),arrow:r.find(function(n){return n.classList.contains(Hl)||n.classList.contains(Wl)}),backdrop:r.find(function(n){return n.classList.contains(Rd)})}}function Xl(t){var e=nn(),r=nn();r.className=Ld,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var n=nn();n.className=zl,n.setAttribute("data-state","hidden"),jl(n,t.props),e.appendChild(r),r.appendChild(n),i(t.props,t.props);function i(s,o){var a=eo(e),c=a.box,h=a.content,p=a.arrow;o.theme?c.setAttribute("data-theme",o.theme):c.removeAttribute("data-theme"),typeof o.animation=="string"?c.setAttribute("data-animation",o.animation):c.removeAttribute("data-animation"),o.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?c.setAttribute("role",o.role):c.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&jl(h,t.props),o.arrow?p?s.arrow!==o.arrow&&(c.removeChild(p),c.appendChild(Vl(o.arrow))):c.appendChild(Vl(o.arrow)):p&&c.removeChild(p)}return{popper:e,onUpdate:i}}Xl.$$tippy=!0;var Qd=1,ti=[],Js=[];function ep(t,e){var r=Fl(t,Object.assign({},ot,Yl(Pl(e)))),n,i,s,o=!1,a=!1,c=!1,h=!1,p,w,b,k=[],M=Dl(Re,r.interactiveDebounce),E,T=Qd++,C=null,L=Id(r.plugins),N={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},g={id:T,reference:t,popper:nn(),popperInstance:C,props:r,state:N,plugins:L,clearDelayTimeouts:Wt,setProps:qt,setContent:Ut,show:un,hide:fn,hideWithInteractivity:hn,enable:Mt,disable:Ht,unmount:dn,destroy:pr};if(!r.render)return g;var $=r.render(g),O=$.popper,j=$.onUpdate;O.setAttribute("data-tippy-root",""),O.id="tippy-"+g.id,g.popper=O,t._tippy=g,O._tippy=g;var W=L.map(function(x){return x.fn(g)}),Z=t.hasAttribute("aria-expanded");return dt(),Ce(),xe(),ne("onCreate",[g]),r.showOnCreate&&Qe(),O.addEventListener("mouseenter",function(){g.props.interactive&&g.state.isVisible&&g.clearDelayTimeouts()}),O.addEventListener("mouseleave",function(){g.props.interactive&&g.props.trigger.indexOf("mouseenter")>=0&&we().addEventListener("mousemove",M)}),g;function ee(){var x=g.props.touch;return Array.isArray(x)?x:[x,0]}function de(){return ee()[0]==="hold"}function re(){var x;return!!((x=g.props.render)!=null&&x.$$tippy)}function z(){return E||t}function we(){var x=z().parentNode;return x?Vd(x):document}function ve(){return eo(O)}function Ae(x){return g.state.isMounted&&!g.state.isVisible||ft.isTouch||p&&p.type==="focus"?0:Xs(g.props.delay,x?0:1,ot.delay)}function xe(x){x===void 0&&(x=!1),O.style.pointerEvents=g.props.interactive&&!x?"":"none",O.style.zIndex=""+g.props.zIndex}function ne(x,I,B){if(B===void 0&&(B=!0),W.forEach(function(P){P[x]&&P[x].apply(P,I)}),B){var Y;(Y=g.props)[x].apply(Y,I)}}function U(){var x=g.props.aria;if(x.content){var I="aria-"+x.content,B=O.id,Y=Lr(g.props.triggerTarget||t);Y.forEach(function(P){var ue=P.getAttribute(I);if(g.state.isVisible)P.setAttribute(I,ue?ue+" "+B:B);else{var Ee=ue&&ue.replace(B,"").trim();Ee?P.setAttribute(I,Ee):P.removeAttribute(I)}})}}function Ce(){if(!(Z||!g.props.aria.expanded)){var x=Lr(g.props.triggerTarget||t);x.forEach(function(I){g.props.interactive?I.setAttribute("aria-expanded",g.state.isVisible&&I===z()?"true":"false"):I.removeAttribute("aria-expanded")})}}function Xe(){we().removeEventListener("mousemove",M),ti=ti.filter(function(x){return x!==M})}function Ve(x){if(!(ft.isTouch&&(c||x.type==="mousedown"))){var I=x.composedPath&&x.composedPath()[0]||x.target;if(!(g.props.interactive&&$l(O,I))){if(Lr(g.props.triggerTarget||t).some(function(B){return $l(B,I)})){if(ft.isTouch||g.state.isVisible&&g.props.trigger.indexOf("click")>=0)return}else ne("onClickOutside",[g,x]);g.props.hideOnClick===!0&&(g.clearDelayTimeouts(),g.hide(),a=!0,setTimeout(function(){a=!1}),g.state.isMounted||Me())}}}function at(){c=!0}function ze(){c=!1}function ie(){var x=we();x.addEventListener("mousedown",Ve,!0),x.addEventListener("touchend",Ve,fr),x.addEventListener("touchstart",ze,fr),x.addEventListener("touchmove",at,fr)}function Me(){var x=we();x.removeEventListener("mousedown",Ve,!0),x.removeEventListener("touchend",Ve,fr),x.removeEventListener("touchstart",ze,fr),x.removeEventListener("touchmove",at,fr)}function At(x,I){_t(x,function(){!g.state.isVisible&&O.parentNode&&O.parentNode.contains(O)&&I()})}function Ze(x,I){_t(x,I)}function _t(x,I){var B=ve().box;function Y(P){P.target===B&&(Gs(B,"remove",Y),I())}if(x===0)return I();Gs(B,"remove",w),Gs(B,"add",Y),w=Y}function Ge(x,I,B){B===void 0&&(B=!1);var Y=Lr(g.props.triggerTarget||t);Y.forEach(function(P){P.addEventListener(x,I,B),k.push({node:P,eventType:x,handler:I,options:B})})}function dt(){de()&&(Ge("touchstart",Ot,{passive:!0}),Ge("touchend",Vt,{passive:!0})),Dd(g.props.trigger).forEach(function(x){if(x!=="manual")switch(Ge(x,Ot),x){case"mouseenter":Ge("mouseleave",Vt);break;case"focus":Ge(Ud?"focusout":"blur",St);break;case"focusin":Ge("focusout",St);break}})}function Ft(){k.forEach(function(x){var I=x.node,B=x.eventType,Y=x.handler,P=x.options;I.removeEventListener(B,Y,P)}),k=[]}function Ot(x){var I,B=!1;if(!(!g.state.isEnabled||Ct(x)||a)){var Y=((I=p)==null?void 0:I.type)==="focus";p=x,E=x.currentTarget,Ce(),!g.state.isVisible&&$d(x)&&ti.forEach(function(P){return P(x)}),x.type==="click"&&(g.props.trigger.indexOf("mouseenter")<0||o)&&g.props.hideOnClick!==!1&&g.state.isVisible?B=!0:Qe(x),x.type==="click"&&(o=!B),B&&!Y&&lt(x)}}function Re(x){var I=x.target,B=z().contains(I)||O.contains(I);if(!(x.type==="mousemove"&&B)){var Y=Je().concat(O).map(function(P){var ue,Ee=P._tippy,Lt=(ue=Ee.popperInstance)==null?void 0:ue.state;return Lt?{popperRect:P.getBoundingClientRect(),popperState:Lt,props:r}:null}).filter(Boolean);jd(Y,x)&&(Xe(),lt(x))}}function Vt(x){var I=Ct(x)||g.props.trigger.indexOf("click")>=0&&o;if(!I){if(g.props.interactive){g.hideWithInteractivity(x);return}lt(x)}}function St(x){g.props.trigger.indexOf("focusin")<0&&x.target!==z()||g.props.interactive&&x.relatedTarget&&O.contains(x.relatedTarget)||lt(x)}function Ct(x){return ft.isTouch?de()!==x.type.indexOf("touch")>=0:!1}function jt(){zt();var x=g.props,I=x.popperOptions,B=x.placement,Y=x.offset,P=x.getReferenceClientRect,ue=x.moveTransition,Ee=re()?eo(O).arrow:null,Lt=P?{getBoundingClientRect:P,contextElement:P.contextElement||z()}:t,pt={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(_e){var Rt=_e.state;if(re()){var je=ve(),Rr=je.box;["placement","reference-hidden","escaped"].forEach(function(et){et==="placement"?Rr.setAttribute("data-placement",Rt.placement):Rt.attributes.popper["data-popper-"+et]?Rr.setAttribute("data-"+et,""):Rr.removeAttribute("data-"+et)}),Rt.attributes.popper={}}}},H=[{name:"offset",options:{offset:Y}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!ue}},pt];re()&&Ee&&H.push({name:"arrow",options:{element:Ee,padding:3}}),H.push.apply(H,I?.modifiers||[]),g.popperInstance=Ys(Lt,O,Object.assign({},I,{placement:B,onFirstUpdate:b,modifiers:H}))}function zt(){g.popperInstance&&(g.popperInstance.destroy(),g.popperInstance=null)}function He(){var x=g.props.appendTo,I,B=z();g.props.interactive&&x===ql||x==="parent"?I=B.parentNode:I=Ul(x,[B]),I.contains(O)||I.appendChild(O),g.state.isMounted=!0,jt()}function Je(){return ri(O.querySelectorAll("[data-tippy-root]"))}function Qe(x){g.clearDelayTimeouts(),x&&ne("onTrigger",[g,x]),ie();var I=Ae(!0),B=ee(),Y=B[0],P=B[1];ft.isTouch&&Y==="hold"&&P&&(I=P),I?n=setTimeout(function(){g.show()},I):g.show()}function lt(x){if(g.clearDelayTimeouts(),ne("onUntrigger",[g,x]),!g.state.isVisible){Me();return}if(!(g.props.trigger.indexOf("mouseenter")>=0&&g.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(x.type)>=0&&o)){var I=Ae(!1);I?i=setTimeout(function(){g.state.isVisible&&g.hide()},I):s=requestAnimationFrame(function(){g.hide()})}}function Mt(){g.state.isEnabled=!0}function Ht(){g.hide(),g.state.isEnabled=!1}function Wt(){clearTimeout(n),clearTimeout(i),cancelAnimationFrame(s)}function qt(x){if(!g.state.isDestroyed){ne("onBeforeUpdate",[g,x]),Ft();var I=g.props,B=Fl(t,Object.assign({},I,Pl(x),{ignoreAttributes:!0}));g.props=B,dt(),I.interactiveDebounce!==B.interactiveDebounce&&(Xe(),M=Dl(Re,B.interactiveDebounce)),I.triggerTarget&&!B.triggerTarget?Lr(I.triggerTarget).forEach(function(Y){Y.removeAttribute("aria-expanded")}):B.triggerTarget&&t.removeAttribute("aria-expanded"),Ce(),xe(),j&&j(I,B),g.popperInstance&&(jt(),Je().forEach(function(Y){requestAnimationFrame(Y._tippy.popperInstance.forceUpdate)})),ne("onAfterUpdate",[g,x])}}function Ut(x){g.setProps({content:x})}function un(){var x=g.state.isVisible,I=g.state.isDestroyed,B=!g.state.isEnabled,Y=ft.isTouch&&!g.props.touch,P=Xs(g.props.duration,0,ot.duration);if(!(x||I||B||Y)&&!z().hasAttribute("disabled")&&(ne("onShow",[g],!1),g.props.onShow(g)!==!1)){if(g.state.isVisible=!0,re()&&(O.style.visibility="visible"),xe(),ie(),g.state.isMounted||(O.style.transition="none"),re()){var ue=ve(),Ee=ue.box,Lt=ue.content;Zs([Ee,Lt],0)}b=function(){var H;if(!(!g.state.isVisible||h)){if(h=!0,O.offsetHeight,O.style.transition=g.props.moveTransition,re()&&g.props.animation){var G=ve(),_e=G.box,Rt=G.content;Zs([_e,Rt],P),Nl([_e,Rt],"visible")}U(),Ce(),Il(Js,g),(H=g.popperInstance)==null||H.forceUpdate(),ne("onMount",[g]),g.props.animation&&re()&&Ze(P,function(){g.state.isShown=!0,ne("onShown",[g])})}},He()}}function fn(){var x=!g.state.isVisible,I=g.state.isDestroyed,B=!g.state.isEnabled,Y=Xs(g.props.duration,1,ot.duration);if(!(x||I||B)&&(ne("onHide",[g],!1),g.props.onHide(g)!==!1)){if(g.state.isVisible=!1,g.state.isShown=!1,h=!1,o=!1,re()&&(O.style.visibility="hidden"),Xe(),Me(),xe(!0),re()){var P=ve(),ue=P.box,Ee=P.content;g.props.animation&&(Zs([ue,Ee],Y),Nl([ue,Ee],"hidden"))}U(),Ce(),g.props.animation?re()&&At(Y,g.unmount):g.unmount()}}function hn(x){we().addEventListener("mousemove",M),Il(ti,M),M(x)}function dn(){g.state.isVisible&&g.hide(),g.state.isMounted&&(zt(),Je().forEach(function(x){x._tippy.unmount()}),O.parentNode&&O.parentNode.removeChild(O),Js=Js.filter(function(x){return x!==g}),g.state.isMounted=!1,ne("onHidden",[g]))}function pr(){g.state.isDestroyed||(g.clearDelayTimeouts(),g.unmount(),Ft(),delete t._tippy,g.state.isDestroyed=!0,ne("onDestroy",[g]))}}function sn(t,e){e===void 0&&(e={});var r=ot.plugins.concat(e.plugins||[]);Wd();var n=Object.assign({},e,{plugins:r}),i=Fd(t);if(0)var s,o;var a=i.reduce(function(c,h){var p=h&&ep(h,n);return p&&c.push(p),c},[]);return ni(t)?a[0]:a}sn.defaultProps=ot;sn.setDefaultProps=Zd;sn.currentInput=ft;var oy=Object.assign({},Zr,{effect:function(e){var r=e.state,n={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(r.elements.popper.style,n.popper),r.styles=n,r.elements.arrow&&Object.assign(r.elements.arrow.style,n.arrow)}});sn.setDefaultProps({render:Xl});var Zl=sn;var Gl=t=>{if(navigator.clipboard&&window.isSecureContext)return navigator.clipboard.writeText(t);{let e=document.createElement("textarea");return e.value=t,e.style.position="fixed",e.style.left="-999999px",e.style.top="-999999px",document.body.appendChild(e),e.focus(),e.select(),new Promise((r,n)=>{document.execCommand("copy")?r():n(),e.remove()})}};var ii=class extends oe{static targets=["source"];static values={success:{type:String,default:"\u590D\u5236\u6210\u529F\uFF01"},content:String};copy(t){t.preventDefault();let e,r;if(this.hasContentValue?(e=this.contentValue,r=this.element):this.hasSourceTarget?(e=this.sourceTarget.tagName==="INPUT"?this.sourceTarget.value:this.sourceTarget.textContent,r=this.sourceTarget):(e=this.element.textContent,r=this.element),e=(e||"").trim(),!e)return;let n=Zl(r.parentElement,{theme:"material",content:this.successValue,trigger:"manual",arrow:!0}),i=()=>{n.hide(),n.destroy()};Gl(e).then(()=>{n.setContent(this.successValue),n.show(),setTimeout(i,800)}).catch(()=>{n.setContent("\u590D\u5236\u5931\u8D25\uFF01"),n.show(),setTimeout(i,800)})}};var si=class extends oe{connect(){this.scroller=new ro}scrollToY(t){let e=t.target.dataset.scrollToY;e?this.scroller.scrollToY(parseInt(e)):console.warn("[scroll-to] data-scroll-to-y is missing")}},ro=class{constructor(e=2e3,r="easeOutSine",n=null){this.speed=e,this.easing=r,this.scrollElement=n,this.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||fncAnimation}scrollToY(e=0){let r=e,n=this.scrollElement?this.scrollElement.scrollTop:window.scrollY||document.documentElement.scrollTop,i=Math.max(.1,Math.min(Math.abs(n-r)/this.speed,.8)),s=0,o={easeOutSine(c){return Math.sin(c*(Math.PI/2))},easeInOutSine(c){return-.5*(Math.cos(Math.PI*c)-1)},easeInOutQuint(c){return(c/=.5)<1?.5*c**5:.5*((c-2)**5+2)}},a=()=>{s+=1/60;let c=s/i,h=o[this.easing](c);if(c<1){(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||this.fncAnimation)(a),this.scrollElement?this.scrollElement.scrollTop=n+(r-n)*h:window.scrollTo(0,n+(r-n)*h);return}this.scrollElement?this.scrollElement.scrollTop=r:window.scrollTo(0,r)};a()}fncAnimation=e=>(window.setTimeout(e,1e3/60),e)};var oi=class extends oe{static values={external:{type:Boolean,default:!0}};connect(){this.element.querySelectorAll("a[href]").forEach(e=>{let r=e.getAttribute("href");if(!r||r.startsWith("#"))return;let n=/^https?:\/\//i.test(r),i=!1;if(n)try{i=new URL(r,window.location.origin).hostname!==window.location.hostname}catch{}this.externalValue&&i&&(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer")),this.externalValue||(e.removeAttribute("target"),e.removeAttribute("rel"))})}};function oo(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var dr=oo();function nc(t){dr=t}var ln={exec:()=>null};function J(t,e=""){let r=typeof t=="string"?t:t.source,n={replace:(i,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace($e.caret,"$1"),r=r.replace(i,o),n},getRegex:()=>new RegExp(r,e)};return n}var $e={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},tp=/^(?:[ \t]*(?:\n|$))+/,rp=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,np=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,cn=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,ip=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,ao=/(?:[*+-]|\d{1,9}[.)])/,ic=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,sc=J(ic).replace(/bull/g,ao).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),sp=J(ic).replace(/bull/g,ao).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),lo=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,op=/^[^\n]+/,co=/(?!\s*\])(?:\\.|[^\[\]\\])+/,ap=J(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",co).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),lp=J(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,ao).getRegex(),hi="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",uo=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,cp=J("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",uo).replace("tag",hi).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),oc=J(lo).replace("hr",cn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hi).getRegex(),up=J(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",oc).getRegex(),fo={blockquote:up,code:rp,def:ap,fences:np,heading:ip,hr:cn,html:cp,lheading:sc,list:lp,newline:tp,paragraph:oc,table:ln,text:op},Jl=J("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",cn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hi).getRegex(),fp={...fo,lheading:sp,table:Jl,paragraph:J(lo).replace("hr",cn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Jl).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hi).getRegex()},hp={...fo,html:J(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",uo).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ln,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:J(lo).replace("hr",cn).replace("heading",` *#{1,6} *[^
]`).replace("lheading",sc).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},dp=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,pp=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,ac=/^( {2,}|\\)\n(?!\s*$)/,mp=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,di=/[\p{P}\p{S}]/u,ho=/[\s\p{P}\p{S}]/u,lc=/[^\s\p{P}\p{S}]/u,gp=J(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,ho).getRegex(),cc=/(?!~)[\p{P}\p{S}]/u,vp=/(?!~)[\s\p{P}\p{S}]/u,bp=/(?:[^\s\p{P}\p{S}]|~)/u,yp=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,uc=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,wp=J(uc,"u").replace(/punct/g,di).getRegex(),xp=J(uc,"u").replace(/punct/g,cc).getRegex(),fc="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Ep=J(fc,"gu").replace(/notPunctSpace/g,lc).replace(/punctSpace/g,ho).replace(/punct/g,di).getRegex(),Tp=J(fc,"gu").replace(/notPunctSpace/g,bp).replace(/punctSpace/g,vp).replace(/punct/g,cc).getRegex(),kp=J("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,lc).replace(/punctSpace/g,ho).replace(/punct/g,di).getRegex(),Ap=J(/\\(punct)/,"gu").replace(/punct/g,di).getRegex(),_p=J(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Op=J(uo).replace("(?:-->|$)","-->").getRegex(),Sp=J("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Op).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ci=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Cp=J(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",ci).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),hc=J(/^!?\[(label)\]\[(ref)\]/).replace("label",ci).replace("ref",co).getRegex(),dc=J(/^!?\[(ref)\](?:\[\])?/).replace("ref",co).getRegex(),Mp=J("reflink|nolink(?!\\()","g").replace("reflink",hc).replace("nolink",dc).getRegex(),po={_backpedal:ln,anyPunctuation:Ap,autolink:_p,blockSkip:yp,br:ac,code:pp,del:ln,emStrongLDelim:wp,emStrongRDelimAst:Ep,emStrongRDelimUnd:kp,escape:dp,link:Cp,nolink:dc,punctuation:gp,reflink:hc,reflinkSearch:Mp,tag:Sp,text:mp,url:ln},Lp={...po,link:J(/^!?\[(label)\]\((.*?)\)/).replace("label",ci).getRegex(),reflink:J(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ci).getRegex()},no={...po,emStrongRDelimAst:Tp,emStrongLDelim:xp,url:J(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Rp={...no,br:J(ac).replace("{2,}","*").getRegex(),text:J(no.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ai={normal:fo,gfm:fp,pedantic:hp},on={normal:po,gfm:no,breaks:Rp,pedantic:Lp},Dp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ql=t=>Dp[t];function ht(t,e){if(e){if($e.escapeTest.test(t))return t.replace($e.escapeReplace,Ql)}else if($e.escapeTestNoEncode.test(t))return t.replace($e.escapeReplaceNoEncode,Ql);return t}function ec(t){try{t=encodeURI(t).replace($e.percentDecode,"%")}catch{return null}return t}function tc(t,e){let r=t.replace($e.findPipe,(s,o,a)=>{let c=!1,h=o;for(;--h>=0&&a[h]==="\\";)c=!c;return c?"|":" |"}),n=r.split($e.splitPipe),i=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace($e.slashPipe,"|");return n}function an(t,e,r){let n=t.length;if(n===0)return"";let i=0;for(;i<n;){let s=t.charAt(n-i-1);if(s===e&&!r)i++;else if(s!==e&&r)i++;else break}return t.slice(0,n-i)}function Ip(t,e){if(t.indexOf(e[1])===-1)return-1;let r=0;for(let n=0;n<t.length;n++)if(t[n]==="\\")n++;else if(t[n]===e[0])r++;else if(t[n]===e[1]&&(r--,r<0))return n;return r>0?-2:-1}function rc(t,e,r,n,i){let s=e.href,o=e.title||null,a=t[1].replace(i.other.outputLinkReplace,"$1");n.state.inLink=!0;let c={type:t[0].charAt(0)==="!"?"image":"link",raw:r,href:s,title:o,text:a,tokens:n.inlineTokens(a)};return n.state.inLink=!1,c}function Pp(t,e,r){let n=t.match(r.other.indentCodeCompensation);if(n===null)return e;let i=n[1];return e.split(`
`).map(s=>{let o=s.match(r.other.beginningSpace);if(o===null)return s;let[a]=o;return a.length>=i.length?s.slice(i.length):s}).join(`
`)}var ui=class{options;rules;lexer;constructor(t){this.options=t||dr}space(t){let e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){let e=this.rules.block.code.exec(t);if(e){let r=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:an(r,`
`)}}}fences(t){let e=this.rules.block.fences.exec(t);if(e){let r=e[0],n=Pp(r,e[3]||"",this.rules);return{type:"code",raw:r,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:n}}}heading(t){let e=this.rules.block.heading.exec(t);if(e){let r=e[2].trim();if(this.rules.other.endingHash.test(r)){let n=an(r,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(r=n.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(t){let e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:an(e[0],`
`)}}blockquote(t){let e=this.rules.block.blockquote.exec(t);if(e){let r=an(e[0],`
`).split(`
`),n="",i="",s=[];for(;r.length>0;){let o=!1,a=[],c;for(c=0;c<r.length;c++)if(this.rules.other.blockquoteStart.test(r[c]))a.push(r[c]),o=!0;else if(!o)a.push(r[c]);else break;r=r.slice(c);let h=a.join(`
`),p=h.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${h}`:h,i=i?`${i}
${p}`:p;let w=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,s,!0),this.lexer.state.top=w,r.length===0)break;let b=s.at(-1);if(b?.type==="code")break;if(b?.type==="blockquote"){let k=b,M=k.raw+`
`+r.join(`
`),E=this.blockquote(M);s[s.length-1]=E,n=n.substring(0,n.length-k.raw.length)+E.raw,i=i.substring(0,i.length-k.text.length)+E.text;break}else if(b?.type==="list"){let k=b,M=k.raw+`
`+r.join(`
`),E=this.list(M);s[s.length-1]=E,n=n.substring(0,n.length-b.raw.length)+E.raw,i=i.substring(0,i.length-k.raw.length)+E.raw,r=M.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:s,text:i}}}list(t){let e=this.rules.block.list.exec(t);if(e){let r=e[1].trim(),n=r.length>1,i={type:"list",raw:"",ordered:n,start:n?+r.slice(0,-1):"",loose:!1,items:[]};r=n?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=n?r:"[*+-]");let s=this.rules.other.listItemRegex(r),o=!1;for(;t;){let c=!1,h="",p="";if(!(e=s.exec(t))||this.rules.block.hr.test(t))break;h=e[0],t=t.substring(h.length);let w=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,C=>" ".repeat(3*C.length)),b=t.split(`
`,1)[0],k=!w.trim(),M=0;if(this.options.pedantic?(M=2,p=w.trimStart()):k?M=e[1].length+1:(M=e[2].search(this.rules.other.nonSpaceChar),M=M>4?1:M,p=w.slice(M),M+=e[1].length),k&&this.rules.other.blankLine.test(b)&&(h+=b+`
`,t=t.substring(b.length+1),c=!0),!c){let C=this.rules.other.nextBulletRegex(M),L=this.rules.other.hrRegex(M),N=this.rules.other.fencesBeginRegex(M),g=this.rules.other.headingBeginRegex(M),$=this.rules.other.htmlBeginRegex(M);for(;t;){let O=t.split(`
`,1)[0],j;if(b=O,this.options.pedantic?(b=b.replace(this.rules.other.listReplaceNesting,"  "),j=b):j=b.replace(this.rules.other.tabCharGlobal,"    "),N.test(b)||g.test(b)||$.test(b)||C.test(b)||L.test(b))break;if(j.search(this.rules.other.nonSpaceChar)>=M||!b.trim())p+=`
`+j.slice(M);else{if(k||w.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||N.test(w)||g.test(w)||L.test(w))break;p+=`
`+b}!k&&!b.trim()&&(k=!0),h+=O+`
`,t=t.substring(O.length+1),w=j.slice(M)}}i.loose||(o?i.loose=!0:this.rules.other.doubleBlankLine.test(h)&&(o=!0));let E=null,T;this.options.gfm&&(E=this.rules.other.listIsTask.exec(p),E&&(T=E[0]!=="[ ] ",p=p.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:h,task:!!E,checked:T,loose:!1,text:p,tokens:[]}),i.raw+=h}let a=i.items.at(-1);if(a)a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let c=0;c<i.items.length;c++)if(this.lexer.state.top=!1,i.items[c].tokens=this.lexer.blockTokens(i.items[c].text,[]),!i.loose){let h=i.items[c].tokens.filter(w=>w.type==="space"),p=h.length>0&&h.some(w=>this.rules.other.anyLine.test(w.raw));i.loose=p}if(i.loose)for(let c=0;c<i.items.length;c++)i.items[c].loose=!0;return i}}html(t){let e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){let e=this.rules.block.def.exec(t);if(e){let r=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:r,raw:e[0],href:n,title:i}}}table(t){let e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let r=tc(e[1]),n=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:e[0],header:[],align:[],rows:[]};if(r.length===n.length){for(let o of n)this.rules.other.tableAlignRight.test(o)?s.align.push("right"):this.rules.other.tableAlignCenter.test(o)?s.align.push("center"):this.rules.other.tableAlignLeft.test(o)?s.align.push("left"):s.align.push(null);for(let o=0;o<r.length;o++)s.header.push({text:r[o],tokens:this.lexer.inline(r[o]),header:!0,align:s.align[o]});for(let o of i)s.rows.push(tc(o,s.header.length).map((a,c)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:s.align[c]})));return s}}lheading(t){let e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){let e=this.rules.block.paragraph.exec(t);if(e){let r=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:r,tokens:this.lexer.inline(r)}}}text(t){let e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){let e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){let e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){let e=this.rules.inline.link.exec(t);if(e){let r=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let s=an(r.slice(0,-1),"\\");if((r.length-s.length)%2===0)return}else{let s=Ip(e[2],"()");if(s===-2)return;if(s>-1){let a=(e[0].indexOf("!")===0?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,a).trim(),e[3]=""}}let n=e[2],i="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(n);s&&(n=s[1],i=s[3])}else i=e[3]?e[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?n=n.slice(1):n=n.slice(1,-1)),rc(e,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){let n=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=e[n.toLowerCase()];if(!i){let s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return rc(r,i,r[0],this.lexer,this.rules)}}emStrong(t,e,r=""){let n=this.rules.inline.emStrongLDelim.exec(t);if(!n||n[3]&&r.match(this.rules.other.unicodeAlphaNumeric))return;if(!(n[1]||n[2]||"")||!r||this.rules.inline.punctuation.exec(r)){let s=[...n[0]].length-1,o,a,c=s,h=0,p=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,e=e.slice(-1*t.length+s);(n=p.exec(e))!=null;){if(o=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!o)continue;if(a=[...o].length,n[3]||n[4]){c+=a;continue}else if((n[5]||n[6])&&s%3&&!((s+a)%3)){h+=a;continue}if(c-=a,c>0)continue;a=Math.min(a,a+c+h);let w=[...n[0]][0].length,b=t.slice(0,s+n.index+w+a);if(Math.min(s,a)%2){let M=b.slice(1,-1);return{type:"em",raw:b,text:M,tokens:this.lexer.inlineTokens(M)}}let k=b.slice(2,-2);return{type:"strong",raw:b,text:k,tokens:this.lexer.inlineTokens(k)}}}}codespan(t){let e=this.rules.inline.code.exec(t);if(e){let r=e[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(r),i=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return n&&i&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:e[0],text:r}}}br(t){let e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){let e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){let e=this.rules.inline.autolink.exec(t);if(e){let r,n;return e[2]==="@"?(r=e[1],n="mailto:"+r):(r=e[1],n=r),{type:"link",raw:e[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}}}url(t){let e;if(e=this.rules.inline.url.exec(t)){let r,n;if(e[2]==="@")r=e[0],n="mailto:"+r;else{let i;do i=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(i!==e[0]);r=e[0],e[1]==="www."?n="http://"+e[0]:n=e[0]}return{type:"link",raw:e[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t){let e=this.rules.inline.text.exec(t);if(e){let r=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:r}}}},Et=class io{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||dr,this.options.tokenizer=this.options.tokenizer||new ui,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:$e,block:ai.normal,inline:on.normal};this.options.pedantic?(r.block=ai.pedantic,r.inline=on.pedantic):this.options.gfm&&(r.block=ai.gfm,this.options.breaks?r.inline=on.breaks:r.inline=on.gfm),this.tokenizer.rules=r}static get rules(){return{block:ai,inline:on}}static lex(e,r){return new io(r).lex(e)}static lexInline(e,r){return new io(r).inlineTokens(e)}lex(e){e=e.replace($e.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,r=[],n=!1){for(this.options.pedantic&&(e=e.replace($e.tabCharGlobal,"    ").replace($e.spaceLine,""));e;){let i;if(this.options.extensions?.block?.some(o=>(i=o.call({lexer:this},e,r))?(e=e.substring(i.raw.length),r.push(i),!0):!1))continue;if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length);let o=r.at(-1);i.raw.length===1&&o!==void 0?o.raw+=`
`:r.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length);let o=r.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+i.raw,o.text+=`
`+i.text,this.inlineQueue.at(-1).src=o.text):r.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length);let o=r.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+i.raw,o.text+=`
`+i.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),r.push(i);continue}let s=e;if(this.options.extensions?.startBlock){let o=1/0,a=e.slice(1),c;this.options.extensions.startBlock.forEach(h=>{c=h.call({lexer:this},a),typeof c=="number"&&c>=0&&(o=Math.min(o,c))}),o<1/0&&o>=0&&(s=e.substring(0,o+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){let o=r.at(-1);n&&o?.type==="paragraph"?(o.raw+=`
`+i.raw,o.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):r.push(i),n=s.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length);let o=r.at(-1);o?.type==="text"?(o.raw+=`
`+i.raw,o.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):r.push(i);continue}if(e){let o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){let n=e,i=null;if(this.tokens.links){let a=Object.keys(this.tokens.links);if(a.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)a.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let s=!1,o="";for(;e;){s||(o=""),s=!1;let a;if(this.options.extensions?.inline?.some(h=>(a=h.call({lexer:this},e,r))?(e=e.substring(a.raw.length),r.push(a),!0):!1))continue;if(a=this.tokenizer.escape(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.tag(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.link(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(a.raw.length);let h=r.at(-1);a.type==="text"&&h?.type==="text"?(h.raw+=a.raw,h.text+=a.text):r.push(a);continue}if(a=this.tokenizer.emStrong(e,n,o)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.codespan(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.br(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.del(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.autolink(e)){e=e.substring(a.raw.length),r.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(e))){e=e.substring(a.raw.length),r.push(a);continue}let c=e;if(this.options.extensions?.startInline){let h=1/0,p=e.slice(1),w;this.options.extensions.startInline.forEach(b=>{w=b.call({lexer:this},p),typeof w=="number"&&w>=0&&(h=Math.min(h,w))}),h<1/0&&h>=0&&(c=e.substring(0,h+1))}if(a=this.tokenizer.inlineText(c)){e=e.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(o=a.raw.slice(-1)),s=!0;let h=r.at(-1);h?.type==="text"?(h.raw+=a.raw,h.text+=a.text):r.push(a);continue}if(e){let h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return r}},fi=class{options;parser;constructor(t){this.options=t||dr}space(t){return""}code({text:t,lang:e,escaped:r}){let n=(e||"").match($e.notSpaceStart)?.[0],i=t.replace($e.endingNewline,"")+`
`;return n?'<pre><code class="language-'+ht(n)+'">'+(r?i:ht(i,!0))+`</code></pre>
`:"<pre><code>"+(r?i:ht(i,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){let e=t.ordered,r=t.start,n="";for(let o=0;o<t.items.length;o++){let a=t.items[o];n+=this.listitem(a)}let i=e?"ol":"ul",s=e&&r!==1?' start="'+r+'"':"";return"<"+i+s+`>
`+n+"</"+i+`>
`}listitem(t){let e="";if(t.task){let r=this.checkbox({checked:!!t.checked});t.loose?t.tokens[0]?.type==="paragraph"?(t.tokens[0].text=r+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=r+" "+ht(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):e+=r+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",r="";for(let i=0;i<t.header.length;i++)r+=this.tablecell(t.header[i]);e+=this.tablerow({text:r});let n="";for(let i=0;i<t.rows.length;i++){let s=t.rows[i];r="";for(let o=0;o<s.length;o++)r+=this.tablecell(s[o]);n+=this.tablerow({text:r})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let e=this.parser.parseInline(t.tokens),r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${ht(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:r}){let n=this.parser.parseInline(r),i=ec(t);if(i===null)return n;t=i;let s='<a href="'+t+'"';return e&&(s+=' title="'+ht(e)+'"'),s+=">"+n+"</a>",s}image({href:t,title:e,text:r,tokens:n}){n&&(r=this.parser.parseInline(n,this.parser.textRenderer));let i=ec(t);if(i===null)return ht(r);t=i;let s=`<img src="${t}" alt="${r}"`;return e&&(s+=` title="${ht(e)}"`),s+=">",s}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:ht(t.text)}},mo=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},Tt=class so{options;renderer;textRenderer;constructor(e){this.options=e||dr,this.options.renderer=this.options.renderer||new fi,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new mo}static parse(e,r){return new so(r).parse(e)}static parseInline(e,r){return new so(r).parseInline(e)}parse(e,r=!0){let n="";for(let i=0;i<e.length;i++){let s=e[i];if(this.options.extensions?.renderers?.[s.type]){let a=s,c=this.options.extensions.renderers[a.type].call({parser:this},a);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){n+=c||"";continue}}let o=s;switch(o.type){case"space":{n+=this.renderer.space(o);continue}case"hr":{n+=this.renderer.hr(o);continue}case"heading":{n+=this.renderer.heading(o);continue}case"code":{n+=this.renderer.code(o);continue}case"table":{n+=this.renderer.table(o);continue}case"blockquote":{n+=this.renderer.blockquote(o);continue}case"list":{n+=this.renderer.list(o);continue}case"html":{n+=this.renderer.html(o);continue}case"paragraph":{n+=this.renderer.paragraph(o);continue}case"text":{let a=o,c=this.renderer.text(a);for(;i+1<e.length&&e[i+1].type==="text";)a=e[++i],c+=`
`+this.renderer.text(a);r?n+=this.renderer.paragraph({type:"paragraph",raw:c,text:c,tokens:[{type:"text",raw:c,text:c,escaped:!0}]}):n+=c;continue}default:{let a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return n}parseInline(e,r=this.renderer){let n="";for(let i=0;i<e.length;i++){let s=e[i];if(this.options.extensions?.renderers?.[s.type]){let a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){n+=a||"";continue}}let o=s;switch(o.type){case"escape":{n+=r.text(o);break}case"html":{n+=r.html(o);break}case"link":{n+=r.link(o);break}case"image":{n+=r.image(o);break}case"strong":{n+=r.strong(o);break}case"em":{n+=r.em(o);break}case"codespan":{n+=r.codespan(o);break}case"br":{n+=r.br(o);break}case"del":{n+=r.del(o);break}case"text":{n+=r.text(o);break}default:{let a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return n}},li=class{options;block;constructor(t){this.options=t||dr}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?Et.lex:Et.lexInline}provideParser(){return this.block?Tt.parse:Tt.parseInline}},Np=class{defaults=oo();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Tt;Renderer=fi;TextRenderer=mo;Lexer=Et;Tokenizer=ui;Hooks=li;constructor(...t){this.use(...t)}walkTokens(t,e){let r=[];for(let n of t)switch(r=r.concat(e.call(this,n)),n.type){case"table":{let i=n;for(let s of i.header)r=r.concat(this.walkTokens(s.tokens,e));for(let s of i.rows)for(let o of s)r=r.concat(this.walkTokens(o.tokens,e));break}case"list":{let i=n;r=r.concat(this.walkTokens(i.items,e));break}default:{let i=n;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{let o=i[s].flat(1/0);r=r.concat(this.walkTokens(o,e))}):i.tokens&&(r=r.concat(this.walkTokens(i.tokens,e)))}}return r}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(r=>{let n={...r};if(n.async=this.defaults.async||n.async||!1,r.extensions&&(r.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let s=e.renderers[i.name];s?e.renderers[i.name]=function(...o){let a=i.renderer.apply(this,o);return a===!1&&(a=s.apply(this,o)),a}:e.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=e[i.level];s?s.unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),n.extensions=e),r.renderer){let i=this.defaults.renderer||new fi(this.defaults);for(let s in r.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let o=s,a=r.renderer[o],c=i[o];i[o]=(...h)=>{let p=a.apply(i,h);return p===!1&&(p=c.apply(i,h)),p||""}}n.renderer=i}if(r.tokenizer){let i=this.defaults.tokenizer||new ui(this.defaults);for(let s in r.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let o=s,a=r.tokenizer[o],c=i[o];i[o]=(...h)=>{let p=a.apply(i,h);return p===!1&&(p=c.apply(i,h)),p}}n.tokenizer=i}if(r.hooks){let i=this.defaults.hooks||new li;for(let s in r.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let o=s,a=r.hooks[o],c=i[o];li.passThroughHooks.has(s)?i[o]=h=>{if(this.defaults.async)return Promise.resolve(a.call(i,h)).then(w=>c.call(i,w));let p=a.call(i,h);return c.call(i,p)}:i[o]=(...h)=>{let p=a.apply(i,h);return p===!1&&(p=c.apply(i,h)),p}}n.hooks=i}if(r.walkTokens){let i=this.defaults.walkTokens,s=r.walkTokens;n.walkTokens=function(o){let a=[];return a.push(s.call(this,o)),i&&(a=a.concat(i.call(this,o))),a}}this.defaults={...this.defaults,...n}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return Et.lex(t,e??this.defaults)}parser(t,e){return Tt.parse(t,e??this.defaults)}parseMarkdown(t){return(r,n)=>{let i={...n},s={...this.defaults,...i},o=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=t);let a=s.hooks?s.hooks.provideLexer():t?Et.lex:Et.lexInline,c=s.hooks?s.hooks.provideParser():t?Tt.parse:Tt.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(r):r).then(h=>a(h,s)).then(h=>s.hooks?s.hooks.processAllTokens(h):h).then(h=>s.walkTokens?Promise.all(this.walkTokens(h,s.walkTokens)).then(()=>h):h).then(h=>c(h,s)).then(h=>s.hooks?s.hooks.postprocess(h):h).catch(o);try{s.hooks&&(r=s.hooks.preprocess(r));let h=a(r,s);s.hooks&&(h=s.hooks.processAllTokens(h)),s.walkTokens&&this.walkTokens(h,s.walkTokens);let p=c(h,s);return s.hooks&&(p=s.hooks.postprocess(p)),p}catch(h){return o(h)}}}onError(t,e){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let n="<p>An error occurred:</p><pre>"+ht(r.message+"",!0)+"</pre>";return e?Promise.resolve(n):n}if(e)return Promise.reject(r);throw r}}},hr=new Np;function q(t,e){return hr.parse(t,e)}q.options=q.setOptions=function(t){return hr.setOptions(t),q.defaults=hr.defaults,nc(q.defaults),q};q.getDefaults=oo;q.defaults=dr;q.use=function(...t){return hr.use(...t),q.defaults=hr.defaults,nc(q.defaults),q};q.walkTokens=function(t,e){return hr.walkTokens(t,e)};q.parseInline=hr.parseInline;q.Parser=Tt;q.parser=Tt.parse;q.Renderer=fi;q.TextRenderer=mo;q.Lexer=Et;q.lexer=Et.lex;q.Tokenizer=ui;q.Hooks=li;q.parse=q;var wy=q.options,xy=q.setOptions,Ey=q.use,Ty=q.walkTokens,ky=q.parseInline;var Ay=Tt.parse,_y=Et.lex;q.setOptions({renderer:new q.Renderer});q.use({renderer:{link({href:t,text:e}){return`<a href="${t}" target="_blank" rel="noopener noreferrer">${e}</a>`}}});var pi=class extends oe{static targets=["messages","error","input","send","userMessageTemplate","assistantMessageTemplate","retryButton"];static classes=["hidden"];static values={url:String,timeout:Number,autoSubmit:{type:Boolean,default:!1},message:String,messages:Object};connect(){console.log("[AIChat] connect"),this.isStreaming=!1,this.chatHistory=[],this.currentRound=null,this.renderChatHistoryOnce()}disconnect(){console.log("[AIChat] disconnect"),this.stopStreaming()}inputTargetConnected(t){t.addEventListener("keydown",e=>{e.key==="Enter"&&(console.log("[AIChat] inputTargetConnected: Enter pressed"),this.#t())})}sendTargetConnected(t){t.addEventListener("click",e=>{console.log("[AIChat] sendTargetConnected: click"),this.#t()})}messageValueChanged(){this.autoSubmitValue&&this.messageValue&&this.#e()}#e(){this.delayAutoSubmitTimer&&clearTimeout(this.delayAutoSubmitTimer),this.delayAutoSubmitTimer=setTimeout(()=>{this.messageValue&&this.sendMessage(this.messageValue)},500)}#t(){let t=this.inputTarget.value;console.log("[AIChat] #sendUserMessage",t),t&&(this.inputTarget.value="",this.sendMessage(t))}async chat(t){let{message:e}=t.params;this.sendMessage(e)}addUserMessage(t){console.log("[AIChat] addUserMessage",t),this.currentRound={user:t,ai:"",status:"streaming",retry:null},this.chatHistory.push(this.currentRound),this.appendUserMessage(t),this.appendAssistantMessage("","streaming",this.chatHistory.length-1)}renderChatHistoryOnce(){this.hasMessagesTarget&&(this.messagesTarget.innerHTML="",this.chatHistory.forEach((t,e)=>{this.appendUserMessage(t.user),this.appendAssistantMessage(t.ai,t.status,e,t.retry)}),this.scrollToBottom(!0))}appendUserMessage(t){if(console.log("[AIChat] appendUserMessage",t),!this.hasUserMessageTemplateTarget)return;let e=this.userMessageTemplateTarget.content.cloneNode(!0);e.querySelector(".ai-user-message").textContent=t,this.messagesTarget.appendChild(e),this.scrollToBottom(!0)}appendAssistantMessage(t,e,r,n){if(console.log("[AIChat] appendAssistantMessage",t,e,r),!this.hasAssistantMessageTemplateTarget)return;let i=!0,s=this.assistantMessageTemplateTarget.content.cloneNode(!0),o=s.querySelector(".ai-assistant-message");if(e==="error"){let a=this.retryButton;a.dataset.idx=r,o.innerHTML=`<span class='bkt-text-red-500'>${this.escapeHTML(t)}</span> ${a.outerHTML}`,n&&setTimeout(()=>{let c=this.messagesTarget.querySelectorAll(`[data-idx='${r}']`),h=c[c.length-1];h&&(h.onclick=()=>n())},0)}else t?(o.innerHTML=q(t),i=!1):o.innerHTML=`<span class="bkt-text-gray-400">${this.messagesValue.thinking}</span>`;this.messagesTarget.appendChild(s),e==="error"&&n&&setTimeout(()=>{let a=this.messagesTarget.querySelectorAll(`[data-idx='${r}']`),c=a[a.length-1];c&&(c.onclick=()=>n())},0),this.scrollToBottom(i)}updateCurrentAssistantMessage(t,e,r,n){console.log("[AIChat] updateCurrentAssistantMessage",t,e,r);let i=this.messagesTarget.querySelectorAll(".ai-assistant-message"),s=i[i.length-1];if(!s){console.warn("[AIChat] updateCurrentAssistantMessage: no msgSpan found");return}if(e==="error"){let o=this.retryButton;o.dataset.idx=r,s.innerHTML=`<span class='bkt-text-red-500'>${this.escapeHTML(t)}</span> ${o.outerHTML}`,n&&setTimeout(()=>{let a=this.messagesTarget.querySelector(`[data-idx='${r}']`);a&&(a.onclick=()=>n())},0)}else e==="canceled"?s.innerHTML=`<span class="bkt-text-gray-400">${this.messagesValue.canceled}</span>`:t?s.innerHTML=q(t):s.innerHTML=`<span class="bkt-text-gray-400">${this.messagesValue.thinking}</span>`;this.scrollToBottom()}async sendMessage(t){if(console.log("[AIChat] sendMessage",t),!t||!this.url){console.warn("[AIChat] sendMessage: invalid params",t,this.url);return}this.isStreaming&&(this.updateCurrentAssistantMessage(this.currentRound.ai,"canceled",this.chatHistory.length-1),this.stopStreaming()),this.addUserMessage(t),this.isStreaming=!0,this.currentRound.ai="",this.currentRound.status="streaming";let e=this.chatHistory.length-1;this.updateCurrentAssistantMessage("","streaming",e);let r=new URLSearchParams({message:t});this.eventSource=new EventSource(`${this.url}?${r.toString()}`),this.startTimeoutTimer(),this.eventSource.onmessage=n=>{let i=JSON.parse(n.data);i.message||="",console.log("[AIChat] eventSource.onmessage",i),this.resetTimeoutTimer(),i.status==="system"?(this.currentRound.ai=i.message,this.currentRound.status="system",this.updateCurrentAssistantMessage(this.currentRound.ai,"system",e)):i.status==="streaming"?(this.currentRound.status!=="streaming"&&(this.currentRound.ai=""),this.currentRound.status="streaming",this.currentRound.ai+=i.message,this.updateCurrentAssistantMessage(this.currentRound.ai,"streaming",e)):i.status==="completed"?(this.currentRound.ai+=i.message,this.currentRound.status="completed",this.isStreaming=!1,this.eventSource.close(),this.clearTimeoutTimer(),this.currentRound.ai+=this.messagesValue.completed,this.updateCurrentAssistantMessage(this.currentRound.ai,"completed",e)):i.status==="error"&&(this.currentRound.ai=i.message,this.currentRound.status="error",this.isStreaming=!1,this.eventSource.close(),this.clearTimeoutTimer(),this.currentRound.retry=()=>{console.log("[AIChat] retry",e),this.currentRound.status="streaming",this.currentRound.ai="",this.appendAssistantMessage("","streaming",e),this.updateCurrentAssistantMessage("","streaming",e),this.sendMessage(this.currentRound.user)},this.updateCurrentAssistantMessage(this.currentRound.ai,"error",e,this.currentRound.retry))},this.eventSource.onerror=n=>{console.error("[AIChat] eventSource.onerror",n),this.eventSource.close(),this.isStreaming=!1,this.currentRound.status="error",this.currentRound.ai="\u7F51\u7EDC\u9519\u8BEF\uFF0C\u8BF7\u91CD\u8BD5",this.currentRound.retry=()=>{console.log("[AIChat] retry (onerror)",e),this.currentRound.status="streaming",this.currentRound.ai="",this.appendAssistantMessage("","streaming",e),this.updateCurrentAssistantMessage("","streaming",e),this.sendMessage(this.currentRound.user)},this.clearTimeoutTimer(),this.updateCurrentAssistantMessage(this.currentRound.ai,"error",e,this.currentRound.retry)}}stopStreaming(){if(this.eventSource)try{this.eventSource.close()}catch{}this.isStreaming=!1,this.clearTimeoutTimer(),this.hasErrorTarget&&this.errorTarget.classList.add(...this.hiddenClasses)}escapeHTML(t){return t?t.replace(/[&<>"']/g,function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[e]}):""}startTimeoutTimer(){this.hasTimeoutValue&&(this.timeoutTimer=setTimeout(()=>{if(this.currentRound){this.currentRound.status="error",this.currentRound.ai="\u54CD\u5E94\u8D85\u65F6\uFF0C\u8BF7\u91CD\u8BD5";let t=this.chatHistory.length-1;this.currentRound.retry=()=>{this.currentRound.status="streaming",this.currentRound.ai="",this.updateCurrentAssistantMessage("","streaming",t),this.sendMessage(this.currentRound.user)},this.updateCurrentAssistantMessage(this.currentRound.ai,"error",t,this.currentRound.retry)}this.eventSource&&this.eventSource.close(),this.isStreaming=!1},this.timeoutValue*1e3))}clearTimeoutTimer(){!this.hasTimeoutValue||!this.timeoutTimer||clearTimeout(this.timeoutTimer)}resetTimeoutTimer(){this.clearTimeoutTimer(),this.startTimeoutTimer()}scrollToBottom(t=!1){if(!this.hasMessagesTarget)return;let e=this.messagesTarget,r=e.scrollHeight-e.scrollTop-e.clientHeight<80;(t||r)&&(e.scrollTop=e.scrollHeight)}get url(){return this.hasUrlValue?this.urlValue:null}get retryButton(){if(this.hasRetryButtonTarget)return this.retryButtonTarget;{let t=document.createElement("button");return t.classList.add("bkt-size-4","bkt-text-gray-600"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="bkt-size-full" viewBox="0 0 24 24" fill="currentColor"><path d="M5.46257 4.43262C7.21556 2.91688 9.5007 2 12 2C17.5228 2 22 6.47715 22 12C22 14.1361 21.3302 16.1158 20.1892 17.7406L17 12H20C20 7.58172 16.4183 4 12 4C9.84982 4 7.89777 4.84827 6.46023 6.22842L5.46257 4.43262ZM18.5374 19.5674C16.7844 21.0831 14.4993 22 12 22C6.47715 22 2 17.5228 2 12C2 9.86386 2.66979 7.88416 3.8108 6.25944L7 12H4C4 16.4183 7.58172 20 12 20C14.1502 20 16.1022 19.1517 17.5398 17.7716L18.5374 19.5674Z"></path></svg>',t}}};window.Stimulus||(window.Stimulus=zn.start());var kt=window.Stimulus;kt.register("toc",Wn);kt.register("images-viewer",qn);kt.register("nav-tree",Un);kt.register("turbo-nav-tree",Kn);kt.register("theme",Yn);kt.register("clipboard",ii);kt.register("scroll-to",si);kt.register("link-target",oi);kt.register("ai-search",pi);window.Alpine=Nn;Nn.plugin(Ya);Nn.start();})();
/*! Bundled license information:

viewerjs/dist/viewer.js:
  (*!
   * Viewer.js v1.11.7
   * https://fengyuanchen.github.io/viewerjs
   *
   * Copyright 2015-present Chen Fengyuan
   * Released under the MIT license
   *
   * Date: 2024-11-24T04:32:19.116Z
   *)

mustache/mustache.mjs:
  (*!
   * mustache.js - Logic-less {{mustache}} templates with JavaScript
   * http://github.com/janl/mustache.js
   *)
*/
