{% assign default_hero_image = 'images/hero.jpg' | asset_url %}
{% assign default_icon = 'images/icon.svg' | asset_url %}
{% assign header_menus = site.settings.header_menu | newline_to_br | split: '<br />' %}
{% assign hot_tags = page.settings.hot_tags | split: ',' %}
{% assign screen_width = site.settings.screen_width.value |  default: 'max-w-screen-xl' %}
{% assign card_pages = site.pages['/'].children_in_nav_menu  | limit: 24 %}

<!--prepare class for yarn build -->
<div class="mx-auto max-w-screen-lg "></div>
<div class="mx-auto max-w-screen-xl "></div>
<div class="mx-auto max-w-screen-2xl"></div>

<!-- Feature One Section -->
{% if site.settings.features_one %}
  {{ site.settings.features_one }}
{% endif %}

<section class="relative" x-data="{isMobile: false}" x-init="isMobile = window.innerWidth < 768 ? true : false">
  <!-- Hero Section -->
  <section id="hero" class="bg-no-repeat bg-cover bg-center h-[650px]  {% if screen_width == 'max-w-screen-xl' %}  md:h-[600px] {% else %}  md:h-[360px] {%- endif -%}"
    :style="isMobile ? 'background-image: url({{ page.settings.hero_image_mobile_url | default: default_hero_image }}' : 'background-image: url({{ page.settings.hero_image_url | default: default_hero_image }}'">
    <!-- Header Menu -->
    {% assign header_menus = site.settings.header_menu | newline_to_br | split: '<br />' %}
    {% comment %}
    site.settings.header_menu 格式如下：
      首页[/
      产品中心[/products{产品分类1[/products/pro1|产品分类2[/products/pro2|产品分类2[/products/pro2
      新闻中心[/videos{新闻类1[/news/pro1|新闻类2[/news/pro2
    {% endcomment %}
    <header class="bg-transparent">
      <div class="{{ screen_width }} mx-auto flex justify-between items-center px-4 md:px-8 py-4">
        <div class="flex items-center">
          <a href="/" class="flex items-center space-x-2">
            <img src="{{ site.settings.logo_white_url | default: default_logo }}" alt="{{ site.name }}" class="h-5 md:h-6 w-auto" />
          </a>
        </div>

        <!-- PC menu -->
        <nav class="hidden md:flex justify-center">
          <ul class="flex flex-wrap items-center font-medium text-white space-x-2 md:space-x-4 gap-4">
            {% for menu_line in header_menus %}
              {%  assign p_menu_arr = menu_line | split: '{' %}
              {%  assign parent_menu = p_menu_arr[0] | split: '[' %}
              {%  assign sub_menus = p_menu_arr[1] | split: '|' %}
              {%  assign sub_menus_count =  sub_menus | size %}

              {% if sub_menus_count > 0 %}
                <li class="relative flex items-center space-x-1" x-data="{ open: false }" @mouseenter="open = true" @mouseleave="open = false">
                    <a class="" href="{{ parent_menu[1] | default: '#' }}" :aria-expanded="open">{{ parent_menu[0] }}</a>
                    <button class="shrink-0 p-1" :aria-expanded="open" @click.prevent="open = !open">
                        <span class="sr-only">Show submenu for "Flyout Menu"</span>
                        <svg class="w-3 h-3 fill-white" xmlns="http://www.w3.org/2000/svg" width="12" height="12">
                            <path d="M10 2.586 11.414 4 6 9.414.586 4 2 2.586l4 4z" />
                        </svg>
                    </button>
                    <!-- 2nd level menu -->
                    <ul
                        class="origin-top-right absolute top-full left-1/2 -translate-x-1/2 min-w-[240px] bg-white border border-slate-200 p-2 rounded-lg shadow-xl [&[x-cloak]]:hidden"
                        x-show="open"
                        x-transition:enter="transition ease-out duration-200 transform"
                        x-transition:enter-start="opacity-0 -translate-y-2"
                        x-transition:enter-end="opacity-100 translate-y-0"
                        x-transition:leave="transition ease-out duration-200"
                        x-transition:leave-start="opacity-100"
                        x-transition:leave-end="opacity-0"
                        x-cloak
                        @focusout="await $nextTick();!$el.contains($focus.focused()) && (open = false)"
                    >
                      {% for second_menu in sub_menus %}
                        {%  assign second_menu_arr = second_menu | split: '[' %}
                        <li>
                            <a class="text-slate-800 hover:bg-slate-50 flex items-center p-2" href="{{ second_menu_arr[1] | default: '#'}}">
                                <div class="flex items-center justify-center h-7 w-7 shrink-0 mr-2">
                                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6 text-primary w-4 h-4">
                                    <path fill-rule="evenodd" d="M4.5 7.5a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3h-9a3 3 0 0 1-3-3v-9Z" clip-rule="evenodd" />
                                  </svg>
                                </div>
                                <span class="whitespace-nowrap">{{ second_menu_arr[0] }}</span>
                            </a>
                        </li>
                      {% endfor %}
                    </ul>
                </li>
              {% else %}
                <li class="">
                  <a class="" href="{{ parent_menu[1] | default: '#'}}">{{ parent_menu[0] }}</a>
                </li>
              {% endif %}
            {% endfor %}
          </ul>
        </nav>

        <!-- Mobile menu -->
        <div class="inline-flex md:hidden" x-data="{ expanded: false }">

          <!-- Hamburger button -->
          <button
            class="hamburger"
            :class="{ 'active': expanded }"
            @click.stop="expanded = !expanded"
            aria-controls="mobile-nav"
            :aria-expanded="expanded"
          >
            <span class="sr-only">Menu</span>
            <svg class="w-6 h-6 fill-current text-slate-300 hover:text-slate-100 transition duration-150 ease-in-out" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <rect y="4" width="24" height="2" rx="1" />
              <rect y="11" width="24" height="2" rx="1" />
              <rect y="18" width="24" height="2" rx="1" />
            </svg>
          </button>

          <!-- Mobile navigation -->
          <nav
            id="mobile-nav"
            class="fixed top-0 h-screen z-20 left-0 w-full max-w-sm -ml-16 overflow-scroll bg-slate-900 shadow-lg no-scrollbar"
            @click.outside="expanded = false"
            @keydown.escape.window="expanded = false"
            x-show="expanded"
            x-transition:enter="transition ease-out duration-200 transform"
            x-transition:enter-start="opacity-0 -translate-x-full"
            x-transition:enter-end="opacity-100 translate-x-0"
            x-transition:leave="transition ease-out duration-200"
            x-transition:leave-start="opacity-100"
            x-transition:leave-end="opacity-0"
            x-cloak
          >
            <div class="py-6 pr-4 pl-20">
              <!-- Logo -->
              <a class="inline-block mb-4" href="/" aria-label="Dagle">
                <img src="{{ site.settings.logo_url | default: logo }}" class="h-8 w-auto" alt="{{ site.name | escape }}" />
              </a>
              <!-- Links -->
              <ul class="space-y-4 text-white">
                {% for menu_line in header_menus %}
                  {%  assign p_menu_arr = menu_line | split: '{' %}
                  {%  assign parent_menu = p_menu_arr[0] | split: '[' %}
                  {%  assign sub_menus = p_menu_arr[1] | split: '|' %}
                  {%  assign sub_menus_count =  sub_menus | size %}

                  {% if sub_menus_count > 0 %}
                    <li class="relative flex items-center space-x-1" x-data="{ open: false }" @mouseenter="open = true" @mouseleave="open = false">
                        <a class="" href="{{ parent_menu[1] | default: '#' }}" :aria-expanded="open">{{ parent_menu[0] }}</a>
                        <button class="shrink-0 p-1" :aria-expanded="open" @click.prevent="open = !open">
                            <span class="sr-only">Show submenu for "Flyout Menu"</span>
                            <svg class="w-3 h-3 fill-white" xmlns="http://www.w3.org/2000/svg" width="12" height="12">
                                <path d="M10 2.586 11.414 4 6 9.414.586 4 2 2.586l4 4z" />
                            </svg>
                        </button>
                        <!-- 2nd level menu -->
                        <ul
                            class="origin-top-right absolute top-full left-1/2 -translate-x-1/2 min-w-[240px] bg-white border border-slate-200 p-2 rounded-lg shadow-xl [&[x-cloak]]:hidden"
                            x-show="open"
                            x-transition:enter="transition ease-out duration-200 transform"
                            x-transition:enter-start="opacity-0 -translate-y-2"
                            x-transition:enter-end="opacity-100 translate-y-0"
                            x-transition:leave="transition ease-out duration-200"
                            x-transition:leave-start="opacity-100"
                            x-transition:leave-end="opacity-0"
                            x-cloak
                            @focusout="await $nextTick();!$el.contains($focus.focused()) && (open = false)"
                        >
                          {% for second_menu in sub_menus %}
                            {%  assign second_menu_arr = second_menu | split: '[' %}
                            <li>
                                <a class="text-slate-800 hover:bg-slate-50 flex items-center p-2" href="{{ second_menu_arr[1] | default: '#'}}">
                                    <div class="flex items-center justify-center h-7 w-7 shrink-0 mr-2">
                                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6 text-primary w-4 h-4">
                                        <path fill-rule="evenodd" d="M4.5 7.5a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3h-9a3 3 0 0 1-3-3v-9Z" clip-rule="evenodd" />
                                      </svg>
                                    </div>
                                    <span class="whitespace-nowrap">{{ second_menu_arr[0] }}</span>
                                </a>
                            </li>
                          {% endfor %}
                        </ul>
                    </li>
                  {% else %}
                    <li class="">
                      <a class="" href="{{ parent_menu[1] | default: '#'}}">{{ parent_menu[0] }}</a>
                    </li>
                  {% endif %}
                {% endfor %}
              </ul>
            </div>
          </nav>
        </div>

        <!-- Search -->
        <div class="hidden sm:flex items-center space-x-4">
          <a href="#" class="text-white">
            <svg focusable="false" width="18" height="18" class="icon icon--header-search   " viewBox="0 0 18 18">
              <path d="M12.336 12.336c2.634-2.635 2.682-6.859.106-9.435-2.576-2.576-6.8-2.528-9.435.106C.373 5.642.325 9.866 2.901 12.442c2.576 2.576 6.8 2.528 9.435-.106zm0 0L17 17" fill="none" stroke="currentColor" stroke-width="1.3"></path>
            </svg>
          </a>
          <a href="#" class="text-white">
            <svg focusable="false" width="18" height="17" class="icon icon--header-customer   " viewBox="0 0 18 17">
              <circle cx="9" cy="5" r="4" fill="none" stroke="currentColor" stroke-width="1.3" stroke-linejoin="round"></circle>
              <path d="M1 17v0a4 4 0 014-4h8a4 4 0 014 4v0" fill="none" stroke="currentColor" stroke-width="1.3"></path>
            </svg>
          </a>
        </div>
      </div>
    </header>

    <!-- hero -->
    <div class="mx-auto {{ screen_width }}  px-8 my-4 md:px-12">
      <div class="flex flex-col items-start justify-center flex-grow max-w-3xl space-y-4 mt-4 md:mt-44">
        <h1 class="text-2xl md:text-4xl font-semibold text-white transition duration-500 md:mt-0 text-shadow">
          {{ page.settings.title }}
        </h1>
        <p class="text-white transition duration-500 text-shadow max-w-xl">{{ page.settings.description }}</p>

        <div class="z-0 flex flex-col items-start justify-start w-full md:w-2/3">
          {% form_tag 'search', class: 'w-full' %}
            <div class="relative rounded-2xl shadow-sm">
              <button type="submit" class="absolute inset-y-0 right-0 flex items-center pl-4 pr-3 sm:right-auto">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" > <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /> </svg>
              </button>
              <input
            type="text"
            name="{{form.keywords_field_name}}" value="{{ search.keywords | escape_once }}"
            placeholder="{{ "placeholders.search" | t }}"
            autocomplete="off"
            class="block w-full h-10 md:h-12 lg:h-14 pl-3 pr-10 transition duration-300 ease-in-out bg-white bg-opacity-75 dark:text-primary border border-transparent rounded outline-none focus:ring-0 focus:border-primary sm:pl-12 sm:text-lg focus:bg-opacity-90"
              >
            </div>
          {% endform_tag %}

          <!-- 热门标签 -->
          {% if page.settings.tags.size > 0 %}
            <div class="items-center justify-start hidden w-full mt-4 md:flex flex-wrap">
              <div class="inline-block">
            <span class="text-white mr-3">{{ 'generic.tags' | t }}：</span>
            {% for tag in page.settings.tags %}
              <a
                href="{{ tag.path }}"
                data-turbo-frame="_top"
                class="mr-3 text-white hover:text-primary focus:ring hover:-translate-y-[2px] min-w-12"
              >
                {{ tag.name }}
              </a>
            {% endfor %}
              </div>
            </div>
          {% endif %}

          <!-- 热门搜索 -->
          {% if page.settings.hot_tags %}
            <div class="items-center justify-start hidden w-full mt-4 md:flex">
              <div class="inline-block">
            <span class="mr-3 text-white">{{ 'generic.popular_search' | t }}:</span>
            {% for search_hot_key in hot_tags %}
              <a
                href="{{site.index_path}}-/search?q={{ search_hot_key }}"
                class="mr-3 text-white hover:text-primary focus:ring hover:-translate-y-[2px]"
              >
                {{ search_hot_key }}
              </a>
            {% endfor %}
              </div>
            </div>
          {% endif %}

        </div>
      </div>
    </div>
  </section>

  <!-- Channel Section -->
  {% if site.settings.show_channel_section %}
    {% assign channel_pages = site.pages['/'].children_in_list  | limit: 50 %}
    <section class="bg-transparent">
      <div class="mx-auto {{ screen_width }} px-4 my-4 sm:px-6">
        {% if page.settings.channel_one_name %}
          <div class="flex items-center text-2xl h-8 mb-4 font-bold text-slate-800 dark:text-slate-200">
            <div class="w-1 h-full mr-3 bg-primary"></div>
            <span>{{ page.settings.channel_one_name }}</span>
          </div>
        {% endif %}
        <div class="items-start lg:max-w-none grid grid-cols-2 gap-3 md:grid-cols-6 lg:grid-cols-8 lg:gap-2">
            {% for channel_page in channel_pages %}
              <a href="{{ channel_page.path }}" class="flex flex-col text-center items-center text-md h-full px-2 py-4 bg-white hover:bg-blue-100 dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-md overflow-hidden">
                {% if channel_page.settings.icon %}
                  <span class=""><img src="{{ channel_page.settings.icon | default: default_icon }}" class="h-8"/> </span>
                {% else %}
                  <span class="">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-8 w-8 h-8 text-primary">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M6 6.878V6a2.25 2.25 0 0 1 2.25-2.25h7.5A2.25 2.25 0 0 1 18 6v.878m-12 0c.235-.083.487-.128.75-.128h10.5c.263 0 .515.045.75.128m-12 0A2.25 2.25 0 0 0 4.5 9v.878m13.5-3A2.25 2.25 0 0 1 19.5 9v.878m0 0a2.246 2.246 0 0 0-.75-.128H5.25c-.263 0-.515.045-.75.128m15 0A2.25 2.25 0 0 1 21 12v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6c0-.98.626-1.813 1.5-2.122" />
                    </svg>
                  </span>
                {% endif %}
                <h3 class="line-clamp-1 mt-1">{{ channel_page.link_text }}</h3>
              </a>
            {% endfor %}
          </div>
      </div>
    </section>
  {% endif %}

  <!-- Newest Section -->
  {% if site.settings.show_newest_section %}
    {% assign newest_pages = site.pages['/'].pages_in_list | order_by: '-created_at' | limit: 10 %}
    <section class="bg-transparent">
      <div class="mx-auto {{ screen_width }} px-4 my-4 sm:px-6">
        <div class="pt-4 pb-4">
          <div class="flex items-center h-8 mb-4 text-2xl font-bold text-slate-800 dark:text-slate-200">
            <div class="w-1 h-full mr-3 bg-primary"></div>
            <span>{{ 'generic.newest_pages' | t }}</span>
          </div>

          <div class="grid grid-cols-1 gap-4 md:grid-cols-2 p-4 gap-y-4 bg-white dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded-md overflow-hidden">
            {% for sub_page in newest_pages %}
              <a class="flex items-center justify-between transition transform group"
                href="{{ sub_page.path }}">
                <div class="flex">
                  <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-gray-400 transition group-hover:text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                  </svg>
                  <h6 class="ml-2 transition text-gray-550 group-hover:text-primary">
                    {{ sub_page.link_text }}
                  </h6>
                </div>

                <svg xmlns="http://www.w3.org/2000/svg" class="flex-shrink-0 w-5 h-5 mr-4 text-gray-500 transition group-hover:text-primary group-hover:translate-x-3 md:transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                </svg>
              </a>
            {% endfor %}
          </div>
        </div>
      </div>
    </section>
  {% endif %}

  <!-- Pages Section -->
  <div class="mx-auto {{ screen_width }} px-4 sm:px-6 lg:px-8 py-12">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      {% for card_page in card_pages %}
        {%  assign sub_pages = card_page.children_in_nav_menu  %}
        {%  assign sub_page_count = sub_pages| size %}
        <!-- Corporate Section -->
        <div class="bg-gray-50 p-8 border-2 border-gray-50">
          <div class="flex flex-row items-start mb-6">
            <div class="mr-3">
              {% if card_page.settings.icon %}
                <img src="{{ card_page.settings.icon }}" alt="{{ card_page.link_text }}" class="w-14 h-14" />
              {%  else %}
                {% assign icon_index = forloop.index | modulo: 10 %}
                <img src="{{ icons[icon_index] |  asset_url }}" alt="{{ card_page.link_text }}" class="w-14 h-14" />
              {% endif %}
            </div>
            <div class="text-start">
              <h3 class="text-xl font-semibold mb-1"><a href="{{ card_page.path | append: '?list=true' }}" class="hover:text-blue-600">{{ card_page.link_text }}</a></h3>
              <p class="text-gray-400">{{ sub_page_count }} {{ 'generic.articles' | t }}</p>
            </div>
          </div>
  
          <ul class="space-y-3 mb-6 overflow-x-hidden">
            {% for sub_page in sub_pages | limit: 5 %}
              {% assign ssub_pages = sub_page.children_in_nav_menu %}
              {% assign ssub_page_count = ssub_pages | size %}
              {% if ssub_page_count > 0 %}
                <li class="flex">
                  <span>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6 w-5 h-5 mr-1">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z" />
                    </svg>
                  </span>
                  <a href="{{ sub_page.path }}" class="text-gray-600 hover:text-blue-600 flex space-x-2 items-center">
                    <span class="truncate">{{ sub_page.link_text }}  [{{ ssub_page_count }} {{ 'generic.articles' | t }}] </span>
                  </a>
                </li>
              {%  else %}
                <li class="flex">
                  <span>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6 w-5 h-5 mr-1">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" />
                    </svg>
                  </span>
                  <a href="{{ sub_page.path }}" class="text-gray-600 hover:text-blue-600 flex space-x-2 items-center">
                    <span class="truncate">{{ sub_page.link_text }}</span>
                  </a>
                </li>
              {% endif %}
            {% endfor %}
          </ul>
  
          <div>
            <a href="{{ card_page.path | append: '?list=true' }}" class="inline-flex items-center text-blue-600 hover:text-blue-800">
              {{ 'generic.read_more' | t }}
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </a>
          </div>
        </div>
      {% endfor %}
  
    </div>
  </div>
  

  <!-- Hottest Section-->
  {% if site.settings.show_hottest_section %}
    {% assign hottest_pages = site.pages['/'].pages_in_list | order_by: '-visits_count' | limit: 10 %}
    <section class="bg-transparent">
      <div class="mx-auto {{ screen_width }} px-4 my-4 sm:px-6">
        <div class="py-4 lg:py-12">

          <div class="flex items-center h-8 mb-8 text-2xl font-bold text-slate-800 dark:text-slate-200">
            <div class="w-1 h-full mr-3 bg-primary"></div>
            <span>{{ 'generic.hot_pages' | t }}</span>
          </div>
          <div class="grid grid-cols-1 gap-4 md:grid-cols-2 gap-y-4">
            {% for faq_page in hottest_pages %}
              <a class="flex items-center justify-between transition transform group"
                href="{{ faq_page.path }}">
                <div class="flex">
                  <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-gray-400 transition group-hover:text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                  </svg>
                  <h6 class="ml-2 transition text-gray-550 group-hover:text-primary">
                    {{ faq_page.link_text }}
                  </h6>
                </div>

                <svg xmlns="http://www.w3.org/2000/svg" class="flex-shrink-0 w-5 h-5 mr-4 text-gray-500 transition group-hover:text-primary group-hover:translate-x-3 md:transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                </svg>
              </a>
            {% endfor %}
          </div>
        </div>
      </div>
    </section>
  {% endif %}

  <!-- Support 列表 -->
  <section class="bg-gray-50 py-6 sm:py-12">
    <div class="mx-auto max-w-6xl px-4">
        <div class="mx-auto max-w-2xl md:flex flex-col items-center justify-center">
            <h2 class="font-semibold tracking-tight text-gray-900 md:text-3xl text-2xl flex items-center">
                For more help?</h2>
            <p class="mt-2 ml-2 text-sm text-gray-500"></p>
        </div>

        <!-- Cards Container -->
        <section class="my-4">
            <ul role="list" class="grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3">
                <li class="col-span-1 flex flex-col divide-y divide-gray-200 rounded-lg bg-white text-center border">
                    <div class="flex flex-1 flex-col p-8">
                        <a href="mailto:{{ site.settings.email | default: '#' }}" class="flex-shrink-0 group block">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="mx-auto size-10 w-10 h-10 shrink-0">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75" />
                            </svg>
                        </a>
                        <h3 class="mt-6 text-lg font-medium text-gray-900">Contact Us</h3>
                        <p class="text-gray-500 text-sm">Responses may take up to 24 hours</p>
                    </div>
                </li>
                <li class="col-span-1 flex flex-col divide-y divide-gray-200 rounded-lg bg-white text-center border">
                    <div class="flex flex-1 flex-col p-8">
                        <a href="tel:{{ site.settings.phone | default: '#' }}" class="flex-shrink-0 group block">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="mx-auto size-10 w-10 h-10 shrink-0">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z" />
                            </svg>
                        </a>
                        <h3 class="mt-6 text-lg font-medium text-gray-900">Call Us</h3>
                        <a href="tel:{{ site.settings.phone | default: '#' }}" class="text-blue-600 text-sm">{{ site.settings.phone }}</a>
                    </div>
                </li>
                <li class="col-span-1 flex flex-col divide-y divide-gray-200 rounded-lg bg-white text-center border">
                    <div class="flex flex-1 flex-col p-8">
                        <a href="{{ site.settings.chat_url | default: '#'}}" class="flex-shrink-0 group block">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="mx-auto size-10 w-10 h-10 shrink-0">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z" />
                            </svg>
                        </a>
                        <h3 class="mt-6 text-lg font-medium text-gray-900">Chat with Us</h3>
                        <p class="text-gray-500 text-sm">Monday-Friday</p>
                    </div>
                </li>
            </ul>
        </section>
    </div>
  </section>

</section>

{% comment %} 首页自定义 Footer  {% endcomment %}
{% assign footer_menus = site.settings.footer_menu | newline_to_br | split: '<br />' %}
<footer class="bg-gray-800 border-t border-gray-900/10 text-white">
  <div class="mx-auto {{ screen_width }} px-4 pb-8 pt-6">
    <div class="grid grid-cols-2 md:grid-cols-4 xl:grid-cols-5 gag-4 xl:gap-8">
        {% for menu_line in footer_menus %}
          {%  assign p_menu_arr = menu_line | split: '{' %}
          {%  assign parent_menu = p_menu_arr[0] | split: '[' %}
          {%  assign sub_menus = p_menu_arr[1] | split: '|' %}
          {%  assign sub_menus_count =  sub_menus | size %}

          {% if sub_menus_count > 0 %}
            <div class="flex flex-col" x-data="{ open: false }" @mouseenter="open = true" @mouseleave="open = false">
                <a class="font-semibold" href="{{ parent_menu[1] | default: 'javascript:void(0);' }}" :aria-expanded="open">{{ parent_menu[0] }}</a>
                <!-- 2nd level menu -->
                <ul class="">
                  {% for second_menu in sub_menus %}
                    {%  assign second_menu_arr = second_menu | split: '[' %}
                    <li>
                        <a class="text-sm" href="{{ second_menu_arr[1] | default: '#'}}">
                            <span class="whitespace-nowrap">{{ second_menu_arr[0] }}</span>
                        </a>
                    </li>
                  {% endfor %}
                </ul>
            </div>
          {% else %}
            <div class="">
              <a class="" href="{{ parent_menu[1] | default: '#'}}">{{ parent_menu[0] }}</a>
            </div>
          {% endif %}
        {% endfor %}
    </div>

    <div class="flex justify-between mt-2 pt-4 sm:mt-4 lg:mt-8">
      <p class=""> {{ site.settings.company_info }}</p>
      <p class=""> {{ site.settings.contact_info }}</p>
      <div class="flex space-x-2">
        {% if true %}
          {% comment %} 社交账号链接 {% endcomment %}
          {{ site.settings.friend_links }}
          {% comment %} 
            <a href="#">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6 w-5 h-5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0" />
              </svg>
            </a> 
          {% endcomment %}
        {% endif %}
      </div>
    </div>
  </div>

  {% # 自定义导航菜单 %}
  <div class="mx-auto {{ screen_width }} p-4 space-x-2">
    {{ site.settings.footer_menu_html }}
  </div>
  {% # 底部备案和链接 %}
  <div class="mx-auto {{ screen_width }} p-4 sm:p-6">
    <div class="sm:flex sm:items-center sm:justify-between">
      <div class="flex space-x-2 text-sm">
        <a href="{{site.index_path}}" class="flex items-center">
          {% assign logo = 'images/logo.png' | asset_url %}
          <img src="{{ site.favicon_url | default: logo  }}" class="h-8 mr-3" alt="{{ site.name }} Logo">
          <span class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">{{ site.name }}</span>
        </a>
      </div>
      <div class="hidden mt-4 space-x-6 sm:flex sm:justify-center sm:mt-0">
        <div>©  {{ site.settings.company_name }}<span class="md:hidden lg:inline"> {{ 'generic.copyright' | t }}.</span></div>
        <a href="https://beian.miit.gov.cn/#" target="_blank" class="hidden hover:underline md:block">{{ site.settings.copyright_info }}</a>
      </div>
    </div>
  </div>
</footer>


{% schema %}
  {
    "name": "Help Center",
    "description": "Ideal for feature-rich product user manuals",
    "thumb_url": "images/theme/index-help-center.png",
    "preview_image_urls": [
      "images/theme/index-help-center.png"
    ],
    "sub_page_templates": ["page"],
    "settings": [
        {
          "id": "hero_image_url",
          "type": "image_picker",
          "ratio": "19:6",
          "width": 900,
          "label": "t:settings_schema.generic.settings.hero_image_url.label",
          "info": "t:settings_schema.generic.settings.hero_image_url.info"
        },
        {
          "id": "hero_image_mobile_url",
          "type": "image_picker",
          "ratio": "6:9",
          "width": 300,
          "label": "t:settings_schema.generic.settings.hero_image_url.label",
          "info": "t:settings_schema.generic.settings.hero_image_url.info"
        },
        {
          "id": "title",
          "type": "text",
          "label": "Hero Title",
          "default": "👋 What Can We Help?"
        },
        {
          "id": "description",
          "type": "text",
          "label": "Hero description",
          "default": "👋 What Can We Help?"
        },
        {
          "id": "hot_tags",
          "label": "t:settings_schema.generic.settings.hot_tags.label",
          "type": "text",
          "placeholder": "sign in,install,account,how to"
        },
        {
          "id": "tags",
          "type": "tag_picker",
          "multiple": true,
          "label": "t:settings_schema.page.settings.tags.label"
        },
        {
          "id": "index_card_page_count",
          "type": "number",
          "min": 1,
          "max": 20,
          "step": 1,
          "default": 5,
          "label": "首页列表展示页面数量",
          "info": ""
        },
        {
          "id": "channel_one_name",
          "type": "text",
          "label": "版块一名称",
          "default": "栏目导览",
          "info": "版块一显示所有栏目快捷方式"
        },
        {
          "id": "channel_two_name",
          "type": "text",
          "label": "版块二名称",
          "default": "专题推荐",
          "info": "版块二显示所有栏目 Card"
        }
      ]
  }
{% endschema %}
